"use strict";(self.webpackChunkcocktail_club=self.webpackChunkcocktail_club||[]).push([[179],{932:(cs,$n,Ve)=>{Ve.d($n,{$:()=>di,A:()=>le,C:()=>ao,G:()=>Dt,K:()=>tm,L:()=>xa,N:()=>ys,P:()=>sf,R:()=>wI,U:()=>ye,V:()=>jh,W:()=>um,X:()=>ze,Y:()=>Pr,Z:()=>Wu,_:()=>Fs,a:()=>Dm,a0:()=>Te,a1:()=>Kn,a2:()=>zo,a3:()=>Va,a4:()=>zh,a5:()=>Qi,a6:()=>Zu,a7:()=>Yi,a8:()=>tI,a9:()=>nI,aA:()=>Ce,aB:()=>Vt,aC:()=>ae,aD:()=>RI,aE:()=>U,aF:()=>Be,aG:()=>df,aH:()=>Ko,aI:()=>$m,aJ:()=>vn,aN:()=>hi,aQ:()=>Sn,aa:()=>dS,ab:()=>hS,ac:()=>fS,ad:()=>pS,ae:()=>gS,af:()=>_S,ag:()=>mm,ah:()=>yS,ak:()=>Ai,al:()=>rI,am:()=>iI,ap:()=>Ir,aq:()=>oI,as:()=>uI,at:()=>sr,au:()=>Kt,av:()=>te,aw:()=>q,ax:()=>dt,ay:()=>$c,az:()=>Ya,b:()=>Cc,c:()=>af,d:()=>DI,e:()=>uf,f:()=>cf,g:()=>Za,h:()=>Bc,i:()=>Om,j:()=>Qa,k:()=>sl,l:()=>Fm,m:()=>$I,o:()=>t_,p:()=>Gt,r:()=>Xu,s:()=>bS,u:()=>TI});var b=Ve(861),W=Ve(90),O=Ve(881),Ne=Ve(877),Rt=Ve(582),un=Ve(859);const Gt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Dt=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Hn=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new Ne.Yd("@firebase/auth");function mn(f,...l){Ke.logLevel<=Ne.in.ERROR&&Ke.error(`Auth (${O.SDK_VERSION}): ${f}`,...l)}function dt(f,...l){throw st(f,...l)}function Vt(f,...l){return st(f,...l)}function ri(f,l,d){const p=Object.assign(Object.assign({},Hn()),{[l]:d});return new W.LL("auth","Firebase",p).create(l,{appName:f.name})}function Nn(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&dt(f,"argument-error"),ri(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(f,...l){if("string"!=typeof f){const d=l[0],p=[...l.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return pt.create(f,...l)}function ae(f,l,...d){if(!f)throw st(l,...d)}function yt(f){const l="INTERNAL ASSERTION FAILED: "+f;throw mn(l),new Error(l)}function Kt(f,l){f||yt(l)}function _n(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function On(){return"http:"===ji()||"https:"===ji()}function ji(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ii{constructor(l,d){this.shortDelay=l,this.longDelay=d,Kt(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function $i(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(On()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ds(f,l){Kt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class j{static initialize(l,d,p){this.fetchImpl=l,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},G=new ii(3e4,6e4);function B(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function X(f,l,d,p){return ee.apply(this,arguments)}function ee(){return(ee=(0,b.Z)(function*(f,l,d,p,_={}){return ge(f,_,(0,b.Z)(function*(){let I={},x={};p&&("GET"===l?x=p:I={body:JSON.stringify(p)});const $=(0,W.xO)(Object.assign({key:f.config.apiKey},x)).slice(1),se=yield f._getAdditionalHeaders();return se["Content-Type"]="application/json",f.languageCode&&(se["X-Firebase-Locale"]=f.languageCode),j.fetch()(wt(f,f.config.apiHost,d,$),Object.assign({method:l,headers:se,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function ge(f,l,d){return ct.apply(this,arguments)}function ct(){return(ct=(0,b.Z)(function*(f,l,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},z),l);try{const _=new jt(f),I=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const x=yield I.json();if("needConfirmation"in x)throw ln(f,"account-exists-with-different-credential",x);if(I.ok&&!("errorMessage"in x))return x;{const $=I.ok?x.errorMessage:x.error.message,[se,Ae]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw ln(f,"credential-already-in-use",x);if("EMAIL_EXISTS"===se)throw ln(f,"email-already-in-use",x);if("USER_DISABLED"===se)throw ln(f,"user-disabled",x);const Fe=p[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw ri(f,Fe,Ae);dt(f,Fe)}}catch(_){if(_ instanceof W.ZR)throw _;dt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function we(f,l,d,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,b.Z)(function*(f,l,d,p,_={}){const I=yield X(f,l,d,p,_);return"mfaPendingCredential"in I&&dt(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function wt(f,l,d,p){const _=`${l}${d}?${p}`;return f.config.emulator?ds(f.config,_):`${f.config.apiScheme}://${_}`}function nn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jt{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Vt(this.auth,"network-request-failed")),G.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ln(f,l,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Vt(f,l,p);return _.customData._tokenResponse=d,_}function qn(f){return void 0!==f&&void 0!==f.getResponse}function Gn(f){return void 0!==f&&void 0!==f.enterprise}class hr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return nn(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Hi(){return(Hi=(0,b.Z)(function*(f){return(yield X(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hs(f,l){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(f,l){return X(f,"GET","/v2/recaptchaConfig",B(f,l))})).apply(this,arguments)}function ps(){return(ps=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function qi(){return(qi=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function si(){return(si=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function oi(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Lt(){return(Lt=(0,b.Z)(function*(f,l=!1){const d=(0,W.m9)(f),p=yield d.getIdToken(l),_=Dn(p);ae(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const I="object"==typeof _.firebase?_.firebase:void 0,x=I?.sign_in_provider;return{claims:_,token:p,authTime:oi(ui(_.auth_time)),issuedAtTime:oi(ui(_.iat)),expirationTime:oi(ui(_.exp)),signInProvider:x||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(f){return 1e3*Number(f)}function Dn(f){const[l,d,p]=f.split(".");if(void 0===l||void 0===d||void 0===p)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,W.tV)(d);return _?JSON.parse(_):(mn("Failed to decode base64 JWT payload"),null)}catch(_){return mn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function cn(f,l){return An.apply(this,arguments)}function An(){return(An=(0,b.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(p){throw p instanceof W.ZR&&function gs({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class ms{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(l);this.timerId=setTimeout((0,b.Z)(function*(){yield d.iteration()}),p)}iteration(){var l=this;return(0,b.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Gi{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(f){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,b.Z)(function*(f){var l;const d=f.auth,p=yield f.getIdToken(),_=yield cn(f,function Er(f,l){return si.apply(this,arguments)}(d,{idToken:p}));ae(_?.users.length,d,"internal-error");const I=_.users[0];f._notifyReloadListener(I);const x=null!==(l=I.providerUserInfo)&&void 0!==l&&l.length?function Js(f){return f.map(l=>{var{providerId:d}=l,p=(0,Rt._T)(l,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(I.providerUserInfo):[],$=function Pa(f,l){return[...f.filter(p=>!l.some(_=>_.providerId===p.providerId)),...l]}(f.providerData,x),Fe=!!f.isAnonymous&&!(f.email&&I.passwordHash||$?.length),Tt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:$,metadata:new Gi(I.createdAt,I.lastLoginAt),isAnonymous:Fe};Object.assign(f,Tt)}),Hr.apply(this,arguments)}function li(){return(li=(0,b.Z)(function*(f){const l=(0,W.m9)(f);yield Wn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function _s(){return(_s=(0,b.Z)(function*(f,l){const d=yield ge(f,{},(0,b.Z)(function*(){const p=(0,W.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:I}=f.config,x=wt(f,_,"/v1/token",`key=${I}`),$=yield f._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(x,{method:"POST",headers:$,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,b.Z)(function*(f,l){return X(f,"POST","/v2/accounts:revokeToken",B(f,l))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ae(l.idToken,"internal-error"),ae(typeof l.idToken<"u","internal-error"),ae(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Hu(f){const l=Dn(f);return ae(l,"internal-error"),ae(typeof l.exp<"u","internal-error"),ae(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var p=this;return(0,b.Z)(function*(){return ae(!p.accessToken||p.refreshToken,l,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(l,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var p=this;return(0,b.Z)(function*(){const{accessToken:_,refreshToken:I,expiresIn:x}=yield function Lo(f,l){return _s.apply(this,arguments)}(l,d);p.updateTokensAndExpiration(_,I,Number(x))})()}updateTokensAndExpiration(l,d,p){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(l,d){const{refreshToken:p,accessToken:_,expirationTime:I}=d,x=new E;return p&&(ae("string"==typeof p,"internal-error",{appName:l}),x.refreshToken=p),_&&(ae("string"==typeof _,"internal-error",{appName:l}),x.accessToken=_),I&&(ae("number"==typeof I,"internal-error",{appName:l}),x.expirationTime=I),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return yt("not implemented")}}function C(f,l){ae("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class v{constructor(l){var{uid:d,auth:p,stsTokenManager:_}=l,I=(0,Rt._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new Gi(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,b.Z)(function*(){const p=yield cn(d,d.stsTokenManager.getToken(d.auth,l));return ae(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(l){return function fr(f){return Lt.apply(this,arguments)}(this,l)}reload(){return function Wi(f){return li.apply(this,arguments)}(this)}_assign(l){this!==l&&(ae(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new v(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var p=this;return(0,b.Z)(function*(){let _=!1;l.idToken&&l.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(l),_=!0),d&&(yield Wn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var l=this;return(0,b.Z)(function*(){const d=yield l.getIdToken();return yield cn(l,function fs(f,l){return ps.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var p,_,I,x,$,se,Ae,Fe;const Tt=null!==(p=d.displayName)&&void 0!==p?p:void 0,pi=null!==(_=d.email)&&void 0!==_?_:void 0,Xo=null!==(I=d.phoneNumber)&&void 0!==I?I:void 0,qc=null!==(x=d.photoURL)&&void 0!==x?x:void 0,Ef=null!==($=d.tenantId)&&void 0!==$?$:void 0,al=null!==(se=d._redirectEventId)&&void 0!==se?se:void 0,If=null!==(Ae=d.createdAt)&&void 0!==Ae?Ae:void 0,wf=null!==(Fe=d.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Gc,emailVerified:Or,isAnonymous:n_,providerData:Cf,stsTokenManager:r_}=d;ae(Gc&&r_,l,"internal-error");const i_=E.fromJSON(this.name,r_);ae("string"==typeof Gc,l,"internal-error"),C(Tt,l.name),C(pi,l.name),ae("boolean"==typeof Or,l,"internal-error"),ae("boolean"==typeof n_,l,"internal-error"),C(Xo,l.name),C(qc,l.name),C(Ef,l.name),C(al,l.name),C(If,l.name),C(wf,l.name);const ul=new v({uid:Gc,auth:l,email:pi,emailVerified:Or,displayName:Tt,isAnonymous:n_,photoURL:qc,phoneNumber:Xo,tenantId:Ef,stsTokenManager:i_,createdAt:If,lastLoginAt:wf});return Cf&&Array.isArray(Cf)&&(ul.providerData=Cf.map(WI=>Object.assign({},WI))),al&&(ul._redirectEventId=al),ul}static _fromIdTokenResponse(l,d,p=!1){return(0,b.Z)(function*(){const _=new E;_.updateFromServerResponse(d);const I=new v({uid:d.localId,auth:l,stsTokenManager:_,isAnonymous:p});return yield Wn(I),I})()}}const F=new Map;function U(f){Kt(f instanceof Function,"Expected a class definition");let l=F.get(f);return l?(Kt(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,F.set(f,l),l)}const ye=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,b.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,b.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Be(f,l,d){return`firebase:${f}:${l}:${d}`}class Ct{constructor(l,d,p){this.persistence=l,this.auth=d,this.userKey=p;const{config:_,name:I}=this.auth;this.fullUserKey=Be(this.userKey,_.apiKey,I),this.fullPersistenceKey=Be("persistence",_.apiKey,I),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,b.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?v._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,b.Z)(function*(){if(d.persistence===l)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,p="authUser"){return(0,b.Z)(function*(){if(!d.length)return new Ct(U(ye),l,p);const _=(yield Promise.all(d.map(function(){var Ae=(0,b.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let I=_[0]||U(ye);const x=Be(p,l.config.apiKey,l.name);let $=null;for(const Ae of d)try{const Fe=yield Ae._get(x);if(Fe){const Tt=v._fromJSON(l,Fe);Ae!==I&&($=Tt),I=Ae;break}}catch{}const se=_.filter(Ae=>Ae._shouldAllowMigration);return I._shouldAllowMigration&&se.length?(I=se[0],$&&(yield I._set(x,$.toJSON())),yield Promise.all(d.map(function(){var Ae=(0,b.Z)(function*(Fe){if(Fe!==I)try{yield Fe._remove(x)}catch{}});return function(Fe){return Ae.apply(this,arguments)}}())),new Ct(I,l,p)):new Ct(I,l,p)})()}}function Ee(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Ra(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(me(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(D(l))return"Blackberry";if(oe(l))return"Webos";if(Xe(l))return"Safari";if((l.includes("chrome/")||rr(l))&&!l.includes("edge/"))return"Chrome";if(q(l))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function me(f=(0,W.z$)()){return/firefox\//i.test(f)}function Xe(f=(0,W.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function rr(f=(0,W.z$)()){return/crios\//i.test(f)}function Ra(f=(0,W.z$)()){return/iemobile/i.test(f)}function q(f=(0,W.z$)()){return/android/i.test(f)}function D(f=(0,W.z$)()){return/blackberry/i.test(f)}function oe(f=(0,W.z$)()){return/webos/i.test(f)}function te(f=(0,W.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ce(f=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function kn(f=(0,W.z$)()){return te(f)||q(f)||oe(f)||D(f)||/windows phone/i.test(f)||Ra(f)}function yn(f,l=[]){let d;switch(f){case"Browser":d=Ee((0,W.z$)());break;case"Worker":d=`${Ee((0,W.z$)())}-${f}`;break;default:d=f}const p=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${O.SDK_VERSION}/${p}`}class lc{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const p=I=>new Promise((x,$)=>{try{x(l(I))}catch(se){$(se)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,b.Z)(function*(){if(d.auth.currentUser===l)return;const p=[];try{for(const _ of d.queue)yield _(l),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const I of p)try{I()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Zg(){return(Zg=(0,b.Z)(function*(f,l={}){return X(f,"GET","/v2/passwordPolicy",B(f,l))})).apply(this,arguments)}class oS{constructor(l){var d,p,_,I;const x=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=x.minPasswordLength)&&void 0!==d?d:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=l.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(I=l.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=l.schemaVersion}validatePassword(l){var d,p,_,I,x,$;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,se),this.validatePasswordCharacterOptions(l,se),se.isValid&&(se.isValid=null===(d=se.meetsMinPasswordLength)||void 0===d||d),se.isValid&&(se.isValid=null===(p=se.meetsMaxPasswordLength)||void 0===p||p),se.isValid&&(se.isValid=null===(_=se.containsLowercaseLetter)||void 0===_||_),se.isValid&&(se.isValid=null===(I=se.containsUppercaseLetter)||void 0===I||I),se.isValid&&(se.isValid=null===(x=se.containsNumericCharacter)||void 0===x||x),se.isValid&&(se.isValid=null===($=se.containsNonAlphanumericCharacter)||void 0===$||$),se}validatePasswordLengthOptions(l,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=l.length>=p),_&&(d.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<l.length;_++)p=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(l,d,p,_,I){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=I))}}class aS{constructor(l,d,p,_){this.app=l,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new lc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,d){var p=this;return d&&(this._popupRedirectResolver=U(d)),this._initializationPromise=this.queue((0,b.Z)(function*(){var _,I;if(!p._deleted&&(p.persistenceManager=yield Ct.create(p,l),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(I=p.currentUser)||void 0===I?void 0:I.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,b.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,b.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let I=_,x=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const $=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,se=I?._redirectEventId,Ae=yield d.tryRedirectSignIn(l);(!$||$===se)&&Ae?.user&&(I=Ae.user,x=!0)}if(!I)return d.directlySetCurrentUser(null);if(!I._redirectEventId){if(x)try{yield d.beforeStateQueue.runMiddleware(I)}catch($){I=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject($))}return I?d.reloadAndSetCurrentUserOrClear(I):d.directlySetCurrentUser(null)}return ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===I._redirectEventId?d.directlySetCurrentUser(I):d.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(l){var d=this;return(0,b.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,b.Z)(function*(){try{yield Wn(l)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ht(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,b.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,b.Z)(function*(){const p=l?(0,W.m9)(l):null;return p&&ae(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(l,d=!1){var p=this;return(0,b.Z)(function*(){if(!p._deleted)return l&&ae(p.tenantId===l.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(l)),p.queue((0,b.Z)(function*(){yield p.directlySetCurrentUser(l),p.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,b.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,b.Z)(function*(){yield d.assertedPersistence.setPersistence(U(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var d=this;return(0,b.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,b.Z)(function*(){const d=yield function qE(f){return Zg.apply(this,arguments)}(l),p=new oS(d);null===l.tenantId?l._projectPasswordPolicy=p:l._tenantPasswordPolicies[l.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new W.LL("auth","Firebase",l())}onAuthStateChanged(l,d,p){return this.registerStateListener(this.authStateSubscription,l,d,p)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,p){return this.registerStateListener(this.idTokenSubscription,l,d,p)}authStateReady(){return new Promise((l,d)=>{if(this.currentUser)l();else{const p=this.onAuthStateChanged(()=>{p(),l()},d)}})}revokeAccessToken(l){var d=this;return(0,b.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function P(f,l){return S.apply(this,arguments)}(d,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var p=this;return(0,b.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,b.Z)(function*(){if(!d.redirectPersistenceManager){const p=l&&U(l)||d._popupRedirectResolver;ae(p,d,"argument-error"),d.redirectPersistenceManager=yield Ct.create(d,[U(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,b.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,b.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===l?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,b.Z)(function*(){if(l===d.currentUser)return d.queue((0,b.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,p,_){if(this._deleted)return()=>{};const I="function"==typeof d?d:d.next.bind(d);let x=!1;const $=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae($,this,"internal-error"),$.then(()=>{x||I(this.currentUser)}),"function"==typeof d){const se=l.addObserver(d,p,_);return()=>{x=!0,se()}}{const se=l.addObserver(d);return()=>{x=!0,se()}}}directlySetCurrentUser(l){var d=this;return(0,b.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,b.Z)(function*(){var d;const p={"X-Client-Version":l.clientVersion};l.app.options.appId&&(p["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const I=yield l._getAppCheckToken();return I&&(p["X-Firebase-AppCheck"]=I),p})()}_getAppCheckToken(){var l=this;return(0,b.Z)(function*(){var d;const p=yield null===(d=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function zn(f,...l){Ke.logLevel<=Ne.in.WARN&&Ke.warn(`Auth (${O.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function vn(f){return(0,W.m9)(f)}class GE{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,W.ne)(d=>this.observer=d)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qg(f){return new Promise((l,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=l,p.onerror=_=>{const I=Vt("internal-error");I.customData=_,d(I)},p.type="text/javascript",p.charset="UTF-8",function WE(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(p)})}function Yg(f){return`__${f}${Math.floor(1e6*Math.random())}`}const Ot="NO_RECAPTCHA";class KE{constructor(l){this.type="recaptcha-enterprise",this.auth=vn(l)}verify(l="verify",d=!1){var p=this;return(0,b.Z)(function*(){function I(){return I=(0,b.Z)(function*($){if(!d){if(null==$.tenantId&&null!=$._agentRecaptchaConfig)return $._agentRecaptchaConfig.siteKey;if(null!=$.tenantId&&void 0!==$._tenantRecaptchaConfigs[$.tenantId])return $._tenantRecaptchaConfigs[$.tenantId].siteKey}return new Promise(function(){var se=(0,b.Z)(function*(Ae,Fe){hs($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tt=>{if(void 0!==Tt.recaptchaKey){const pi=new hr(Tt);return null==$.tenantId?$._agentRecaptchaConfig=pi:$._tenantRecaptchaConfigs[$.tenantId]=pi,Ae(pi.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(Tt=>{Fe(Tt)})});return function(Ae,Fe){return se.apply(this,arguments)}}())}),I.apply(this,arguments)}function x($,se,Ae){const Fe=window.grecaptcha;Gn(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute($,{action:l}).then(Tt=>{se(Tt)}).catch(()=>{se(Ot)})}):Ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($,se)=>{(function _($){return I.apply(this,arguments)})(p.auth).then(Ae=>{if(!d&&Gn(window.grecaptcha))x(Ae,$,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));Qg("https://www.google.com/recaptcha/enterprise.js?render="+Ae).then(()=>{x(Ae,$,se)}).catch(Fe=>{se(Fe)})}}).catch(Ae=>{se(Ae)})})})()}}function ZE(f,l,d){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,b.Z)(function*(f,l,d,p=!1){const _=new KE(f);let I;try{I=yield _.verify(d)}catch{I=yield _.verify(d,!0)}const x=Object.assign({},l);return Object.assign(x,p?{captchaResp:I}:{captchaResponse:I}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function _e(f,l,d,p){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,b.Z)(function*(f,l,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield ZE(f,l,d,"getOobCode"===d);return p(f,I)}return p(f,l).catch(function(){var I=(0,b.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $=yield ZE(f,l,d,"getOobCode"===d);return p(f,$)}return Promise.reject(x)});return function(x){return I.apply(this,arguments)}}())}),Xg.apply(this,arguments)}function tm(f,l,d){const p=vn(f);ae(p._canInitEmulator,p,"emulator-config-failed"),ae(/^https?:\/\//.test(l),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,I=Oh(l),{host:x,port:$}=function cc(f){const l=Oh(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const I=_[1];return{host:I,port:dc(p.substr(I.length+1))}}{const[I,x]=p.split(":");return{host:I,port:dc(x)}}}(l);p.config.emulator={url:`${I}//${x}${null===$?"":`:${$}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:x,port:$,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function nm(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function Oh(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function dc(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class xa{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return yt("not implemented")}_getIdTokenResponse(l){return yt("not implemented")}_linkToIdToken(l,d){return yt("not implemented")}_getReauthenticationResolver(l){return yt("not implemented")}}function Le(f,l){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:resetPassword",B(f,l))})).apply(this,arguments)}function zr(){return(zr=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function rm(f,l){return im.apply(this,arguments)}function im(){return(im=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function sm(){return(sm=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",B(f,l))})).apply(this,arguments)}function lS(f,l){return om.apply(this,arguments)}function om(){return(om=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithPassword",B(f,l))})).apply(this,arguments)}function eo(f,l){return qu.apply(this,arguments)}function qu(){return(qu=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:sendOobCode",B(f,l))})).apply(this,arguments)}function kh(){return(kh=(0,b.Z)(function*(f,l){return eo(f,l)})).apply(this,arguments)}function JE(f,l){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,b.Z)(function*(f,l){return eo(f,l)})).apply(this,arguments)}function am(f,l){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,b.Z)(function*(f,l){return eo(f,l)})).apply(this,arguments)}function Vh(){return(Vh=(0,b.Z)(function*(f,l){return eo(f,l)})).apply(this,arguments)}function fc(){return(fc=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithEmailLink",B(f,l))})).apply(this,arguments)}function Oa(){return(Oa=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithEmailLink",B(f,l))})).apply(this,arguments)}class Bo extends xa{constructor(l,d,p,_=null){super("password",p),this._email=l,this._password=d,this._tenantId=_}static _fromEmailAndPassword(l,d){return new Bo(l,d,"password")}static _fromEmailAndCode(l,d,p=null){return new Bo(l,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,b.Z)(function*(){switch(d.signInMethod){case"password":return _e(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lS);case"emailLink":return function ne(f,l){return fc.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:dt(l,"internal-error")}})()}_linkToIdToken(l,d){var p=this;return(0,b.Z)(function*(){switch(p.signInMethod){case"password":return _e(l,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rm);case"emailLink":return function Qe(f,l){return Oa.apply(this,arguments)}(l,{idToken:d,email:p._email,oobCode:p._password});default:dt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function ci(f,l){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithIdp",B(f,l))})).apply(this,arguments)}class ys extends xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new ys(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):dt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_}=d,I=(0,Rt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const x=new ys(p,_);return x.idToken=I.idToken||void 0,x.accessToken=I.accessToken||void 0,x.secret=I.secret,x.nonce=I.nonce,x.pendingToken=I.pendingToken||null,x}_getIdTokenResponse(l){return ci(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,ci(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ci(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,W.xO)(d)}return l}}function Ti(){return(Ti=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:sendVerificationCode",B(f,l))})).apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,l))})).apply(this,arguments)}function ka(){return(ka=(0,b.Z)(function*(f,l){const d=yield we(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,l));if(d.temporaryProof)throw ln(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Uh={USER_NOT_FOUND:"user-not-found"};function pc(){return(pc=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Uh)})).apply(this,arguments)}class Sr extends xa{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Sr({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Sr({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function Ki(f,l){return Zi.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function xt(f,l){return ka.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Bh(f,l){return pc.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}=l;return p||d||_||I?new Sr({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}):null}}class $t{constructor(l){var d,p,_,I,x,$;const se=(0,W.zd)((0,W.pd)(l)),Ae=null!==(d=se.apiKey)&&void 0!==d?d:null,Fe=null!==(p=se.oobCode)&&void 0!==p?p:null,Tt=function Gu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=se.mode)&&void 0!==_?_:null);ae(Ae&&Fe&&Tt,"argument-error"),this.apiKey=Ae,this.operation=Tt,this.code=Fe,this.continueUrl=null!==(I=se.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(x=se.languageCode)&&void 0!==x?x:null,this.tenantId=null!==($=se.tenantId)&&void 0!==$?$:null}static parseLink(l){const d=function eI(f){const l=(0,W.zd)((0,W.pd)(f)).link,d=l?(0,W.zd)((0,W.pd)(l)).deep_link_id:null,p=(0,W.zd)((0,W.pd)(f)).deep_link_id;return(p?(0,W.zd)((0,W.pd)(p)).link:null)||p||d||l||f}(l);try{return new $t(d)}catch{return null}}}let jh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Bo._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=$t.parseLink(p);return ae(_,"argument-error"),Bo._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class ks{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Ut extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Wu extends Ut{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return ae("providerId"in d&&"signInMethod"in d,"argument-error"),ys._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ae(l.idToken||l.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Wu.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Wu.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:I,nonce:x,providerId:$}=l;if(!p&&!_&&!d&&!I||!$)return null;try{return new Wu($)._credential({idToken:d,accessToken:p,nonce:x,pendingToken:I})}catch{return null}}}let um=(()=>{class f extends Ut{constructor(){super("facebook.com")}static credential(d){return ys._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),ze=(()=>{class f extends Ut{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return ys._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Pr=(()=>{class f extends Ut{constructor(){super("github.com")}static credential(d){return ys._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Sn extends xa{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return ci(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,ci(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ci(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_,pendingToken:I}=d;return p&&_&&I&&p===_?new Sn(p,I):null}static _create(l,d){return new Sn(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fs extends ks{constructor(l){ae(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Fs.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Fs.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Sn.fromJSON(l);return ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:p}=l;if(!d||!p)return null;try{return Sn._create(p,d)}catch{return null}}}let di=(()=>{class f extends Ut{constructor(){super("twitter.com")}static credential(d,p){return ys._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function $h(f,l){return gc.apply(this,arguments)}function gc(){return(gc=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signUp",B(f,l))})).apply(this,arguments)}class Rr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,p,_=!1){return(0,b.Z)(function*(){const I=yield v._fromIdTokenResponse(l,p,_),x=vs(p);return new Rr({user:I,providerId:x,_tokenResponse:p,operationType:d})})()}static _forOperation(l,d,p){return(0,b.Z)(function*(){yield l._updateTokensIfNecessary(p,!0);const _=vs(p);return new Rr({user:l,providerId:_,_tokenResponse:p,operationType:d})})()}}function vs(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Te(f){return et.apply(this,arguments)}function et(){return(et=(0,b.Z)(function*(f){var l;const d=vn(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new Rr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield $h(d,{returnSecureToken:!0}),_=yield Rr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Yt extends W.ZR{constructor(l,d,p,_){var I;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Yt.prototype),this.customData={appName:l.name,tenantId:null!==(I=l.tenantId)&&void 0!==I?I:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(l,d,p,_){return new Yt(l,d,p,_)}}function bi(f,l,d,p){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Yt._fromErrorAndOperation(f,I,l,p):I})}function to(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Ir(f,l){return no.apply(this,arguments)}function no(){return no=(0,b.Z)(function*(f,l){const d=(0,W.m9)(f);yield jo(!0,d,l);const{providerUserInfo:p}=yield function zi(f,l){return qi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),_=to(p||[]);return d.providerData=d.providerData.filter(I=>_.has(I.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),no.apply(this,arguments)}function dn(f,l){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,b.Z)(function*(f,l,d=!1){const p=yield cn(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return Rr._forOperation(f,"link",p)})).apply(this,arguments)}function jo(f,l,d){return nt.apply(this,arguments)}function nt(){return(nt=(0,b.Z)(function*(f,l,d){yield Wn(l);const _=!1===f?"provider-already-linked":"no-such-provider";ae(to(l.providerData).has(d)===f,l.auth,_)})).apply(this,arguments)}function mc(f,l){return $o.apply(this,arguments)}function $o(){return($o=(0,b.Z)(function*(f,l,d=!1){const{auth:p}=f,_="reauthenticate";try{const I=yield cn(f,bi(p,_,l,f),d);ae(I.idToken,p,"internal-error");const x=Dn(I.idToken);ae(x,p,"internal-error");const{sub:$}=x;return ae(f.uid===$,p,"user-mismatch"),Rr._forOperation(f,_,I)}catch(I){throw"auth/user-not-found"===I?.code&&dt(p,"user-mismatch"),I}})).apply(this,arguments)}function Hh(f,l){return ro.apply(this,arguments)}function ro(){return(ro=(0,b.Z)(function*(f,l,d=!1){const p="signIn",_=yield bi(f,p,l),I=yield Rr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Kn(f,l){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,b.Z)(function*(f,l){return Hh(vn(f),l)})).apply(this,arguments)}function zo(f,l){return Di.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(f,l){const d=(0,W.m9)(f);return yield jo(!1,d,l.providerId),dn(d,l)})).apply(this,arguments)}function Va(f,l){return _c.apply(this,arguments)}function _c(){return(_c=(0,b.Z)(function*(f,l){return mc((0,W.m9)(f),l)})).apply(this,arguments)}function lm(){return(lm=(0,b.Z)(function*(f,l){return we(f,"POST","/v1/accounts:signInWithCustomToken",B(f,l))})).apply(this,arguments)}function zh(f,l){return yc.apply(this,arguments)}function yc(){return yc=(0,b.Z)(function*(f,l){const d=vn(f),p=yield function Jt(f,l){return lm.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),_=yield Rr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),yc.apply(this,arguments)}class io{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?La._fromServerResponse(l,d):"totpInfo"in d?so._fromServerResponse(l,d):dt(l,"internal-error")}}class La extends io{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new La(d)}}class so extends io{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new so(d)}}function ir(f,l,d){var p;ae((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ae(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(ae(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function cm(f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,b.Z)(function*(f){const l=vn(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function Qi(f,l,d){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,b.Z)(function*(f,l,d){const p=vn(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&ir(p,_,d),yield _e(p,_,"getOobCode",JE)})).apply(this,arguments)}function Zu(f,l,d){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,b.Z)(function*(f,l,d){yield Le((0,W.m9)(f),{oobCode:l,newPassword:d}).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&cm(f),_});return function(_){return p.apply(this,arguments)}}())}),Ua.apply(this,arguments)}function Yi(f,l){return qh.apply(this,arguments)}function qh(){return qh=(0,b.Z)(function*(f,l){yield function Qt(f,l){return sm.apply(this,arguments)}((0,W.m9)(f),{oobCode:l})}),qh.apply(this,arguments)}function tI(f,l){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,b.Z)(function*(f,l){const d=(0,W.m9)(f),p=yield Le(d,{oobCode:l}),_=p.requestType;switch(ae(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(p.mfaInfo,d,"internal-error");default:ae(p.email,d,"internal-error")}let I=null;return p.mfaInfo&&(I=io._fromServerResponse(vn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:I},operation:_}})).apply(this,arguments)}function nI(f,l){return dm.apply(this,arguments)}function dm(){return(dm=(0,b.Z)(function*(f,l){const{data:d}=yield tI((0,W.m9)(f),l);return d.email})).apply(this,arguments)}function dS(f,l,d){return hm.apply(this,arguments)}function hm(){return(hm=(0,b.Z)(function*(f,l,d){const p=vn(f),x=yield _e(p,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$h).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&cm(f),se}),$=yield Rr._fromIdTokenResponse(p,"signIn",x);return yield p._updateCurrentUser($.user),$})).apply(this,arguments)}function hS(f,l,d){return Kn((0,W.m9)(f),jh.credential(l,d)).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&cm(f),_});return function(_){return p.apply(this,arguments)}}())}function fS(f,l,d){return fm.apply(this,arguments)}function fm(){return(fm=(0,b.Z)(function*(f,l,d){const p=vn(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function I(x,$){ae($.handleCodeInApp,p,"argument-error"),$&&ir(p,x,$)})(_,d),yield _e(p,_,"getOobCode",am)})).apply(this,arguments)}function pS(f,l){return"EMAIL_SIGNIN"===$t.parseLink(l)?.operation}function gS(f,l,d){return pm.apply(this,arguments)}function pm(){return(pm=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f),_=jh.credentialWithLink(l,d||_n());return ae(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Kn(p,_)})).apply(this,arguments)}function gm(){return(gm=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:createAuthUri",B(f,l))})).apply(this,arguments)}function _S(f,l){return vc.apply(this,arguments)}function vc(){return vc=(0,b.Z)(function*(f,l){const p={identifier:l,continueUri:On()?_n():"http://localhost"},{signinMethods:_}=yield function mS(f,l){return gm.apply(this,arguments)}((0,W.m9)(f),p);return _||[]}),vc.apply(this,arguments)}function mm(f,l){return _m.apply(this,arguments)}function _m(){return _m=(0,b.Z)(function*(f,l){const d=(0,W.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&ir(d.auth,_,l);const{email:I}=yield function hc(f,l){return kh.apply(this,arguments)}(d.auth,_);I!==f.email&&(yield f.reload())}),_m.apply(this,arguments)}function yS(f,l,d){return ym.apply(this,arguments)}function ym(){return ym=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&ir(p.auth,I,d);const{email:x}=yield function Na(f,l){return Vh.apply(this,arguments)}(p.auth,I);x!==f.email&&(yield f.reload())}),ym.apply(this,arguments)}function Wh(){return(Wh=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ai(f,l){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,b.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const p=(0,W.m9)(f),I={idToken:yield p.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},x=yield cn(p,function qo(f,l){return Wh.apply(this,arguments)}(p.auth,I));p.displayName=x.displayName||null,p.photoURL=x.photoUrl||null;const $=p.providerData.find(({providerId:se})=>"password"===se);$&&($.displayName=p.displayName,$.photoURL=p.photoURL),yield p._updateTokensIfNecessary(x)}),Ec.apply(this,arguments)}function rI(f,l){return Kh((0,W.m9)(f),l,null)}function iI(f,l){return Kh((0,W.m9)(f),null,l)}function Kh(f,l,d){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,b.Z)(function*(f,l,d){const{auth:p}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(I.email=l),d&&(I.password=d);const x=yield cn(f,function YE(f,l){return zr.apply(this,arguments)}(p,I));yield f._updateTokensIfNecessary(x,!0)}),Ic.apply(this,arguments)}class oo{constructor(l,d,p={}){this.isNewUser=l,this.providerId=d,this.profile=p}}class vm extends oo{constructor(l,d,p,_){super(l,d,p),this.username=_}}class Si extends oo{constructor(l,d){super(l,"facebook.com",d)}}class Em extends vm{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Im extends oo{constructor(l,d){super(l,"google.com",d)}}class pr extends vm{constructor(l,d,p){super(l,"twitter.com",d,p)}}function oI(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function sI(f){var l,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const x=null===(d=null===(l=Dn(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(x)return new oo(I,"anonymous"!==x&&"custom"!==x?x:null)}if(!p)return null;switch(p){case"facebook.com":return new Si(I,_);case"github.com":return new Em(I,_);case"google.com":return new Im(I,_);case"twitter.com":return new pr(I,_,f.screenName||null);case"custom":case"anonymous":return new oo(I,null);default:return new oo(I,p,_)}}(d)}function ao(f){return(0,W.m9)(f).signOut()}class uo{constructor(l,d,p){this.type=l,this.credential=d,this.user=p}static _fromIdtoken(l,d){return new uo("enroll",l,d)}static _fromMfaPendingCredential(l){return new uo("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,p;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return uo._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(p=l.multiFactorSession)&&void 0!==p&&p.idToken)return uo._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Cm{constructor(l,d,p){this.session=l,this.hints=d,this.signInResolver=p}static _fromError(l,d){const p=vn(l),_=d.customData._serverResponse,I=(_.mfaInfo||[]).map($=>io._fromServerResponse(p,$));ae(_.mfaPendingCredential,p,"internal-error");const x=uo._fromMfaPendingCredential(_.mfaPendingCredential);return new Cm(x,I,function(){var $=(0,b.Z)(function*(se){const Ae=yield se._process(p,x);delete _.mfaInfo,delete _.mfaPendingCredential;const Fe=Object.assign(Object.assign({},_),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(d.operationType){case"signIn":const Tt=yield Rr._fromIdTokenResponse(p,d.operationType,Fe);return yield p._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return ae(d.user,p,"internal-error"),Rr._forOperation(d.user,d.operationType,Fe);default:dt(p,"internal-error")}});return function(se){return $.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,b.Z)(function*(){return d.signInResolver(l)})()}}function uI(f,l){var d;const p=(0,W.m9)(f),_=l;return ae(l.customData.operationType,p,"argument-error"),ae(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),Cm._fromError(p,_)}class re{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>io._fromServerResponse(l.auth,p)))})}static _fromUser(l){return new re(l)}getSession(){var l=this;return(0,b.Z)(function*(){return uo._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var p=this;return(0,b.Z)(function*(){const _=l,I=yield p.getSession(),x=yield cn(p.user,_._process(p.user.auth,I,d));return yield p.user._updateTokensIfNecessary(x),p.user.reload()})()}unenroll(l){var d=this;return(0,b.Z)(function*(){const p="string"==typeof l?l:l.uid,_=yield d.user.getIdToken();try{const I=yield cn(d.user,function fI(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:withdraw",B(f,l))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:x})=>x!==p),yield d.user._updateTokensIfNecessary(I),yield d.user.reload()}catch(I){throw I}})()}}const mt=new WeakMap;function sr(f){const l=(0,W.m9)(f);return mt.has(l)||mt.set(l,re._fromUser(l)),mt.get(l)}const Pn="__sak";class or{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cc=(()=>{class f extends or{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tm(){const f=(0,W.z$)();return Xe(f)||te(f)}()&&function rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),I=this.localCache[p];_!==I&&d(p,I,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys(($,se,Ae)=>{this.notifyListeners($,Ae)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $=this.storage.getItem(_);if(d.newValue!==$)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const I=()=>{const $=this.storage.getItem(_);!p&&this.localCache[_]===$||this.notifyListeners(_,$)},x=this.storage.getItem(_);!function Mt(){return(0,W.w1)()&&10===document.documentMode}()||x===d.newValue||d.newValue===d.oldValue?I():setTimeout(I,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,I=this;return(0,b.Z)(function*(){yield _().call(I,d,p),I.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,b.Z)(function*(){const I=yield p().call(_,d);return _.localCache[d]=JSON.stringify(I),I})()}_remove(d){var p=()=>super._remove,_=this;return(0,b.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Dm=(()=>{class f extends or{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let xr=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(I=>I.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,b.Z)(function*(){const _=d,{eventId:I,eventType:x,data:$}=_.data,se=p.handlersMap[x];if(!se?.size)return;_.ports[0].postMessage({status:"ack",eventId:I,eventType:x});const Ae=Array.from(se).map(function(){var Tt=(0,b.Z)(function*(pi){return pi(_.origin,$)});return function(pi){return Tt.apply(this,arguments)}}()),Fe=yield function Am(f){return Promise.all(f.map(function(){var l=(0,b.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return l.apply(this,arguments)}}()))}(Ae);_.ports[0].postMessage({status:"done",eventId:I,eventType:x,response:Fe})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function hi(f="",l=10){let d="";for(let p=0;p<l;p++)d+=Math.floor(10*Math.random());return f+d}class Sm{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,p=50){var _=this;return(0,b.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let x,$;return new Promise((se,Ae)=>{const Fe=hi("",20);I.port1.start();const Tt=setTimeout(()=>{Ae(new Error("unsupported_event"))},p);$={messageChannel:I,onMessage(pi){const Xo=pi;if(Xo.data.eventId===Fe)switch(Xo.data.status){case"ack":clearTimeout(Tt),x=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),se(Xo.data.response);break;default:clearTimeout(Tt),clearTimeout(x),Ae(new Error("invalid_response"))}}},_.handlers.add($),I.port1.addEventListener("message",$.onMessage),_.target.postMessage({eventType:l,eventId:Fe,data:d},[I.port2])}).finally(()=>{$&&_.removeMessageHandler($)})})()}}function Xt(){return window}function Yh(){return typeof Xt().WorkerGlobalScope<"u"&&"function"==typeof Xt().importScripts}function Jh(){return(Jh=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",Rm=1,ja="firebaseLocalStorage",Mm="fbase_key";class $a{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Ha(f,l){return f.transaction([ja],l?"readwrite":"readonly").objectStore(ja)}function bc(){const f=indexedDB.open(Tc,Rm);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(ja,{keyPath:Mm})}catch(_){d(_)}}),f.addEventListener("success",(0,b.Z)(function*(){const p=f.result;p.objectStoreNames.contains(ja)?l(p):(p.close(),yield function xm(){const f=indexedDB.deleteDatabase(Tc);return new $a(f).toPromise()}(),l(yield bc()))}))})}function ef(f,l,d){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,b.Z)(function*(f,l,d){const p=Ha(f,!0).put({[Mm]:l,value:d});return new $a(p).toPromise()})).apply(this,arguments)}function nf(){return(nf=(0,b.Z)(function*(f,l){const d=Ha(f,!1).get(l),p=yield new $a(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Nm(f,l){const d=Ha(f,!0).delete(l);return new $a(d).toPromise()}const Om=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,b.Z)(function*(){return d.db||(d.db=yield bc()),d.db})()}_withRetries(d){var p=this;return(0,b.Z)(function*(){let _=0;for(;;)try{const I=yield p._openDb();return yield d(I)}catch(I){if(_++>3)throw I;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,b.Z)(function*(){return Yh()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,b.Z)(function*(){d.receiver=xr._getInstance(function Xh(){return Yh()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,b.Z)(function*(_,I){return{keyProcessed:(yield d._poll()).includes(I.key)}});return function(_,I){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,b.Z)(function*(_,I){return["keyChanged"]});return function(_,I){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,b.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function Pm(){return Jh.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Sm(d.activeServiceWorker);const I=yield d.sender._send("ping",{},800);I&&null!==(p=I[0])&&void 0!==p&&p.fulfilled&&null!==(_=I[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,b.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function pI(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const d=yield bc();return yield ef(d,Pn,"1"),yield Nm(d,Pn),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,b.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,b.Z)(function*(){return _._withPendingWrite((0,b.Z)(function*(){return yield _._withRetries(I=>ef(I,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=yield p._withRetries(I=>function tf(f,l){return nf.apply(this,arguments)}(I,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,b.Z)(function*(){return p._withPendingWrite((0,b.Z)(function*(){return yield p._withRetries(_=>Nm(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,b.Z)(function*(){const p=yield d._withRetries(x=>{const $=Ha(x,!1).getAll();return new $a($).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],I=new Set;if(0!==p.length)for(const{fbase_key:x,value:$}of p)I.add(x),JSON.stringify(d.localCache[x])!==JSON.stringify($)&&(d.notifyListeners(x,$),_.push(x));for(const x of Object.keys(d.localCache))d.localCache[x]&&!I.has(x)&&(d.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Wo=1e12;class Ac{constructor(l){this.auth=l,this.counter=Wo,this._widgets=new Map}render(l,d){const p=this.counter;return this._widgets.set(p,new Sc(l,this.auth.name,d||{})),this.counter++,p}reset(l){var d;const p=l||Wo;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Wo))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,b.Z)(function*(){var p;return null===(p=d._widgets.get(l||Wo))||void 0===p||p.execute(),""})()}}class Sc{constructor(l,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;ae(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rf(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pc=Yg("rcb"),EI=new ii(3e4,6e4);class Yu{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Xt().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return ae(function II(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&qn(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((p,_)=>{const I=Xt().setTimeout(()=>{_(Vt(l,"network-request-failed"))},EI.get());Xt()[Pc]=()=>{Xt().clearTimeout(I),delete Xt()[Pc];const $=Xt().grecaptcha;if(!$||!qn($))return void _(Vt(l,"internal-error"));const se=$.render;$.render=(Ae,Fe)=>{const Tt=se(Ae,Fe);return this.counter++,Tt},this.hostLanguage=d,p($)},Qg(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Pc,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(I),_(Vt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=Xt().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class CS{load(l){return(0,b.Z)(function*(){return new Ac(l)})()}clearedOneInstance(){}}const Rc="recaptcha",TS={theme:"light",type:"image"};class wI{constructor(l,d,p=Object.assign({},TS)){this.parameters=p,this.type=Rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(l),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ae(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CS:new Yu,this.validateStartingState()}verify(){var l=this;return(0,b.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),p=l.getAssertedRecaptcha();return p.getResponse(d)||new Promise(I=>{const x=$=>{$&&(l.tokenChangeListeners.delete(x),I($))};l.tokenChangeListeners.add(x),l.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof l)l(d);else if("string"==typeof l){const p=Xt()[l];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,b.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,b.Z)(function*(){ae(On()&&!Yh(),l.auth,"internal-error"),yield function CI(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function $r(f){return Hi.apply(this,arguments)}(l.auth);ae(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class km{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Sr._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function bS(f,l,d){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,b.Z)(function*(f,l,d){const p=vn(f),_=yield el(p,l,(0,W.m9)(d));return new km(_,I=>Kn(p,I))})).apply(this,arguments)}function Fm(f,l,d){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f);yield jo(!1,p,"phone");const _=yield el(p.auth,l,(0,W.m9)(d));return new km(_,I=>zo(p,I))})).apply(this,arguments)}function Xu(f,l,d){return xc.apply(this,arguments)}function xc(){return(xc=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f),_=yield el(p.auth,l,(0,W.m9)(d));return new km(_,I=>Va(p,I))})).apply(this,arguments)}function el(f,l,d){return qa.apply(this,arguments)}function qa(){return qa=(0,b.Z)(function*(f,l,d){var p;const _=yield d.verify();try{let I;if(ae("string"==typeof _,f,"argument-error"),ae(d.type===Rc,f,"argument-error"),I="string"==typeof l?{phoneNumber:l}:l,"session"in I){const x=I.session;if("phoneNumber"in I)return ae("enroll"===x.type,f,"internal-error"),(yield function lI(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:start",B(f,l))}(f,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ae("signin"===x.type,f,"internal-error");const $=(null===(p=I.multiFactorHint)||void 0===p?void 0:p.uid)||I.multiFactorUid;return ae($,f,"missing-multi-factor-info"),(yield function gI(f,l){return X(f,"POST","/v2/accounts/mfaSignIn:start",B(f,l))}(f,{mfaPendingCredential:x.credential,mfaEnrollmentId:$,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function Os(f,l){return Ti.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:_});return x}}finally{d._reset()}}),qa.apply(this,arguments)}function TI(f,l){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,b.Z)(function*(f,l){yield dn((0,W.m9)(f),l)})).apply(this,arguments)}let sf=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=vn(d)}verifyPhoneNumber(d,p){return el(this.auth,d,(0,W.m9)(p))}static credential(d,p){return Sr._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Sr._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Is(f,l){return l?U(l):(ae(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Vm extends xa{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return ci(l,this._buildIdpRequest())}_linkToIdToken(l,d){return ci(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return ci(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Lm(f){return Hh(f.auth,new Vm(f),f.bypassAuthState)}function Um(f){const{auth:l,user:d}=f;return ae(d,l,"internal-error"),mc(d,new Vm(f),f.bypassAuthState)}function bI(f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,b.Z)(function*(f){const{auth:l,user:d}=f;return ae(d,l,"internal-error"),dn(d,new Vm(f),f.bypassAuthState)})).apply(this,arguments)}class Bm{constructor(l,d,p,_,I=!1){this.auth=l,this.resolver=p,this.user=_,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,b.Z)(function*(p,_){l.pendingPromise={resolve:p,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(I){l.reject(I)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,b.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:I,tenantId:x,error:$,type:se}=l;if($)return void d.reject($);const Ae={auth:d.auth,requestUri:p,sessionId:_,tenantId:x||void 0,postBody:I||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(se)(Ae))}catch(Fe){d.reject(Fe)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Lm;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return Um;default:dt(this.auth,"internal-error")}}resolve(l){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new ii(2e3,1e4);function af(f,l,d){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,b.Z)(function*(f,l,d){const p=vn(f);Nn(f,l,ks);const _=Is(p,d);return new Fc(p,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function uf(f,l,d){return tl.apply(this,arguments)}function tl(){return(tl=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f);Nn(p.auth,l,ks);const _=Is(p.auth,d);return new Fc(p.auth,"reauthViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}function DI(f,l,d){return kc.apply(this,arguments)}function kc(){return(kc=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f);Nn(p.auth,l,ks);const _=Is(p.auth,d);return new Fc(p.auth,"linkViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}let Fc=(()=>{class f extends Bm{constructor(d,p,_,I,x){super(d,p,I,x),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,b.Z)(function*(){const p=yield d.execute();return ae(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,b.Z)(function*(){Kt(1===d.filter.length,"Popup operations only handle one event");const p=hi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Vt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Nc.get())};d()}}return f.currentPopupAction=null,f})();const jm="pendingRedirect",Wa=new Map;class AI extends Bm{constructor(l,d,p=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,b.Z)(function*(){let p=Wa.get(d.auth._key());if(!p){try{const I=(yield function Vc(f,l){return Ls.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;p=()=>Promise.resolve(I)}catch(_){p=()=>Promise.reject(_)}Wa.set(d.auth._key(),p)}return d.bypassAuthState||Wa.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,p=this;return(0,b.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(p,l);if("unknown"!==l.type){if(l.eventId){const _=yield p.auth._redirectUserForId(l.eventId);if(_)return p.user=_,d().call(p,l);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Ls(){return(Ls=(0,b.Z)(function*(f,l){const d=ar(l),p=Hm(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function lf(f,l){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,b.Z)(function*(f,l){return Hm(f)._set(ar(l),"true")})).apply(this,arguments)}function $m(){Wa.clear()}function Ko(f,l){Wa.set(f._key(),l)}function Hm(f){return U(f._redirectPersistence)}function ar(f){return Be(jm,f.config.apiKey,f.name)}function cf(f,l,d){return function SI(f,l,d){return Uc.apply(this,arguments)}(f,l,d)}function Uc(){return(Uc=(0,b.Z)(function*(f,l,d){const p=vn(f);Nn(f,l,ks),yield p._initializationPromise;const _=Is(p,d);return yield lf(_,p),_._openRedirect(p,l,"signInViaRedirect")})).apply(this,arguments)}function Bc(f,l,d){return function Ka(f,l,d){return lo.apply(this,arguments)}(f,l,d)}function lo(){return(lo=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f);Nn(p.auth,l,ks),yield p.auth._initializationPromise;const _=Is(p.auth,d);yield lf(_,p.auth);const I=yield PI(p);return _._openRedirect(p.auth,l,"reauthViaRedirect",I)})).apply(this,arguments)}function Za(f,l,d){return function zm(f,l,d){return nl.apply(this,arguments)}(f,l,d)}function nl(){return(nl=(0,b.Z)(function*(f,l,d){const p=(0,W.m9)(f);Nn(p.auth,l,ks),yield p.auth._initializationPromise;const _=Is(p.auth,d);yield jo(!1,p,l.providerId),yield lf(_,p.auth);const I=yield PI(p);return _._openRedirect(p.auth,l,"linkViaRedirect",I)})).apply(this,arguments)}function Qa(f,l){return qm.apply(this,arguments)}function qm(){return(qm=(0,b.Z)(function*(f,l){return yield vn(f)._initializationPromise,df(f,l,!1)})).apply(this,arguments)}function df(f,l){return de.apply(this,arguments)}function de(){return(de=(0,b.Z)(function*(f,l,d=!1){const p=vn(f),_=Is(p,l),x=yield new AI(p,_,d).execute();return x&&!d&&(delete x.user._redirectEventId,yield p._persistUserIfCurrent(x.user),yield p._setRedirectUser(null,l)),x})).apply(this,arguments)}function PI(f){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,b.Z)(function*(f){const l=hi(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class RI{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(l,p)&&(d=!0,this.sendToConsumer(l,p),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function AS(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xI(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var p;if(l.error&&!xI(l)){const _=(null===(p=l.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Vt(this.auth,_))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const p=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&p}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MI(l))}saveEventToCache(l){this.cachedEventUids.add(MI(l)),this.lastProcessedEventTime=Date.now()}}function MI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function xI({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function Ya(f){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,b.Z)(function*(f,l={}){return X(f,"GET","/v1/projects",l)})).apply(this,arguments)}const SS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zn=/^https?/;function Zo(){return(Zo=(0,b.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield Ya(f);for(const d of l)try{if(NI(d))return}catch{}dt(f,"unauthorized-domain")})).apply(this,arguments)}function NI(f){const l=_n(),{protocol:d,hostname:p}=new URL(l);if(f.startsWith("chrome-extension://")){const x=new URL(f);return""===x.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&x.hostname===p}if(!Zn.test(d))return!1;if(SS.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Mi=new ii(3e4,6e4);function co(){const f=Xt().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Qo=null;const OI=new ii(5e3,15e3),PS="__/auth/iframe",kI="emulator/auth/iframe",RS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ff(f){const l=f.config;ae(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?ds(l,kI):`https://${f.config.authDomain}/${PS}`,p={apiKey:l.apiKey,appName:f.name,v:O.SDK_VERSION},_=fi.get(f.config.apiHost);_&&(p.eid=_);const I=f._getFrameworks();return I.length&&(p.fw=I.join(",")),`${d}?${(0,W.xO)(p).slice(1)}`}function Zm(){return Zm=(0,b.Z)(function*(f){const l=yield function rl(f){return Qo=Qo||function Km(f){return new Promise((l,d)=>{var p,_,I;function x(){co(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{co(),d(Vt(f,"network-request-failed"))},timeout:Mi.get()})}if(null!==(_=null===(p=Xt().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(I=Xt().gapi)||void 0===I||!I.load){const $=Yg("iframefcb");return Xt()[$]=()=>{gapi.load?x():d(Vt(f,"network-request-failed"))},Qg(`https://apis.google.com/js/api.js?onload=${$}`).catch(se=>d(se))}x()}}).catch(l=>{throw Qo=null,l})}(f),Qo}(f),d=Xt().gapi;return ae(d,f,"internal-error"),l.open({where:document.body,url:ff(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RS,dontclear:!0},p=>new Promise(function(){var _=(0,b.Z)(function*(I,x){yield p.restyle({setHideOnLeave:!1});const $=Vt(f,"network-request-failed"),se=Xt().setTimeout(()=>{x($)},OI.get());function Ae(){Xt().clearTimeout(se),I(p)}p.ping(Ae).then(Ae,()=>{x($)})});return function(I,x){return _.apply(this,arguments)}}()))}),Zm.apply(this,arguments)}const Qm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FI=500,VI=600,LI="_blank",UI="http://localhost";class Ym{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jc="__/auth/handler",gf="emulator/auth/handler",ws=encodeURIComponent("fac");function $c(f,l,d,p,_,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,b.Z)(function*(f,l,d,p,_,I){ae(f.config.authDomain,f,"auth-domain-config-required"),ae(f.config.apiKey,f,"invalid-api-key");const x={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:O.SDK_VERSION,eventId:_};if(l instanceof ks){l.setDefaultLanguage(f.languageCode),x.providerId=l.providerId||"",(0,W.xb)(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Fe,Tt]of Object.entries(I||{}))x[Fe]=Tt}if(l instanceof Ut){const Fe=l.getScopes().filter(Tt=>""!==Tt);Fe.length>0&&(x.scopes=Fe.join(","))}f.tenantId&&(x.tid=f.tenantId);const $=x;for(const Fe of Object.keys($))void 0===$[Fe]&&delete $[Fe];const se=yield f._getAppCheckToken(),Ae=se?`#${ws}=${encodeURIComponent(se)}`:"";return`${function jI({config:f}){return f.emulator?ds(f,gf):`https://${f.authDomain}/${jc}`}(f)}?${(0,W.xO)($).slice(1)}${Ae}`})).apply(this,arguments)}const Hc="webStorageSupport",sl=class il{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dm,this._completeRedirectFn=df,this._overrideRedirectResult=Ko}_openPopup(l,d,p,_){var I=this;return(0,b.Z)(function*(){var x;Kt(null===(x=I.eventManagers[l._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const $=yield $c(l,d,p,_n(),_);return function BI(f,l,d,p=FI,_=VI){const I=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-p)/2,0).toString();let $="";const se=Object.assign(Object.assign({},Qm),{width:p.toString(),height:_.toString(),top:I,left:x}),Ae=(0,W.z$)().toLowerCase();d&&($=rr(Ae)?LI:d),me(Ae)&&(l=l||UI,se.scrollbars="yes");const Fe=Object.entries(se).reduce((pi,[Xo,qc])=>`${pi}${Xo}=${qc},`,"");if(function gt(f=(0,W.z$)()){var l;return te(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Ae)&&"_self"!==$)return function pf(f,l){const d=document.createElement("a");d.href=f,d.target=l;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(l||"",$),new Ym(null);const Tt=window.open(l||"",$,Fe);ae(Tt,f,"popup-blocked");try{Tt.focus()}catch{}return new Ym(Tt)}(l,$,hi())})()}_openRedirect(l,d,p,_){var I=this;return(0,b.Z)(function*(){return yield I._originValidation(l),function Vs(f){Xt().location.href=f}(yield $c(l,d,p,_n(),_)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:_,promise:I}=this.eventManagers[d];return _?Promise.resolve(_):(Kt(I,"If manager is not set, promise should be"),I)}const p=this.initAndGetManager(l);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(l){var d=this;return(0,b.Z)(function*(){const p=yield function Ja(f){return Zm.apply(this,arguments)}(l),_=new RI(l);return p.register("authEvent",I=>(ae(I?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:_},d.iframes[l._key()]=p,_})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Hc,{type:Hc},_=>{var I;const x=null===(I=_?.[0])||void 0===I?void 0:I[Hc];void 0!==x&&d(!!x),dt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function hf(f){return Zo.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return kn()||Xe()||te()}};class Jm{constructor(l){this.factorId=l}_process(l,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,p);case"signin":return this._finalizeSignIn(l,d.credential);default:return yt("unexpected MultiFactorSessionType")}}}class mf extends Jm{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new mf(l)}_finalizeEnroll(l,d,p){return function cI(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:finalize",B(f,l))}(l,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function mI(f,l){return X(f,"POST","/v2/accounts/mfaSignIn:finalize",B(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $I=(()=>{class f{constructor(){}static assertion(d){return mf._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var yf="@firebase/auth";class MS{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,b.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(p=>{l(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zc=(0,W.Pz)("authIdTokenMaxAge")||300;let vf=null;const GI=f=>function(){var l=(0,b.Z)(function*(d){const p=d&&(yield d.getIdTokenResult()),_=p&&((new Date).getTime()-Date.parse(p.issuedAtTime))/1e3;if(_&&_>zc)return;const I=p?.token;vf!==I&&(vf=I,yield fetch(f,{method:I?"POST":"DELETE",headers:I?{Authorization:`Bearer ${I}`}:{}}))});return function(d){return l.apply(this,arguments)}}();function t_(f=(0,O.getApp)()){const l=(0,O._getProvider)(f,"auth");if(l.isInitialized())return l.getImmediate();const d=function QE(f,l){const d=(0,O._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),I=d.getOptions();if((0,W.vZ)(I,l??{}))return _;dt(_,"already-initialized")}return d.initialize({options:l})}(f,{popupRedirectResolver:sl,persistence:[Om,Cc,Dm]}),p=(0,W.Pz)("authTokenSyncURL");if(p){const I=GI(p);(function Gr(f,l,d){(0,W.m9)(f).beforeAuthStateChanged(l,d)})(d,I,()=>I(d.currentUser)),function Ba(f,l,d,p){(0,W.m9)(f).onIdTokenChanged(l,d,p)}(d,x=>I(x))}const _=(0,W.q4)("auth");return _&&tm(d,`http://${_}`),d}!function zI(f){(0,O._registerComponent)(new un.wA("auth",(l,{options:d})=>{const p=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),I=l.getProvider("app-check-internal"),{apiKey:x,authDomain:$}=p.options;ae(x&&!x.includes(":"),"invalid-api-key",{appName:p.name});const se={apiKey:x,authDomain:$,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(f)},Ae=new aS(p,_,I,se);return function em(f,l){const d=l?.persistence||[],p=(Array.isArray(d)?d:[d]).map(U);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(p,l?.popupRedirectResolver)}(Ae,d),Ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,p)=>{l.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new un.wA("auth-internal",l=>{const d=vn(l.getProvider("auth").getImmediate());return new MS(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(yf,"1.5.1",function HI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,O.registerVersion)(yf,"1.5.1","esm2017")}("Browser")},90:(cs,$n,Ve)=>{Ve.d($n,{BH:()=>ri,G6:()=>ds,L:()=>It,LL:()=>ee,Pz:()=>Vt,Sg:()=>Nn,UG:()=>yt,ZB:()=>Me,ZR:()=>X,aH:()=>dt,b$:()=>On,eu:()=>z,hl:()=>j,jU:()=>Kt,m9:()=>_s,ne:()=>si,pd:()=>qi,q4:()=>zn,r3:()=>Gn,ru:()=>_n,tV:()=>J,uI:()=>ae,vZ:()=>hs,w1:()=>$i,xO:()=>ps,xb:()=>$r,z$:()=>st,zd:()=>zi});const Ne=function(P){const S=[];let E=0;for(let C=0;C<P.length;C++){let v=P.charCodeAt(C);v<128?S[E++]=v:v<2048?(S[E++]=v>>6|192,S[E++]=63&v|128):55296==(64512&v)&&C+1<P.length&&56320==(64512&P.charCodeAt(C+1))?(v=65536+((1023&v)<<10)+(1023&P.charCodeAt(++C)),S[E++]=v>>18|240,S[E++]=v>>12&63|128,S[E++]=v>>6&63|128,S[E++]=63&v|128):(S[E++]=v>>12|224,S[E++]=v>>6&63|128,S[E++]=63&v|128)}return S},un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,S){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let v=0;v<P.length;v+=3){const F=P[v],U=v+1<P.length,be=U?P[v+1]:0,ye=v+2<P.length,Be=ye?P[v+2]:0;let me=(15&be)<<2|Be>>6,Xe=63&Be;ye||(Xe=64,U||(me=64)),C.push(E[F>>2],E[(3&F)<<4|be>>4],E[me],E[Xe])}return C.join("")},encodeString(P,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(P):this.encodeByteArray(Ne(P),S)},decodeString(P,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(P):function(P){const S=[];let E=0,C=0;for(;E<P.length;){const v=P[E++];if(v<128)S[C++]=String.fromCharCode(v);else if(v>191&&v<224){const F=P[E++];S[C++]=String.fromCharCode((31&v)<<6|63&F)}else if(v>239&&v<365){const ye=((7&v)<<18|(63&P[E++])<<12|(63&P[E++])<<6|63&P[E++])-65536;S[C++]=String.fromCharCode(55296+(ye>>10)),S[C++]=String.fromCharCode(56320+(1023&ye))}else{const F=P[E++],U=P[E++];S[C++]=String.fromCharCode((15&v)<<12|(63&F)<<6|63&U)}}return S.join("")}(this.decodeStringToByteArray(P,S))},decodeStringToByteArray(P,S){this.init_();const E=S?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let v=0;v<P.length;){const F=E[P.charAt(v++)],be=v<P.length?E[P.charAt(v)]:0;++v;const Be=v<P.length?E[P.charAt(v)]:64;++v;const Ee=v<P.length?E[P.charAt(v)]:64;if(++v,null==F||null==be||null==Be||null==Ee)throw new bn;C.push(F<<2|be>>4),64!==Be&&(C.push(be<<4&240|Be>>2),64!==Ee&&C.push(Be<<6&192|Ee))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const It=function(P){return function(P){const S=Ne(P);return un.encodeByteArray(S,!0)}(P).replace(/\./g,"")},J=function(P){try{return un.decodeString(P,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Me(P,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return S}for(const E in S)!S.hasOwnProperty(E)||!Je(E)||(P[E]=Me(P[E],S[E]));return P}function Je(P){return"__proto__"!==P}const Ke=()=>{try{return function Dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=P&&J(P[1]);return S&&JSON.parse(S)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},zn=P=>{var S,E;return null===(E=null===(S=Ke())||void 0===S?void 0:S.emulatorHosts)||void 0===E?void 0:E[P]},dt=()=>{var P;return null===(P=Ke())||void 0===P?void 0:P.config},Vt=P=>{var S;return null===(S=Ke())||void 0===S?void 0:S[`_${P}`]};class ri{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,E)=>{this.resolve=S,this.reject=E})}wrapCallback(S){return(E,C)=>{E?this.reject(E):this.resolve(C),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(E):S(E,C))}}}function Nn(P,S){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=S||"demo-project",v=P.iat||0,F=P.sub||P.user_id;if(!F)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:v,exp:v+3600,auth_time:v,sub:F,user_id:F,firebase:{sign_in_provider:"custom",identities:{}}},P);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(U)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function yt(){var P;const S=null===(P=Ke())||void 0===P?void 0:P.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Kt(){return"object"==typeof self&&self.self===self}function _n(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function On(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $i(){const P=st();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function ds(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function z(){return new Promise((P,S)=>{try{let E=!0;const C="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(C);v.onsuccess=()=>{v.result.close(),E||self.indexedDB.deleteDatabase(C),P(!0)},v.onupgradeneeded=()=>{E=!1},v.onerror=()=>{var F;S((null===(F=v.error)||void 0===F?void 0:F.message)||"")}}catch(E){S(E)}})}class X extends Error{constructor(S,E,C){super(E),this.code=S,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(S,E,C){this.service=S,this.serviceName=E,this.errors=C}create(S,...E){const C=E[0]||{},v=`${this.service}/${S}`,F=this.errors[S],U=F?function ge(P,S){return P.replace(ct,(E,C)=>{const v=S[C];return null!=v?String(v):`<${C}?>`})}(F,C):"Error";return new X(v,`${this.serviceName}: ${U} (${v}).`,C)}}const ct=/\{\$([^}]+)}/g;function Gn(P,S){return Object.prototype.hasOwnProperty.call(P,S)}function $r(P){for(const S in P)if(Object.prototype.hasOwnProperty.call(P,S))return!1;return!0}function hs(P,S){if(P===S)return!0;const E=Object.keys(P),C=Object.keys(S);for(const v of E){if(!C.includes(v))return!1;const F=P[v],U=S[v];if(At(F)&&At(U)){if(!hs(F,U))return!1}else if(F!==U)return!1}for(const v of C)if(!E.includes(v))return!1;return!0}function At(P){return null!==P&&"object"==typeof P}function ps(P){const S=[];for(const[E,C]of Object.entries(P))Array.isArray(C)?C.forEach(v=>{S.push(encodeURIComponent(E)+"="+encodeURIComponent(v))}):S.push(encodeURIComponent(E)+"="+encodeURIComponent(C));return S.length?"&"+S.join("&"):""}function zi(P){const S={};return P.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[v,F]=C.split("=");S[decodeURIComponent(v)]=decodeURIComponent(F)}}),S}function qi(P){const S=P.indexOf("?");if(!S)return"";const E=P.indexOf("#",S);return P.substring(S,E>0?E:void 0)}function si(P,S){const E=new oi(P,S);return E.subscribe.bind(E)}class oi{constructor(S,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{S(this)}).catch(C=>{this.error(C)})}next(S){this.forEachObserver(E=>{E.next(S)})}error(S){this.forEachObserver(E=>{E.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,E,C){let v;if(void 0===S&&void 0===E&&void 0===C)throw new Error("Missing Observer.");v=function fr(P,S){if("object"!=typeof P||null===P)return!1;for(const E of S)if(E in P&&"function"==typeof P[E])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:E,complete:C},void 0===v.next&&(v.next=Lt),void 0===v.error&&(v.error=Lt),void 0===v.complete&&(v.complete=Lt);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),F}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,S)}sendOne(S,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{E(this.observers[S])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}function _s(P){return P&&P._delegate?P._delegate:P}},560:(cs,$n,Ve)=>{function b(n){return"function"==typeof n}function W(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=W(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ne(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gt(s)}catch(o){e=e??[],o instanceof O?e=[...e,...o.errors]:e.push(o)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gt(e);else{if(e instanceof Rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ne(t,e)}remove(e){const{_finalizers:t}=this;t&&Ne(t,e),e instanceof Rt&&e._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const un=Rt.EMPTY;function bn(n){return n instanceof Rt||n&&"closed"in n&&b(n.remove)&&b(n.add)&&b(n.unsubscribe)}function Gt(n){b(n)?n():n.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:r}=J;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function le(n){J.setTimeout(()=>{const{onUnhandledError:e}=It;if(!e)throw n;e(n)})}function Me(){}const Je=pt("C",void 0,void 0);function pt(n,e,t){return{kind:n,value:e,error:t}}let We=null;function Ke(n){if(It.useDeprecatedSynchronousErrorHandling){const e=!We;if(e&&(We={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=We;if(We=null,t)throw r}}else n()}class mn extends Rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bn(e)&&e.add(this)):this.destination=Kt}static create(e,t,r){return new Nn(e,t,r)}next(e){this.isStopped?yt(function Hn(n){return pt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?yt(function Dt(n){return pt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yt(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function Vt(n,e){return dt.call(n,e)}class ri{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){st(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){st(r)}else st(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){st(t)}}}class Nn extends mn{constructor(e,t,r){let i;if(super(),b(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&It.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vt(e.next,s),error:e.error&&Vt(e.error,s),complete:e.complete&&Vt(e.complete,s)}):i=e}this.destination=new ri(i)}}function st(n){It.useDeprecatedSynchronousErrorHandling?function zn(n){It.useDeprecatedSynchronousErrorHandling&&We&&(We.errorThrown=!0,We.error=n)}(n):le(n)}function yt(n,e){const{onStoppedNotification:t}=It;t&&J.setTimeout(()=>t(n,e))}const Kt={closed:!0,next:Me,error:function ae(n){throw n},complete:Me},_n="function"==typeof Symbol&&Symbol.observable||"@@observable";function On(n){return n}function $i(n){return 0===n.length?On:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function j(n){return n&&n instanceof mn||function ds(n){return n&&b(n.next)&&b(n.error)&&b(n.complete)}(n)&&bn(n)}(t)?t:new Nn(t,r,i);return Ke(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ii(r))((i,s)=>{const o=new Nn({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[_n](){return this}pipe(...t){return $i(t)(this)}toPromise(t){return new(t=ii(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ii(n){var e;return null!==(e=n??It.Promise)&&void 0!==e?e:Promise}const z=W(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class n extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new B(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new z}next(t){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?un:(this.currentObservers=null,s.push(t),new Rt(()=>{this.currentObservers=null,Ne(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return n.create=(e,t)=>new B(e,t),n})();class B extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:un}}function X(n){return b(n?.lift)}function ee(n){return e=>{if(X(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new ct(n,e,t,r,i)}class ct extends mn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function we(n,e){return ee((t,r)=>{let i=0;t.subscribe(ge(r,s=>{r.next(n.call(e,s,i++))}))})}var Pe=Ve(582);const wt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nn(n){return b(n?.then)}function jt(n){return b(n[_n])}function ln(n){return Symbol.asyncIterator&&b(n?.[Symbol.asyncIterator])}function qn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hr=function Gn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $r(n){return b(n?.[hr])}function Hi(n){return(0,Pe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Pe.qq)(t.read());if(i)return yield(0,Pe.qq)(void 0);yield yield(0,Pe.qq)(r)}}finally{t.releaseLock()}})}function hs(n){return b(n?.getReader)}function At(n){if(n instanceof ht)return n;if(null!=n){if(jt(n))return function fs(n){return new ht(e=>{const t=n[_n]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wt(n))return function ps(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nn(n))return function zi(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,le)})}(n);if(ln(n))return Er(n);if($r(n))return function qi(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(hs(n))return function si(n){return Er(Hi(n))}(n)}throw qn(n)}function Er(n){return new ht(e=>{(function oi(n,e){var t,r,i,s;return(0,Pe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Pe.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ai(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Lt(n,e,t=1/0){return b(e)?Lt((r,i)=>we((s,o)=>e(r,s,i,o))(At(n(r,i))),t):("number"==typeof e&&(t=e),ee((r,i)=>function fr(n,e,t,r,i,s,o,a){const u=[];let c=0,h=0,g=!1;const m=()=>{g&&!u.length&&!c&&e.complete()},y=T=>c<r?w(T):u.push(T),w=T=>{s&&e.next(T),c++;let A=!1;At(t(T,h++)).subscribe(ge(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;u.length&&c<r;){const M=u.shift();o?ai(e,o,()=>w(M)):w(M)}m()}catch(M){e.error(M)}}))};return n.subscribe(ge(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function ui(n=1/0){return Lt(On,n)}const Dn=new ht(n=>n.complete());function gs(n){return n[n.length-1]}function ms(n){return b(gs(n))?n.pop():void 0}function Gi(n){return function An(n){return n&&b(n.schedule)}(gs(n))?n.pop():void 0}function Hr(n,e=0){return ee((t,r)=>{t.subscribe(ge(r,i=>ai(r,n,()=>r.next(i),e),()=>ai(r,n,()=>r.complete(),e),i=>ai(r,n,()=>r.error(i),e)))})}function Wi(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _s(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{ai(t,e,()=>{const r=n[Symbol.asyncIterator]();ai(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function E(n,e){return e?function S(n,e){if(null!=n){if(jt(n))return function li(n,e){return At(n).pipe(Wi(e),Hr(e))}(n,e);if(wt(n))return function Js(n,e){return new ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nn(n))return function Pa(n,e){return At(n).pipe(Wi(e),Hr(e))}(n,e);if(ln(n))return _s(n,e);if($r(n))return function Lo(n,e){return new ht(t=>{let r;return ai(t,e,()=>{r=n[hr](),ai(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}(n,e);if(hs(n))return function P(n,e){return _s(Hi(n),e)}(n,e)}throw qn(n)}(n,e):At(n)}function F(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Nn({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function U(n){for(let e in n)if(n[e]===U)return e;throw Error("Could not find renamed property on target object.")}function be(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Be(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ct=U({__forward_ref__:U});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return ye(this())},n}function me(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(Ct)&&n.__forward_ref__===Ee}function rr(n){return n&&!!n.\u0275providers}const q="https://g.co/ng/security#xss";class D extends Error{constructor(e,t){super(oe(e,t)),this.code=e}}function oe(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function rn(n,e){throw new D(-201,!1)}function Ci(n,e){null==n&&function Ot(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function _e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ma(n){return em(n,cc)||em(n,nm)}function em(n,e){return n.hasOwnProperty(e)?n[e]:null}function Oh(n){return n&&(n.hasOwnProperty(dc)||n.hasOwnProperty(xa))?n[dc]:null}const cc=U({\u0275prov:U}),dc=U({\u0275inj:U}),nm=U({ngInjectableDef:U}),xa=U({ngInjectorDef:U});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let zu;function zr(n){const e=zu;return zu=n,e}function rm(n,e,t){const r=Ma(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Le.Optional?null:void 0!==e?e:void rn(ye(n))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),eo={},qu="__NG_DI_FLAG__",hc="ngTempTokenPath",kh="ngTokenPath",JE=/\n/gm,Fh="\u0275",am="__source";let Uo;function Na(n){const e=Uo;return Uo=n,e}function Vh(n,e=Le.Default){if(void 0===Uo)throw new D(-203,!1);return null===Uo?rm(n,void 0,e):Uo.get(n,e&Le.Optional?null:void 0,e)}function ne(n,e=Le.Default){return(function YE(){return zu}()||Vh)(me(n),e)}function Qe(n,e=Le.Default){return ne(n,Oa(e))}function Oa(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Bo(n){const e=[];for(let t=0;t<n.length;t++){const r=me(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=Le.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Lh(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ne(i,s))}else e.push(ne(r))}return e}function ci(n,e){return n[qu]=e,n.prototype[qu]=e,n}function Lh(n){return n[qu]}function Os(n){return{toString:n}.toString()}var Ti=(()=>((Ti=Ti||{})[Ti.OnPush=0]="OnPush",Ti[Ti.Default=1]="Default",Ti))(),Ki=(()=>{return(n=Ki||(Ki={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ki;var n})();const Zi={},xt=[],ka=U({\u0275cmp:U}),Uh=U({\u0275dir:U}),Bh=U({\u0275pipe:U}),pc=U({\u0275mod:U}),Sr=U({\u0275fac:U}),Gu=U({__NG_ELEMENT_ID__:U});let eI=0;function $t(n){return Os(()=>{const e=$h(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ti.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ki.Emulated,id:"c"+eI++,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null};gc(t);const r=n.dependencies;return t.directiveDefs=Rr(r,!1),t.pipeDefs=Rr(r,!0),t})}function jh(n){return kt(n)||Sn(n)}function ks(n){return null!==n}function Ut(n){return Os(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function um(n,e){if(null==n)return Zi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ze(n){return Os(()=>{const e=$h(n);return gc(e),e})}function Pr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[ka]||null}function Sn(n){return n[Uh]||null}function qr(n){return n[Bh]||null}function di(n,e){const t=n[pc]||null;if(!t&&!0===e)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return t}function $h(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:um(n.inputs,e),outputs:um(n.outputs)}}function gc(n){n.features?.forEach(e=>e(n))}function Rr(n,e){if(!n)return null;const t=e?qr:jh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(ks)}const vs=0,Te=1,et=2,Yt=3,bi=4,to=5,Ir=6,no=7,dn=8,Fa=9,jo=10,nt=11,mc=12,$o=13,Hh=14,ro=15,Kn=16,Ho=17,zo=18,Di=19,Va=20,_c=21,Jt=22,zh=1,yc=2,io=7,La=8,so=9,ir=10;function Mr(n){return Array.isArray(n)&&"object"==typeof n[zh]}function Qi(n){return Array.isArray(n)&&!0===n[zh]}function Ku(n){return 0!=(4&n.flags)}function Zu(n){return n.componentOffset>-1}function Ua(n){return 1==(1&n.flags)}function Yi(n){return!!n.template}function qh(n){return 0!=(256&n[et])}function qo(n,e){return n.hasOwnProperty(Sr)?n[Sr]:null}class Wh{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ai(){return Ec}function Ec(n){return n.type.prototype.ngOnChanges&&(n.setInput=iI),rI}function rI(){const n=Ic(this),e=n?.current;if(e){const t=n.previous;if(t===Zi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iI(n,e,t,r){const i=this.declaredInputs[t],s=Ic(n)||function sI(n,e){return n[Kh]=e}(n,{previous:Zi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Wh(u&&u.currentValue,e,a===Zi),n[r]=e}Ai.ngInherit=!0;const Kh="__ngSimpleChanges__";function Ic(n){return n[Kh]||null}const Si=function(n,e,t){};function pr(n){for(;Array.isArray(n);)n=n[vs];return n}function Zh(n,e){return pr(e[n])}function Pi(n,e){return pr(e[n.index])}function wc(n,e){return n.data[e]}function Ba(n,e){return n[e]}function Gr(n,e){const t=e[n];return Mr(t)?t:t[vs]}function Qh(n){return 64==(64&n[et])}function ao(n,e){return null==e?null:n[e]}function aI(n){n[zo]=0}function wm(n,e){n[to]+=e;let t=n,r=n[Yt];for(;null!==r&&(1===e&&1===t[to]||-1===e&&0===t[to]);)r[to]+=e,t=r,r=r[Yt]}const Ze={lFrame:bc(null),bindingsEnabled:!0};function dI(){return Ze.bindingsEnabled}function re(){return Ze.lFrame.lView}function mt(){return Ze.lFrame.tView}function sr(n){return Ze.lFrame.contextLView=n,n[dn]}function Pn(n){return Ze.lFrame.contextLView=null,n}function or(){let n=Tm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tm(){return Ze.lFrame.currentTNode}function Es(n,e){const t=Ze.lFrame;t.currentTNode=n,t.isParent=e}function bm(){return Ze.lFrame.isParent}function Cc(){Ze.lFrame.isParent=!1}function xr(){const n=Ze.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xt(){return Ze.lFrame.bindingIndex++}function Vs(n){const e=Ze.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Jh(n,e){const t=Ze.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xh(e)}function Xh(n){Ze.lFrame.currentDirectiveIndex=n}function Tc(n){const e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function ja(n){Ze.lFrame.currentQueryIndex=n}function Mm(n){const e=n[Te];return 2===e.type?e.declTNode:1===e.type?n[Ir]:null}function $a(n,e,t){if(t&Le.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Le.Host||(i=Mm(s),null===i||(s=s[ro],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ze.lFrame=xm();return r.currentTNode=e,r.lView=n,!0}function Ha(n){const e=xm(),t=n[Te];Ze.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xm(){const n=Ze.lFrame,e=null===n?null:n.child;return null===e?bc(n):e}function bc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ef(){const n=Ze.lFrame;return Ze.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dc=ef;function tf(){const n=ef();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nr(){return Ze.lFrame.selectedIndex}function Go(n){Ze.lFrame.selectedIndex=n}function En(){const n=Ze.lFrame;return wc(n.tView,n.selectedIndex)}function Wo(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=h&&(n.destroyHooks??(n.destroyHooks=[])).push(t,h)}}function Ac(n,e,t){Pc(n,e,3,t)}function Sc(n,e,t,r){(3&n[et])===t&&Pc(n,e,t,r)}function rf(n,e){let t=n[et];(3&t)===e&&(t&=2047,t+=1,n[et]=t)}function Pc(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[zo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[zo]+=65536),(a<s||-1==s)&&(EI(n,t,e,u),n[zo]=(4294901760&n[zo])+u+2),u++}function EI(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[et]>>11<n[zo]>>16&&(3&n[et])===e){n[et]+=2048,Si(4,a,s);try{s.call(a)}finally{Si(5,a,s)}}}else{Si(4,a,s);try{s.call(a)}finally{Si(5,a,s)}}}const za=-1;class Yu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ju(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Mc(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Fm(n){return 3===n||4===n||6===n}function Mc(n){return 64===n.charCodeAt(0)}function Xu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||xc(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function xc(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function el(n){return n!==za}function qa(n){return 32767&n}function Ga(n,e){let t=function TI(n){return n>>16}(n),r=e;for(;t>0;)r=r[ro],t--;return r}let sf=!0;function Is(n){const e=sf;return sf=n,e}const Lm=255,Um=5;let bI=0;const Ri={};function Nc(n,e){const t=Oc(n,e);if(-1!==t)return t;const r=e[Te];r.firstCreatePass&&(n.injectorIndex=e.length,af(r.data,n),af(e,null),af(r.blueprint,null));const i=uf(n,e),s=n.injectorIndex;if(el(i)){const o=qa(i),a=Ga(i,e),u=a[Te].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function af(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Oc(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Uc(i),null===r)return za;if(t++,i=i[ro],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return za}function tl(n,e,t){!function Bm(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Gu)&&(r=t[Gu]),null==r&&(r=t[Gu]=bI++);const i=r&Lm;e.data[n+(i>>Um)]|=1<<i}(n,e,t)}function kc(n,e,t){if(t&Le.Optional||void 0!==n)return n;rn()}function Fc(n,e,t,r){if(t&Le.Optional&&void 0===r&&(r=null),!(t&(Le.Self|Le.Host))){const i=n[Fa],s=zr(void 0);try{return i?i.get(e,r,t&Le.Optional):rm(e,r,t&Le.Optional)}finally{zr(s)}}return kc(r,0,t)}function jm(n,e,t,r=Le.Default,i){if(null!==n){if(1024&e[et]){const o=function SI(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[et]&&!(256&o[et]);){const a=Wa(s,o,t,r|Le.Self,Ri);if(a!==Ri)return a;let u=s.parent;if(!u){const c=o[_c];if(c){const h=c.get(t,Ri,r);if(h!==Ri)return h}u=Uc(o),o=o[ro]}s=u}return i}(n,e,t,r,Ri);if(o!==Ri)return o}const s=Wa(n,e,t,r,Ri);if(s!==Ri)return s}return Fc(e,t,r,i)}function Wa(n,e,t,r,i){const s=function lf(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Gu)?n[Gu]:void 0;return"number"==typeof e?e>=0?e&Lm:Hm:e}(t);if("function"==typeof s){if(!$a(e,n,r))return r&Le.Host?kc(i,0,r):Fc(e,t,r,i);try{const o=s(r);if(null!=o||r&Le.Optional)return o;rn()}finally{Dc()}}else if("number"==typeof s){let o=null,a=Oc(n,e),u=za,c=r&Le.Host?e[Kn][Ir]:null;for((-1===a||r&Le.SkipSelf)&&(u=-1===a?uf(n,e):e[a+8],u!==za&&$m(r,!1)?(o=e[Te],a=qa(u),e=Ga(u,e)):a=-1);-1!==a;){const h=e[Te];if(Lc(s,a,h.data)){const g=AI(a,e,t,o,r,c);if(g!==Ri)return g}u=e[a+8],u!==za&&$m(r,e[Te].data[a+8]===c)&&Lc(s,a,e)?(o=h,a=qa(u),e=Ga(u,e)):a=-1}}return i}function AI(n,e,t,r,i,s){const o=e[Te],a=o.data[n+8],h=function Vc(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,h=s>>20,m=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<m;y++){const w=o[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){const y=o[u];if(y&&Yi(y)&&y.type===t)return u}return null}(a,o,t,null==r?Zu(a)&&sf:r!=o&&0!=(3&a.type),i&Le.Host&&s===a);return null!==h?Ls(e,o,h,a):Ri}function Ls(n,e,t,r){let i=n[t];const s=e.data;if(function II(n){return n instanceof Yu}(i)){const o=i;o.resolving&&function gt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ce(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=Is(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?zr(o.injectImpl):null;$a(n,r,Le.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function vI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ec(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&zr(u),Is(a),o.resolving=!1,Dc()}}return i}function Lc(n,e,t){return!!(t[e+(n>>Um)]&1<<n)}function $m(n,e){return!(n&Le.Self||n&Le.Host&&e)}class Ko{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jm(this._tNode,this._lView,e,Oa(r),t)}}function Hm(){return new Ko(or(),re())}function ar(n){return Os(()=>{const e=n.prototype.constructor,t=e[Sr]||cf(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Sr]||cf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cf(n){return Xe(n)?()=>{const e=cf(me(n));return e&&e()}:qo(n)}function Uc(n){const e=n[Te],t=e.type;return 2===t?e.declTNode:1===t?n[Ir]:null}const lo="__parameters__";function Qa(n,e,t){return Os(()=>{const r=function nl(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,h){const g=u.hasOwnProperty(lo)?u[lo]:Object.defineProperty(u,lo,{value:[]})[lo];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=_e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function co(n,e){n.forEach(t=>Array.isArray(t)?co(t,e):e(t))}function Km(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fi(n,e,t){let r=Ja(n,e);return r>=0?n[1|r]=t:(r=~r,function kI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ff(n,e){const t=Ja(n,e);if(t>=0)return n[1|t]}function Ja(n,e){return function Qm(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ws=ci(Qa("Optional"),8),Yo=ci(Qa("SkipSelf"),4);var Or=(()=>((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or))();const ul=new Map;let WI=0;const ZI="__ngContext__";function Wr(n,e){Mr(e)?(n[ZI]=e[Va],function Sj(n){ul.set(n[Va],n)}(e)):n[ZI]=e}let QI;function YI(n,e){return QI(n,e)}function bf(n){const e=n[Yt];return Qi(e)?e[Yt]:e}function JI(n){return US(n[$o])}function XI(n){return US(n[bi])}function US(n){for(;null!==n&&!Qi(n);)n=n[bi];return n}function Wc(n,e,t,r,i){if(null!=r){let s,o=!1;Qi(r)?s=r:Mr(r)&&(o=!0,r=r[vs]);const a=pr(r);0===n&&null!==t?null==i?qS(e,t,a):ll(e,t,a,i||null,!0):1===n&&null!==t?ll(e,t,a,i||null,!0):2===n?function ow(n,e,t){const r=s_(n,e);r&&function Kj(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Yj(n,e,t,r,i){const s=t[io];s!==pr(t)&&Wc(e,n,r,s,i);for(let a=ir;a<t.length;a++){const u=t[a];Df(u[Te],u,n,e,r,s)}}(e,n,s,t,i)}}function tw(n,e,t){return n.createElement(e,t)}function jS(n,e){const t=n[so],r=t.indexOf(e),i=e[Yt];512&e[et]&&(e[et]&=-513,wm(i,-1)),t.splice(r,1)}function nw(n,e){if(n.length<=ir)return;const t=ir+e,r=n[t];if(r){const i=r[Ho];null!==i&&i!==n&&jS(i,r),e>0&&(n[t-1][bi]=r[bi]);const s=Qo(n,ir+e);!function Bj(n,e){Df(n,e,e[nt],2,null,null),e[vs]=null,e[Ir]=null}(r[Te],r);const o=s[Di];null!==o&&o.detachView(s[Te]),r[Yt]=null,r[bi]=null,r[et]&=-65}return r}function $S(n,e){if(!(128&e[et])){const t=e[nt];t.destroyNode&&Df(n,e,t,3,null,null),function Hj(n){let e=n[$o];if(!e)return rw(n[Te],n);for(;e;){let t=null;if(Mr(e))t=e[$o];else{const r=e[ir];r&&(t=r)}if(!t){for(;e&&!e[bi]&&e!==n;)Mr(e)&&rw(e[Te],e),e=e[Yt];null===e&&(e=n),Mr(e)&&rw(e[Te],e),t=e&&e[bi]}e=t}}(e)}}function rw(n,e){if(!(128&e[et])){e[et]&=-65,e[et]|=128,function Wj(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Yu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Si(4,a,u);try{u.call(a)}finally{Si(5,a,u)}}else{Si(4,i,s);try{s.call(i)}finally{Si(5,i,s)}}}}}(n,e),function Gj(n,e){const t=n.cleanup,r=e[no];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[no]=null}}(n,e),1===e[Te].type&&e[nt].destroy();const t=e[Ho];if(null!==t&&Qi(e[Yt])){t!==e[Yt]&&jS(t,e);const r=e[Di];null!==r&&r.detachView(n)}!function Pj(n){ul.delete(n[Va])}(e)}}function HS(n,e,t){return function zS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[vs];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ki.None||s===Ki.Emulated)return null}return Pi(r,t)}}(n,e.parent,t)}function ll(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qS(n,e,t){n.appendChild(e,t)}function GS(n,e,t,r,i){null!==r?ll(n,e,t,r,i):qS(n,e,t)}function s_(n,e){return n.parentNode(e)}let iw,u_,lw,l_,ZS=function KS(n,e,t){return 40&n.type?Pi(n,t):null};function o_(n,e,t,r){const i=HS(n,r,e),s=e[nt],a=function WS(n,e,t){return ZS(n,e,t)}(r.parent||e[Ir],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)GS(s,i,t[u],a,!1);else GS(s,i,t,a,!1);void 0!==iw&&iw(s,r,e,t,i)}function a_(n,e){if(null!==e){const t=e.type;if(3&t)return Pi(e,n);if(4&t)return sw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return a_(n,r);{const i=n[e.index];return Qi(i)?sw(-1,i):pr(i)}}if(32&t)return YI(e,n)()||pr(n[e.index]);{const r=YS(n,e);return null!==r?Array.isArray(r)?r[0]:a_(bf(n[Kn]),r):a_(n,e.next)}}return null}function YS(n,e){return null!==e?n[Kn][Ir].projection[e.projection]:null}function sw(n,e){const t=ir+n+1;if(t<e.length){const r=e[t],i=r[Te].firstChild;if(null!==i)return a_(r,i)}return e[io]}function aw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Wr(pr(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)aw(n,e,t.child,r,i,s,!1),Wc(e,n,i,a,s);else if(32&u){const c=YI(t,r);let h;for(;h=c();)Wc(e,n,i,h,s);Wc(e,n,i,a,s)}else 16&u?JS(n,e,r,t,i,s):Wc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Df(n,e,t,r,i,s){aw(t,r,n.firstChild,e,i,s,!1)}function JS(n,e,t,r,i,s){const o=t[Kn],u=o[Ir].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Wc(e,n,i,u[c],s);else aw(n,e,u,o[Yt],i,s,!0)}function XS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eP(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ju(n,e,r),null!==i&&XS(n,e,i),null!==s&&function Xj(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Kc(n){return function uw(){if(void 0===u_&&(u_=null,Qt.trustedTypes))try{u_=Qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return u_}()?.createHTML(n)||n}function cw(){if(void 0===l_&&(l_=null,Qt.trustedTypes))try{l_=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return l_}function nP(n){return cw()?.createHTML(n)||n}function iP(n){return cw()?.createScriptURL(n)||n}class cl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${q})`}}class i$ extends cl{getTypeName(){return"HTML"}}class s$ extends cl{getTypeName(){return"Style"}}class o$ extends cl{getTypeName(){return"Script"}}class a$ extends cl{getTypeName(){return"URL"}}class u$ extends cl{getTypeName(){return"ResourceURL"}}function Ji(n){return n instanceof cl?n.changingThisBreaksApplicationSecurity:n}function ho(n,e){const t=function l$(n){return n instanceof cl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${q})`)}return t===e}class g${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Kc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class m${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Kc(e),t}}const y$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c_(n){return(n=String(n)).match(y$)?n:"unsafe:"+n}function ea(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Af(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const oP=ea("area,br,col,hr,img,wbr"),aP=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uP=ea("rp,rt"),dw=Af(oP,Af(aP,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Af(uP,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Af(uP,aP)),hw=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lP=Af(hw,ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),v$=ea("script,style,template");class E${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!dw.hasOwnProperty(t))return this.sanitizedSomething=!0,!v$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!lP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;hw[a]&&(u=c_(u)),this.buf.push(" ",o,'="',cP(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();dw.hasOwnProperty(t)&&!oP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(cP(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const I$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w$=/([^\#-~ |!])/g;function cP(n){return n.replace(/&/g,"&amp;").replace(I$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(w$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let d_;function dP(n,e){let t=null;try{d_=d_||function sP(n){const e=new m$(n);return function _$(){try{return!!(new window.DOMParser).parseFromString(Kc(""),"text/html")}catch{return!1}}()?new g$(e):e}(n);let r=e?String(e):"";t=d_.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=d_.getInertBodyElement(r)}while(r!==s);return Kc((new E$).sanitizeChildren(fw(t)||t))}finally{if(t){const r=fw(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function fw(n){return"content"in n&&function C$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function pw(n){const e=Sf();return e?nP(e.sanitize(en.HTML,n)||""):ho(n,"HTML")?nP(Ji(n)):dP(function tP(){return void 0!==lw?lw:typeof document<"u"?document:void 0}(),te(n))}function fo(n){const e=Sf();return e?e.sanitize(en.URL,n)||"":ho(n,"URL")?Ji(n):c_(te(n))}function hP(n){const e=Sf();if(e)return iP(e.sanitize(en.RESOURCE_URL,n)||"");if(ho(n,"ResourceURL"))return iP(Ji(n));throw new D(904,!1)}function Sf(){const n=re();return n&&n[mc]}const h_=new de("ENVIRONMENT_INITIALIZER"),pP=new de("INJECTOR",-1),gP=new de("INJECTOR_DEF_TYPES");class mP{get(e,t=eo){if(t===eo){const r=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw r.name="NullInjectorError",r}return t}}function _P(n){return{\u0275providers:n}}function P$(...n){return{\u0275providers:yP(0,n),\u0275fromNgModule:!0}}function yP(n,...e){const t=[],r=new Set;let i;return co(e,s=>{const o=s;gw(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&vP(i,t),t}function vP(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];mw(i,s=>{e.push(s)})}}function gw(n,e,t,r){if(!(n=me(n)))return!1;let i=null,s=Oh(n);const o=!s&&kt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Oh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)gw(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{co(s.imports,h=>{gw(h,e,t,r)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&vP(c,e)}if(!a){const c=qo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:xt},{provide:gP,useValue:i,multi:!0},{provide:h_,useValue:()=>ne(i),multi:!0})}const u=s.providers;null==u||a||mw(u,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}function mw(n,e){for(let t of n)rr(t)&&(t=t.\u0275providers),Array.isArray(t)?mw(t,e):e(t)}const R$=U({provide:String,useValue:U});function _w(n){return null!==n&&"object"==typeof n&&R$ in n}function dl(n){return"function"==typeof n}const yw=new de("Set Injector scope."),f_={},x$={};let vw;function p_(){return void 0===vw&&(vw=new mP),vw}class po{}class wP extends po{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iw(e,o=>this.processProvider(o)),this.records.set(pP,Zc(void 0,this)),i.has("environment")&&this.records.set(po,Zc(void 0,this));const s=this.records.get(yw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gP.multi,xt,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Na(this),r=zr(void 0);try{return e()}finally{Na(t),zr(r)}}get(e,t=eo,r=Le.Default){this.assertNotDestroyed(),r=Oa(r);const i=Na(this),s=zr(void 0);try{if(!(r&Le.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function V$(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&Ma(e);a=u&&this.injectableDefInScope(u)?Zc(Ew(e),f_):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Le.Self?p_():this.parent).get(e,t=r&Le.Optional&&t===eo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[hc]=o[hc]||[]).unshift(ye(e)),i)throw o;return function XE(n,e,t,r){const i=n[hc];throw e[am]&&i.unshift(e[am]),n.message=function ys(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Fh?n.slice(2):n;let i=ye(e);if(Array.isArray(e))i=e.map(ye).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ye(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(JE,"\n  ")}`}("\n"+n.message,i,t,r),n[kh]=i,n[hc]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{zr(s),Na(i)}}resolveInjectorInitializers(){const e=Na(this),t=zr(void 0);try{const r=this.get(h_.multi,xt,Le.Self);for(const i of r)i()}finally{Na(e),zr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=dl(e=me(e))?e:me(e&&e.provide);const r=function O$(n){return _w(n)?Zc(void 0,n.useValue):Zc(CP(n),f_)}(e);if(dl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Zc(void 0,f_,!0),i.factory=()=>Bo(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===f_&&(t.value=x$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function F$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=me(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ew(n){const e=Ma(n),t=null!==e?e.factory:qo(n);if(null!==t)return t;if(n instanceof de)throw new D(204,!1);if(n instanceof Function)return function N$(n){const e=n.length;if(e>0)throw function rl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new D(204,!1);const t=function tm(n){return n&&(n[cc]||n[nm])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function CP(n,e,t){let r;if(dl(n)){const i=me(n);return qo(i)||Ew(i)}if(_w(n))r=()=>me(n.useValue);else if(function IP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Bo(n.deps||[]));else if(function EP(n){return!(!n||!n.useExisting)}(n))r=()=>ne(me(n.useExisting));else{const i=me(n&&(n.useClass||n.provide));if(!function k$(n){return!!n.deps}(n))return qo(i)||Ew(i);r=()=>new i(...Bo(n.deps))}return r}function Zc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Iw(n,e){for(const t of n)Array.isArray(t)?Iw(t,e):t&&rr(t)?Iw(t.\u0275providers,e):e(t)}class L${}class TP{}class B${resolveComponentFactory(e){throw function U$(n){const e=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Qc=(()=>{class n{}return n.NULL=new B$,n})();function j$(){return Yc(or(),re())}function Yc(n,e){return new Xi(Pi(n,e))}let Xi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=j$,n})();class Pf{}let ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function H$(){const n=re(),t=Gr(or().index,n);return(Mr(t)?t:n)[nt]}(),n})(),z$=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>null}),n})();class Jc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DP=new Jc("15.2.10"),ww={},Cw="ngOriginalError";function Tw(n){return n[Cw]}class Xc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Tw(e);for(;t&&Tw(t);)t=Tw(t);return t||null}}function na(n){return n instanceof Function?n():n}function SP(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const PP="ng-template";function tH(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==SP(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function RP(n){return 4===n.type&&n.value!==PP}function nH(n,e,t){return e===(4!==n.type||t?n.value:PP)}function rH(n,e,t){let r=4;const i=n.attrs||[],s=function oH(n){for(let e=0;e<n.length;e++)if(Fm(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!nH(n,u,t)||""===u&&1===e.length){if(Us(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!tH(n.attrs,c,t)){if(Us(r))return!1;o=!0}continue}const g=iH(8&r?"class":u,i,RP(n),t);if(-1===g){if(Us(r))return!1;o=!0;continue}if(""!==c){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==SP(y,c,0)||2&r&&c!==m){if(Us(r))return!1;o=!0}}}}else{if(!o&&!Us(r)&&!Us(u))return!1;if(o&&Us(u))continue;o=!1,r=u|1&r}}return Us(r)||o}function Us(n){return 0==(1&n)}function iH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function MP(n,e,t=!1){for(let r=0;r<e.length;r++)if(rH(n,e[r],t))return!0;return!1}function xP(n,e){return n?":not("+e.trim()+")":e}function lH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Us(o)&&(e+=xP(s,i),i=""),r=o,s=s||!Us(r);t++}return""!==i&&(e+=xP(s,i)),e}const rt={};function ce(n){NP(mt(),re(),Nr()+n,!1)}function NP(n,e,t,r){if(!r)if(3==(3&e[et])){const s=n.preOrderCheckHooks;null!==s&&Ac(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Sc(e,s,0,t)}Go(t)}function VP(n,e=null,t=null,r){const i=LP(n,e,t,r);return i.resolveInjectorInitializers(),i}function LP(n,e=null,t=null,r,i=new Set){const s=[t||xt,P$(n)];return r=r||("object"==typeof n?void 0:ye(n)),new wP(s,e||p_(),r||null,i)}let es=(()=>{class n{static create(t,r){if(Array.isArray(t))return VP({name:""},r,t,"");{const i=t.name??"";return VP({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=eo,n.NULL=new mP,n.\u0275prov=_e({token:n,providedIn:"any",factory:()=>ne(pP)}),n.__NG_ELEMENT_ID__=-1,n})();function Z(n,e=Le.Default){const t=re();return null===t?ne(n,e):jm(or(),t,me(n),e)}function GP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];ja(t[r]),o.contentQueries(2,e[s],s)}}}function m_(n,e,t,r,i,s,o,a,u,c,h){const g=e.blueprint.slice();return g[vs]=i,g[et]=76|r,(null!==h||n&&1024&n[et])&&(g[et]|=1024),aI(g),g[Yt]=g[ro]=n,g[dn]=t,g[jo]=o||n&&n[jo],g[nt]=a||n&&n[nt],g[mc]=u||n&&n[mc]||null,g[Fa]=c||n&&n[Fa]||null,g[Ir]=s,g[Va]=function Aj(){return WI++}(),g[_c]=h,g[Kn]=2==e.type?n[Kn]:g,g}function nd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Pw(n,e,t,r,i){const s=Tm(),o=bm(),u=n.data[e]=function kH(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function Yh(){return Ze.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Qu(){const n=Ze.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Es(s,!0),s}function Rf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Rw(n,e,t){Ha(e);try{const r=n.viewQuery;null!==r&&Uw(1,r,t);const i=n.template;null!==i&&WP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&GP(n,e),n.staticViewQueries&&Uw(2,n.viewQuery,t);const s=n.components;null!==s&&function xH(n,e){for(let t=0;t<e.length;t++)tz(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[et]&=-5,tf()}}function __(n,e,t,r){const i=e[et];if(128!=(128&i)){Ha(e);try{aI(e),function Sm(n){return Ze.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&WP(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Ac(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Sc(e,c,0,null),rf(e,0)}if(function XH(n){for(let e=JI(n);null!==e;e=XI(e)){if(!e[yc])continue;const t=e[so];for(let r=0;r<t.length;r++){const i=t[r];512&i[et]||wm(i[Yt],1),i[et]|=512}}}(e),function JH(n){for(let e=JI(n);null!==e;e=XI(e))for(let t=ir;t<e.length;t++){const r=e[t],i=r[Te];Qh(r)&&__(i,r,i.template,r[dn])}}(e),null!==n.contentQueries&&GP(n,e),o){const c=n.contentCheckHooks;null!==c&&Ac(e,c)}else{const c=n.contentHooks;null!==c&&Sc(e,c,1),rf(e,1)}!function RH(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Go(~i);else{const s=i,o=t[++r],a=t[++r];Jh(o,s),a(2,e[s])}}}finally{Go(-1)}}(n,e);const a=n.components;null!==a&&function MH(n,e){for(let t=0;t<e.length;t++)ez(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Uw(2,u,r),o){const c=n.viewCheckHooks;null!==c&&Ac(e,c)}else{const c=n.viewHooks;null!==c&&Sc(e,c,2),rf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[et]&=-41,512&e[et]&&(e[et]&=-513,wm(e[Yt],-1))}finally{tf()}}}function WP(n,e,t,r,i){const s=Nr(),o=2&r;try{Go(-1),o&&e.length>Jt&&NP(n,e,Jt,!1),Si(o?2:0,i),t(r,i)}finally{Go(s),Si(o?3:1,i)}}function Mw(n,e,t){if(Ku(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function xw(n,e,t){dI()&&(function $H(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Zu(t)&&function ZH(n,e,t){const r=Pi(e,n),i=KP(t),s=n[jo],o=y_(n,m_(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Nc(t,e),Wr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ls(e,n,a,t);Wr(c,e),null!==o&&QH(0,a-i,c,u,0,o),Yi(u)&&(Gr(t.index,e)[dn]=Ls(e,n,a,t))}}(n,e,t,Pi(t,e)),64==(64&t.flags)&&XP(n,e,t))}function Nw(n,e,t=Pi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function KP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ow(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Ow(n,e,t,r,i,s,o,a,u,c){const h=Jt+r,g=h+i,m=function NH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:rt);return t}(h,g),y="function"==typeof c?c():c;return m[Te]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function QP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?YP(t,e,i,s):r.hasOwnProperty(i)&&YP(t,e,r[i],s)}return t}function YP(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ts(n,e,t,r,i,s,o,a){const u=Pi(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[r])?(Bw(n,t,h,r,i),Zu(e)&&function LH(n,e){const t=Gr(e,n);16&t[et]||(t[et]|=32)}(t,e.index)):3&e.type&&(r=function VH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function kw(n,e,t,r){if(dI()){const i=null===r?null:{"":-1},s=function zH(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(MP(e,o.selectors,!1))if(r||(r=[]),Yi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Fw(n,e,a.length)}else r.unshift(o),Fw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&JP(n,e,t,o,i,a),i&&function qH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Xu(t.mergedAttrs,t.attrs)}function JP(n,e,t,r,i,s){for(let c=0;c<r.length;c++)tl(Nc(t,e),n,r[c].type);!function WH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const h=r[c];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=Rf(n,e,r.length,null);for(let c=0;c<r.length;c++){const h=r[c];t.mergedAttrs=Xu(t.mergedAttrs,h.hostAttrs),KH(n,t,e,u,h),GH(u,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function FH(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let h=e.directiveStart;h<i;h++){const g=s[h],m=t?t.get(g):null,w=m?m.outputs:null;u=QP(g.inputs,h,u,m?m.inputs:null),c=QP(g.outputs,h,c,w);const T=null===u||null===o||RP(e)?null:YH(u,h,o);a.push(T)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function XP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function pI(){return Ze.lFrame.currentDirectiveIndex}();try{Go(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Xh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&HH(u,c)}}finally{Go(-1),Xh(o)}}function HH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Fw(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function GH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Yi(e)&&(t[""]=n)}}function KH(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=qo(i.type)),o=new Yu(s,Yi(i),Z);n.blueprint[r]=o,t[r]=o,function BH(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function jH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Rf(n,t,i.hostVars,rt),i)}function go(n,e,t,r,i,s){const o=Pi(n,e);!function Vw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?te(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[nt],o,s,n.value,t,r,i)}function QH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],h=o[u++],g=o[u++];null!==a?r.setInput(t,g,c,h):t[h]=g}}}function YH(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function eR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function ez(n,e){const t=Gr(e,n);if(Qh(t)){const r=t[Te];48&t[et]?__(r,t,r.template,t[dn]):t[to]>0&&Lw(t)}}function Lw(n){for(let r=JI(n);null!==r;r=XI(r))for(let i=ir;i<r.length;i++){const s=r[i];if(Qh(s))if(512&s[et]){const o=s[Te];__(o,s,o.template,s[dn])}else s[to]>0&&Lw(s)}const t=n[Te].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Gr(t[r],n);Qh(i)&&i[to]>0&&Lw(i)}}function tz(n,e){const t=Gr(e,n),r=t[Te];(function nz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Rw(r,t,t[dn])}function y_(n,e){return n[$o]?n[Hh][bi]=e:n[$o]=e,n[Hh]=e,e}function v_(n){for(;n;){n[et]|=32;const e=bf(n);if(qh(n)&&!e)return n;n=e}return null}function E_(n,e,t,r=!0){const i=e[jo];i.begin&&i.begin();try{__(n,e,n.template,t)}catch(o){throw r&&iR(e,o),o}finally{i.end&&i.end()}}function Uw(n,e,t){ja(0),e(n,t)}function tR(n){return n[no]||(n[no]=[])}function nR(n){return n.cleanup||(n.cleanup=[])}function iR(n,e){const t=n[Fa],r=t?t.get(Xc,null):null;r&&r.handleError(e)}function Bw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function I_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Be(i,a):2==s&&(r=Be(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function w_(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(pr(s)),Qi(s))for(let a=ir;a<s.length;a++){const u=s[a],c=u[Te].firstChild;null!==c&&w_(u[Te],u,c,r)}const o=t.type;if(8&o)w_(n,e,t.child,r);else if(32&o){const a=YI(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=YS(e,t);if(Array.isArray(a))r.push(...a);else{const u=bf(e[Kn]);w_(u[Te],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Mf{get rootNodes(){const e=this._lView,t=e[Te];return w_(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return 128==(128&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Yt];if(Qi(e)){const t=e[La],r=t?t.indexOf(this):-1;r>-1&&(nw(e,r),Qo(t,r))}this._attachedToViewContainer=!1}$S(this._lView[Te],this._lView)}onDestroy(e){!function ZP(n,e,t,r){const i=tR(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&nR(n).push(r,i.length-1))}(this._lView[Te],this._lView,null,e)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-65}reattach(){this._lView[et]|=64}detectChanges(){E_(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $j(n,e){Df(n,e,e[nt],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class rz extends Mf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;E_(e[Te],e,e[dn],!1)}checkNoChanges(){}get context(){return null}}class sR extends Qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kt(e);return new xf(t,this.ngModule)}}function oR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class sz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Oa(r);const i=this.injector.get(e,ww,r);return i!==ww||t===ww?i:this.parentInjector.get(e,t,r)}}class xf extends TP{get inputs(){return oR(this.componentDef.inputs)}get outputs(){return oR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function cH(n){return n.map(lH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof po?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new sz(e,s):e,a=o.get(Pf,null);if(null===a)throw new D(407,!1);const u=o.get(z$,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function OH(n,e,t){return n.selectRootElement(e,t===Ki.ShadowDom)}(c,r,this.componentDef.encapsulation):tw(c,h,function iz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.onPush?288:272,y=Ow(0,null,null,1,0,null,null,null,null,null),w=m_(null,y,null,m,null,null,a,c,u,o,null);let T,A;Ha(w);try{const M=this.componentDef;let L,R=null;M.findHostDirectiveDefs?(L=[],R=new Map,M.findHostDirectiveDefs(M,L,R),L.push(M)):L=[M];const Q=function az(n,e){const t=n[Te],r=Jt;return n[r]=e,nd(t,r,2,"#host",null)}(w,g),fe=function uz(n,e,t,r,i,s,o,a){const u=i[Te];!function lz(n,e,t,r){for(const i of n)e.mergedAttrs=Xu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(I_(e,e.mergedAttrs,!0),null!==t&&eP(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),h=m_(i,KP(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&Fw(u,n,r.length-1),y_(i,h),i[n.index]=h}(Q,g,M,L,w,a,c);A=wc(y,Jt),g&&function dz(n,e,t,r){if(r)Ju(n,t,["ng-version",DP.full]);else{const{attrs:i,classes:s}=function dH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Us(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ju(n,t,i),s&&s.length>0&&XS(n,t,s.join(" "))}}(c,M,g,r),void 0!==t&&function hz(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(A,this.ngContentSelectors,t),T=function cz(n,e,t,r,i,s){const o=or(),a=i[Te],u=Pi(o,i);JP(a,i,o,t,null,r);for(let h=0;h<t.length;h++)Wr(Ls(i,a,o.directiveStart+h,o),i);XP(a,i,o),u&&Wr(u,i);const c=Ls(i,a,o.directiveStart+o.componentOffset,o);if(n[dn]=i[dn]=c,null!==s)for(const h of s)h(c,e);return Mw(a,o,n),c}(fe,M,L,R,w,[fz]),Rw(y,w,null)}finally{tf()}return new oz(this.componentType,T,Yc(A,w),w,A)}}class oz extends L${constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new rz(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Bw(s[Te],s,i,e,t),v_(Gr(this._tNode.index,s))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fz(){const n=or();Wo(re()[Te],n)}function Ht(n){let e=function aR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Yi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=jw(n.inputs),o.declaredInputs=jw(n.declaredInputs),o.outputs=jw(n.outputs);const a=i.hostBindings;a&&_z(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&gz(n,u),c&&mz(n,c),be(n.inputs,i.inputs),be(n.declaredInputs,i.declaredInputs),be(n.outputs,i.outputs),Yi(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ht&&(t=!1)}}e=Object.getPrototypeOf(e)}!function pz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xu(i.hostAttrs,t=Xu(t,i.hostAttrs))}}(r)}function jw(n){return n===Zi?{}:n===xt?[]:n}function gz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function mz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function _z(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function C_(n){return!!$w(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function $w(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mo(n,e,t){return n[e]=t}function Kr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ni(n,e,t,r){const i=re();return Kr(i,Xt(),e)&&(mt(),go(En(),i,n,e,t,r)),Ni}function id(n,e,t,r){return Kr(n,Xt(),t)?e+te(t)+r:rt}function at(n,e,t,r,i,s,o,a){const u=re(),c=mt(),h=n+Jt,g=c.firstCreatePass?function Az(n,e,t,r,i,s,o,a,u){const c=e.consts,h=nd(e,n,4,o||null,ao(c,a));kw(e,t,h,ao(c,u)),Wo(e,h);const g=h.tView=Ow(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,c,u,e,t,r,i,s,o):c.data[h];Es(g,!1);const m=u[nt].createComment("");o_(c,u,m,g),Wr(m,u),y_(u,u[h]=eR(m,u,m,g)),Ua(g)&&xw(c,u,g),null!=o&&Nw(u,g,a)}function He(n,e,t){const r=re();return Kr(r,Xt(),e)&&ts(mt(),En(),r,n,e,r[nt],t,!1),He}function Hw(n,e,t,r,i){const o=i?"class":"style";Bw(n,t,e.inputs[o],o,r)}function N(n,e,t,r){const i=re(),s=mt(),o=Jt+n,a=i[nt],u=s.firstCreatePass?function Rz(n,e,t,r,i,s){const o=e.consts,u=nd(e,n,2,r,ao(o,i));return kw(e,t,u,ao(o,s)),null!==u.attrs&&I_(u,u.attrs,!1),null!==u.mergedAttrs&&I_(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=tw(a,e,function yI(){return Ze.lFrame.currentNamespace}()),h=Ua(u);return Es(u,!0),eP(a,c,u),32!=(32&u.flags)&&o_(s,i,c,u),0===function uI(){return Ze.lFrame.elementDepthCount}()&&Wr(c,i),function lI(){Ze.lFrame.elementDepthCount++}(),h&&(xw(s,i,u),Mw(s,u,i)),null!==r&&Nw(i,u),N}function k(){let n=or();bm()?Cc():(n=n.parent,Es(n,!1));const e=n;!function cI(){Ze.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(Wo(t,n),Ku(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function wI(n){return 0!=(8&n.flags)}(e)&&Hw(t,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function CI(n){return 0!=(16&n.flags)}(e)&&Hw(t,e,re(),e.stylesWithoutHost,!1),k}function Se(n,e,t,r){return N(n,e,t,r),k(),Se}function Of(n,e,t){const r=re(),i=mt(),s=n+Jt,o=i.firstCreatePass?function Mz(n,e,t,r,i){const s=e.consts,o=ao(s,r),a=nd(e,n,8,"ng-container",o);return null!==o&&I_(a,o,!0),kw(e,t,a,ao(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Es(o,!0);const a=r[s]=r[nt].createComment("");return o_(i,r,a,o),Wr(a,r),Ua(o)&&(xw(i,r,o),Mw(i,o,r)),null!=t&&Nw(r,o),Of}function kf(){let n=or();const e=mt();return bm()?Cc():(n=n.parent,Es(n,!1)),e.firstCreatePass&&(Wo(e,n),Ku(n)&&e.queries.elementEnd(n)),kf}function Oi(){return re()}function Ff(n){return!!n&&"function"==typeof n.then}const zw=function IR(n){return!!n&&"function"==typeof n.subscribe};function ut(n,e,t,r){const i=re(),s=mt(),o=or();return function CR(n,e,t,r,i,s,o){const a=Ua(r),c=n.firstCreatePass&&nR(n),h=e[dn],g=tR(e);let m=!0;if(3&r.type||o){const T=Pi(r,e),A=o?o(T):T,M=g.length,L=o?Q=>o(pr(Q[r.index])):r.index;let R=null;if(!o&&a&&(R=function xz(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[no],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,m=!1;else{s=bR(r,e,h,s,!1);const Q=t.listen(A,i,s);g.push(s,Q),c&&c.push(i,L,M,M+1)}}else s=bR(r,e,h,s,!1);const y=r.outputs;let w;if(m&&null!==y&&(w=y[i])){const T=w.length;if(T)for(let A=0;A<T;A+=2){const fe=e[w[A]][w[A+1]].subscribe(s),Re=g.length;g.push(s,fe),c&&c.push(i,r.index,Re,-(Re+1))}}}(s,i,i[nt],o,n,e,r),ut}function TR(n,e,t,r){try{return Si(6,e,t),!1!==t(r)}catch(i){return iR(n,i),!1}finally{Si(7,e,t)}}function bR(n,e,t,r,i){return function s(o){if(o===Function)return r;v_(n.componentOffset>-1?Gr(n.index,e):e);let u=TR(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=TR(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ft(n=1){return function nf(n){return(Ze.lFrame.contextLView=function Nm(n,e){for(;n>0;)e=e[ro],n--;return e}(n,Ze.lFrame.contextLView))[dn]}(n)}function Bs(n,e,t){return b_(n,"",e,"",t),Bs}function b_(n,e,t,r,i){const s=re(),o=id(s,e,t,r);return o!==rt&&ts(mt(),En(),s,n,o,s[nt],i,!1),b_}function D_(n,e){return n<<17|e<<2}function Xa(n){return n>>17&32767}function qw(n){return 2|n}function fl(n){return(131068&n)>>2}function Gw(n,e){return-131069&n|e<<2}function Ww(n){return 1|n}function OR(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Xa(s):fl(s),u=!1;for(;0!==a&&(!1===u||o);){const h=n[a+1];jz(n[a],e)&&(u=!0,n[a+1]=r?Ww(h):qw(h)),a=r?Xa(h):fl(h)}u&&(n[t+1]=r?qw(s):Ww(s))}function jz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ja(n,e)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kR(n){return n.substring(gr.key,gr.keyEnd)}function FR(n,e){const t=gr.textEnd;return t===e?-1:(e=gr.keyEnd=function qz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,gr.key=e,t),hd(n,e,t))}function hd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fd(n,e,t){return js(n,e,t,!1),fd}function A_(n,e){return js(n,e,null,!0),A_}function ia(n){$s(e4,yo,n,!0)}function yo(n,e){for(let t=function Hz(n){return function LR(n){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=n.length}(n),FR(n,hd(n,0,gr.textEnd))}(e);t>=0;t=FR(e,t))fi(n,kR(e),!0)}function js(n,e,t,r){const i=re(),s=mt(),o=Vs(2);s.firstUpdatePass&&$R(s,n,o,r),e!==rt&&Kr(i,o,e)&&zR(s,s.data[Nr()],i,i[nt],n,i[o+1]=function n4(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ye(Ji(n)))),n}(e,t),r,o)}function $s(n,e,t,r){const i=mt(),s=Vs(2);i.firstUpdatePass&&$R(i,null,s,r);const o=re();if(t!==rt&&Kr(o,s,t)){const a=i.data[Nr()];if(GR(a,r)&&!jR(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Be(u,t||"")),Hw(i,a,o,t,r)}else!function t4(n,e,t,r,i,s,o,a){i===rt&&(i=xt);let u=0,c=0,h=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==h||null!==g;){const m=u<i.length?i[u+1]:void 0,y=c<s.length?s[c+1]:void 0;let T,w=null;h===g?(u+=2,c+=2,m!==y&&(w=g,T=y)):null===g||null!==h&&h<g?(u+=2,w=h):(c+=2,w=g,T=y),null!==w&&zR(n,e,t,r,w,T,o,a),h=u<i.length?i[u]:null,g=c<s.length?s[c]:null}}(i,a,o,o[nt],o[s+1],o[s+1]=function Xz(n,e,t){if(null==t||""===t)return xt;const r=[],i=Ji(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function jR(n,e){return e>=n.expandoStartIndex}function $R(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Nr()],o=jR(n,t);GR(s,r)&&null===e&&!o&&(e=!1),e=function Zz(n,e,t,r){const i=Tc(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Vf(t=Kw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Kw(i,n,e,t,r),null===s){let u=function Qz(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==fl(r))return n[Xa(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Kw(null,n,e,u[1],r),u=Vf(u,e.attrs,r),function Yz(n,e,t,r){n[Xa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function Jz(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Vf(r,n[s].hostAttrs,t);return Vf(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Uz(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xa(o),u=fl(o);n[r]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ja(t,h)>0)&&(c=!0)):h=t,i)if(0!==u){const m=Xa(n[a+1]);n[r+1]=D_(m,a),0!==m&&(n[m+1]=Gw(n[m+1],r)),n[a+1]=function Vz(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=D_(a,0),0!==a&&(n[a+1]=Gw(n[a+1],r)),a=r;else n[r+1]=D_(u,0),0===a?a=r:n[u+1]=Gw(n[u+1],r),u=r;c&&(n[r+1]=qw(n[r+1])),OR(n,h,r,!0),OR(n,h,r,!1),function Bz(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ja(s,e)>=0&&(t[r+1]=Ww(t[r+1]))}(e,h,n,r,s),o=D_(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Kw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Vf(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Vf(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fi(n,o,!!t||e[++s]))}return void 0===n?null:n}function e4(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&fi(n,r,t)}function zR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],h=function Lz(n){return 1==(1&n)}(c)?qR(u,e,t,i,fl(c),o):void 0;S_(h)||(S_(s)||function Fz(n){return 2==(2&n)}(c)&&(s=qR(u,null,t,i,a,o)),function Jj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Or.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Or.Important),n.setStyle(t,r,i,s))}}(r,o,Zh(Nr(),t),i,s))}function qR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),h=c?u[1]:u,g=null===h;let m=t[i+1];m===rt&&(m=g?xt:void 0);let y=g?ff(m,r):h===r?m:void 0;if(c&&!S_(y)&&(y=ff(u,r)),S_(y)&&(a=y,o))return a;const w=n[i+1];i=o?Xa(w):fl(w)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=ff(u,r))}return a}function S_(n){return void 0!==n}function GR(n,e){return 0!=(n.flags&(e?8:16))}function K(n,e=""){const t=re(),r=mt(),i=n+Jt,s=r.firstCreatePass?nd(r,i,1,e,null):r.data[i],o=t[i]=function ew(n,e){return n.createText(e)}(t[nt],e);o_(r,t,o,s),Es(s,!1)}function mr(n){return In("",n,""),mr}function In(n,e,t){const r=re(),i=id(r,n,e,t);return i!==rt&&function ra(n,e,t){const r=Zh(e,n);!function BS(n,e,t){n.setValue(e,t)}(n[nt],r,t)}(r,Nr(),i),In}function Zw(n,e,t){$s(fi,yo,id(re(),n,e,t),!0)}function Qw(n,e,t){const r=re();if(Kr(r,Xt(),e)){const s=mt(),o=En();ts(s,o,r,n,e,function rR(n,e,t){return(null===n||Yi(n))&&(t=function oI(n){for(;Array.isArray(n);){if("object"==typeof n[zh])return n;n=n[vs]}return null}(t[e.index])),t[nt]}(Tc(s.data),o,r),t,!0)}return Qw}const pl=void 0;var I4=["en",[["a","p"],["AM","PM"],pl],[["AM","PM"],pl,pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pl,"{1} 'at' {0}",pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E4(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let pd={};function gi(n){const e=function w4(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=h1(e);if(t)return t;const r=e.split("-")[0];if(t=h1(r),t)return t;if("en"===r)return I4;throw new D(701,!1)}function h1(n){return n in pd||(pd[n]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[n]),pd[n]}var Ie=(()=>((Ie=Ie||{})[Ie.LocaleId=0]="LocaleId",Ie[Ie.DayPeriodsFormat=1]="DayPeriodsFormat",Ie[Ie.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ie[Ie.DaysFormat=3]="DaysFormat",Ie[Ie.DaysStandalone=4]="DaysStandalone",Ie[Ie.MonthsFormat=5]="MonthsFormat",Ie[Ie.MonthsStandalone=6]="MonthsStandalone",Ie[Ie.Eras=7]="Eras",Ie[Ie.FirstDayOfWeek=8]="FirstDayOfWeek",Ie[Ie.WeekendRange=9]="WeekendRange",Ie[Ie.DateFormat=10]="DateFormat",Ie[Ie.TimeFormat=11]="TimeFormat",Ie[Ie.DateTimeFormat=12]="DateTimeFormat",Ie[Ie.NumberSymbols=13]="NumberSymbols",Ie[Ie.NumberFormats=14]="NumberFormats",Ie[Ie.CurrencyCode=15]="CurrencyCode",Ie[Ie.CurrencySymbol=16]="CurrencySymbol",Ie[Ie.CurrencyName=17]="CurrencyName",Ie[Ie.Currencies=18]="Currencies",Ie[Ie.Directionality=19]="Directionality",Ie[Ie.PluralCase=20]="PluralCase",Ie[Ie.ExtraData=21]="ExtraData",Ie))();const gd="en-US";let f1=gd;function Xw(n,e,t,r,i){if(n=me(n),Array.isArray(n))for(let s=0;s<n.length;s++)Xw(n[s],e,t,r,i);else{const s=mt(),o=re();let a=dl(n)?n:me(n.provide),u=CP(n);const c=or(),h=1048575&c.providerIndexes,g=c.directiveStart,m=c.providerIndexes>>20;if(dl(n)||!n.multi){const y=new Yu(u,i,Z),w=tC(a,e,i?h:h+m,g);-1===w?(tl(Nc(c,o),s,a),eC(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),o.push(y)):(t[w]=y,o[w]=y)}else{const y=tC(a,e,h+m,g),w=tC(a,e,h,h+m),A=w>=0&&t[w];if(i&&!A||!i&&!(y>=0&&t[y])){tl(Nc(c,o),s,a);const M=function v3(n,e,t,r,i){const s=new Yu(n,t,Z);return s.multi=[],s.index=e,s.componentProviders=0,L1(s,i,r&&!t),s}(i?y3:_3,t.length,i,r,u);!i&&A&&(t[w].providerFactory=M),eC(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(M),o.push(M)}else eC(s,n,y>-1?y:w,L1(t[i?w:y],u,!i&&r));!i&&r&&A&&t[w].componentProviders++}}}function eC(n,e,t,r){const i=dl(e),s=function M$(n){return!!n.useClass}(e);if(i||s){const u=(s?me(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[r,u]):c[h+1].push(r,u)}else c.push(t,u)}}}function L1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _3(n,e,t,r){return nC(this.multi,[])}function y3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ls(t,t[Te],this.providerFactory.index,r);s=a.slice(0,o),nC(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],nC(i,s);return s}function nC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function m3(n,e,t){const r=mt();if(r.firstCreatePass){const i=Yi(n);Xw(t,r.data,r.blueprint,i,!0),Xw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class md{}class U1{}class B1 extends md{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sR(this);const r=di(e);this._bootstrapComponents=na(r.bootstrap),this._r3Injector=LP(e,t,[{provide:md,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rC extends U1{constructor(e){super(),this.moduleType=e}create(e){return new B1(this.moduleType,e)}}class I3 extends md{constructor(e,t,r){super(),this.componentFactoryResolver=new sR(this),this.instance=null;const i=new wP([...e,{provide:md,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],t||p_(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function N_(n,e,t=null){return new I3(n,e,t).injector}let w3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=yP(0,t.type),i=r.length>0?N_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_e({token:n,providedIn:"environment",factory:()=>new n(ne(po))}),n})();function O_(n){n.getStandaloneInjector=e=>e.get(w3).getOrCreateStandaloneInjector(n)}function Hf(n,e){const t=n[e];return t===rt?void 0:t}function K1(n,e,t,r,i,s,o){const a=e+t;return function hl(n,e,t,r){const i=Kr(n,e,t);return Kr(n,e+1,r)||i}(n,a,i,s)?mo(n,a+2,o?r.call(o,i,s):r(i,s)):Hf(n,a+2)}function eu(n,e){const t=mt();let r;const i=n+Jt;t.firstCreatePass?(r=function j3(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=qo(r.type)),o=zr(Z);try{const a=Is(!1),u=s();return Is(a),function Sz(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,re(),i,u),u}finally{zr(o)}}function J1(n,e,t){const r=n+Jt,i=re(),s=Ba(i,r);return zf(i,r)?function W1(n,e,t,r,i,s){const o=e+t;return Kr(n,o,i)?mo(n,o+1,s?r.call(s,i):r(i)):Hf(n,o+1)}(i,xr(),e,s.transform,t,s):s.transform(t)}function gl(n,e,t,r){const i=n+Jt,s=re(),o=Ba(s,i);return zf(s,i)?K1(s,xr(),e,o.transform,t,r,o):o.transform(t,r)}function zf(n,e){return n[Te].data[e].pure}function sC(n){return e=>{setTimeout(n,void 0,e)}}const Rn=class q3 extends G{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=sC(s),i&&(i=sC(i)),o&&(o=sC(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Rt&&e.add(a),a}};let sa=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z3,n})();const W3=sa,K3=class extends W3{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=m_(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Ho]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Di];return null!==o&&(i[Di]=o.createEmbeddedView(r)),Rw(r,i,e),new Mf(i)}};function Z3(){return function k_(n,e){return 4&n.type?new K3(e,n,Yc(n,e)):null}(or(),re())}let Hs=(()=>{class n{}return n.__NG_ELEMENT_ID__=Q3,n})();function Q3(){return function tM(n,e){let t;const r=e[n.index];if(Qi(r))t=r;else{let i;if(8&n.type)i=pr(r);else{const s=e[nt];i=s.createComment("");const o=Pi(n,e);ll(s,s_(s,o),i,function Zj(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=eR(r,e,i,n),y_(e,t)}return new X1(t,n,e)}(or(),re())}const Y3=Hs,X1=class extends Y3{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const e=uf(this._hostTNode,this._hostLView);if(el(e)){const t=Ga(e,this._hostLView),r=qa(e);return new Ko(t[Te].data[r+8],t)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Zo(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new xf(kt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(po,null);m&&(s=m)}const h=u.create(c,i,void 0,s);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[Te];if(function IS(n){return Qi(n[Yt])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const g=r[Yt],m=new X1(g,g[Ir],g[Yt]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function zj(n,e,t,r){const i=ir+r,s=t.length;r>0&&(t[i-1][bi]=e),r<s-ir?(e[bi]=t[i],Km(t,ir+r,e)):(t.push(e),e[bi]=null),e[Yt]=t;const o=e[Ho];null!==o&&t!==o&&function qj(n,e){const t=n[so];e[Kn]!==e[Yt][Yt][Kn]&&(n[yc]=!0),null===t?n[so]=[e]:t.push(e)}(o,e);const a=e[Di];null!==a&&a.insertView(n),e[et]|=64}(i,r,o,s);const a=sw(s,o),u=r[nt],c=s_(u,o[io]);return null!==c&&function jj(n,e,t,r,i,s){r[vs]=i,r[Ir]=e,Df(n,r,t,1,i,s)}(i,o[Ir],u,r,c,a),e.attachToViewContainerRef(),Km(aC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=nw(this._lContainer,t);r&&(Qo(aC(this._lContainer),t),$S(r[Te],r))}detach(e){const t=this._adjustIndex(e,-1),r=nw(this._lContainer,t);return r&&null!=Qo(aC(this._lContainer),t)?new Mf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eM(n){return n[La]}function aC(n){return n[La]||(n[La]=[])}function V_(...n){}const L_=new de("Application Initializer");let U_=(()=>{class n{constructor(t){this.appInits=t,this.resolve=V_,this.reject=V_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ff(s))t.push(s);else if(zw(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ne(L_,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gf=new de("AppId",{providedIn:"root",factory:function AM(){return`${yC()}${yC()}${yC()}`}});function yC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SM=new de("Platform Initializer"),vd=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PM=new de("AnimationModuleType");let b9=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const oa=new de("LocaleId",{providedIn:"root",factory:()=>Qe(oa,Le.Optional|Le.SkipSelf)||function D9(){return typeof $localize<"u"&&$localize.locale||gd}()}),A9=new de("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class S9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let RM=(()=>{class n{compileModuleSync(t){return new rC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=na(di(t).declarations).reduce((o,a)=>{const u=kt(a);return u&&o.push(new xf(u)),o},[]);return new S9(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M9=(()=>Promise.resolve(0))();function vC(n){typeof Zone>"u"?M9.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Bt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rn(!1),this.onMicrotaskEmpty=new Rn(!1),this.onStable=new Rn(!1),this.onError=new Rn(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function x9(){let n=Qt.requestAnimationFrame,e=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function k9(n){const e=()=>{!function O9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,IC(n),n.isCheckStableRunning=!0,EC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),IC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return NM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),OM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return NM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),OM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,IC(n),EC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N9,V_,V_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const N9={};function EC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function IC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OM(n){n._nesting--,EC(n)}class F9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rn,this.onMicrotaskEmpty=new Rn,this.onStable=new Rn,this.onError=new Rn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const kM=new de(""),B_=new de("");let TC,wC=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TC||(function V9(n){TC=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),vC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ne(Bt),ne(CC),ne(B_))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),CC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return TC?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const aa=!1;let tu=null;const FM=new de("AllowMultipleToken"),bC=new de("PlatformDestroyListeners"),VM=new de("appBootstrapListener");class LM{constructor(e,t){this.name=e,this.token=t}}function BM(n,e,t=[]){const r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=DC();if(!o||o.injector.get(FM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function B9(n){if(tu&&!tu.get(FM,!1))throw new D(400,!1);tu=n;const e=n.get($M);(function UM(n){const e=n.get(SM,null);e&&e.forEach(t=>t())})(n)}(function jM(n=[],e){return es.create({name:e,providers:[{provide:yw,useValue:"platform"},{provide:bC,useValue:new Set([()=>tu=null])},...n]})}(a,r))}return function $9(n){const e=DC();if(!e)throw new D(401,!1);return e}()}}function DC(){return tu?.get($M)??null}let $M=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function zM(n,e){let t;return t="noop"===n?new F9:("zone.js"===n?void 0:n)||new Bt(e),t}(r?.ngZone,function HM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Bt,useValue:i}];return i.run(()=>{const o=es.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Xc,null);if(!u)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{j_(this._modules,a),c.unsubscribe()})}),function qM(n,e,t){try{const r=t();return Ff(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(U_);return c.runInitializers(),c.donePromise.then(()=>(function p1(n){Ci(n,"Expected localeId to be defined"),"string"==typeof n&&(f1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(oa,gd)||gd),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=GM({},r);return function L9(n,e,t){const r=new rC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ml);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(bC,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ne(es))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function GM(n,e){return Array.isArray(e)?e.reduce(GM,n):{...n,...e}}let ml=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ht(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ht(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),vC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function C(...n){const e=Gi(n),t=function Wn(n,e){return"number"==typeof gs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?At(r[0]):ui(t)(E(r,e)):Dn}(s,o.pipe(function v(n={}){const{connector:e=(()=>new G),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=g=!1},w=()=>{const T=o;y(),T?.unsubscribe()};return ee((T,A)=>{c++,!g&&!h&&m();const M=u=u??e();A.add(()=>{c--,0===c&&!g&&!h&&(a=F(w,i))}),M.subscribe(A),!o&&c>0&&(o=new Nn({next:L=>M.next(L),error:L=>{g=!0,m(),a=F(y,t,L),M.error(L)},complete:()=>{h=!0,m(),a=F(y,r),M.complete()}}),At(T).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof TP;if(!this._injector.get(U_).done){!i&&function Fs(n){const e=kt(n)||Sn(n)||qr(n);return null!==e&&e.standalone}(t);throw new D(405,aa)}let o;o=i?t:this._injector.get(Qc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function U9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(md),c=o.create(es.NULL,[],r||o.selector,a),h=c.location.nativeElement,g=c.injector.get(kM,null);return g?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),j_(this.components,c),g?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;j_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(VM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>j_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ne(Bt),ne(po),ne(Xc))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let $_=(()=>{class n{}return n.__NG_ELEMENT_ID__=z9,n})();function z9(n){return function q9(n,e,t){if(Zu(n)&&!t){const r=Gr(n.index,e);return new Mf(r,r)}return 47&n.type?new Mf(e[Kn],e):null}(or(),re(),16==(16&n))}class JM{constructor(){}supports(e){return C_(e)}create(e){return new Y9(e)}}const Q9=(n,e)=>e;class Y9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Q9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ex(r,i,s)?t:r,a=ex(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,h=u-i;if(c!=h){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,w=y+m;h<=w&&w<c&&(s[m]=y+1)}s[o.previousIndex]=h-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!C_(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Tz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new J9(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new XM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class J9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class XM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new X9,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ex(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class tx{constructor(){}supports(e){return e instanceof Map||$w(e)}create(){return new eq}}class eq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||$w(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new tq(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class tq{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nx(){return new q_([new JM])}let q_=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nx()),deps:[[n,new Yo,new ws]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:nx}),n})();function rx(){return new Wf([new tx])}let Wf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rx()),deps:[[n,new Yo,new ws]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:rx}),n})();const iq=BM(null,"core",[]);let sq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ne(ml))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({}),n})();function Ed(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let MC=null;function ua(){return MC}class uq{}const Vn=new de("DocumentToken");let xC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return function lq(){return ne(ix)}()},providedIn:"platform"}),n})();const cq=new de("Location Initialized");let ix=(()=>{class n extends xC{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(t){const r=ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){sx()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){sx()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:function(){return function dq(){return new ix(ne(Vn))}()},providedIn:"platform"}),n})();function sx(){return!!window.history.pushState}function NC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ox(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function la(n){return n&&"?"!==n[0]?"?"+n:n}let yl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return Qe(ux)},providedIn:"root"}),n})();const ax=new de("appBaseHref");let ux=(()=>{class n extends yl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Qe(Vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return NC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+la(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+la(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+la(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(xC),ne(ax,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hq=(()=>{class n extends yl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=NC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+la(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+la(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(xC),ne(ax,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),OC=(()=>{class n{constructor(t){this._subject=new Rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function gq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ox(lx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+la(r))}normalize(t){return n.stripTrailingSlash(function pq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+la(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=la,n.joinWithSlash=NC,n.stripTrailingSlash=ox,n.\u0275fac=function(t){return new(t||n)(ne(yl))},n.\u0275prov=_e({token:n,factory:function(){return function fq(){return new OC(ne(yl))}()},providedIn:"root"}),n})();function lx(n){return n.replace(/\/index.html$/,"")}const cx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ki=(()=>((ki=ki||{})[ki.Decimal=0]="Decimal",ki[ki.Percent=1]="Percent",ki[ki.Currency=2]="Currency",ki[ki.Scientific=3]="Scientific",ki))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function Ts(n,e){const t=gi(n),r=t[Ie.NumberSymbols][e];if(typeof r>"u"){if(e===$e.CurrencyDecimal)return t[Ie.NumberSymbols][$e.Decimal];if(e===$e.CurrencyGroup)return t[Ie.NumberSymbols][$e.Group]}return r}const Dq=2,jq=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gx=22,ey=".",Zf="0",$q=";",Hq=",",UC="#",mx="\xa4";function qq(n,e,t,r,i){const o=function jC(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split($q),i=r[0],s=r[1],o=-1!==i.indexOf(ey)?i.split(ey):[i.substring(0,i.lastIndexOf(Zf)+1),i.substring(i.lastIndexOf(Zf)+1)],a=o[0],u=o[1]||"";t.posPre=a.substring(0,a.indexOf(UC));for(let h=0;h<u.length;h++){const g=u.charAt(h);g===Zf?t.minFrac=t.maxFrac=h+1:g===UC?t.maxFrac=h+1:t.posSuf+=g}const c=a.split(Hq);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const h=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(UC);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function kC(n,e){return gi(n)[Ie.NumberFormats][e]}(e,ki.Currency),Ts(e,$e.MinusSign));return o.minFrac=function Aq(n){let e;const t=cx[n];return t&&(e=t[2]),"number"==typeof e?e:Dq}(r),o.maxFrac=o.minFrac,function BC(n,e,t,r,i,s,o=!1){let a="",u=!1;if(isFinite(n)){let c=function Zq(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(ey))>-1&&(e=e.replace(ey,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Zf;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Zf;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>gx&&(r=r.splice(0,gx-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function Kq(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let h=e.minInt,g=e.minFrac,m=e.maxFrac;if(s){const L=s.match(jq);if(null===L)throw new Error(`${s} is not a valid digit info`);const R=L[1],Q=L[3],fe=L[5];null!=R&&(h=$C(R)),null!=Q&&(g=$C(Q)),null!=fe?m=$C(fe):null!=Q&&g>m&&(m=g)}!function Qq(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let g=o;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let g=1;g<o;g++)r[g]=0}if(a>=5)if(o-1<0){for(let g=0;g>o;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+n.integerLen,h=r.reduceRight(function(g,m,y,w){return w[y]=(m+=g)<10?m:m-10,u&&(0===w[y]&&y>=c?w.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}(c,g,m);let y=c.digits,w=c.integerLen;const T=c.exponent;let A=[];for(u=y.every(L=>!L);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?A=y.splice(w,y.length):(A=y,y=[0]);const M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(Ts(t,r)),A.length&&(a+=Ts(t,i)+A.join("")),T&&(a+=Ts(t,$e.Exponential)+"+"+T)}else a=Ts(t,$e.Infinity);return a=n<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,$e.CurrencyGroup,$e.CurrencyDecimal,i).replace(mx,t).replace(mx,"").trim()}function $C(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function yx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class e6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new e6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),wx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Z(Hs),Z(sa),Z(q_))},n.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wx(n,e){n.context.$implicit=e.item}let da=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new n6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Z(Hs),Z(sa))},n.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class n6{constructor(){this.$implicit=null,this.ngIf=null}}function Cx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ye(e)}'.`)}let bx=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Or.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(Z(Xi),Z(Wf),Z(ta))},n.\u0275dir=ze({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let Ax=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function WC(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function bq(n,e,t="en"){const r=function Iq(n){return gi(n)[Ie.Currencies]}(t)[n]||cx[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return qq(function KC(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(u){throw function Gs(n,e){return new D(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(Z(oa,16),Z(A9,16))},n.\u0275pipe=Pr({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({}),n})();const A6="server";function Px(n){return n===A6}let R6=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new M6(ne(Vn),window)}),n})();class M6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function x6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Rx(this.window.history)||Rx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mx{}class s5 extends uq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class YC extends s5{static makeCurrent(){!function aq(n){MC||(MC=n)}(new YC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function o5(){return Yf=Yf||document.querySelector("base"),Yf?Yf.getAttribute("href"):null}();return null==t?null:function a5(n){ry=ry||document.createElement("a"),ry.setAttribute("href",n);const e=ry.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yx(document.cookie,e)}}let ry,Yf=null;const Fx=new de("TRANSITION_ID"),l5=[{provide:L_,useFactory:function u5(n,e,t){return()=>{t.get(U_).donePromise.then(()=>{const r=ua(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Fx,Vn,es],multi:!0}];let d5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const iy=new de("EventManagerPlugins");let sy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ne(iy),ne(Bt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class Vx{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ua().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Lx=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Jf=(()=>{class n extends Lx{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const JC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},XC=/%COMP%/g,jx=new de("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $x(n,e){return e.flat(100).map(t=>t.replace(XC,n))}function Hx(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let oy=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new e0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Gx?i.applyToHost(t):i instanceof t0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Ki.Emulated:s=new Gx(o,a,r,this.appId,u);break;case Ki.ShadowDom:return new y5(o,a,t,r);default:s=new t0(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ne(sy),ne(Jf),ne(Gf),ne(jx))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class e0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(JC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=JC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=JC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(t,r,i&Or.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Or.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hx(r)):this.eventManager.addEventListener(e,t,Hx(r))}}function qx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class y5 extends e0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$x(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class t0 extends e0{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=$x(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Gx extends t0{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function g5(n){return"_ngcontent-%COMP%".replace(XC,n)}(o),this.hostAttr=function m5(n){return"_nghost-%COMP%".replace(XC,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let v5=(()=>{class n extends Vx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const Wx=["alt","control","meta","shift"],E5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let w5=(()=>{class n extends Vx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Wx.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=E5[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Wx.forEach(o=>{o!==i&&(0,I5[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const Zx=[{provide:vd,useValue:"browser"},{provide:SM,useValue:function C5(){YC.makeCurrent()},multi:!0},{provide:Vn,useFactory:function b5(){return function r$(n){lw=n}(document),document},deps:[]}],D5=BM(iq,"browser",Zx),Qx=new de(""),Yx=[{provide:B_,useClass:class c5{addToWindow(e){Qt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qt.getAllAngularRootElements=()=>e.getAllRootElements(),Qt.frameworkStabilizers||(Qt.frameworkStabilizers=[]),Qt.frameworkStabilizers.push(r=>{const i=Qt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ua().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:kM,useClass:wC,deps:[Bt,CC,B_]},{provide:wC,useClass:wC,deps:[Bt,CC,B_]}],Jx=[{provide:yw,useValue:"root"},{provide:Xc,useFactory:function T5(){return new Xc},deps:[]},{provide:iy,useClass:v5,multi:!0,deps:[Vn,Bt,vd]},{provide:iy,useClass:w5,multi:!0,deps:[Vn]},{provide:oy,useClass:oy,deps:[sy,Jf,Gf,jx]},{provide:Pf,useExisting:oy},{provide:Lx,useExisting:Jf},{provide:Jf,useClass:Jf,deps:[Vn]},{provide:sy,useClass:sy,deps:[iy,Bt]},{provide:Mx,useClass:d5,deps:[]},[]];let Xx=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Gf,useValue:t.appId},{provide:Fx,useExisting:Gf},l5]}}}return n.\u0275fac=function(t){return new(t||n)(ne(Qx,12))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({providers:[...Jx,...Yx],imports:[Id,sq]}),n})(),eN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:function(t){let r=null;return r=t?new t:function S5(){return new eN(ne(Vn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let rN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(t){let r=null;return r=t?new(t||n):ne(iN),r},providedIn:"root"}),n})(),iN=(()=>{class n extends rN{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case en.NONE:return r;case en.HTML:return ho(r,"HTML")?Ji(r):dP(this._doc,String(r)).toString();case en.STYLE:return ho(r,"Style")?Ji(r):r;case en.SCRIPT:if(ho(r,"Script"))return Ji(r);throw new Error("unsafe value used in a script context");case en.URL:return ho(r,"URL")?Ji(r):c_(String(r));case en.RESOURCE_URL:if(ho(r,"ResourceURL"))return Ji(r);throw new Error(`unsafe value used in a resource URL context (see ${q})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${q})`)}}bypassSecurityTrustHtml(t){return function c$(n){return new i$(n)}(t)}bypassSecurityTrustStyle(t){return function d$(n){return new s$(n)}(t)}bypassSecurityTrustScript(t){return function h$(n){return new o$(n)}(t)}bypassSecurityTrustUrl(t){return function f$(n){return new a$(n)}(t)}bypassSecurityTrustResourceUrl(t){return function p$(n){return new u$(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn))},n.\u0275prov=_e({token:n,factory:function(t){let r=null;return r=t?new t:function N5(n){return new iN(n.get(Vn))}(ne(es)),r},providedIn:"root"}),n})();function je(...n){return E(n,Gi(n))}class Ws extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ay=W(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:O5}=Array,{getPrototypeOf:k5,prototype:F5,keys:V5}=Object;function sN(n){if(1===n.length){const e=n[0];if(O5(e))return{args:e,keys:null};if(function L5(n){return n&&"object"==typeof n&&k5(n)===F5}(e)){const t=V5(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:U5}=Array;function oN(n){return we(e=>function B5(n,e){return U5(e)?n(...e):n(e)}(n,e))}function aN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function uN(...n){const e=Gi(n),t=ms(n),{args:r,keys:i}=sN(n);if(0===r.length)return E([],e);const s=new ht(function j5(n,e,t=On){return r=>{lN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)lN(e,()=>{const c=E(n[u],e);let h=!1;c.subscribe(ge(r,g=>{s[u]=g,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>aN(i,o):On));return t?s.pipe(oN(t)):s}function lN(n,e,t){n?ai(t,n,e):e()}function s0(...n){return function $5(){return ui(1)}()(E(n,Gi(n)))}function cN(n){return new ht(e=>{At(n()).subscribe(e)})}function Xf(n,e){const t=b(n)?n:()=>n,r=i=>i.error(t());return new ht(e?i=>e.schedule(r,0,i):r)}function o0(){return ee((n,e)=>{let t=null;n._refCount++;const r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dN extends ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rt;const t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rt.EMPTY)}return e}refCount(){return o0()(this)}}function vo(n,e){return ee((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let c=0;const h=s++;At(n(u,h)).subscribe(i=ge(r,g=>r.next(e?e(u,g,h,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function wd(n){return n<=0?()=>Dn:ee((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ha(n,e){return ee((t,r)=>{let i=0;t.subscribe(ge(r,s=>n.call(e,s,i++)&&r.next(s)))})}function uy(n){return ee((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hN(n=z5){return ee((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function z5(){return new ay}function ru(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ha((i,s)=>n(i,s,r)):On,wd(1),t?uy(e):hN(()=>new ay))}function iu(n,e){return b(e)?Lt(n,e,1):Lt(n,1)}function Zr(n,e,t){const r=b(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ge(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):On}function su(n){return ee((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ge(t,void 0,void 0,o=>{s=At(n(o,su(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fN(n,e){return ee(function q5(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(ge(o,h=>{const g=c++;u=a?n(u,h,g):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function a0(n){return n<=0?()=>Dn:ee((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ha((i,s)=>n(i,s,r)):On,a0(1),t?uy(e):hN(()=>new ay))}function u0(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const it="primary",ep=Symbol("RouteTitle");class K5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cd(n){return new K5(n)}function Z5(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gN(n[i],e[i]))return!1;return!0}function gN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function mN(n){return Array.prototype.concat.apply([],n)}function _N(n){return n.length>0?n[n.length-1]:null}function kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ou(n){return zw(n)?n:Ff(n)?E(Promise.resolve(n)):je(n)}const ly=!1,Y5={exact:function EN(n,e,t){if(!El(n.segments,e.segments)||!cy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!EN(n.children[r],e.children[r],t))return!1;return!0},subset:IN},yN={exact:function J5(n,e){return Eo(n,e)},subset:function X5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gN(n[t],e[t]))},ignored:()=>!0};function vN(n,e,t){return Y5[t.paths](n.root,e.root,t.matrixParams)&&yN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IN(n,e,t){return wN(n,e,e.segments,t)}function wN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!El(i,t)||e.hasChildren()||!cy(i,t,r))}if(n.segments.length===t.length){if(!El(n.segments,t)||!cy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!IN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(El(n.segments,i)&&cy(n.segments,i,r)&&n.children[it])&&wN(n.children[it],e,s,r)}}function cy(n,e,t){return e.every((r,i)=>yN[t](n[i].parameters,r.parameters))}class au{constructor(e=new ft([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return nG.serialize(this)}}class ft{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dy(this)}}class tp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cd(this.parameters)),this._parameterMap}toString(){return bN(this)}}function El(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let np=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return new l0},providedIn:"root"}),n})();class l0{parse(e){const t=new dG(e);return new au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rp(e.root,!0)}`,r=function sG(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${hy(t)}=${hy(i)}`).join("&"):`${hy(t)}=${hy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function rG(n){return encodeURI(n)}(e.fragment)}`:""}`}}const nG=new l0;function dy(n){return n.segments.map(e=>bN(e)).join("/")}function rp(n,e){if(!n.hasChildren())return dy(n);if(e){const t=n.children[it]?rp(n.children[it],!1):"",r=[];return kr(n.children,(i,s)=>{s!==it&&r.push(`${s}:${rp(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function tG(n,e){let t=[];return kr(n.children,(r,i)=>{i===it&&(t=t.concat(e(r,i)))}),kr(n.children,(r,i)=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===it?[rp(n.children[it],!1)]:[`${i}:${rp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${dy(n)}/${t[0]}`:`${dy(n)}/(${t.join("//")})`}}function CN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hy(n){return CN(n).replace(/%3B/gi,";")}function c0(n){return CN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fy(n){return decodeURIComponent(n)}function TN(n){return fy(n.replace(/\+/g,"%20"))}function bN(n){return`${c0(n.path)}${function iG(n){return Object.keys(n).map(e=>`;${c0(e)}=${c0(n[e])}`).join("")}(n.parameters)}`}const oG=/^[^\/()?;=#]+/;function py(n){const e=n.match(oG);return e?e[0]:""}const aG=/^[^=?&#]+/,lG=/^[^&#]+/;class dG{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new ft(e,t)),r}parseSegment(){const e=py(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,ly);return this.capture(e),new tp(fy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=py(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=py(this.remaining);i&&(r=i,this.capture(r))}e[fy(t)]=fy(r)}parseQueryParam(e){const t=function uG(n){const e=n.match(aG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function cG(n){const e=n.match(lG);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=TN(t),s=TN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=py(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,ly);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=it);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[it]:new ft([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,ly)}}function d0(n){return n.segments.length>0?new ft([],{[it]:n}):n}function gy(n){const e={};for(const r of Object.keys(n.children)){const s=gy(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hG(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new ft(n.segments.concat(e.segments),e.children)}return n}(new ft(n.segments,e))}function Il(n){return n instanceof au}const h0=!1;function fG(n,e,t,r,i){if(0===t.length)return Td(e.root,e.root,e.root,r,i);const s=function RN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kr(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PN(t,e,r)}(t);return s.toRoot()?Td(e.root,e.root,new ft([],{}),r,i):function o(u){const c=function gG(n,e,t,r){if(n.isAbsolute)return new bd(e.root,!0,0);if(-1===r)return new bd(t,t===e.root,0);return function MN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,h0&&"Invalid number of '../'");i=r.segments.length}return new bd(r,!1,i-s)}(t,r+(ip(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),h=c.processChildren?Dd(c.segmentGroup,c.index,s.commands):f0(c.segmentGroup,c.index,s.commands);return Td(e.root,c.segmentGroup,h,r,i)}(n.snapshot?._lastPathIndex)}function ip(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sp(n){return"object"==typeof n&&null!=n&&n.outlets}function Td(n,e,t,r,i){let o,s={};r&&kr(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),o=n===e?t:SN(n,e,t);const a=d0(gy(o));return new au(a,s,i)}function SN(n,e,t){const r={};return kr(n.children,(i,s)=>{r[s]=i===e?t:SN(i,e,t)}),new ft(n.segments,r)}class PN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ip(r[0]))throw new D(4003,h0&&"Root segment cannot have matrix parameters");const i=r.find(sp);if(i&&i!==_N(r))throw new D(4004,h0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function f0(n,e,t){if(n||(n=new ft([],{})),0===n.segments.length&&n.hasChildren())return Dd(n,e,t);const r=function _G(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(sp(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!NN(u,c,o))return s;r+=2}else{if(!NN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ft(n.segments.slice(0,r.pathIndex),{});return s.children[it]=new ft(n.segments.slice(r.pathIndex),n.children),Dd(s,0,i)}return r.match&&0===i.length?new ft(n.segments,{}):r.match&&!n.hasChildren()?p0(n,e,t):r.match?Dd(n,0,i):p0(n,e,t)}function Dd(n,e,t){if(0===t.length)return new ft(n.segments,{});{const r=function mG(n){return sp(n[0])?n[0].outlets:{[it]:n}}(t),i={};if(!r[it]&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const s=Dd(n.children[it],e,t);return new ft(n.segments,s.children)}return kr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=f0(n.children[o],e,s))}),kr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ft(n.segments,i)}}function p0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(sp(s)){const u=yG(s.outlets);return new ft(r,u)}if(0===i&&ip(t[0])){r.push(new tp(n.segments[e].path,xN(t[0]))),i++;continue}const o=sp(s)?s.outlets[it]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ip(a)?(r.push(new tp(o,xN(a))),i+=2):(r.push(new tp(o,{})),i++)}return new ft(r,{})}function yG(n){const e={};return kr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=p0(new ft([],{}),0,t))}),e}function xN(n){const e={};return kr(n,(t,r)=>e[r]=`${t}`),e}function NN(n,e,t){return n==t.path&&Eo(e,t.parameters)}const op="imperative";class Io{constructor(e,t){this.id=e,this.url=t}}class g0 extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wl extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class my extends Io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _y extends Io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class m0 extends Io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vG extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EG extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IG extends Io{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wG extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CG extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TG{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bG{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DG{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AG{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SG{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PG{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ON{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let xG=(()=>{class n{createUrlTree(t,r,i,s,o,a){return fG(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(e){return xG.\u0275fac(e)},providedIn:"root"}),n})();class kN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=y0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return y0(e,this._root).map(t=>t.value)}}function _0(n,e){if(n===e.value)return e;for(const t of e.children){const r=_0(n,t);if(r)return r}return null}function y0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=y0(n,t);if(r.length)return r.unshift(e),r}return[]}class fa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ad(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FN extends kN{constructor(e,t){super(e),this.snapshot=t,v0(this,e)}toString(){return this.snapshot.toString()}}function VN(n,e){const t=function kG(n,e){const o=new yy([],{},{},"",{},it,e,null,n.root,-1,{});return new UN("",new fa(o,[]))}(n,e),r=new Ws([new tp("",{})]),i=new Ws({}),s=new Ws({}),o=new Ws({}),a=new Ws(""),u=new Sd(r,i,o,a,s,it,e,t.root);return u.snapshot=t.root,new FN(new fa(u,[]),t)}class Sd{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(we(c=>c[ep]))??je(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(e=>Cd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(e=>Cd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function FG(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yy{get title(){return this.data?.[ep]}constructor(e,t,r,i,s,o,a,u,c,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UN extends kN{constructor(e,t){super(t),this.url=e,v0(this,t)}toString(){return BN(this._root)}}function v0(n,e){e.value._routerState=n,e.children.forEach(t=>v0(n,t))}function BN(n){const e=n.children.length>0?` { ${n.children.map(BN).join(", ")} } `:"";return`${n.value}${e}`}function E0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Eo(e.params,t.params)||n.params.next(t.params),function Q5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function I0(n,e){const t=Eo(n.params,e.params)&&function eG(n,e){return El(n,e)&&n.every((t,r)=>Eo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||I0(n.parent,e.parent))}function ap(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function LG(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ap(n,r,i);return ap(n,r)})}(n,e,t);return new fa(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ap(n,a)),o}}const r=function UG(n){return new Sd(new Ws(n.url),new Ws(n.params),new Ws(n.queryParams),new Ws(n.fragment),new Ws(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ap(n,s));return new fa(r,i)}}const w0="ngNavigationCancelingError";function jN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Il(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$N(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $N(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[w0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HN(n){return zN(n)&&Il(n.url)}function zN(n){return n&&n[w0]}class BG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new up,this.attachRef=null}}let up=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vy=!1;let C0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Rn,this.deactivateEvents=new Rn,this.attachEvents=new Rn,this.detachEvents=new Rn,this.parentContexts=Qe(up),this.location=Qe(Hs),this.changeDetector=Qe($_),this.environmentInjector=Qe(po)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,vy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,vy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,vy);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,vy);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jG(t,a,i.injector);if(r&&function $G(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ai]}),n})();class jG{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sd?this.route:e===up?this.childContexts:this.parent.get(e,t)}}let T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=$t({type:n,selectors:[["ng-component"]],standalone:!0,features:[O_],decls:1,vars:0,template:function(t,r){1&t&&Se(0,"router-outlet")},dependencies:[C0],encapsulation:2}),n})();function qN(n,e){return n.providers&&!n._injector&&(n._injector=N_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function D0(n){const e=n.children&&n.children.map(D0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=T0),t}function Ds(n){return n.outlet||it}function GN(n,e){const t=n.filter(r=>Ds(r)===e);return t.push(...n.filter(r=>Ds(r)!==e)),t}function lp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class WG{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),E0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ad(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ad(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ad(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ad(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new PG(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AG(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(E0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),E0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=lp(i.snapshot),u=a?.get(Qc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class WN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ey{constructor(e,t){this.component=e,this.route=t}}function KG(n,e,t){const r=n._root;return cp(r,e?e._root:null,t,[r.value])}function Pd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function QE(n){return null!==Ma(n)}(n)?e.get(n):n:r}function cp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ad(e);return n.children.forEach(o=>{(function QG(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function YG(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!El(n.url,e.url);case"pathParamsOrQueryParamsChange":return!El(n.url,e.url)||!Eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I0(n,e)||!Eo(n.queryParams,e.queryParams);default:return!I0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new WN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cp(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ey(a.outlet.component,o))}else o&&dp(e,a,i),i.canActivateChecks.push(new WN(r)),cp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),kr(s,(o,a)=>dp(o,t.getContext(a),i)),i}function dp(n,e,t){const r=Ad(n),i=n.value;kr(r,(s,o)=>{dp(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ey(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hp(n){return"function"==typeof n}function A0(n){return n instanceof ay||"EmptyError"===n?.name}const Iy=Symbol("INITIAL_VALUE");function Rd(){return vo(n=>uN(n.map(e=>e.pipe(wd(1),function H5(...n){const e=Gi(n);return ee((t,r)=>{(e?s0(n,t,e):s0(n,t)).subscribe(r)})}(Iy)))).pipe(we(e=>{for(const t of e)if(!0!==t){if(t===Iy)return Iy;if(!1===t||t instanceof au)return t}return!0}),ha(e=>e!==Iy),wd(1)))}function KN(n){return function ji(...n){return $i(n)}(Zr(e=>{if(Il(e))throw jN(0,e)}),we(e=>!0===e))}const S0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZN(n,e,t,r,i){const s=P0(n,e,t);return s.matched?function pW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?je(i.map(o=>{const a=Pd(o,n);return ou(function rW(n){return n&&hp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Rd(),KN()):je(!0)}(r=qN(e,r),e,t).pipe(we(o=>!0===o?s:{...S0})):je(s)}function P0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...S0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Z5)(t,n,e);if(!i)return{...S0};const s={};kr(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wy(n,e,t,r){if(t.length>0&&function _W(n,e,t){return t.some(r=>Cy(n,e,r)&&Ds(r)!==it)}(n,t,r)){const s=new ft(e,function mW(n,e,t,r){const i={};i[it]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ds(s)!==it){const o=new ft([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Ds(s)]=o}return i}(n,e,r,new ft(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function yW(n,e,t){return t.some(r=>Cy(n,e,r))}(n,t,r)){const s=new ft(n.segments,function gW(n,e,t,r,i){const s={};for(const o of r)if(Cy(n,t,o)&&!i[Ds(o)]){const a=new ft([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Ds(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ft(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Cy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QN(n,e,t,r){return!!(Ds(n)===r||r!==it&&Cy(e,t,n))&&("**"===n.path||P0(e,n,t).matched)}function YN(n,e,t){return 0===e.length&&!n.children[t]}const Ty=!1;class by{constructor(e){this.segmentGroup=e||null}}class JN{constructor(e){this.urlTree=e}}function fp(n){return Xf(new by(n))}function XN(n){return Xf(new JN(n))}class wW{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=wy(this.urlTree.root,[],[],this.config).segmentGroup,t=new ft(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,it).pipe(we(s=>this.createUrlTree(gy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(su(s=>{if(s instanceof JN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof by?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,it).pipe(we(i=>this.createUrlTree(gy(i),e.queryParams,e.fragment))).pipe(su(i=>{throw i instanceof by?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,Ty)}createUrlTree(e,t,r){const i=d0(e);return new au(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(we(s=>new ft([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return E(i).pipe(iu(s=>{const o=r.children[s],a=GN(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(we(u=>({segment:u,outlet:s})))}),fN((s,o)=>(s[o.outlet]=o.segment,s),{}),pN())}expandSegment(e,t,r,i,s,o){return E(r).pipe(iu(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(su(c=>{if(c instanceof by)return je(null);throw c}))),ru(a=>!!a),su((a,u)=>{if(A0(a))return YN(t,i,s)?je(new ft([],{})):fp(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return QN(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):fp(t):fp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XN(s):this.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new ft(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:h}=P0(t,i,s);if(!a)return fp(t);const g=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?XN(g):this.lineralizeSegments(i,g).pipe(Lt(m=>this.expandSegment(e,t,r,m.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=qN(r,e),r.loadChildren?(r._loadedRoutes?je({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(we(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ft(i,{})))):je(new ft(i,{}))):ZN(t,r,i,e).pipe(vo(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Lt(h=>{const g=h.injector??e,m=h.routes,{segmentGroup:y,slicedSegments:w}=wy(t,a,u,m),T=new ft(y.segments,y.children);if(0===w.length&&T.hasChildren())return this.expandChildren(g,m,T).pipe(we(R=>new ft(a,R)));if(0===m.length&&0===w.length)return je(new ft(a,{}));const A=Ds(r)===s;return this.expandSegment(g,T,m,w,A?it:s,!0).pipe(we(L=>new ft(a.concat(L.segments),L.children)))})):fp(t)))}getChildConfig(e,t,r){return t.children?je({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?je({routes:t._loadedRoutes,injector:t._loadedInjector}):function fW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?je(!0):je(i.map(o=>{const a=Pd(o,n);return ou(function XG(n){return n&&hp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Rd(),KN())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(Zr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function EW(n){return Xf($N(Ty,3))}())):je({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return je(r);if(i.numberOfChildren>1||!i.children[it])return e.redirectTo,Xf(new D(4e3,Ty));i=i.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new au(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return kr(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ft(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,Ty);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class TW{}class AW{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=wy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(we(t=>{if(null===t)return null;const r=new yy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new fa(r,t),s=new UN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=LN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return E(Object.keys(r.children)).pipe(iu(i=>{const s=r.children[i],o=GN(t,i);return this.processSegmentGroup(e,o,s,i)}),fN((i,s)=>i&&s?(i.push(...s),i):null),function G5(n,e=!1){return ee((t,r)=>{let i=0;t.subscribe(ge(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),uy(null),pN(),we(i=>{if(null===i)return null;const s=tO(i);return function SW(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return E(t).pipe(iu(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ru(o=>!!o),su(o=>{if(A0(o))return YN(r,i,s)?je([]):je(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!QN(t,r,i,s))return je(null);let o;if("**"===t.path){const a=i.length>0?_N(i).parameters:{},u=rO(r)+i.length;o=je({snapshot:new yy(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iO(t),Ds(t),t.component??t._loadedComponent??null,t,nO(r),u,sO(t)),consumedSegments:[],remainingSegments:[]})}else o=ZN(r,t,i,e).pipe(we(({matched:a,consumedSegments:u,remainingSegments:c,parameters:h})=>{if(!a)return null;const g=rO(r)+u.length;return{snapshot:new yy(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iO(t),Ds(t),t.component??t._loadedComponent??null,t,nO(r),g,sO(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(vo(a=>{if(null===a)return je(null);const{snapshot:u,consumedSegments:c,remainingSegments:h}=a;e=t._injector??e;const g=t._loadedInjector??e,m=function PW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:w}=wy(r,c,h,m.filter(A=>void 0===A.redirectTo));if(0===w.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(we(A=>null===A?null:[new fa(u,A)]));if(0===m.length&&0===w.length)return je([new fa(u,[])]);const T=Ds(t)===s;return this.processSegment(g,m,y,w,T?it:s).pipe(we(A=>null===A?null:[new fa(u,A)]))}))}}function RW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tO(n){const e=[],t=new Set;for(const r of n){if(!RW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=tO(r.children);e.push(new fa(r.value,i))}return e.filter(r=>!t.has(r))}function nO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function iO(n){return n.data||{}}function sO(n){return n.resolve||{}}function oO(n){return"string"==typeof n.title||null===n.title}function R0(n){return vo(e=>{const t=n(e);return t?E(t).pipe(we(()=>e)):je(e)})}const Md=new de("ROUTES");let M0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Qe(RM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return je(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ou(t.loadComponent()).pipe(we(uO),Zr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),u0(()=>{this.componentLoaders.delete(t)})),i=new dN(r,()=>new G).pipe(o0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return je({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(we(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,h=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=mN(u.get(Md,[],Le.Self|Le.Optional)));return{routes:c.map(D0),injector:u}}),u0(()=>{this.childrenLoaders.delete(r)})),o=new dN(s,()=>new G).pipe(o0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ou(t()).pipe(we(uO),Lt(r=>r instanceof U1||Array.isArray(r)?je(r):E(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uO(n){return function LW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ay=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new G,this.configLoader=Qe(M0),this.environmentInjector=Qe(po),this.urlSerializer=Qe(np),this.rootContexts=Qe(up),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new TG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ws({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:op,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ha(r=>0!==r.id),we(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vo(r=>{let i=!1,s=!1;return je(r).pipe(Zr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vo(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new _y(o.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Dn}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return lO(o.source)&&(t.browserUrlTree=o.extractedUrl),je(o).pipe(vo(h=>{const g=this.transitions?.getValue();return this.events.next(new g0(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Dn:Promise.resolve(h)}),function CW(n,e,t,r){return vo(i=>function IW(n,e,t,r,i){return new wW(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(we(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Zr(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function xW(n,e,t,r,i){return Lt(s=>function DW(n,e,t,r,i,s,o="emptyOnly"){return new AW(n,e,t,r,i,o,s).recognize().pipe(vo(a=>null===a?function bW(n){return new ht(e=>e.error(n))}(new TW):je(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(we(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Zr(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const m=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(m,h)}t.browserUrlTree=h.urlAfterRedirects}const g=new vG(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:y,extras:w}=o,T=new g0(h,this.urlSerializer.serialize(g),m,y);this.events.next(T);const A=VN(g,this.rootComponentType).snapshot;return je(r={...o,targetSnapshot:A,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new _y(o.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Dn}}),Zr(o=>{const a=new EG(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),we(o=>r={...o,guards:KG(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function sW(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?je({...t,guardsResult:!0}):function oW(n,e,t,r){return E(n).pipe(Lt(i=>function hW(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?je(s.map(a=>{const u=lp(e)??i,c=Pd(a,u);return ou(function nW(n){return n&&hp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(ru())})).pipe(Rd()):je(!0)}(i.component,i.route,t,e,r)),ru(i=>!0!==i,!0))}(o,r,i,n).pipe(Lt(a=>a&&function JG(n){return"boolean"==typeof n}(a)?function aW(n,e,t,r){return E(e).pipe(iu(i=>s0(function lW(n,e){return null!==n&&e&&e(new DG(n)),je(!0)}(i.route.parent,r),function uW(n,e){return null!==n&&e&&e(new SG(n)),je(!0)}(i.route,r),function dW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ZG(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>cN(()=>je(o.guards.map(u=>{const c=lp(o.node)??t,h=Pd(u,c);return ou(function tW(n){return n&&hp(n.canActivateChild)}(h)?h.canActivateChild(r,n):c.runInContext(()=>h(r,n))).pipe(ru())})).pipe(Rd())));return je(s).pipe(Rd())}(n,i.path,t),function cW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return je(!0);const i=r.map(s=>cN(()=>{const o=lp(e)??t,a=Pd(s,o);return ou(function eW(n){return n&&hp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(ru())}));return je(i).pipe(Rd())}(n,i.route,t))),ru(i=>!0!==i,!0))}(r,s,n,e):je(a)),we(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Zr(o=>{if(r.guardsResult=o.guardsResult,Il(o.guardsResult))throw jN(0,o.guardsResult);const a=new IG(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ha(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),R0(o=>{if(o.guards.canActivateChecks.length)return je(o).pipe(Zr(a=>{const u=new wG(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vo(a=>{let u=!1;return je(a).pipe(function NW(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return je(t);let s=0;return E(i).pipe(iu(o=>function OW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!oO(i)&&(s[ep]=i.title),function kW(n,e,t,r){const i=function FW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return je({});const s={};return E(i).pipe(Lt(o=>function VW(n,e,t,r){const i=lp(e)??r,s=Pd(n,i);return ou(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(ru(),Zr(a=>{s[o]=a}))),a0(1),function W5(n){return we(()=>n)}(s),su(o=>A0(o)?Dn:Xf(o)))}(s,n,e,r).pipe(we(o=>(n._resolvedData=o,n.data=LN(n,t).resolve,i&&oO(i)&&(n.data[ep]=i.title),null)))}(o.route,r,n,e)),Zr(()=>s++),a0(1),Lt(o=>s===i.length?je(t):Dn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Zr({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Zr(a=>{const u=new CG(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),R0(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Zr(h=>{u.component=h}),we(()=>{})));for(const h of u.children)c.push(...a(h));return c};return uN(a(o.targetSnapshot.root)).pipe(uy(),wd(1))}),R0(()=>this.afterPreactivation()),we(o=>{const a=function VG(n,e,t){const r=ap(n,e._root,t?t._root:void 0);return new FN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Zr(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>we(r=>(new WG(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),wd(1),Zr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new wl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),u0(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),su(o=>{if(s=!0,zN(o)){HN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new my(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HN(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||lO(r.source)};t.scheduleNavigation(u,op,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new m0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Dn}))}))}cancelNavigationTransition(t,r,i){const s=new my(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lO(n){return n!==op}let cO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[ep]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return Qe(UW)},providedIn:"root"}),n})(),UW=(()=>{class n extends cO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ne(eN))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return Qe($W)},providedIn:"root"}),n})();class jW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $W=(()=>{class n extends jW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}(),n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sy=new de("",{providedIn:"root",factory:()=>({})});let zW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return Qe(qW)},providedIn:"root"}),n})(),qW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GW(n){throw n}function WW(n,e,t){return e.parse("/")}const KW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Qe(b9),this.isNgZoneEnabled=!1,this.options=Qe(Sy,{optional:!0})||{},this.errorHandler=this.options.errorHandler||GW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Qe(zW),this.routeReuseStrategy=Qe(BW),this.urlCreationStrategy=Qe(OG),this.titleStrategy=Qe(cO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=mN(Qe(Md,{optional:!0})??[]),this.navigationTransitions=Qe(Ay),this.urlSerializer=Qe(np),this.location=Qe(OC),this.isNgZoneEnabled=Qe(Bt)instanceof Bt&&Bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new au,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),op,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(D0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,h,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Il(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,op,null,r)}navigate(t,r={skipLocationChange:!1}){return function QW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...KW}:!1===r?{...ZW}:r,Il(t))return vN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return vN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,h;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((g,m)=>{a=g,u=m}),h="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cl=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new G;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof wl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ed(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ed(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ed(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fP(n,e,t){return function S$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hP:fo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(Z(Jn),Z(Sd),function Bc(n){return function DI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Fm(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(or(),n)}("tabindex"),Z(ta),Z(Xi),Z(yl))},n.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ut("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ni("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Ai]}),n})();class dO{}let XW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ha(t=>t instanceof wl),iu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=N_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return E(i).pipe(ui())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):je(null);const s=i.pipe(Lt(o=>null===o?je(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?E([s,this.loader.loadComponent(r)]).pipe(ui()):s})}}return n.\u0275fac=function(t){return new(t||n)(ne(Jn),ne(RM),ne(po),ne(dO),ne(M0))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N0=new de("");let hO=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof g0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ON&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ON(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function qP(){throw new Error("invalid")}()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();var ns=(()=>((ns=ns||{})[ns.COMPLETE=0]="COMPLETE",ns[ns.FAILED=1]="FAILED",ns[ns.REDIRECTING=2]="REDIRECTING",ns))();const xd=!1;function uu(n,e){return{\u0275kind:n,\u0275providers:e}}const O0=new de("",{providedIn:"root",factory:()=>!1});function pO(){const n=Qe(es);return e=>{const t=n.get(ml);if(e!==t.components[0])return;const r=n.get(Jn),i=n.get(gO);1===n.get(k0)&&r.initialNavigation(),n.get(mO,null,Le.Optional)?.setUpPreloading(),n.get(N0,null,Le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gO=new de(xd?"bootstrap done indicator":"",{factory:()=>new G}),k0=new de(xd?"initial navigation":"",{providedIn:"root",factory:()=>1});function i8(){let n=[];return n=xd?[{provide:h_,multi:!0,useFactory:()=>{const e=Qe(Jn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function RG(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],uu(1,n)}const mO=new de(xd?"router preloader":"");function s8(n){return uu(0,[{provide:mO,useExisting:XW},{provide:dO,useExisting:n}])}const pp=!1,_O=new de(pp?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),o8=[OC,{provide:np,useClass:l0},Jn,up,{provide:Sd,useFactory:function fO(n){return n.routerState.root},deps:[Jn]},M0,pp?{provide:O0,useValue:!0}:[]];function a8(){return new LM("Router",Jn)}let wo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[o8,pp&&r?.enableTracing?i8().\u0275providers:[],{provide:Md,multi:!0,useValue:t},{provide:_O,useFactory:d8,deps:[[Jn,new ws,new Yo]]},{provide:Sy,useValue:r||{}},r?.useHash?{provide:yl,useClass:hq}:{provide:yl,useClass:ux},{provide:N0,useFactory:()=>{const n=Qe(R6),e=Qe(Bt),t=Qe(Sy),r=Qe(Ay),i=Qe(np);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hO(i,r,n,e,t)}},r?.preloadingStrategy?s8(r.preloadingStrategy).\u0275providers:[],{provide:LM,multi:!0,useFactory:a8},r?.initialNavigation?h8(r):[],[{provide:yO,useFactory:pO},{provide:VM,multi:!0,useExisting:yO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Md,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ne(_O,8))},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({imports:[T0]}),n})();function d8(n){if(pp&&n)throw new D(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function h8(n){return["disabled"===n.initialNavigation?uu(3,[{provide:L_,multi:!0,useFactory:()=>{const e=Qe(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:k0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uu(2,[{provide:k0,useValue:0},{provide:L_,multi:!0,deps:[es],useFactory:e=>{const t=e.get(cq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Jn),s=e.get(gO);(function e8(n,e){n.events.pipe(ha(t=>t instanceof wl||t instanceof my||t instanceof m0||t instanceof _y),we(t=>t instanceof wl||t instanceof _y?ns.COMPLETE:t instanceof my&&(0===t.code||1===t.code)?ns.REDIRECTING:ns.FAILED),ha(t=>t!==ns.REDIRECTING),wd(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Ay).afterPreactivation=()=>(r(!0),s.closed?je(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const yO=new de(pp?"Router Initializer":"");let p8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,consts:[[1,"container"],["routerLink","/home","src","../../../../assets/images/404page.png"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"img",1),k())},dependencies:[Cl],styles:[".container[_ngcontent-%COMP%]{height:90vh;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:50%;cursor:pointer}@media only screen and (max-width: 992px){img[_ngcontent-%COMP%]{width:100%}}"]})}return n})(),g8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-customer"]],decls:2,vars:0,template:function(r,i){1&r&&(N(0,"p"),K(1,"customer works!"),k())}})}return n})(),m8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,i){1&r&&(N(0,"p"),K(1,"dashboard works!"),k())}})}return n})(),vO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(r,i){1&r&&Se(0,"app-dashboard")},dependencies:[m8]})}return n})();var Y=Ve(861),lu=Ve(881);function Xn(n){return"function"==typeof n}function F0(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(0,lu.registerVersion)("firebase","10.7.1","app");const V0=F0(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Py(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Co{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Xn(r))try{r()}catch(s){e=s instanceof V0?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{wO(s)}catch(o){e=e??[],o instanceof V0?e=[...e,...o.errors]:e.push(o)}}if(e)throw new V0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wO(e);else{if(e instanceof Co){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Py(t,e)}remove(e){const{_finalizers:t}=this;t&&Py(t,e),e instanceof Co&&e._removeParent(this)}}Co.EMPTY=(()=>{const n=new Co;return n.closed=!0,n})();const EO=Co.EMPTY;function IO(n){return n instanceof Co||n&&"closed"in n&&Xn(n.remove)&&Xn(n.add)&&Xn(n.unsubscribe)}function wO(n){Xn(n)?n():n.unsubscribe()}class v8 extends Co{constructor(e,t){super()}schedule(e,t=0){return this}}const Ry={setInterval(n,e,...t){const{delegate:r}=Ry;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ry;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class CO extends v8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ry.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ry.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Py(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class E8 extends CO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}const L0={now:()=>(L0.delegate||Date).now(),delegate:void 0};class gp{constructor(e,t=gp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}gp.now=L0.now;class TO extends gp{constructor(e,t=gp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}class I8 extends TO{}const w8=new I8(E8),bO=new TO(CO),Tl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},My={setTimeout(n,e,...t){const{delegate:r}=My;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=My;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function DO(n){My.setTimeout(()=>{const{onUnhandledError:e}=Tl;if(!e)throw n;e(n)})}function AO(){}const C8=(()=>U0("C",void 0,void 0))();function U0(n,e,t){return{kind:n,value:e,error:t}}let bl=null;function xy(n){if(Tl.useDeprecatedSynchronousErrorHandling){const e=!bl;if(e&&(bl={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=bl;if(bl=null,t)throw r}}else n()}class B0 extends Co{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,IO(e)&&e.add(this)):this.destination=R8}static create(e,t,r){return new mp(e,t,r)}next(e){this.isStopped?$0(function b8(n){return U0("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$0(function T8(n){return U0("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$0(C8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A8=Function.prototype.bind;function j0(n,e){return A8.call(n,e)}class S8{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ny(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ny(r)}else Ny(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ny(t)}}}class mp extends B0{constructor(e,t,r){let i;if(super(),Xn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Tl.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&j0(e.next,s),error:e.error&&j0(e.error,s),complete:e.complete&&j0(e.complete,s)}):i=e}this.destination=new S8(i)}}function Ny(n){Tl.useDeprecatedSynchronousErrorHandling?function D8(n){Tl.useDeprecatedSynchronousErrorHandling&&bl&&(bl.errorThrown=!0,bl.error=n)}(n):DO(n)}function $0(n,e){const{onStoppedNotification:t}=Tl;t&&My.setTimeout(()=>t(n,e))}const R8={closed:!0,next:AO,error:function P8(n){throw n},complete:AO},H0=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _p(n){return n}let Fr=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function x8(n){return n&&n instanceof B0||function M8(n){return n&&Xn(n.next)&&Xn(n.error)&&Xn(n.complete)}(n)&&IO(n)}(t)?t:new mp(t,r,i);return xy(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=PO(r))((i,s)=>{const o=new mp({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[H0](){return this}pipe(...t){return function SO(n){return 0===n.length?_p:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=PO(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function PO(n){var e;return null!==(e=n??Tl.Promise)&&void 0!==e?e:Promise}function _i(n){return e=>{if(function N8(n){return Xn(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fi(n,e,t,r,i){return new O8(n,e,t,r,i)}class O8 extends B0{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Dl(n,e=0){return _i((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function cu(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function du(n,e=0){return _i((t,r)=>{t.subscribe(Fi(r,i=>cu(r,n,()=>r.next(i),e),()=>cu(r,n,()=>r.complete(),e),i=>cu(r,n,()=>r.error(i),e)))})}const Oy=new Jc("ANGULARFIRE2_VERSION");class MO{constructor(){return((n,e)=>{const t=e?[e]:(0,lu.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(V8)}}const V8="app-check";function Nd(){}class xO{zone;delegate;constructor(e,t=w8){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class L8{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nd,{},Nd,Nd)),t.pipe(function k8(n,e,t){const r=Xn(n)||e||t?{next:n,error:e,complete:t}:n;return r?_i((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Fi(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):_p}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let NO=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xO(Zone.current)),this.insideAngular=t.run(()=>new xO(Zone.current,bO)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ne(Bt))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Od(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Al(n){return Od().ngZone.run(()=>n())}function rs(n){return function B8(n){return function(t){return(t=t.lift(new L8(n.ngZone))).pipe(Dl(n.outsideAngular),du(n.insideAngular))}}(Od())(n)}const j8=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Al(()=>n.apply(void 0,r))},OO=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=Al(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nd,{},Nd,Nd))),r[s]=j8(r[s],t));const i=function U8(n){return Od().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Fr){const s=Od();return i.pipe(Dl(s.outsideAngular),du(s.insideAngular))}return Al(()=>i)}return i instanceof Fr?i.pipe(rs):i instanceof Promise?Al(()=>new Promise((s,o)=>i.then(a=>Al(()=>s(a)),a=>Al(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Al(()=>i)};var kO=Ve(932),tn=Ve(90),To=Ve(877),FO=Ve(859);const Q8=OO(kO.o,!0),Y8=OO(kO.C,!0);Ve(568);var As=Ve(942);As.Z.registerVersion("firebase","10.7.1","app-compat");const e7=["ngOnDestroy"];class LO{constructor(e){return e}}const Fy=new de("angularfire2.app.options"),Vy=new de("angularfire2.app.name");function W0(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=As.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>As.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;r7("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new LO(o)}const r7=(n,...e)=>{},i7={provide:LO,useFactory:W0,deps:[Fy,Bt,[new ws,Vy]]};let s7=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Fy,useValue:t},{provide:Vy,useValue:r}]}}constructor(t){As.Z.registerVersion("angularfire",Oy.full,"core"),As.Z.registerVersion("angularfire",Oy.full,"app-compat"),As.Z.registerVersion("angular",DP.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ne(vd))};static \u0275mod=Ut({type:n});static \u0275inj=Zt({providers:[i7]})}return n})();function UO(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function o7(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(BO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${a7?" You may need to reload as Firebase is not HMR aware.":""}`),BO("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const a7=typeof module<"u"&&!!module.hot,BO=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const u7=F0(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ly=(()=>{class n extends Fr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new jO(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new u7}next(t){xy(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){xy(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xy(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?EO:(this.currentObservers=null,s.push(t),new Co(()=>{this.currentObservers=null,Py(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Fr;return t.source=this,t}}return n.create=(e,t)=>new jO(e,t),n})();class jO extends Ly{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:EO}}function K0(n){return n[n.length-1]}function Uy(n){return function l7(n){return n&&Xn(n.schedule)}(K0(n))?n.pop():void 0}const $O=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function HO(n){return Xn(n?.then)}function zO(n){return Xn(n[H0])}function qO(n){return Symbol.asyncIterator&&Xn(n?.[Symbol.asyncIterator])}function GO(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function d7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const WO=d7();function KO(n){return Xn(n?.[WO])}function ZO(n){return(0,Pe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Pe.qq)(t.read());if(i)return yield(0,Pe.qq)(void 0);yield yield(0,Pe.qq)(r)}}finally{t.releaseLock()}})}function QO(n){return Xn(n?.getReader)}function pa(n){if(n instanceof Fr)return n;if(null!=n){if(zO(n))return function h7(n){return new Fr(e=>{const t=n[H0]();if(Xn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($O(n))return function f7(n){return new Fr(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(HO(n))return function p7(n){return new Fr(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,DO)})}(n);if(qO(n))return YO(n);if(KO(n))return function g7(n){return new Fr(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(QO(n))return function m7(n){return YO(ZO(n))}(n)}throw GO(n)}function YO(n){return new Fr(e=>{(function _7(n,e){var t,r,i,s;return(0,Pe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Pe.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function JO(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fr(t=>{cu(t,e,()=>{const r=n[Symbol.asyncIterator]();cu(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ga(n,e){return e?function C7(n,e){if(null!=n){if(zO(n))return function y7(n,e){return pa(n).pipe(Dl(e),du(e))}(n,e);if($O(n))return function E7(n,e){return new Fr(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(HO(n))return function v7(n,e){return pa(n).pipe(Dl(e),du(e))}(n,e);if(qO(n))return JO(n,e);if(KO(n))return function I7(n,e){return new Fr(t=>{let r;return cu(t,e,()=>{r=n[WO](),cu(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Xn(r?.return)&&r.return()})}(n,e);if(QO(n))return function w7(n,e){return JO(ZO(n),e)}(n,e)}throw GO(n)}(n,e):pa(n)}function kd(...n){return ga(n,Uy(n))}function Vi(n,e){return _i((t,r)=>{let i=0;t.subscribe(Fi(r,s=>{r.next(n.call(e,s,i++))}))})}function XO(n,e,t=1/0){return Xn(e)?XO((r,i)=>Vi((s,o)=>e(r,s,i,o))(pa(n(r,i))),t):("number"==typeof e&&(t=e),_i((r,i)=>function T7(n,e,t,r,i,s,o,a){const u=[];let c=0,h=0,g=!1;const m=()=>{g&&!u.length&&!c&&e.complete()},y=T=>c<r?w(T):u.push(T),w=T=>{s&&e.next(T),c++;let A=!1;pa(t(T,h++)).subscribe(Fi(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;u.length&&c<r;){const M=u.shift();o?cu(e,o,()=>w(M)):w(M)}m()}catch(M){e.error(M)}}))};return n.subscribe(Fi(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function ek(n=1/0){return XO(_p,n)}const Z0=new Fr(n=>n.complete());function hu(n,e){return _i((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Fi(r,u=>{i?.unsubscribe();let c=0;const h=s++;pa(n(u,h)).subscribe(i=Fi(r,g=>r.next(e?e(u,g,h,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class A7 extends Ly{constructor(e=1/0,t=1/0,r=L0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function Q0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mp({next:()=>{r.unsubscribe(),n()}});return pa(e(...t)).subscribe(r)}function tk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function S7(n={}){const{connector:e=(()=>new Ly),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=g=!1},w=()=>{const T=o;y(),T?.unsubscribe()};return _i((T,A)=>{c++,!g&&!h&&m();const M=u=u??e();A.add(()=>{c--,0===c&&!g&&!h&&(a=Q0(w,i))}),M.subscribe(A),!o&&c>0&&(o=new mp({next:L=>M.next(L),error:L=>{g=!0,m(),a=Q0(y,t,L),M.error(L)},complete:()=>{h=!0,m(),a=Q0(y,r),M.complete()}}),pa(T).subscribe(o))})(s)}}({connector:()=>new A7(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const nk=F0(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function By(n,e){return _i((t,r)=>{let i=0;t.subscribe(Fi(r,s=>n.call(e,s,i++)&&r.next(s)))})}function M7(n=x7){return _i((e,t)=>{let r=!1;e.subscribe(Fi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function x7(){return new nk}function rk(n,e){return Xn(e)?hu(()=>n,e):hu(()=>n)}const ik=new de("angularfire2.auth.use-emulator"),sk=new de("angularfire2.auth.settings"),ok=new de("angularfire2.auth.tenant-id"),ak=new de("angularfire2.auth.langugage-code"),uk=new de("angularfire2.auth.use-device-language"),lk=new de("angularfire.auth.persistence"),ck=(n,e,t,r,i,s,o,a)=>UO(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[c,h]of Object.entries(o))u.settings[c]=h;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let jy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,u,c,h,g,m,y){const w=new Ly,T=kd(void 0).pipe(du(o.outsideAngular),hu(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ve.bind(Ve,568)))),Vi(()=>W0(t,s,r)),Vi(A=>ck(A,s,a,c,h,g,u,m)),tk({bufferSize:1,refCount:!1}));if(Px(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=kd(null);else{T.pipe(function N7(n,e){const t=arguments.length>=2;return r=>r.pipe(n?By((i,s)=>n(i,s,r)):_p,function P7(n){return n<=0?()=>Z0:_i((e,t)=>{let r=0;e.subscribe(Fi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}(1),t?function R7(n){return _i((e,t)=>{let r=!1;e.subscribe(Fi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}(e):M7(()=>new nk))}()).subscribe();const A=T.pipe(hu(R=>R.getRedirectResult().then(Q=>Q,()=>null)),rs,tk({bufferSize:1,refCount:!1})),M=T.pipe(hu(R=>new Fr(Q=>({unsubscribe:s.runOutsideAngular(()=>R.onAuthStateChanged(fe=>Q.next(fe),fe=>Q.error(fe),()=>Q.complete()))})))),L=T.pipe(hu(R=>new Fr(Q=>({unsubscribe:s.runOutsideAngular(()=>R.onIdTokenChanged(fe=>Q.next(fe),fe=>Q.error(fe),()=>Q.complete()))}))));this.authState=A.pipe(rk(M),Dl(o.outsideAngular),du(o.insideAngular)),this.user=A.pipe(rk(L),Dl(o.outsideAngular),du(o.insideAngular)),this.idToken=this.user.pipe(hu(R=>R?ga(R.getIdToken()):kd(null))),this.idTokenResult=this.user.pipe(hu(R=>R?ga(R.getIdTokenResult()):kd(null))),this.credential=function D7(...n){const e=Uy(n),t=function c7(n,e){return"number"==typeof K0(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?pa(r[0]):ek(t)(ga(r,e)):Z0}(A,w,this.authState.pipe(By(R=>!R))).pipe(Vi(R=>R?.user?R:null),Dl(o.outsideAngular),du(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(e7.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(c=>t.run(()=>c)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,c)=>o.then(h=>{const g=h?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,g),g})})})}))(this,T,s,{spy:{apply:(A,M,L)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&L.then(R=>w.next(R))}}})}static \u0275fac=function(r){return new(r||n)(ne(Fy),ne(Vy,8),ne(vd),ne(Bt),ne(NO),ne(ik,8),ne(sk,8),ne(ok,8),ne(ak,8),ne(uk,8),ne(lk,8),ne(MO,8))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),k7=(()=>{class n{constructor(){As.Z.registerVersion("angularfire",Oy.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=Zt({providers:[jy]})}return n})(),Fd=(()=>{class n{constructor(t,r){this.fireAuth=t,this.router=r}signInWithPhoneNumber(t,r){return new Promise((i,s)=>{this.fireAuth.signInWithPhoneNumber(r,t).then(o=>{this.confirmationResult=o,i(o)}).catch(o=>{s("SMS not sent")})})}enterVerificationCode(t){return new Promise((r,i)=>{this.confirmationResult?.confirm(t).then(function(){var s=(0,Y.Z)(function*(o){r(o.user)});return function(o){return s.apply(this,arguments)}}()).catch(s=>{i(s.message)})})}doSignOut(){const t=Q8();Y8(t).then(()=>{localStorage.removeItem("user"),this.router.navigate(["/home"]),this.userStatus()})}userStatus(){return this.userLogInStatus=!!JSON.parse(localStorage.getItem("verificationId")||"{}")}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("verificationId")||"{}")}static#e=this.\u0275fac=function(r){return new(r||n)(ne(jy),ne(Jn))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yp=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn||(window.alert("Access Denied, Only Logged in User Can Access This Page"),this.router.navigate(["signin"])),!0}static#e=this.\u0275fac=function(r){return new(r||n)(ne(Fd),ne(Jn))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F7=[{path:"",redirectTo:"customer",pathMatch:"full"},{path:"customer",component:g8,canActivate:[yp]},{path:"admin",component:vO,canActivate:[yp]},{path:"**",component:p8}];let V7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[wo.forRoot(F7),wo]})}return n})(),L7=(()=>{class n{constructor(){this.title="cocktail-club"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Se(0,"router-outlet")},dependencies:[C0],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']})}return n})();const U7=[{path:"dashboard",component:vO}];let B7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[wo.forChild(U7),wo]})}return n})(),j7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[Id,B7,wo]})}return n})(),Vd=(()=>{class n{constructor(){}getCart(){return JSON.parse(localStorage.getItem("cart"))}addToCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.push(t),localStorage.setItem("cart",JSON.stringify(r))}removeFromCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.splice(t,1),localStorage.setItem("cart",JSON.stringify(r))}addQtyToCart(t,r){let i=[];localStorage.getItem("cart")&&(i=JSON.parse(localStorage.getItem("cart"))||[]),i[t].quantity=r}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $7(n,e){1&n&&(N(0,"a",21),K(1," Home "),k())}function H7(n,e){1&n&&(N(0,"a",22),K(1," Cocktails "),k())}function z7(n,e){1&n&&(N(0,"a",23),K(1," Juices "),k())}function q7(n,e){1&n&&(N(0,"a",24),K(1," Beverages "),k())}function G7(n,e){1&n&&(N(0,"a",25),K(1," Fast Food "),k())}function W7(n,e){if(1&n){const t=Oi();N(0,"ul",26)(1,"li",27)(2,"b"),K(3),k()(),N(4,"li")(5,"a",28),K(6,"Edit Profile"),k()(),N(7,"li")(8,"a",29),K(9,"My Orders"),k()(),N(10,"li")(11,"a",30),ut("click",function(){return sr(t),Pn(Ft().logOut())}),K(12,"Logout"),k()()()}if(2&n){const t=Ft();ce(3),In("Hi ",t.userData.fullName,"")}}function K7(n,e){1&n&&(N(0,"ul",26)(1,"li")(2,"a",31),K(3,"Sign in/Sign up"),k()()())}function Z7(n,e){1&n&&(N(0,"a",32),Se(1,"img",33),k())}let fu=(()=>{class n{constructor(t,r,i){this.router=t,this.authService=r,this.appService=i,this.userLoggedIn=this.authService.userStatus(),this.userData=JSON.parse(localStorage.getItem("user")||"{}"),this.quantity=Number(localStorage.getItem("quantity")),console.log(this.quantity)}shouldDisplayLink(t){return this.router.url!==t}logOut(){this.authService.doSignOut()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Jn),Z(Fd),Z(Vd))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-navbar"]],decls:25,vars:9,consts:[[1,"navbar","navbar-expand-lg","sticky-top"],[1,"container-fluid"],[1,"sec-1"],["routerLink","/home",1,"navbar-brand"],["src","../../../../assets/images/navbar/cocktail.gif","alt","logo",1,"brand-logo"],[1,"sec-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-link","routerLink","../home",4,"ngIf"],["class","nav-link","routerLink","../cocktail",4,"ngIf"],["class","nav-link","routerLink","../fruit-juice",4,"ngIf"],["class","nav-link","routerLink","../beverage",4,"ngIf"],["class","nav-link","routerLink","../fast-food",4,"ngIf"],[1,"dropdown","nav-item"],["type","button","data-bs-toggle","dropdown",1,"btn","dropdown-toggle","border-0","nav-link"],["src","../../../../assets/images/navbar/profile.png","alt","profile",1,"user-profile-picture"],["class","dropdown-menu dropdown-menu-center",4,"ngIf"],["class","nav-link","routerLink","../cart",4,"ngIf"],["id","lblCartCount",1,"badge","badge-warning"],["routerLink","../home",1,"nav-link"],["routerLink","../cocktail",1,"nav-link"],["routerLink","../fruit-juice",1,"nav-link"],["routerLink","../beverage",1,"nav-link"],["routerLink","../fast-food",1,"nav-link"],[1,"dropdown-menu","dropdown-menu-center"],[1,"dropdown-item"],["href","#","routerLink","/update-profile",1,"dropdown-item"],["href","#","routerLink","/orders",1,"dropdown-item"],["href","#",1,"dropdown-item",3,"click"],["href","#","routerLink","/signin",1,"dropdown-item"],["routerLink","../cart",1,"nav-link"],["src","../../../../assets/images/navbar/cart.png","alt","cart",1,"nav-icons"]],template:function(r,i){1&r&&(N(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),Se(4,"img",4),N(5,"h4"),K(6,"Cocktail Club"),k()()(),N(7,"div",5)(8,"button",6),Se(9,"span",7),k(),N(10,"div",8)(11,"div",9),at(12,$7,2,0,"a",10),at(13,H7,2,0,"a",11),at(14,z7,2,0,"a",12),at(15,q7,2,0,"a",13),at(16,G7,2,0,"a",14),N(17,"div",15)(18,"button",16),Se(19,"img",17),k(),at(20,W7,13,1,"ul",18),at(21,K7,4,0,"ul",18),k(),at(22,Z7,2,0,"a",19),N(23,"span",20),K(24),k()()()()()()),2&r&&(ce(12),He("ngIf",i.shouldDisplayLink("/home")),ce(1),He("ngIf",i.shouldDisplayLink("/cocktail")),ce(1),He("ngIf",i.shouldDisplayLink("/fruit-juice")),ce(1),He("ngIf",i.shouldDisplayLink("/beverage")),ce(1),He("ngIf",i.shouldDisplayLink("/fast-food")),ce(4),He("ngIf",i.userData),ce(1),He("ngIf",!i.userData),ce(1),He("ngIf",i.shouldDisplayLink("/cart")),ce(2),mr(i.quantity))},dependencies:[da,Cl],styles:["nav[_ngcontent-%COMP%]{padding-top:0}.container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#ffffff}.nav-link[_ngcontent-%COMP%]{color:#ff6907;font-weight:500;font-size:16px;letter-spacing:1px}.nav-link[_ngcontent-%COMP%]:hover{color:#1e3932}.brand-logo[_ngcontent-%COMP%]{width:100%;height:50px}.nav-icons[_ngcontent-%COMP%]{width:100%;height:30px;padding:0 10px}.navbar-brand[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.navbar-brand[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ff6907;font-size:22px;text-align:center;letter-spacing:2px}#onMobileCartIcon[_ngcontent-%COMP%]{display:none}.user-profile-picture[_ngcontent-%COMP%]{width:35px;height:35px}.dropdown-menu.dropdown-menu-center[_ngcontent-%COMP%]{left:40%!important;right:auto!important;transform:translate(-50%)!important}.dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dropdown-item[_ngcontent-%COMP%]{font-size:14px;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dropdown-divider[_ngcontent-%COMP%]{border:none;height:2px;background-color:#000;margin:.5rem 0;opacity:.5}#lblCartCount[_ngcontent-%COMP%]{font-weight:700;font-size:12px;height:20px;width:20px;border-radius:50%;text-align:center;background:rgb(255,105,7);margin-left:-20px}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{width:100%;padding-left:10%}.brand-logo[_ngcontent-%COMP%]{width:100%;height:45px}.navbar-brand[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}#onMobileCartIcon[_ngcontent-%COMP%]{display:block;height:20px;width:20px}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}.navbar-toggler[_ngcontent-%COMP%]{margin-top:10px}.nav-link[_ngcontent-%COMP%]{font-size:12px}.dropdown[_ngcontent-%COMP%]{padding-left:8%}.dropdown-menu.dropdown-menu-center[_ngcontent-%COMP%]{left:30%!important;right:0!important;transform:translate(0)!important}}@media only screen and (max-width: 992px){nav[_ngcontent-%COMP%]{width:100%}#onMobileCartIcon[_ngcontent-%COMP%]{display:block}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}}"]})}return n})(),Q7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer"],["id","flex",1,"container"],[1,"sec-1"],[1,"sec-2"],[1,"fa","fa-location-arrow"],[1,"fa","fa-phone"],[1,"fa","fa","fa-envelope"],["id","copyright-section",1,"container"],[1,"text-center"]],template:function(r,i){1&r&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h4"),K(4,"Cocktail Club"),k(),N(5,"p"),K(6,"Thank you for exploring Cocktail Club \u2013 your ticket to a world of culinary delights! Explore our menu featuring fresh juices, artisanal cocktails, delectable pizzas, juicy burgers, and an array of hot and cold beverages and shakes. Savor the flavors, make memories, and embark on a one-of-a-kind culinary adventure with us."),k()(),N(7,"div",3)(8,"h4"),K(9,"Contact Us"),k(),N(10,"p"),Se(11,"i",4),K(12," Shop 15-A,Connaught place, New Delhi "),k(),N(13,"p"),Se(14,"i",5),K(15," +91-9900000000 "),k(),N(16,"p"),Se(17,"i",5),K(18," +91-9987451000 "),k(),N(19,"p"),Se(20,"i",6),K(21," info@cocktailclub.com "),k()()(),N(22,"div",7)(23,"p",8),K(24,"Copyright @2024 "),N(25,"b"),K(26,"Cocktail Club"),k()()()())},styles:["footer[_ngcontent-%COMP%]{min-height:250px;padding:10px 0 0;margin:110px 0 -44px;border-top:1px solid silver;background-color:#c0c0c033;color:gray}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-bottom:0;margin-bottom:8px}h4[_ngcontent-%COMP%]{font-size:20px}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;display:flex;padding-top:10px}.sec-1[_ngcontent-%COMP%]{padding-right:20px;width:80%}#copyright-section[_ngcontent-%COMP%]{border-top:1px solid silver;margin-top:15px;padding:12px 0}@media only screen and (max-width: 768px){footer[_ngcontent-%COMP%]{border-top:1px solid silver}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;flex-direction:column;text-align:justify}.sec-1[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}h4[_ngcontent-%COMP%]{font-size:14px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px}}"]})}return n})(),Y7=(()=>{class n{constructor(t){this.authService=t,this.getUser()}ngOnInit(){let t=JSON.parse(localStorage.getItem("user")||"{}");console.log("User data : "+t),console.log(localStorage.getItem("verificationId"))}getUser(){console.log(this.authService.isLoggedIn)}navigateToTop(){window.scrollTo(0,0)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Fd))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-home"]],decls:70,vars:0,consts:[[1,"container-fluid"],[1,"carousel-img-section"],[1,"carousel-sec-1"],[1,"img-sec-1"],["src","../../../../assets/images/home/carousel/cocktail.jpg"],["src","../../../../assets/images/home/carousel/burger.jpg"],[1,"img-sec-2"],["src","../../../../assets/images/home/carousel/coffee.jpg"],["src","../../../../assets/images/home/carousel/juice.jpg"],[1,"carousel-sec-2"],[1,"text-lt"],[1,"text-dk"],[1,"imgOnRight-section","sec-1"],[1,"imgOnRight-left-section"],["routerLink","/cocktail","src","../../../../assets/images/home/cocktail.jpg","alt","cocktail",3,"click"],[1,"imgOnRight-right-section"],[1,"sale-offer"],["routerLink","/cocktail",1,"btn",3,"click"],[1,"imgOnLeft-section","sec-2"],[1,"imgOnLeft-left-section"],["routerLink","/fruit-juice",1,"btn",3,"click"],[1,"imgOnLeft-right-section"],["routerLink","/fruit-juice","src","../../../../assets/images/home/juice.jpg","alt","juice",3,"click"],[1,"imgOnRight-section","sec-3"],["routerLink","/beverage","src","../../../../assets/images/home/beverage.jpg","alt","beverage",3,"click"],["routerLink","/beverage",1,"btn",3,"click"],[1,"imgOnLeft-section","sec-4"],["routerLink","/fast-food",1,"btn",3,"click"],["routerLink","/fast-food","src","../../../../assets/images/home/fastfood.jpg","alt","fast-food",3,"click"]],template:function(r,i){1&r&&(Se(0,"app-navbar"),N(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),Se(5,"img",4)(6,"img",5),k(),N(7,"div",6),Se(8,"img",7)(9,"img",8),k()(),N(10,"div",9)(11,"h1",10),K(12,"Bring the bar"),k(),N(13,"h1",11),K(14,"Home."),k(),N(15,"p"),K(16," Delivering expertly crafted cocktails, revitalizing fruit juices, a range of hot and cold beverages and delectable fast food to your doorstep. "),k()()(),N(17,"div",12)(18,"div",13)(19,"img",14),ut("click",function(){return i.navigateToTop()}),k()(),N(20,"div",15)(21,"h1"),K(22,"Cocktails"),k(),N(23,"p"),K(24,"Eat. Sleep. Cocktail. Repeat."),k(),N(25,"span",16),K(26,"* Buy 1 Get 1 on Cocktails upto INR 599/-. Happy Hour O'clock."),k(),Se(27,"br"),N(28,"button",17),ut("click",function(){return i.navigateToTop()}),K(29,"Explore now"),k()()(),N(30,"div",18)(31,"div",19)(32,"h1"),K(33,"Fruit Juices"),k(),N(34,"p"),K(35,"Fresh fruit juices straight from Mother Nature herself."),k(),N(36,"span",16),K(37,"* 15% flat off on all juices."),k(),Se(38,"br"),N(39,"button",20),ut("click",function(){return i.navigateToTop()}),K(40,"Explore now"),k()(),N(41,"div",21)(42,"img",22),ut("click",function(){return i.navigateToTop()}),k()()(),N(43,"div",23)(44,"div",13)(45,"img",24),ut("click",function(){return i.navigateToTop()}),k()(),N(46,"div",15)(47,"h1"),K(48,"Beverages"),k(),N(49,"p"),K(50,"Beverages that refreshes the body. Refreshes the soul."),k(),N(51,"span",16),K(52," * Buy 1 Get 1 on all hot and cold beverages."),k(),Se(53,"br"),N(54,"button",25),ut("click",function(){return i.navigateToTop()}),K(55,"Explore now"),k()()(),N(56,"div",26)(57,"div",19)(58,"h1"),K(59,"Fast Food"),k(),N(60,"p"),K(61,"Fast Fuel for Hungry Souls."),k(),N(62,"span",16),K(63," * Free medium pizza of your choice on above order of INR 999/-."),k(),Se(64,"br"),N(65,"button",27),ut("click",function(){return i.navigateToTop()}),K(66,"Explore now"),k()(),N(67,"div",21)(68,"img",28),ut("click",function(){return i.navigateToTop()}),k()()(),Se(69,"app-footer"),k())},dependencies:[Cl,fu,Q7],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff}.carousel-img-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.carousel-sec-2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:40%}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:320px;height:310px}.text-lt[_ngcontent-%COMP%]{font-weight:lighter;font-size:26px;letter-spacing:2px;color:#ff6907}.text-dk[_ngcontent-%COMP%]{font-weight:bolder;font-size:60px;letter-spacing:3px;color:#ff6907}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;text-align:justify;line-height:30px}.imgOnLeft-section[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]{height:600px;margin-top:80px;display:flex;justify-content:space-around;align-items:center;text-align:center}.imgOnLeft-left-section[_ngcontent-%COMP%], .imgOnRight-right-section[_ngcontent-%COMP%]{padding:60px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff6907;font-weight:700;font-size:50px;letter-spacing:3px}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1e3932;font-weight:500;font-size:18px;max-width:550px}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:560px;border-radius:50%;background-color:#fff}.btn[_ngcontent-%COMP%]{padding:10px 30px;border-radius:30px;margin-top:18px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0009}.sale-offer[_ngcontent-%COMP%]{font-size:13px;color:gray}@media only screen and (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{width:100%}.text-lt[_ngcontent-%COMP%]{font-size:14px;letter-spacing:0}.text-dk[_ngcontent-%COMP%]{font-size:30px;letter-spacing:1px}.carousel-img-section[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-align:justify;line-height:20px}.carousel-sec-1[_ngcontent-%COMP%]{flex-direction:row}.carousel-sec-2[_ngcontent-%COMP%]{flex-direction:column;width:100%;margin-top:30px}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:100%}.sec-1[_ngcontent-%COMP%]{flex-direction:column-reverse}.sec-2[_ngcontent-%COMP%]{flex-direction:column}.sec-3[_ngcontent-%COMP%]{flex-direction:column-reverse}.sec-4[_ngcontent-%COMP%]{flex-direction:column}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;padding:25px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px;letter-spacing:1px}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{padding:8px 24px;border-radius:30px;margin-top:15px;font-size:12px}.sale-offer[_ngcontent-%COMP%]{font-size:10px}}"]})}return n})();const J7=[{id:1,name:"Fresh Orange",price:49,image:"/assets/images/juice/orange.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:2,name:"Mixed Fruit",price:89,image:"/assets/images/juice/mixedfruit.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:3,name:"Lemonade",price:29,image:"/assets/images/juice/lemonade.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:4,name:"Pineapple",price:39,image:"/assets/images/juice/pineapple.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:5,name:"Watermelon",price:39,image:"/assets/images/juice/watermelon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:6,name:"Mango",price:39,image:"/assets/images/juice/mango.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:7,name:"Berry berry",price:39,image:"/assets/images/juice/berryberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],X7=[{id:8,name:"Kiwi",price:89,image:"/assets/images/juice/kiwi.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:9,name:"Mango",price:49,image:"/assets/images/juice/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:10,name:"Strawberry",price:59,image:"/assets/images/juice/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:11,name:"Banana",price:39,image:"/assets/images/juice/banana.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:12,name:"Coconut Crush",price:119,image:"/assets/images/juice/coconutcrush.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:13,name:"Cold coco",price:89,image:"/assets/images/juice/coldcoco.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:14,name:"Chocolate",price:79,image:"/assets/images/juice/chocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],eK=[{id:15,name:"Double patty",price:169,image:"/assets/images/fastfood/doublepatty.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:16,name:"Veggie Burger",price:39,image:"/assets/images/fastfood/veggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:17,name:"Burger + Fries",price:189,image:"/assets/images/fastfood/burger+fries.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:18,name:"Double Burger",price:229,image:"/assets/images/fastfood/doubleburger.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:19,name:"Aaloo tikki",price:59,image:"/assets/images/fastfood/aalootikki.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:20,name:"Black bun",price:199,image:"/assets/images/fastfood/blackbun.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:21,name:"Mexican",price:99,image:"/assets/images/fastfood/mexican.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],tK=[{id:22,name:"Cheesilious pizza",price:699,image:"/assets/images/fastfood/cheesilisious.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:23,name:"Fresh veggie",price:399,image:"/assets/images/fastfood/freshveggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:24,name:"Margherita pizza",price:299,image:"/assets/images/fastfood/margherita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:25,name:"Pepperoni ",price:319,image:"/assets/images/fastfood/pepperoni.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:26,name:"Italian",price:549,image:"/assets/images/fastfood/italian.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:27,name:"Paneer onion",price:249,image:"/assets/images/fastfood/paneeronion.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:28,name:"Tandoori",price:449,image:"/assets/images/fastfood/anycombo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],nK=[{id:29,name:"French Fries",price:49,image:"https://img.freepik.com/free-photo/crispy-french-fries-with-ketchup-mayonnaise_1150-26588.jpg?w=996&t=st=1681408625~exp=1681409225~hmac=146de81cd90a83953a0517c9f425613aac26d79fc32211aeb24a222e8b1cc26e",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],rK=[{id:30,name:"Latte",price:59,image:"/assets/images/beverage/latte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:31,name:"Vanilla Latte",price:99,image:"/assets/images/beverage/vanillalatte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:32,name:"Cappuccino",price:49,image:"/assets/images/beverage/cappuccino.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:33,name:"Espresso",price:49,image:"/assets/images/beverage/espresso.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:34,name:"Americano",price:59,image:"/assets/images/beverage/americano.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:35,name:"Mocha",price:69,image:"/assets/images/beverage/mocha.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:36,name:"Dark Coffee",price:39,image:"/assets/images/beverage/darkcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:37,name:"Ginger Tea",price:19,image:"/assets/images/beverage/gingertea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:38,name:"Cardamom Tea",price:19,image:"/assets/images/beverage/cardamon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:39,name:"Black Tea",price:19,image:"/assets/images/beverage/blacktea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:40,name:"Hot Lemon Tea",price:29,image:"/assets/images/beverage/lemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:41,name:"Lemon grass tea",price:39,image:"/assets/images/beverage/lemongrass.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:42,name:"Masala Latte Tea",price:49,image:"/assets/images/beverage/masalatea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:43,name:"Cookies -6N",price:29,image:"/assets/images/beverage/cookies.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],iK=[{id:44,name:"Unicorn",price:249,image:"/assets/images/beverage/unicorn.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:45,name:"Chocolate Dive",price:149,image:"/assets/images/beverage/chocolatedrive.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:46,name:"Strawberry",price:129,image:"/assets/images/beverage/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:47,name:"Dark Chocolate",price:139,image:"/assets/images/beverage/darkchocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:48,name:"Mango",price:119,image:"/assets/images/beverage/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:49,name:"Cool buzz",price:169,image:"/assets/images/beverage/coolbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:50,name:"Cold Coffee",price:149,image:"/assets/images/beverage/coldcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:51,name:"Oreo Shake",price:169,image:"/assets/images/beverage/oreo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:52,name:"Pink Island",price:189,image:"/assets/images/beverage/pinkisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:53,name:"Choco Overload",price:249,image:"/assets/images/beverage/chocooverload.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:54,name:"Frozen princess",price:229,image:"/assets/images/beverage/frozenprincess.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:55,name:"Iced Tea",price:69,image:"/assets/images/beverage/icedtea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:56,name:"Iced coffee",price:79,image:"/assets/images/beverage/icedcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:57,name:"Iced lemon tea",price:89,image:"/assets/images/beverage/icedlemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],sK=[{id:58,name:"Mojito",price:149,image:"/assets/images/cocktail/mojito.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:59,name:"Gin Buzz",price:349,image:"/assets/images/cocktail/ginbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:60,name:"Cool Blue",price:159,image:"/assets/images/cocktail/coolblue.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:61,name:"Bloody Mary",price:189,image:"/assets/images/cocktail/bloodymary.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:62,name:"Mai Tai",price:199,image:"/assets/images/cocktail/maitai.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:63,name:"Apple Tini",price:139,image:"/assets/images/cocktail/appletini.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:64,name:"Manhattan",price:189,image:"/assets/images/cocktail/manhattan.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:65,name:"Sazerac",price:229,image:"/assets/images/cocktail/sazerac.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:66,name:"Screwdriver",price:239,image:"/assets/images/cocktail/screwdriver.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:67,name:"Long Island",price:279,image:"/assets/images/cocktail/longisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:68,name:"Pina Colada",price:349,image:"/assets/images/cocktail/pinacolada.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:69,name:"Berry Margarita",price:279,image:"/assets/images/cocktail/berrymargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:70,name:"Lime Margarita",price:279,image:"/assets/images/cocktail/limemargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:71,name:"Whiskey Sour",price:279,image:"/assets/images/cocktail/whiskeysour.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}];class dk{}class oK{}const ma="*";function aK(n,e){return{type:7,name:n,definitions:e,options:{}}}function hk(n,e=null){return{type:4,styles:e,timings:n}}function fk(n,e=null){return{type:2,steps:n,options:e}}function vp(n){return{type:6,styles:n,offset:null}}function Y0(n,e,t){return{type:0,name:n,styles:e,options:t}}function pk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function gk(n){Promise.resolve().then(n)}class Ep{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?gk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const J0="!",_k=["toast-component",""];function uK(n,e){if(1&n){const t=Oi();N(0,"button",5),ut("click",function(){return sr(t),Pn(Ft().remove())}),N(1,"span",6),K(2,"\xd7"),k()()}}function lK(n,e){if(1&n&&(Of(0),K(1),kf()),2&n){const t=Ft(2);ce(1),In("[",t.duplicatesCount+1,"]")}}function cK(n,e){if(1&n&&(N(0,"div"),K(1),at(2,lK,2,1,"ng-container",4),k()),2&n){const t=Ft();ia(t.options.titleClass),Ni("aria-label",t.title),ce(1),In(" ",t.title," "),ce(1),He("ngIf",t.duplicatesCount)}}function dK(n,e){if(1&n&&Se(0,"div",7),2&n){const t=Ft();ia(t.options.messageClass),He("innerHTML",t.message,pw)}}function hK(n,e){if(1&n&&(N(0,"div",8),K(1),k()),2&n){const t=Ft();ia(t.options.messageClass),Ni("aria-label",t.message),ce(1),In(" ",t.message," ")}}function fK(n,e){if(1&n&&(N(0,"div"),Se(1,"div",9),k()),2&n){const t=Ft();ce(1),fd("width",t.width+"%")}}class EK{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IK{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class wK{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new G;_activate=new G;_manualClose=new G;_resetTimeout=new G;_countDuplicate=new G;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class $y{toastId;config;message;title;toastType;toastRef;_onTap=new G;_onAction=new G;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const vk=new de("ToastConfig");class CK extends IK{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let TK=(()=>{class n{_document=Qe(Vn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bK{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let DK=(()=>{class n{_overlayContainer=Qe(TK);_componentFactoryResolver=Qe(Qc);_appRef=Qe(ml);_document=Qe(Vn);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new CK(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new bK(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sl=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(en.HTML,r));const h=new wK(u),g=new $y(this.index,s,c,i,t,h),y=es.create({providers:[{provide:$y,useValue:g}],parent:this._injector}),w=new EK(s.toastComponent,y),T=u.attach(w,s.newestOnTop);h.componentInstance=T.instance;const A={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:T};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}static \u0275fac=function(r){return new(r||n)(ne(vk),ne(DK),ne(es),ne(rN),ne(Bt))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const AK={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(Z(Sl),Z($y),Z(Bt))};static \u0275cmp=$t({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&ut("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Qw("@flyInOut",i.state),ia(i.toastClasses),fd("display",i.displayStyle))},standalone:!0,features:[O_],attrs:_k,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(at(0,uK,3,0,"button",0),at(1,cK,3,5,"div",1),at(2,dK,1,3,"div",2),at(3,hK,2,4,"div",3),at(4,fK,2,2,"div",4)),2&r&&(He("ngIf",i.options.closeButton),ce(1),He("ngIf",i.title),ce(1),He("ngIf",i.message&&i.options.enableHtml),ce(1),He("ngIf",i.message&&!i.options.enableHtml),ce(1),He("ngIf",i.options.progressBar))},dependencies:[da],encapsulation:2,data:{animation:[aK("flyInOut",[Y0("inactive",vp({opacity:0})),Y0("active",vp({opacity:1})),Y0("removed",vp({opacity:0})),pk("inactive => active",hk("{{ easeTime }}ms {{ easing }}")),pk("active => removed",hk("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},SK=(n={})=>_P([{provide:vk,useValue:{default:AK,config:n}}]);let PK=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[SK(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=Zt({})}return n})();function RK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addBurgerToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}function MK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addPizzaToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}let xK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.burgers=eK,this.pizza=tK,this.fries=nK,this.fastFood=[],this.cart=[],this.existingBurger=!1,this.existingPizza=!1,this.existingFries=!1}addBurgerToCart(t){this.existingBurger=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingBurger=!0)})),this.existingBurger?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addPizzaToCart(t){this.existingPizza=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingPizza=!0)})),this.existingPizza?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addFriesToCart(t){this.existingFries=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingFries=!0)})),this.existingFries?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Vd),Z(Sl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-fast-food"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"app-navbar"),N(2,"h3",1),K(3,"Burger Bonanza: Bite into Deliciousness"),k(),Se(4,"hr"),N(5,"div",2),at(6,RK,15,4,"div",3),k(),N(7,"h3",4),K(8,"Pizza Paradise: Explore Our Irresistible Pies"),k(),Se(9,"hr"),N(10,"div",2),at(11,MK,15,4,"div",3),k()()),2&r&&(ce(6),He("ngForOf",i.burgers),ce(5),He("ngForOf",i.pizza))},dependencies:[vl,fu]})}return n})();function NK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addJuiceToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}function OK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addShakeToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}let kK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.juices=J7,this.shakes=X7,this.cart=[],this.existingProduct=!1}addJuiceToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addShakeToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Vd),Z(Sl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-fruit-juice"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"app-navbar"),N(2,"h3",1),K(3,"Quench Your Thirst Naturally: Browse Our Juices"),k(),Se(4,"hr"),N(5,"div",2),at(6,NK,15,4,"div",3),k(),N(7,"h3",4),K(8,"Indulge in Bliss: Our Irresistible Shakes"),k(),Se(9,"hr"),N(10,"div",2),at(11,OK,15,4,"div",3),k()()),2&r&&(ce(6),He("ngForOf",i.juices),ce(5),He("ngForOf",i.shakes))},dependencies:[vl,fu]})}return n})();function FK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addHotBeverageToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}function VK(n,e){if(1&n){const t=Oi();N(0,"div",5)(1,"a"),Se(2,"img",6),k(),N(3,"div",7)(4,"h5",8),K(5),k(),N(6,"p",9),K(7),k(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",12)(14,"img",13),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addColdBeverageToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}let LK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.hotBeverages=rK,this.hotBeverage=[],this.coldBeverages=iK,this.coldBeverage=[],this.cart=[],this.existingHotBeverages=!1,this.existingColdBeverages=!1}addHotBeverageToCart(t){this.existingHotBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingHotBeverages=!0)})),this.existingHotBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addColdBeverageToCart(t){this.existingColdBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingColdBeverages=!0)})),this.existingColdBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Vd),Z(Sl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-beverage"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png","alt","addtocart",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"app-navbar"),N(2,"h3",1),K(3,"Warmth in a Cup: Explore Our Hot Beverages"),k(),Se(4,"hr"),N(5,"div",2),at(6,FK,15,4,"div",3),k(),N(7,"h3",4),K(8,"Icy Bliss: Sip on Our Cold Beverage Collection"),k(),Se(9,"hr"),N(10,"div",2),at(11,VK,15,4,"div",3),k()()),2&r&&(ce(6),He("ngForOf",i.hotBeverages),ce(5),He("ngForOf",i.coldBeverages))},dependencies:[vl,fu]})}return n})();function UK(n,e){if(1&n){const t=Oi();N(0,"div",4)(1,"a"),Se(2,"img",5),k(),N(3,"div",6)(4,"h5",7),K(5),k(),N(6,"p",8),K(7),k(),N(8,"div",9)(9,"div",10)(10,"p")(11,"b"),K(12),k()()(),N(13,"div",11)(14,"img",12),ut("click",function(){const s=sr(t).$implicit;return Pn(Ft().addToCart(s))}),k()()()()()}if(2&n){const t=e.$implicit;ce(2),Bs("src",t.image,fo),ce(3),mr(t.name),ce(2),mr(t.description),ce(5),In("\u20b9 ",t.price,"/-")}}let BK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.cocktails=sK,this.cocktail=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Vd),Z(Sl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-cocktail"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"app-navbar"),N(2,"h3",1),K(3,"Cocktail Connoisseur's Corner: Dive In"),k(),Se(4,"hr"),N(5,"div",2),at(6,UK,15,4,"div",3),k()()),2&r&&(ce(6),He("ngForOf",i.cocktails))},dependencies:[vl,fu]})}return n})();function jK(n,e){1&n&&(N(0,"div",8)(1,"div",9),Se(2,"img",10),N(3,"h2",11),K(4,"404, no delicious food item found !"),k(),N(5,"p",12),K(6,'Simply click "Explore Now" to peruse our scrumptious menu and load your cart with delightful items.'),k(),N(7,"a",13),K(8,"Explore Now"),k()()())}function $K(n,e){if(1&n){const t=Oi();N(0,"div",14)(1,"div",15)(2,"a",16),ut("click",function(){const s=sr(t).index;return Pn(Ft().removeCartItem(s))}),Se(3,"i",17),k(),N(4,"div",18),Se(5,"img",19),k(),N(6,"div",20)(7,"div",21)(8,"p",22),K(9),k(),N(10,"p",23),K(11),k(),N(12,"label"),K(13,"Quantity"),k(),N(14,"input",24),ut("change",function(i){const o=sr(t).index;return Pn(Ft().addQty(o,i))}),k(),N(15,"p",25),K(16),eu(17,"currency"),k()()(),Se(18,"hr"),k()()}if(2&n){const t=e.$implicit;ce(5),Bs("src",t.image,fo),ce(4),mr(t.name),ce(2),mr(t.description),ce(3),Bs("value",t.quantity),ce(2),In("",gl(17,5,t.price,"INR"),"/-")}}function HK(n,e){if(1&n){const t=Oi();N(0,"div",26)(1,"div",9)(2,"table",27)(3,"tr")(4,"td"),K(5,"Total Items"),k(),N(6,"td",28),K(7),k()(),N(8,"tr")(9,"td"),K(10,"Total Price"),k(),N(11,"td",28),K(12),eu(13,"currency"),k()(),N(14,"tr")(15,"td"),K(16,"SGST "),N(17,"span",29),K(18,"(5%)"),k()(),N(19,"td",28),K(20),eu(21,"currency"),k()(),N(22,"tr")(23,"td"),K(24,"CGST "),N(25,"span",29),K(26,"(5%)"),k()(),N(27,"td",28),K(28),eu(29,"currency"),k()(),N(30,"tr")(31,"td"),K(32,"Delivery Charge"),k(),N(33,"td",28),K(34),eu(35,"currency"),k()(),N(36,"tr")(37,"td",30),K(38,"Total Amount"),k(),N(39,"td",31),K(40),eu(41,"currency"),k()()(),Se(42,"hr"),N(43,"div",32)(44,"button",33),ut("click",function(){return sr(t),Pn(Ft().placeOrder())}),Se(45,"i",34),K(46," Place Order "),k()()()()}if(2&n){const t=Ft();ce(7),In("",t.quantity," N"),ce(5),In("",gl(13,6,t.productPrice,"INR")," /-"),ce(8),In("",gl(21,9,t.sgst,"INR")," /-"),ce(8),In("",gl(29,12,t.cgst,"INR")," /-"),ce(6),In("",gl(35,15,t.deliveryCharge,"INR")," /-"),ce(6),In("",gl(41,18,t.total,"INR")," /-")}}let zK=(()=>{class n{constructor(t,r,i){this.appService=t,this.router=r,this.authService=i,this.product=[],this.total=0,this.quantity=0,this.totalPrice=0,this.min=20,this.max=50,this.sgst=0,this.cgst=0,this.deliveryCharge=Math.floor(30*Math.random()+20),this.productPrice=0,this.cartProducts=[],this.existingProduct=!1,this.showButton=!1,this.cart=[],this.getCartItems()}getCartItems(){this.cart=this.appService.getCart(),this.cart?(this.doTotal(),this.showButton=this.cart.length>0):this.showButton=!1}addQty(t,r){this.appService.addQtyToCart(t,r.target.value),this.getCartItems()}removeCartItem(t){this.appService.removeFromCart(t),this.getCartItems()}doTotal(){this.total=0,this.cart.forEach(t=>{let r=t.price*Number(t.quantity);this.total+=r,this.quantity+=Number(t.quantity)}),this.productPrice=this.total,this.sgst=5*this.total/100,this.cgst=5*this.total/100,this.total+=this.deliveryCharge+this.sgst+this.cgst}placeOrder(){this.authService.isLoggedIn?(this.router.navigate(["/checkout"]),this.getCartItems()):this.router.navigate(["/signin"])}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Vd),Z(Jn),Z(Fd))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-cart"]],decls:11,vars:3,consts:[[1,"container-fluid"],["class","text-center","id","noItemInCart",4,"ngIf"],[1,"row","m-0"],[1,"col-md-2"],[1,"col-md-4"],["class","mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"total-cart-mobile"],["class","mt-5",4,"ngIf"],["id","noItemInCart",1,"text-center"],[1,"custom-card-body"],["src","../../../../assets/images/navbar/donut.png",1,"cart-icon"],[1,"custom-card-title"],[1,"custom-card-text"],["routerLink","/home",1,"btn"],[1,"mb-3",2,"max-width","540px"],[1,"row","no-gutters"],["data-toggle","tooltip","data-placement","top","title","Remove",1,"text-danger",3,"click"],[1,"fa","fa-x"],[1,"left","col-md-4"],["alt","...",1,"custom-card-image","m-3",3,"src"],[1,"right","col-md-8"],["id","cardBody-mobile",1,"custom-card-body"],["id","itemName",1,"custom-card-title"],[1,"item-description"],["type","number","min","1","max","5",3,"value","change"],["id","itemPrice"],[1,"mt-5"],[1,"table"],[1,"td2"],[1,"text-muted"],[1,"total-amount-heading"],[1,"finalAmount"],[1,"text-center"],[1,"btn","btn-sm","btn-primary","mt-3","mb-3",3,"click"],[1,"fa","fa-shopping-bag","fa-lg","mr-2"]],template:function(r,i){1&r&&(N(0,"div",0),Se(1,"app-navbar"),at(2,jK,9,0,"div",1),N(3,"div",2),Se(4,"div",3),N(5,"div",4),at(6,$K,19,8,"div",5),k(),Se(7,"div",3),N(8,"div",4)(9,"div",6),at(10,HK,47,21,"div",7),k()()()()),2&r&&(ce(2),He("ngIf",!i.showButton),ce(4),He("ngForOf",i.cart),ce(4),He("ngIf",i.showButton))},dependencies:[vl,da,Cl,fu,Ax],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fffff733}.custom-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.custom-card-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-top:20px}.row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;padding:10px 8px}.btn[_ngcontent-%COMP%]{padding:8px 30px;border-radius:30px;margin-top:15px;color:#fff;background-color:#ff6907;border:none;box-shadow:0 2px 2px #0009}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.right[_ngcontent-%COMP%]   #itemName[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.right[_ngcontent-%COMP%]   #itemPrice[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-top:15px}.right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:8px;font-weight:500;font-size:14px}.total-custom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;float:right;right:20px}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}#noItemInCart[_ngcontent-%COMP%]{margin-top:200px;padding:30px}#noItemInCart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.cart-icon[_ngcontent-%COMP%]{width:100px;height:100px}table[_ngcontent-%COMP%]{display:table}td[_ngcontent-%COMP%]{float:left}.td2[_ngcontent-%COMP%]{padding:10px 0;float:right}.finalAmount[_ngcontent-%COMP%]{padding:10px 0;color:green;font-size:18px;float:right;font-weight:700}.right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}.total-amount-heading[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 768px){.custom-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:0 auto;margin-bottom:60px!important}.custom-card-image[_ngcontent-%COMP%]{margin:-50px 0 2px;width:60px;height:60px}#noItemInCart[_ngcontent-%COMP%]{margin-top:100px;border:none;font-size:10px}#noItemInCart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.right[_ngcontent-%COMP%]   #itemName[_ngcontent-%COMP%]{font-size:14px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}.right[_ngcontent-%COMP%]   #itemPrice[_ngcontent-%COMP%]{font-size:12px}.right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;padding:4px}.btn[_ngcontent-%COMP%]{font-size:12px}.total-custom-card[_ngcontent-%COMP%]{width:100%;position:relative}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{margin:0 auto}td[_ngcontent-%COMP%]{font-size:10px}.td2[_ngcontent-%COMP%]{float:right;padding:5px 0}.finalAmount[_ngcontent-%COMP%]{font-size:14px;float:right;font-weight:700}}"]})}return n})(),Ek=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Z(ta),Z(Xi))},n.\u0275dir=ze({type:n}),n})(),Pl=(()=>{class n extends Ek{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}(),n.\u0275dir=ze({type:n,features:[Ht]}),n})();const bo=new de("NgValueAccessor"),WK={provide:bo,useExisting:Ee(()=>Rl),multi:!0},ZK=new de("CompositionEventMode");let Rl=(()=>{class n extends Ek{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KK(){const n=ua()?ua().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Z(ta),Z(Xi),Z(ZK,8))},n.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ut("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[wn([WK]),Ht]}),n})();const QK=!1;function pu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function wk(n){return null!=n&&"number"==typeof n.length}const Qr=new de("NgValidators"),gu=new de("NgAsyncValidators"),YK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Do{static min(e){return function Ck(n){return e=>{if(pu(e.value)||pu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Tk(n){return e=>{if(pu(e.value)||pu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bk(n){return pu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Dk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ak(n){return pu(n.value)||YK.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Sk(n){return e=>pu(e.value)||!wk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Pk(n){return e=>wk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Rk(e)}static nullValidator(e){return null}static compose(e){return Fk(e)}static composeAsync(e){return Vk(e)}}function Rk(n){if(!n)return Hy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Hy(n){return null}function Mk(n){return null!=n}function xk(n){const e=Ff(n)?E(n):n;if(QK&&!zw(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new D(-1101,t)}return e}function Nk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ok(n,e){return e.map(t=>t(n))}function kk(n){return n.map(e=>function JK(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fk(n){if(!n)return null;const e=n.filter(Mk);return 0==e.length?null:function(t){return Nk(Ok(t,e))}}function X0(n){return null!=n?Fk(kk(n)):null}function Vk(n){if(!n)return null;const e=n.filter(Mk);return 0==e.length?null:function(t){return function qK(...n){const e=ms(n),{args:t,keys:r}=sN(n),i=new ht(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let h=0;h<o;h++){let g=!1;At(t[h]).subscribe(ge(s,m=>{g||(g=!0,c--),a[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(c||s.next(r?aN(r,a):a),s.complete())}))}});return e?i.pipe(oN(e)):i}(Ok(t,e).map(xk)).pipe(we(Nk))}}function eT(n){return null!=n?Vk(kk(n)):null}function Lk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Uk(n){return n._rawValidators}function Bk(n){return n._rawAsyncValidators}function tT(n){return n?Array.isArray(n)?n:[n]:[]}function zy(n,e){return Array.isArray(n)?n.includes(e):n===e}function jk(n,e){const t=tT(e);return tT(n).forEach(i=>{zy(t,i)||t.push(i)}),t}function $k(n,e){return tT(e).filter(t=>!zy(n,t))}class Hk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=X0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yi extends Hk{get formDirective(){return null}get path(){return null}}class mu extends Hk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ip=(()=>{class n extends zk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Z(mu,2))},n.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&A_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ht]}),n})(),wp=(()=>{class n extends zk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Z(yi,10))},n.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&A_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ht]}),n})();function qk(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const iT=!1,Cp="VALID",Gy="INVALID",Ld="PENDING",Tp="DISABLED";function sT(n){return(Wy(n)?n.validators:n)||null}function oT(n,e){return(Wy(e)?e.asyncValidators:n)||null}function Wy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Gk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,iT?function nZ(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new D(1001,iT?function rZ(n,e){return`Cannot find form control ${qk(n,e)}`}(e,t):"")}function Wk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,iT?function iZ(n,e){return`Must supply a value for form control ${qk(n,e)}`}(e,i):"")})}class Ky{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cp}get invalid(){return this.status===Gy}get pending(){return this.status==Ld}get disabled(){return this.status===Tp}get enabled(){return this.status!==Tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($k(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($k(e,this._rawAsyncValidators))}hasValidator(e){return zy(this._rawValidators,e)}hasAsyncValidator(e){return zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ld,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cp||this.status===Ld)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tp:Cp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ld,this._hasOwnPendingAsyncValidator=!0;const t=xk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rn,this.statusChanges=new Rn}_calculateStatus(){return this._allControlsDisabled()?Tp:this.errors?Gy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ld)?Ld:this._anyControlsHaveStatus(Gy)?Gy:Cp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function sZ(n){return Array.isArray(n)?X0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oZ(n){return Array.isArray(n)?eT(n):n||null}(this._rawAsyncValidators)}}class Ud extends Ky{constructor(e,t,r){super(sT(t),oT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Wk(this,!0,e),Object.keys(e).forEach(r=>{Gk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Kk extends Ud{}const Ml=new de("CallSetDisabledState",{providedIn:"root",factory:()=>bp}),bp="always";function Dp(n,e,t=bp){aT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function uZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zk(n,e)})}(n,e),function cZ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aZ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Qy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function aT(n,e){const t=Uk(n);null!==e.validator?n.setValidators(Lk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Bk(n);null!==e.asyncValidator?n.setAsyncValidators(Lk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Yy(e._rawValidators,i),Yy(e._rawAsyncValidators,i)}function Jy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Uk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Bk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Yy(e._rawValidators,r),Yy(e._rawAsyncValidators,r),t}function Zk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qk(n,e){aT(n,e)}function lT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Yk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Rl?t=s:function fZ(n){return Object.getPrototypeOf(n.constructor)===Pl}(s)?r=s:i=s}),i||r||t||null}const gZ={provide:yi,useExisting:Ee(()=>Xy)},Ap=(()=>Promise.resolve())();let Xy=(()=>{class n extends yi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rn,this.form=new Ud({},X0(t),eT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ap.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Dp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ap.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ap.then(()=>{const r=this._findContainer(t.path),i=new Ud({});Qk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ap.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ap.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Yk(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(Z(Qr,10),Z(gu,10),Z(Ml,8))},n.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ut("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([gZ]),Ht]}),n})();function Jk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Bd=class extends Ky{constructor(e=null,t,r){super(sT(t),oT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Xk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Xk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Sp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({}),n})();const dT=new de("NgModelWithFormControlWarning"),CZ={provide:mu,useExisting:Ee(()=>hT)};let hT=(()=>{class n extends mu{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Rn,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=cT(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Qy(r,this,!1),Dp(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}lT(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Qy(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Z(Qr,10),Z(gu,10),Z(bo,10),Z(dT,8),Z(Ml,8))},n.\u0275dir=ze({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[wn([CZ]),Ht,Ai]}),n})();const TZ={provide:yi,useExisting:Ee(()=>jd)};let jd=(()=>{class n extends yi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Rn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Dp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Qy(t.control||null,t,!1),function pZ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Yk(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Qy(r||null,t),(n=>n instanceof Bd)(i)&&(Dp(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Qk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function dZ(n,e){return Jy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aT(this.form,this),this._oldForm&&Jy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Z(Qr,10),Z(gu,10),Z(Ml,8))},n.\u0275dir=ze({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ut("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([TZ]),Ht,Ai]}),n})();const AZ={provide:mu,useExisting:Ee(()=>Pp)};let Pp=(()=>{class n extends mu{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Rn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=cT(0,s)}ngOnChanges(t){this._added||this._setUpControl(),lT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Zy(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Z(yi,13),Z(Qr,10),Z(gu,10),Z(bo,10),Z(dT,8))},n.\u0275dir=ze({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wn([AZ]),Ht,Ai]}),n})(),xl=(()=>{class n{constructor(){this._validator=Hy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ze({type:n,features:[Ai]}),n})();const jZ={provide:Qr,useExisting:Ee(()=>yT),multi:!0};let yT=(()=>{class n extends xl{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Rk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}(),n.\u0275dir=ze({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ni("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[wn([jZ]),Ht]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({imports:[sF]}),n})();class EF extends Ky{constructor(e,t,r){super(sT(t),oT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Wk(this,!1,e),e.forEach((r,i)=>{Gk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function IF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let vT=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return IF(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ud(i,s)}record(t,r=null){const i=this._reduceControls(t);return new Kk(i,r)}control(t,r,i){let s={};return this.useNonNullable?(IF(r)?s=r:(s.validators=r,s.asyncValidators=i),new Bd(t,{...s,nonNullable:!0})):new Bd(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new EF(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Bd||t instanceof Ky?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ev=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ml,useValue:t.callSetDisabledState??bp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({imports:[vF]}),n})(),tv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ml,useValue:t.callSetDisabledState??bp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({imports:[vF]}),n})(),wF=(()=>{class n{constructor(){}get nativeWindow(){return function $Z(){return window}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HZ(n,e){1&n&&(N(0,"div",13),K(1," Invalid Name "),k())}function zZ(n,e){1&n&&(N(0,"div",13),K(1," Invalid Address "),k())}function qZ(n,e){1&n&&(N(0,"div",13),K(1," Invalid City "),k())}function GZ(n,e){1&n&&(N(0,"div",13),K(1," Invalid State "),k())}function WZ(n,e){1&n&&(N(0,"div",13),K(1," Invalid Zip code "),k())}const KZ=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Y7},{path:"fast-food",component:xK},{path:"fruit-juice",component:kK},{path:"beverage",component:LK},{path:"cocktail",component:BK},{path:"cart",component:zK},{path:"checkout",component:(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.winRef=r,this.router=i,this.toastr=s,this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.checkoutForm=t.group({fullName:[this.user.fullName,Do.required],address:["",Do.required],city:["",Do.required],state:["",Do.required],zipCode:["",Do.required]})}onSubmit(){this.payWithRazor()}createRzpayOrder(t){this.payWithRazor()}payWithRazor(){const t={key:"rzp_test_pKtL3VyA60NvPP",amount:125500,currency:"INR",name:"Cocktail Club",description:"",id:Math.random().toString(36),prefill:{name:"sai kumar",email:"sai@gmail.com",phone:"9898989898",method:"card"},modal:{escape:!1},notes:{msg:"Thank you for shopping with Cocktail Club"},theme:{color:"#FF6912"}};t.handler=(i,s)=>{t.response=i,console.log(i),console.log(t),this.toastr.success("Order placed successfully","",{positionClass:"toast-top-right",timeOut:3e3}),this.toastr.info("Waiting for Restaurant to accept your order","",{positionClass:"toast-top-right",timeOut:3e3}),this.router.navigate(["/orders"])},t.modal.ondismiss=()=>{console.log("Transaction cancelled."),this.router.navigate(["/cart"])},new this.winRef.nativeWindow.Razorpay(t).open()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(vT),Z(wF),Z(Jn),Z(Sl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-checkout"]],decls:29,vars:6,consts:[[1,"containerfull"],[1,"checkout-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Name"],["class","text-danger",4,"ngIf"],["formControlName","address","type","text","placeholder","Address"],["formControlName","city","type","text","placeholder","City"],["formControlName","state","type","text","placeholder","State"],["formControlName","zipCode","type","text","placeholder","Zip Code"],["type","submit",1,"btn"],[1,"text-danger"]],template:function(r,i){1&r&&(Se(0,"app-navbar"),N(1,"div",0)(2,"div",1)(3,"div",2)(4,"p"),K(5,"Enter your shipping details"),k()(),N(6,"form",3),ut("ngSubmit",function(){return i.onSubmit()}),N(7,"div",4),Se(8,"i",5)(9,"input",6),k(),at(10,HZ,2,0,"div",7),N(11,"div",4),Se(12,"i",5)(13,"input",8),k(),at(14,zZ,2,0,"div",7),N(15,"div",4),Se(16,"i",5)(17,"input",9),k(),at(18,qZ,2,0,"div",7),N(19,"div",4),Se(20,"i",5)(21,"input",10),k(),at(22,GZ,2,0,"div",7),N(23,"div",4),Se(24,"i",5)(25,"input",11),k(),at(26,WZ,2,0,"div",7),N(27,"button",12),K(28,"Continue to pay"),k()()()()),2&r&&(ce(6),He("formGroup",i.checkoutForm),ce(4),He("ngIf",i.checkoutForm.controls.fullName.touched&&i.checkoutForm.controls.fullName.invalid),ce(4),He("ngIf",i.checkoutForm.controls.address.touched&&i.checkoutForm.controls.address.invalid),ce(4),He("ngIf",i.checkoutForm.controls.city.touched&&i.checkoutForm.controls.city.invalid),ce(4),He("ngIf",i.checkoutForm.controls.state.touched&&i.checkoutForm.controls.state.invalid),ce(4),He("ngIf",i.checkoutForm.controls.zipCode.touched&&i.checkoutForm.controls.zipCode.invalid))},dependencies:[da,Sp,Rl,Ip,wp,jd,Pp,fu],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.checkout-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}p[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 40px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px;overflow:hidden}.checkout-form[_ngcontent-%COMP%]{width:100%;padding:20px;border-radius:8px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}}']})}return n})()},{path:"orders",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-orders"]],decls:33,vars:0,consts:[[1,"container-full"],[1,"main-heading"],[1,"rwd-table"],["data-th","Supplier Code"],["data-th","Supplier Name"],["data-th","Invoice Number"],["data-th","Invoice Date"],["data-th","Due Date"],["data-th","Net Amount"]],template:function(r,i){1&r&&(Se(0,"app-navbar"),N(1,"div",0)(2,"p",1),K(3,"Orders"),k(),Se(4,"br"),N(5,"table",2)(6,"tbody")(7,"tr")(8,"th"),K(9,"Invoice Id"),k(),N(10,"th"),K(11,"Date & Time"),k(),N(12,"th"),K(13,"Order status"),k(),N(14,"th"),K(15,"Amount"),k(),N(16,"th"),K(17,"Payment Mode"),k(),N(18,"th"),K(19,"Net Amount"),k()(),N(20,"tr")(21,"td",3),K(22," UPS5005 "),k(),N(23,"td",4),K(24," UPS "),k(),N(25,"td",5),K(26," ASDF19218 "),k(),N(27,"td",6),K(28," 06/25/2016 "),k(),N(29,"td",7),K(30," 12/25/2016 "),k(),N(31,"td",8),K(32," $8,322.12 "),k()()()()())},dependencies:[fu],styles:['.container-full[_ngcontent-%COMP%]{display:block;text-align:center;padding:10px}.main-heading[_ngcontent-%COMP%]{float:left;margin-bottom:25px}.rwd-table[_ngcontent-%COMP%]{margin:auto;min-width:300px;max-width:100%;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{border-top:none;background:#428bca;color:#fff}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;background-color:#f5f9fc}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd):not(:first-child){background-color:#ebf3f9}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{margin-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{margin-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:120px;display:inline-block;color:#000}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.rwd-table[_ngcontent-%COMP%]{color:#333;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#bfbfbf}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em 1em}@media screen and (max-width: 601px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){border-top:none}}@media screen and (min-width: 600px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:not(:first-child){background-color:#d8e7f3}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}@keyframes _ngcontent-%COMP%_leftRight{0%{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}to{transform:translate(0)}}']})}return n})()}];let ZZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[wo.forChild(KZ),wo]})}return n})(),QZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[Id,ZZ,ev,tv]})}return n})();const CF_firebase={apiKey:"AIzaSyBUsQyQzVEpIJ8Ma2xSx1lAe1WHKCQwuGg",authDomain:"cock-tail-club.firebaseapp.com",projectId:"cock-tail-club",storageBucket:"cock-tail-club.appspot.com",messagingSenderId:"980191769451",appId:"1:980191769451:web:02a834b7b5d31fe267522e",measurementId:"G-EHLC69E60D"},CF_CountryJson=[{name:"India",dial_code:"+91",code:"IN"}];function YZ(n,e){1&n&&(N(0,"div",12),K(1," Invalid Phone number "),k())}let JZ=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.authService=r,this.win=i,this.router=s,this.OTP="",this.CountryJson=CF_CountryJson,this.CountryCode="+91",this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.signinForm=t.group({phoneNumber:["9179616052",[Do.required,Do.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]})}ngOnInit(){}markProfileFormTouched(){const t=this.signinForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.signinForm.controls[r].markAsTouched()}onSubmit(t){this.markProfileFormTouched();const r=new As.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:i=>{}});this.signinForm.value.phoneNumber&&(localStorage.setItem("user",JSON.stringify(this.signinForm.value)),this.authService.signInWithPhoneNumber(r,"+91"+this.signinForm.value.phoneNumber).then(i=>{console.log(i),localStorage.setItem("verificationId",JSON.stringify(i.verificationId)),As.Z.firestore().collection("users").doc(i.uid).set({phoneNumber:this.signinForm.value.phoneNumber,fullName:"",email:"",photoURL:"",orders:"",verificationId:"",paymentId:"",role:2,address:"",state:"",zipCode:""}).then(()=>{localStorage.setItem("uid",JSON.stringify(i.uid)),console.log("confirmation uid  "+i.uid),this.router.navigate(["/verify-otp"]).then()})}))}static#e=this.\u0275fac=function(r){return new(r||n)(Z(vT),Z(Fd),Z(wF),Z(Jn))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","eg 9174520052"],["class","text-danger",4,"ngIf"],["id","recaptcha-container"],["type","submit",1,"btn"],["id","termAndConditionsText"],[1,"text-underline"],[1,"text-danger"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),K(4,"Cocktail Club"),k(),N(5,"p"),K(6,"Log in or Sign up"),k()(),N(7,"form",3),ut("ngSubmit",function(o){return i.onSubmit(o)}),N(8,"div",4),Se(9,"i",5)(10,"input",6),k(),at(11,YZ,2,0,"div",7),Se(12,"div",8),N(13,"button",9),K(14,"Continue"),k()(),N(15,"p",10),K(16,"By continuing, you agree to our "),N(17,"span",11),K(18,"Terms of service & Privacy policy"),k()()()()),2&r&&(ce(7),He("formGroup",i.signinForm),ce(4),He("ngIf",i.signinForm.controls.phoneNumber.touched&&i.signinForm.controls.phoneNumber.invalid))},dependencies:[da,Sp,Rl,Ip,wp,jd,Pp],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}#termAndConditionsText[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}#termAndConditionsText[_ngcontent-%COMP%]{font-size:8px;color:#6b7280}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}}']})}return n})();var ve,XZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks={},ET=ET||{},tt=XZ||self;function nv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var IT="closure_uid_"+(1e9*Math.random()>>>0),tQ=0;function nQ(n,e,t){return n.call.apply(n.bind,arguments)}function rQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nQ:rQ).apply(null,arguments)}function rv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _u(){this.s=this.s,this.o=this.o}_u.prototype.s=!1,_u.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eQ(n){Object.prototype.hasOwnProperty.call(n,IT)&&n[IT]||(n[IT]=++tQ)}(this)},_u.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function wT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Jr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Jr.prototype.h=function(){this.defaultPrevented=!0};var sQ=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};tt.addEventListener("test",t,e),tt.removeEventListener("test",t,e)}catch{}return n}();function Mp(n){return/^[\s\xa0]*$/.test(n)}function iv(){var n=tt.navigator;return n&&(n=n.userAgent)?n:""}function Ao(n){return-1!=iv().indexOf(n)}function CT(n){return CT[" "](n),n}CT[" "]=function(){};var bT,n,aQ=Ao("Opera"),$d=Ao("Trident")||Ao("MSIE"),DF=Ao("Edge"),TT=DF||$d,AF=Ao("Gecko")&&!(-1!=iv().toLowerCase().indexOf("webkit")&&!Ao("Edge"))&&!(Ao("Trident")||Ao("MSIE"))&&!Ao("Edge"),uQ=-1!=iv().toLowerCase().indexOf("webkit")&&!Ao("Edge");function SF(){var n=tt.document;return n?n.documentMode:void 0}e:{var DT="",AT=(n=iv(),AF?/rv:([^\);]+)(\)|;)/.exec(n):DF?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uQ?/WebKit\/(\S+)/.exec(n):aQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AT&&(DT=AT?AT[1]:""),$d){var ST=SF();if(null!=ST&&ST>parseFloat(DT)){bT=String(ST);break e}}bT=DT}var lQ=tt.document&&$d&&(SF()||parseInt(bT,10))||void 0;function xp(n,e){if(Jr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(AF){e:{try{CT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xp.$.h.call(this)}}wr(xp,Jr);var cQ={2:"touch",3:"pen",4:"mouse"};xp.prototype.h=function(){xp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Np="closure_listenable_"+(1e6*Math.random()|0),dQ=0;function hQ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++dQ,this.fa=this.ia=!1}function sv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function RT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function RF(n){const e={};for(const t in n)e[t]=n[t];return e}const MF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<MF.length;s++)t=MF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ov(n){this.src=n,this.g={},this.h=0}function MT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=TF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}ov.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=xT(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new hQ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var NT="closure_lm_"+(1e6*Math.random()|0),OT={};function NF(n,e,t,r,i){if(r&&r.once)return kF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NF(n,e[s],t,r,i);return null}return t=LT(t),n&&n[Np]?n.O(e,t,Rp(r)?!!r.capture:!!r,i):OF(n,e,t,!1,r,i)}function OF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Rp(i)?!!i.capture:!!i,a=FT(n);if(a||(n[NT]=a=new ov(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function pQ(){const e=gQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(VF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kF(n,e[s],t,r,i);return null}return t=LT(t),n&&n[Np]?n.P(e,t,Rp(r)?!!r.capture:!!r,i):OF(n,e,t,!0,r,i)}function FF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FF(n,e[s],t,r,i);else r=Rp(r)?!!r.capture:!!r,t=LT(t),n&&n[Np]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xT(s=n.g[e],t,r,i))&&(sv(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=FT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xT(e,t,r,i)),(t=-1<n?e[n]:null)&&kT(t))}function kT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Np])MT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(VF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=FT(e))?(MT(t,n),0==t.h&&(t.src=null,e[NT]=null)):sv(n)}}}function VF(n){return n in OT?OT[n]:OT[n]="on"+n}function gQ(n,e){if(n.fa)n=!0;else{e=new xp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&kT(n),n=t.call(r,e)}return n}function FT(n){return(n=n[NT])instanceof ov?n:null}var VT="__closure_events_fn_"+(1e9*Math.random()>>>0);function LT(n){return"function"==typeof n?n:(n[VT]||(n[VT]=function(e){return n.handleEvent(e)}),n[VT])}function Cr(){_u.call(this),this.i=new ov(this),this.S=this,this.J=null}function Vr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Jr(e,n);else if(e instanceof Jr)e.target=e.target||n;else{var i=e;xF(e=new Jr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=av(o,r,!0,e)&&i}if(i=av(o=e.g=n,r,!0,e)&&i,i=av(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=av(o=e.g=t[s],r,!1,e)&&i}function av(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&MT(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wr(Cr,_u),Cr.prototype[Np]=!0,Cr.prototype.removeEventListener=function(n,e,t,r){FF(this,n,e,t,r)},Cr.prototype.N=function(){if(Cr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sv(t[r]);delete n.g[e],n.h--}}this.J=null},Cr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Cr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var UT=tt.JSON.stringify;function _Q(){var n=BT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LF=new class mQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vQ,n=>n.reset());class vQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function EQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function IQ(n){tt.setTimeout(()=>{throw n},0)}let Op,kp=!1,BT=new class yQ{constructor(){this.h=this.g=null}add(e,t){const r=LF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},UF=()=>{const n=tt.Promise.resolve(void 0);Op=()=>{n.then(wQ)}};var wQ=()=>{for(var n;n=_Q();){try{n.h.call(n.g)}catch(t){IQ(t)}var e=LF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kp=!1};function uv(n,e){Cr.call(this),this.h=n||1,this.g=e||tt,this.j=Yr(this.qb,this),this.l=Date.now()}function jT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $T(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function BF(n){n.g=$T(()=>{n.g=null,n.i&&(n.i=!1,BF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(uv,Cr),(ve=uv.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vr(this,"tick"),this.ga&&(jT(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){uv.$.N.call(this),jT(this),delete this.g};class CQ extends _u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BF(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fp(n){_u.call(this),this.h=n,this.g={}}wr(Fp,_u);var jF=[];function $F(n,e,t,r){Array.isArray(t)||(t&&(jF[0]=t.toString()),t=jF);for(var i=0;i<t.length;i++){var s=NF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function HF(n){RT(n.g,function(e,t){this.g.hasOwnProperty(t)&&kT(e)},n),n.g={}}function lv(){this.g=!0}function Hd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return UT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Fp.prototype.N=function(){Fp.$.N.call(this),HF(this)},Fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lv.prototype.Ea=function(){this.g=!1},lv.prototype.info=function(){};var Nl={},zF=null;function cv(){return zF=zF||new Cr}function qF(n){Jr.call(this,Nl.Ta,n)}function Vp(n){const e=cv();Vr(e,new qF(e))}function GF(n,e){Jr.call(this,Nl.STAT_EVENT,n),this.stat=e}function vi(n){const e=cv();Vr(e,new GF(e,n))}function WF(n,e){Jr.call(this,Nl.Ua,n),this.size=e}function Lp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}Nl.Ta="serverreachability",wr(qF,Jr),Nl.STAT_EVENT="statevent",wr(GF,Jr),Nl.Ua="timingevent",wr(WF,Jr);var dv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HT(){}function QF(){}HT.prototype.h=null;var GT,Up={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zT(){Jr.call(this,"d")}function qT(){Jr.call(this,"c")}function hv(){}function Bp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Fp(this),this.P=SQ,this.V=new uv(n=TT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YF}function YF(){this.i=null,this.g="",this.h=!1}wr(zT,Jr),wr(qT,Jr),wr(hv,HT),hv.prototype.g=function(){return new XMLHttpRequest},hv.prototype.i=function(){return{}},GT=new hv;var SQ=45e3,JF={},WT={};function KT(n,e,t){n.L=1,n.A=mv(_a(e)),n.u=t,n.S=!0,XF(n,null)}function XF(n,e){n.G=Date.now(),jp(n),n.B=_a(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),lV(t.i,"t",r),n.o=0,t=n.l.J,n.h=new YF,n.g=NV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new CQ(Yr(n.Pa,n,n.g),n.O)),$F(n.U,n.g,"readystatechange",n.nb),e=n.I?RF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Vp(),function TQ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var g=h.split("_");o=2<=g.length&&"type"==g[1]?o+(h+"=")+c+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function eV(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function tV(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=PQ(n,t),i==WT){4==e&&(n.s=4,vi(14),r=!1),Hd(n.j,n.m,null,"[Incomplete Response]");break}if(i==JF){n.s=4,vi(15),Hd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hd(n.j,n.m,i,null),ZT(n,i)}eV(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nb(e),e.M=!0,vi(11))):(Hd(n.j,n.m,t,"[Invalid Chunked Response]"),Ol(n),$p(n))}function PQ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?WT:(t=Number(e.substring(t,r)),isNaN(t)?JF:(r+=1)+t>e.length?WT:(e=e.slice(r,r+t),n.o=r+t,e))}function jp(n){n.Y=Date.now()+n.P,nV(n,n.P)}function nV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Lp(Yr(n.lb,n),e)}function fv(n){n.C&&(tt.clearTimeout(n.C),n.C=null)}function $p(n){0==n.l.H||n.J||PV(n.l,n)}function Ol(n){fv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jT(n.V),HF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ZT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||QT(t.i,n)))if(!n.K&&QT(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wv(t),Ev(t)}tb(t),vi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Lp(Yr(t.ib,t),6e3));if(1>=hV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fl(t,11)}else if((n.K||t.g==n)&&wv(t),!Mp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const g=c[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(YT(s,s.h),s.h=null))}if(r.F){const T=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,hn(r.I,r.F,T))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=xV(r,r.J?r.pa:null,r.Y),o.K){fV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(fv(a),jp(a)),r.g=o}else AV(r);0<t.j.length&&Iv(t)}else"stop"!=c[0]&&"close"!=c[0]||Fl(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fl(t,7):eb(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Vp()}catch{}}function rV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function RQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(ve=Bp.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==So(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=So(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||TT||this.g&&(this.h.h||this.g.ja()||IV(this.g)))){this.J||4!=h||7==e||Vp(),fv(this);var t=this.g.da();this.ca=t;t:if(eV(this)){var r=IV(this.g);n="";var i=r.length,s=4==So(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ol(this),$p(this);var o="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function bQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,vi(12),Ol(this),$p(this);break e}Hd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZT(this,t)}this.S?(tV(this,h,o),TT&&this.i&&3==h&&($F(this.U,this.V,"tick",this.mb),this.V.start())):(Hd(this.j,this.m,o,null),ZT(this,o)),4==h&&Ol(this),this.i&&!this.J&&(4==h?PV(this.l,this):(this.i=!1,jp(this)))}else(function ZQ(n){const e={};n=(n.g&&2<=So(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Mp(n[r]))continue;var t=EQ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function fQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,vi(12)):(this.s=0,vi(13)),Ol(this),$p(this)}}}catch{}},ve.mb=function(){if(this.g){var n=So(this.g),e=this.g.ja();this.o<e.length&&(fv(this),tV(this,n,e),this.i&&4!=n&&jp(this))}},ve.cancel=function(){this.J=!0,Ol(this)},ve.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function DQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Vp(),vi(17)),Ol(this),this.s=2,$p(this)):nV(this,this.Y-n)};var iV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kl){this.h=n.h,pv(this,n.j),this.s=n.s,this.g=n.g,gv(this,n.m),this.l=n.l;var e=n.i,t=new qp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sV(this,t),this.o=n.o}else n&&(e=String(n).match(iV))?(this.h=!1,pv(this,e[1]||"",!0),this.s=Hp(e[2]||""),this.g=Hp(e[3]||"",!0),gv(this,e[4]),this.l=Hp(e[5]||"",!0),sV(this,e[6]||"",!0),this.o=Hp(e[7]||"")):(this.h=!1,this.i=new qp(null,this.h))}function _a(n){return new kl(n)}function pv(n,e,t){n.j=t?Hp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function sV(n,e,t){e instanceof qp?(n.i=e,function LQ(n,e){e&&!n.j&&(yu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(aV(this,r),lV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=zp(e,FQ)),n.i=new qp(e,n.h))}function hn(n,e,t){n.i.set(e,t)}function mv(n){return hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,NQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zp(e,oV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zp(e,oV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(zp(t,"/"==t.charAt(0)?kQ:OQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zp(t,VQ)),n.join("")};var oV=/[#\/\?@]/g,OQ=/[#\?:]/g,kQ=/[#\?]/g,FQ=/[#\?@]/g,VQ=/#/g;function qp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yu(n){n.g||(n.g=new Map,n.h=0,n.i&&function xQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function aV(n,e){yu(n),e=zd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function uV(n,e){return yu(n),e=zd(n,e),n.g.has(e)}function lV(n,e,t){aV(n,e),0<t.length&&(n.i=null,n.g.set(zd(n,e),wT(t)),n.h+=t.length)}function zd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cV(n){this.l=n||BQ,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=qp.prototype).add=function(n,e){yu(this),this.i=null,n=zd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){yu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ve.ta=function(){yu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},ve.Z=function(n){yu(this);let e=[];if("string"==typeof n)uV(this,n)&&(e=e.concat(this.g.get(zd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return yu(this),this.i=null,uV(this,n=zd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var BQ=10;function dV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hV(n){return n.h?1:n.g?n.g.size:0}function QT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YT(n,e){n.g?n.g.add(e):n.h=e}function fV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return wT(n.i)}cV.prototype.cancel=function(){if(this.i=pV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var jQ=class{stringify(n){return tt.JSON.stringify(n,void 0)}parse(n){return tt.JSON.parse(n,void 0)}};function $Q(){this.g=new jQ}function HQ(n,e,t){const r=t||"";try{rV(n,function(i,s){let o=i;Rp(i)&&(o=UT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _v(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gp(n){this.l=n.ec||null,this.j=n.ob||!1}function yv(n,e){Cr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=JT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(Gp,HT),Gp.prototype.g=function(){return new yv(this.l,this.j)},Gp.prototype.i=function(n){return function(){return n}}({}),wr(yv,Cr);var JT=0;function gV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Wp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kp(n)}function Kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=yv.prototype).open=function(n,e){if(this.readyState!=JT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kp(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wp(this)),this.readyState=JT},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kp(this)),this.g&&(this.readyState=3,Kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wp(this):Kp(this),3==this.readyState&&gV(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,Wp(this))},ve.Ya=function(n){this.g&&(this.response=n,Wp(this))},ve.ka=function(){this.g&&Wp(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qQ=tt.JSON.parse;function Ln(n){Cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mV,this.L=this.M=!1}wr(Ln,Cr);var mV="",GQ=/^https?$/i,WQ=["POST","PUT"];function _V(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yV(n),vv(n)}function yV(n){n.F||(n.F=!0,Vr(n,"complete"),Vr(n,"error"))}function vV(n){if(n.h&&typeof ET<"u"&&(!n.C[1]||4!=So(n)||2!=n.da()))if(n.v&&4==So(n))$T(n.La,0,n);else if(Vr(n,"readystatechange"),4==So(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(iV)[1]||null;!i&&tt.self&&tt.self.location&&(i=tt.self.location.protocol.slice(0,-1)),r=!GQ.test(i?i.toLowerCase():"")}t=r}if(t)Vr(n,"complete"),Vr(n,"success");else{n.m=6;try{var s=2<So(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",yV(n)}}finally{vv(n)}}}function vv(n,e){if(n.g){EV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vr(n,"ready");try{t.onreadystatechange=r}catch{}}}function EV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function So(n){return n.g?n.g.readyState:0}function IV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case mV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wV(n){let e="";return RT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function XT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=wV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hn(n,e,t))}function Zp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function CV(n){this.Ga=0,this.j=[],this.l=new lv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zp("baseRetryDelayMs",5e3,n),this.hb=Zp("retryDelaySeedMs",1e4,n),this.eb=Zp("forwardChannelMaxRetries",2,n),this.xa=Zp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new cV(n&&n.concurrentRequestLimit),this.Ja=new $Q,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eb(n){if(TV(n),3==n.H){var e=n.W++,t=_a(n.I);if(hn(t,"SID",n.K),hn(t,"RID",e),hn(t,"TYPE","terminate"),Qp(n,t),(e=new Bp(n,n.l,e)).L=2,e.A=mv(_a(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.A,t=!0),t||(e.g=NV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jp(e)}MV(n)}function Ev(n){n.g&&(nb(n),n.g.cancel(),n.g=null)}function TV(n){Ev(n),n.u&&(tt.clearTimeout(n.u),n.u=null),wv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function Iv(n){if(!dV(n.i)&&!n.m){n.m=!0;var e=n.Na;Op||UF(),kp||(Op(),kp=!0),BT.add(e,n),n.C=0}}function bV(n,e){var t;t=e?e.m:n.W++;const r=_a(n.I);hn(r,"SID",n.K),hn(r,"RID",t),hn(r,"AID",n.V),Qp(n,r),n.o&&n.s&&XT(r,n.o,n.s),t=new Bp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=DV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),YT(n.i,t),KT(t,r,e)}function Qp(n,e){n.na&&RT(n.na,function(t,r){hn(e,r,t)}),n.h&&rV({},function(t,r){hn(e,r,t)})}function DV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Yr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const h=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{HQ(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function AV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Op||UF(),kp||(Op(),kp=!0),BT.add(e,n),n.A=0}}function tb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Lp(Yr(n.Ma,n),RV(n,n.A)),n.A++,0))}function nb(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function SV(n){n.g=new Bp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_a(n.wa);hn(e,"RID","rpc"),hn(e,"SID",n.K),hn(e,"AID",n.V),hn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&hn(e,"TO",n.qa),hn(e,"TYPE","xmlhttp"),Qp(n,e),n.o&&n.s&&XT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=mv(_a(e)),t.u=null,t.S=!0,XF(t,n)}function wv(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function PV(n,e){var t=null;if(n.g==e){wv(n),nb(n),n.g=null;var r=2}else{if(!QT(n.i,e))return;t=e.F,fV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Vr(r=cv(),new WF(r,t)),Iv(n)}else AV(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function QQ(n,e){return!(hV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Lp(Yr(n.Na,n,e),RV(n,n.C)),n.C++,0)))}(n,e)||2==r&&tb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Fl(n,5);break;case 4:Fl(n,10);break;case 3:Fl(n,6);break;default:Fl(n,2)}}function RV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Yr(n.pb,n);t||(t=new kl("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||pv(t,"https"),mv(t)),function zQ(n,e){const t=new lv;if(tt.Image){const r=new Image;r.onload=rv(_v,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rv(_v,t,r,"TestLoadImage: error",!1,e),r.onabort=rv(_v,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rv(_v,t,r,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.H=0,n.h&&n.h.za(e),MV(n),TV(n)}function MV(n){if(n.H=0,n.ma=[],n.h){const e=pV(n.i);(0!=e.length||0!=n.j.length)&&(bF(n.ma,e),bF(n.ma,n.j),n.i.i.length=0,wT(n.j),n.j.length=0),n.h.ya()}}function xV(n,e,t){var r=t instanceof kl?_a(t):new kl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gv(r,r.m);else{var i=tt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new kl(null);r&&pv(s,r),e&&(s.g=e),i&&gv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&hn(r,t,e),hn(r,"VER",n.ra),Qp(n,r),r}function NV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(n.Ha&&!n.va?new Gp({ob:t}):n.va)).Oa(n.J),e}function OV(){}function Cv(){if($d&&!(10<=Number(lQ)))throw Error("Environmental error: no available transport.")}function is(n,e){Cr.call(this),this.g=new CV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Mp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qd(this)}function kV(n){zT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FV(){qT.call(this),this.status=1}function qd(n){this.g=n}function Zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rb(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function zt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(ve=Ln.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GT.g(),this.C=function ZF(n){return n.h||(n.h=n.i())}(this.u?this.u:GT),this.g.onreadystatechange=Yr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void _V(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=tt.FormData&&n instanceof tt.FormData,!(0<=TF(WQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EV(this),0<this.B&&((this.L=function KQ(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.ua,this)):this.A=$T(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){_V(this,s)}},ve.ua=function(){typeof ET<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vr(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vr(this,"complete"),Vr(this,"abort"),vv(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vv(this,!0)),Ln.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?vV(this):this.kb())},ve.kb=function(){vV(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<So(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qQ(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=CV.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Bp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=RF(s),xF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=DV(this,i,e),hn(t=_a(this.I),"RID",n),hn(t,"CVER",22),this.F&&hn(t,"X-HTTP-Session-Id",this.F),Qp(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(wV(s)))+"&"+e:this.o&&XT(t,this.o,s)),YT(this.i,i),this.bb&&hn(t,"TYPE","init"),this.P?(hn(t,"$req",e),hn(t,"SID","null"),i.aa=!0,KT(i,t,null)):KT(i,t,e),this.H=2}}else 3==this.H&&(n?bV(this,n):0==this.j.length||dV(this.i)||bV(this))},ve.Ma=function(){if(this.u=null,SV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Lp(Yr(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vi(10),Ev(this),SV(this))},ve.ib=function(){null!=this.v&&(this.v=null,Ev(this),tb(this),vi(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vi(2)):(this.l.info("Failed to ping google.com"),vi(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=OV.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Cv.prototype.g=function(n,e){return new is(n,e)},wr(is,Cr),is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xV(n,null,n.Y),Iv(n)},is.prototype.close=function(){eb(this.g)},is.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=UT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Iv(e)},is.prototype.N=function(){this.g.h=null,delete this.j,eb(this.g),delete this.g,is.$.N.call(this)},wr(kV,zT),wr(FV,qT),wr(qd,OV),qd.prototype.Ba=function(){Vr(this.g,"a")},qd.prototype.Aa=function(n){Vr(this.g,new kV(n))},qd.prototype.za=function(n){Vr(this.g,new FV)},qd.prototype.ya=function(){Vr(this.g,"b")},wr(Zs,function YQ(){this.blockSize=-1}),Zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)rb(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){rb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){rb(this,r),i=0;break}}this.h=i,this.i+=e},Zs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var JQ={};function ib(n){return-128<=n&&128>n?function oQ(n,e){var t=JQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zt([0|e],0>e?-1:0)}):new zt([0|n],0>n?-1:0)}function Po(n){if(isNaN(n)||!isFinite(n))return Gd;if(0>n)return Lr(Po(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=sb;return new zt(e,0)}var sb=4294967296,Gd=ib(0),ob=ib(1),LV=ib(16777216);function ya(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ss(n){return-1==n.h}function Lr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zt(t,~n.h).add(ob)}function Tv(n,e){return n.add(Lr(e))}function bv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Yp(n,e){this.g=n,this.h=e}function Dv(n,e){if(ya(e))throw Error("division by zero");if(ya(n))return new Yp(Gd,Gd);if(Ss(n))return e=Dv(Lr(n),e),new Yp(Lr(e.g),Lr(e.h));if(Ss(e))return e=Dv(n,Lr(e)),new Yp(Lr(e.g),e.h);if(30<n.g.length){if(Ss(n)||Ss(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ob,r=e;0>=r.X(n);)t=UV(t),r=UV(r);var i=Wd(t,1),s=Wd(r,1);for(r=Wd(r,2),t=Wd(t,2);!ya(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Wd(r,1),t=Wd(t,1)}return e=Tv(n,i.R(e)),new Yp(i,e)}for(i=Gd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Po(t)).R(e);Ss(o)||0<o.X(n);)o=(s=Po(t-=r)).R(e);ya(s)&&(s=ob),i=i.add(s),n=Tv(n,o)}return new Yp(i,n)}function UV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zt(t,n.h)}function Wd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new zt(i,n.h)}(ve=zt.prototype).ea=function(){if(Ss(this))return-Lr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:sb+r)*e,e*=sb}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ya(this))return"0";if(Ss(this))return"-"+Lr(this).toString(n);for(var e=Po(Math.pow(n,6)),t=this,r="";;){var i=Dv(t,e).g,s=((0<(t=Tv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ya(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return Ss(n=Tv(this,n))?-1:ya(n)?0:1},ve.abs=function(){return Ss(this)?Lr(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new zt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(ya(this)||ya(n))return Gd;if(Ss(this))return Ss(n)?Lr(this).R(Lr(n)):Lr(Lr(this).R(n));if(Ss(n))return Lr(this.R(Lr(n)));if(0>this.X(LV)&&0>n.X(LV))return Po(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,bv(t,2*r+2*i),t[2*r+2*i+1]+=s*u,bv(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,bv(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,bv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zt(t,0)},ve.gb=function(n){return Dv(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zt(t,this.h^n.h)},Cv.prototype.createWebChannel=Cv.prototype.g,is.prototype.send=is.prototype.u,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,dv.NO_ERROR=0,dv.TIMEOUT=8,dv.HTTP_ERROR=6,KF.COMPLETE="complete",QF.EventType=Up,Up.OPEN="a",Up.CLOSE="b",Up.ERROR="c",Up.MESSAGE="d",Cr.prototype.listen=Cr.prototype.O,Ln.prototype.listenOnce=Ln.prototype.P,Ln.prototype.getLastError=Ln.prototype.Sa,Ln.prototype.getLastErrorCode=Ln.prototype.Ia,Ln.prototype.getStatus=Ln.prototype.da,Ln.prototype.getResponseJson=Ln.prototype.Wa,Ln.prototype.getResponseText=Ln.prototype.ja,Ln.prototype.send=Ln.prototype.ha,Ln.prototype.setWithCredentials=Ln.prototype.Oa,Zs.prototype.digest=Zs.prototype.l,Zs.prototype.reset=Zs.prototype.reset,Zs.prototype.update=Zs.prototype.j,zt.prototype.add=zt.prototype.add,zt.prototype.multiply=zt.prototype.R,zt.prototype.modulo=zt.prototype.gb,zt.prototype.compare=zt.prototype.X,zt.prototype.toNumber=zt.prototype.ea,zt.prototype.toString=zt.prototype.toString,zt.prototype.getBits=zt.prototype.D,zt.fromNumber=Po,zt.fromString=function VV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Lr(VV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Po(Math.pow(e,8)),r=Gd,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Po(Math.pow(e,s)),r=r.R(s).add(Po(o))):r=(r=r.R(t)).add(Po(o))}return r};var XQ=Ks.createWebChannelTransport=function(){return new Cv},eY=Ks.getStatEventTarget=function(){return cv()},ab=Ks.ErrorCode=dv,tY=Ks.EventType=KF,nY=Ks.Event=Nl,BV=Ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Av=(Ks.FetchXmlHttpFactory=Gp,Ks.WebChannel=QF),rY=Ks.XhrIo=Ln,iY=Ks.Md5=Zs,Kd=Ks.Integer=zt;const jV="@firebase/firestore";class Tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let Zd="10.7.0";const vu=new To.Yd("@firebase/firestore");function Qd(){return vu.logLevel}function ue(n,...e){if(vu.logLevel<=To.in.DEBUG){const t=e.map(ub);vu.debug(`Firestore (${Zd}): ${n}`,...t)}}function er(n,...e){if(vu.logLevel<=To.in.ERROR){const t=e.map(ub);vu.error(`Firestore (${Zd}): ${n}`,...t)}}function Li(n,...e){if(vu.logLevel<=To.in.WARN){const t=e.map(ub);vu.warn(`Firestore (${Zd}): ${n}`,...t)}}function ub(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function De(n="Unexpected state"){const e=`FIRESTORE (${Zd}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function Oe(n,e){n||De()}function he(n,e){return n}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tr.UNAUTHENTICATED))}shutdown(){}}class uY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lY{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,Y.Z)(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe("string"==typeof r.accessToken),new $V(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(null===e||"string"==typeof e),new Tr(e)}}class cY{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dY{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new cY(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe("string"==typeof t.token),this.R=t.token,new HV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Yd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qV(n){return n+"\0"}class Cn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Cn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Cn(0,0))}static max(){return new ke(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jp{constructor(e,t,r){void 0===t?t=0:t>e.length&&De(),void 0===r?r=e.length-t:r>e.length-t&&De(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class St extends Jp{construct(e,t,r){return new St(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new St(t)}static emptyPath(){return new St([])}}const pY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Jp{construct(e,t,r){return new fn(e,t,r)}static isValidIdentifier(e){return pY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(St.fromString(e))}static fromName(e){return new pe(St.fromString(e).popFirst(5))}static empty(){return new pe(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===St.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new St(e.slice()))}}class Jd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function lb(n){return n.fields.find(e=>2===e.kind)}function Vl(n){return n.fields.filter(e=>2!==e.kind)}Jd.UNKNOWN_ID=-1;class Ll{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xd(0,ss.min())}}function GV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new Cn(t+1,0):new Cn(t,r));return new ss(i,pe.empty(),e)}function WV(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ss(ke.min(),pe.empty(),-1)}static max(){return new ss(ke.max(),pe.empty(),-1)}}function cb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Ye(n.largestBatchId,e.largestBatchId))}const KV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eu(n){return db.apply(this,arguments)}function db(){return db=(0,Y.Z)(function*(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==KV)throw n;ue("LocalStore","Unexpectedly lost primary lease")}),db.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,r)=>{t(e)})}static reject(e){return new V((t,r)=>{r(e)})}static waitFor(e){return new V((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=V.resolve(!1);for(const r of e)t=t.next(i=>i?V.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new V((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Sv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xp(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=hb(r.target.error);this.V.reject(new Xp(e,i))}}static open(e,t,r,i){try{return new Sv(t,e.transaction(i,r))}catch(s){throw new Xp(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yY(t)}}class Qs{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Qs.S((0,tn.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),Ul(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,tn.hl)())return!1;if(Qs.C())return!0;const e=(0,tn.z$)(),t=Qs.S(e),r=0<t&&t<10,i=Qs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Y.Z)(function*(){return t.db||(ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Xp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ie(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Xp(e,a))},s.onupgradeneeded=o=>{ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Y.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=Sv.open(s.db,e,o?"readonly":"readwrite",r),c=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),V.reject(h))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,h="FirebaseError"!==c.name&&a<3;if(ue("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _Y{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ul(this.k.delete())}}class Xp extends ie{constructor(e,t){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Iu(n){return"IndexedDbTransactionError"===n.name}class yY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ul(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),Ul(this.store.add(e))}get(e){return Ul(this.store.get(e)).next(t=>(void 0===t&&(t=null),ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),Ul(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),Ul(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new V((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new V((r,i)=>{t.onerror=s=>{const o=hb(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new _Y(a),c=t(a.primaryKey,a.value,u);if(c instanceof V){const h=c.catch(g=>(u.done(),V.reject(g)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>V.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ul(n){return new V((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=hb(r.target.error);t(i)}})}let QV=!1;function hb(n){const e=Qs.S((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QV||(QV=!0,setTimeout(()=>{throw r},0)),r}}return n}class vY{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Y.Z)(function*(){t.task=null;try{ue("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Iu(r)?ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Eu(r)}yield t.ee(6e4)}))}}class EY{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return V.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ue("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ue("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=WV(s);cb(o,r)>0&&(r=o)}),new ss(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let os=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function eg(n){return null==n}function tg(n){return 0===n&&1/n==-1/0}function YV(n){return"number"==typeof n&&Number.isInteger(n)&&!tg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Xr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=JV(e)),e=IY(n.get(t),e);return JV(e)}function IY(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function JV(n){return n+"\x01\x01"}function Ro(n){const e=n.length;if(Oe(e>=2),2===e)return Oe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),St.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&De(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:De()}s=o+2}return new St(r)}const XV=["userId","batchId"];function Pv(n,e){return[n,Xr(e)]}function eL(n,e,t){return[n,Xr(e),t]}const wY={},CY=["prefixPath","collectionGroup","readTime","documentId"],TY=["prefixPath","collectionGroup","documentId"],bY=["collectionGroup","readTime","prefixPath","documentId"],DY=["canonicalId","targetId"],AY=["targetId","path"],SY=["path","targetId"],PY=["collectionId","parent"],RY=["indexId","uid"],MY=["uid","sequenceNumber"],xY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NY=["indexId","uid","orderedDocumentKey"],OY=["userId","collectionPath","documentId"],kY=["userId","collectionPath","largestBatchId"],FY=["userId","collectionGroup","largestBatchId"],tL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VY=[...tL,"documentOverlays"],nL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rL=nL,LY=[...rL,"indexConfiguration","indexState","indexEntries"];class fb extends ZV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function br(n,e){const t=he(n);return Qs.M(t.ae,e)}function iL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class on{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ur.RED,this.left=i??Ur.EMPTY,this.right=s??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ur(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ur(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oL(this.data.getIterator())}getIteratorFrom(e){return new oL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class oL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(n){return n.hasNext()?n.getNext():void 0}class Ui{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new Wt(fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class aL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aL("Invalid base64 string: "+s):s}}(e);return new vr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const BY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cu(n){if(Oe(!!n),"string"==typeof n){let e=0;const t=BY.exec(n);if(Oe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function va(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function Mv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xv(n){const e=n.mapValue.fields.__previous_value__;return Mv(e)?xv(e):e}function ng(n){const e=Cu(n.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}class jY{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nv={nullValue:"NULL_VALUE"};function Du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mv(n)?4:dL(n)?9007199254740991:10:De()}function Mo(n,e){if(n===e)return!0;const t=Du(n);if(t!==Du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ng(n).isEqual(ng(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Cu(i.timestampValue),a=Cu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,va(n.bytesValue).isEqual(va(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Un(i.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Un(i.integerValue)===Un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Un(i.doubleValue),a=Un(s.doubleValue);return o===a?tg(o)===tg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Yd(n.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(iL(o)!==iL(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Mo(o[u],a[u])))return!1;return!0}(n,e);default:return De()}var s}function rg(n,e){return void 0!==(n.values||[]).find(t=>Mo(t,e))}function Au(n,e){if(n===e)return 0;const t=Du(n),r=Du(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Un(s.integerValue||s.doubleValue),u=Un(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return uL(n.timestampValue,e.timestampValue);case 4:return uL(ng(n),ng(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(s,o){const a=va(s),u=va(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ye(a[c],u[c]);if(0!==h)return h}return Ye(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ye(Un(s.latitude),Un(o.latitude));return 0!==a?a:Ye(Un(s.longitude),Un(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=Au(a[c],u[c]);if(h)return h}return Ye(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bu.mapValue&&o===bu.mapValue)return 0;if(s===bu.mapValue)return 1;if(o===bu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const m=Ye(u[g],h[g]);if(0!==m)return m;const y=Au(a[u[g]],c[h[g]]);if(0!==y)return y}return Ye(u.length,h.length)}(n.mapValue,e.mapValue);default:throw De()}}function uL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ye(n,e);const t=Cu(n),r=Cu(e),i=Ye(t.seconds,r.seconds);return 0!==i?i:Ye(t.nanos,r.nanos)}function th(n){return pb(n)}function pb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Cu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?va(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=pb(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${pb(t.fields[o])}`;return i+"}"}(n.mapValue):De()}function Bl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gb(n){return!!n&&"integerValue"in n}function ig(n){return!!n&&"arrayValue"in n}function lL(n){return!!n&&"nullValue"in n}function cL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kv(n){return!!n&&"mapValue"in n}function sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function $Y(n){return"nullValue"in n?Nv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Bl(Tu.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:De()}function HY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Bl(Tu.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bu:De()}function hL(n,e){const t=Au(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fL(n,e){const t=Au(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sg(t)}setAll(e){let t=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=sg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Br(sg(this.value))}}function pL(n){const e=[];return wu(n.fields,(t,r)=>{const i=new fn([t]);if(kv(r)){const s=pL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ui(e)}class pn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,ke.min(),ke.min(),ke.min(),Br.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,ke.min(),ke.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,ke.min(),ke.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Su{constructor(e,t){this.position=e,this.inclusive=t}}function gL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?pe.comparator(pe.fromName(o.referenceValue),t.key):Au(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function mL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mo(n.position[t],e.position[t]))return!1;return!0}class og{constructor(e,t="asc"){this.field=e,this.dir=t}}function zY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _L{}class bt extends _L{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new qY(e,t,r):"array-contains"===t?new KY(e,r):"in"===t?new CL(e,r):"not-in"===t?new ZY(e,r):"array-contains-any"===t?new QY(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new GY(e,r):new WY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Au(t,this.value)):null!==t&&Du(this.value)===Du(t)&&this.matchesComparison(Au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends _L{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new qt(e,t)}matches(e){return nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nh(n){return"and"===n.op}function mb(n){return"or"===n.op}function _b(n){return yL(n)&&nh(n)}function yL(n){for(const e of n.filters)if(e instanceof qt)return!1;return!0}function yb(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+th(n.value);if(_b(n))return n.filters.map(e=>yb(e)).join(",");{const e=n.filters.map(t=>yb(t)).join(",");return`${n.op}(${e})`}}function vL(n,e){return n instanceof bt?(r=n,(i=e)instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&Mo(r.value,i.value)):n instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&vL(o,i.filters[a]),!0)}(n,e):void De();var r,i}function EL(n,e){const t=n.filters.concat(e);return qt.create(t,n.op)}function IL(n){return n instanceof bt?`${(t=n).field.canonicalString()} ${t.op} ${th(t.value)}`:n instanceof qt?function(t){return t.op.toString()+" {"+t.getFilters().map(IL).join(" ,")+"}"}(n):"Filter";var t}class qY extends bt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class GY extends bt{constructor(e,t){super(e,"in",t),this.keys=wL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WY extends bt{constructor(e,t){super(e,"not-in",t),this.keys=wL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class KY extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&rg(t.arrayValue,this.value)}}class CL extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rg(this.value.arrayValue,t)}}class ZY extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rg(this.value.arrayValue,t)}}class QY extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rg(this.value.arrayValue,r))}}class YY{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function vb(n,e=null,t=[],r=[],i=null,s=null,o=null){return new YY(n,e,t,r,i,s,o)}function jl(n){const e=he(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>th(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>th(r)).join(",")),e.ce=t}return e.ce}function ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mL(n.startAt,e.startAt)&&mL(n.endAt,e.endAt)}function Fv(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Vv(n,e){return n.filters.filter(t=>t instanceof bt&&t.field.isEqual(e))}function TL(n,e,t){let r=Nv,i=!0;for(const s of Vv(n,e)){let o=Nv,a=!0;switch(s.op){case"<":case"<=":o=$Y(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Nv}hL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];hL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function bL(n,e,t){let r=bu,i=!0;for(const s of Vv(n,e)){let o=bu,a=!0;switch(s.op){case">=":case">":o=HY(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=bu}fL({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];fL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Ea{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function DL(n,e,t,r,i,s,o,a){return new Ea(n,e,t,r,i,s,o,a)}function rh(n){return new Ea(n)}function AL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Eb(n){return null!==n.collectionGroup}function ih(n){const e=he(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(fn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new og(s,r))}),t.has(fn.keyField().canonicalString())||e.le.push(new og(fn.keyField(),r))}return e.le}function Ei(n){const e=he(n);return e.he||(e.he=function SL(n,e){if("F"===n.limitType)return vb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new og(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Su(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Su(n.startAt.position,n.startAt.inclusive):null;return vb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ih(n))),e.he}function Ib(n,e){const t=n.filters.concat([e]);return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lv(n,e,t){return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ug(n,e){return ag(Ei(n),Ei(e))&&n.limitType===e.limitType}function PL(n){return`${jl(Ei(n))}|lt:${n.limitType}`}function sh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>IL(i)).join(", ")}]`),eg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>th(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>th(i)).join(",")),`Target(${r})`}(Ei(n))}; limitType=${n.limitType})`}function lg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ih(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=gL(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ih(r),i)||r.endAt&&!function(o,a,u){const c=gL(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ih(r),i)));var r,i}function RL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ML(n){return(e,t)=>{let r=!1;for(const i of ih(n)){const s=JY(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function JY(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Au(u,c):De()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sL(this.inner)}size(){return this.innerSize}}const XY=new on(pe.comparator);function Bi(){return XY}const xL=new on(pe.comparator);function cg(...n){let e=xL;for(const t of n)e=e.insert(t.key,t);return e}function NL(n){let e=xL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xo(){return dg()}function OL(){return dg()}function dg(){return new Ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const eJ=new on(pe.comparator),tJ=new Wt(pe.comparator);function ot(...n){let e=tJ;for(const t of n)e=e.add(t);return e}const nJ=new Wt(Ye);function wb(){return nJ}function kL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function FL(n){return{integerValue:""+n}}function VL(n,e){return YV(e)?FL(e):kL(n,e)}class Uv{constructor(){this._=void 0}}function rJ(n,e,t){return n instanceof oh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mv(s)&&(s=xv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof $l?UL(n,e):n instanceof Hl?BL(n,e):function(i,s){const o=LL(i,s),a=jL(o)+jL(i.Ie);return gb(o)&&gb(i.Ie)?FL(a):kL(i.serializer,a)}(n,e)}function iJ(n,e,t){return n instanceof $l?UL(n,e):n instanceof Hl?BL(n,e):t}function LL(n,e){return n instanceof ah?gb(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class oh extends Uv{}class $l extends Uv{constructor(e){super(),this.elements=e}}function UL(n,e){const t=$L(e);for(const r of n.elements)t.some(i=>Mo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Hl extends Uv{constructor(e){super(),this.elements=e}}function BL(n,e){let t=$L(e);for(const r of n.elements)t=t.filter(i=>!Mo(i,r));return{arrayValue:{values:t}}}class ah extends Uv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jL(n){return Un(n.integerValue||n.doubleValue)}function $L(n){return ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hg{constructor(e,t){this.field=e,this.transform=t}}class oJ{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jv{}function HL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lh(n.key,Tn.none()):new uh(n.key,n.data,Tn.none());{const t=n.data,r=Br.empty();let i=new Wt(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new wa(n.key,r,new Ui(i.toArray()),Tn.none())}}function aJ(n,e,t){n instanceof uh?function(i,s,o){const a=i.value.clone(),u=GL(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof wa?function(i,s,o){if(!Bv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GL(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(qL(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fg(n,e,t,r){return n instanceof uh?function(s,o,a,u){if(!Bv(s.precondition,o))return a;const c=s.value.clone(),h=WL(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof wa?function(s,o,a,u){if(!Bv(s.precondition,o))return a;const c=WL(s.fieldTransforms,u,o),h=o.data;return h.setAll(qL(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,Bv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function uJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=LL(r.transform,i||null);null!=s&&(null===t&&(t=Br.empty()),t.set(r.field,s))}return t||null}function zL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Yd(r,i,(s,o)=>function sJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof $l&&i instanceof $l||r instanceof Hl&&i instanceof Hl?Yd(r.elements,i.elements,Mo):r instanceof ah&&i instanceof ah?Mo(r.Ie,i.Ie):r instanceof oh&&i instanceof oh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class uh extends jv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wa extends jv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GL(n,e,t){const r=new Map;Oe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,iJ(o,a,t[i]))}return r}function WL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,rJ(s,o,e))}return r}class lh extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=OL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=HL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&Yd(this.mutations,e.mutations,(t,r)=>zL(t,r))&&Yd(this.baseMutations,e.baseMutations,(t,r)=>zL(t,r))}}class bb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Oe(e.mutations.length===r.length);let i=eJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bb(e,t,r,i)}}class Db{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var cr,Pt;function KL(n){switch(n){default:return De();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function ZL(n){if(void 0===n)return er("GRPC error has no .code"),H.UNKNOWN;switch(n){case cr.OK:return H.OK;case cr.CANCELLED:return H.CANCELLED;case cr.UNKNOWN:return H.UNKNOWN;case cr.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case cr.INTERNAL:return H.INTERNAL;case cr.UNAVAILABLE:return H.UNAVAILABLE;case cr.UNAUTHENTICATED:return H.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case cr.NOT_FOUND:return H.NOT_FOUND;case cr.ALREADY_EXISTS:return H.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return H.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case cr.ABORTED:return H.ABORTED;case cr.OUT_OF_RANGE:return H.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return H.UNIMPLEMENTED;case cr.DATA_LOSS:return H.DATA_LOSS;default:return De()}}(Pt=cr||(cr={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function QL(){return new TextEncoder}const dJ=new Kd([4294967295,4294967295],0);function YL(n){const e=QL().encode(n),t=new iY;return t.update(e),new Uint8Array(t.digest())}function JL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kd([t,r],0),new Kd([i,s],0)]}class Ab{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pg(`Invalid padding: ${t}`);if(r<0)throw new pg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new pg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Kd.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Kd.fromNumber(r)));return 1===i.compare(dJ)&&(i=new Kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=YL(e),[r,i]=JL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ab(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=YL(e),[r,i]=JL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gg(ke.min(),i,new on(Ye),Bi(),ot())}}class mg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mg(r,t,ot(),ot(),ot())}}class Hv{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class XL{constructor(e,t){this.targetId=e,this.fe=t}}class e2{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class t2{constructor(){this.ge=0,this.pe=r2(),this.ye=vr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),r=ot();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:De()}}),new mg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=r2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class hJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Bi(),this.Qe=n2(),this.Ke=new on(Ye)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(Fv(s))if(0===r){const o=new pe(s.path);this.We(t,o,pn.newNoDocument(o,ke.min()))}else Oe(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=va(r).toUint8Array()}catch(u){if(u instanceof aL)return Li("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ab(o,i,s)}catch(u){return Li(u instanceof pg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Fv(a.target)){const u=new pe(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,pn.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ot();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new gg(e,t,this.Ke,this.qe,r);return this.qe=Bi(),this.Qe=n2(),this.Ke=new on(Ye),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new t2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Wt(Ye),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new t2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function n2(){return new on(pe.comparator)}function r2(){return new on(pe.comparator)}const fJ={asc:"ASCENDING",desc:"DESCENDING"},pJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gJ={and:"AND",or:"OR"};class mJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sb(n,e){return n.useProto3Json||eg(e)?e:{value:e}}function ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _J(n,e){return ch(n,e.toTimestamp())}function tr(n){return Oe(!!n),ke.fromTimestamp(function(t){const r=Cu(t);return new Cn(r.seconds,r.nanos)}(n))}function Pb(n,e){return(r=n,new St(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function s2(n){const e=St.fromString(n);return Oe(p2(e)),e}function _g(n,e){return Pb(n.databaseId,e.path)}function No(n,e){const t=s2(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(a2(t))}function Rb(n,e){return Pb(n.databaseId,e)}function o2(n){const e=s2(n);return 4===e.length?St.emptyPath():a2(e)}function yg(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a2(n){return Oe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function u2(n,e,t){return{name:_g(n,e),fields:t.value.mapValue.fields}}function l2(n,e,t){const r=No(n,e.name),i=tr(e.updateTime),s=e.createTime?tr(e.createTime):ke.min(),o=new Br({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function vg(n,e){let t;if(e instanceof uh)t={update:u2(n,e.key,e.value)};else if(e instanceof lh)t={delete:_g(n,e.key)};else if(e instanceof wa)t={update:u2(n,e.key,e.data),updateMask:bJ(e.fieldMask)};else{if(!(e instanceof Cb))return De();t={verify:_g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:_J(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:De()),t;var s}function Mb(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Tn.updateTime(tr(s.updateTime)):void 0!==s.exists?Tn.exists(s.exists):Tn.none():Tn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(Oe("REQUEST_TIME"===a.setToServerValue),u=new oh):"appendMissingElements"in a?u=new $l(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Hl(a.removeAllFromArray.values||[]):"increment"in a?u=new ah(o,a.increment):De();const c=fn.fromServerFormat(a.fieldPath);return new hg(c,u)}(n,i)):[];var s;if(e.update){const i=No(n,e.update.name),s=new Br({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ui((e.updateMask.fieldPaths||[]).map(h=>fn.fromServerFormat(h)));return new wa(i,s,o,t,r)}return new uh(i,s,t,r)}if(e.delete){const i=No(n,e.delete);return new lh(i,t)}if(e.verify){const i=No(n,e.verify);return new Cb(i,t)}return De()}function c2(n,e){return{documents:[Rb(n,e.path)]}}function xb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Rb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return f2(qt.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Pu((g=c).field),direction:wJ(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=Sb(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function d2(n){let e=o2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Oe(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(g){const m=h2(g);return m instanceof qt&&_b(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new og(dh((w=m).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,eg(m)?null:m}(t.limit));let u=null;var g;t.startAt&&(u=new Su((g=t.startAt).values||[],!!g.before));let c=null;return t.endAt&&(c=function(g){return new Su(g.values||[],!g.before)}(t.endAt)),DL(e,i,o,s,a,"F",u,c)}function h2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=dh(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dh(t.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=dh(t.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dh(t.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):void 0!==n.fieldFilter?bt.create(dh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return qt.create(t.compositeFilter.filters.map(r=>h2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De();var t}function wJ(n){return fJ[n]}function CJ(n){return pJ[n]}function TJ(n){return gJ[n]}function Pu(n){return{fieldPath:n.canonicalString()}}function dh(n){return fn.fromServerFormat(n.fieldPath)}function f2(n){return n instanceof bt?function(t){if("=="===t.op){if(cL(t.value))return{unaryFilter:{field:Pu(t.field),op:"IS_NAN"}};if(lL(t.value))return{unaryFilter:{field:Pu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cL(t.value))return{unaryFilter:{field:Pu(t.field),op:"IS_NOT_NAN"}};if(lL(t.value))return{unaryFilter:{field:Pu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(t.field),op:CJ(t.op),value:t.value}}}(n):n instanceof qt?function(t){const r=t.getFilters().map(i=>f2(i));return 1===r.length?r[0]:{compositeFilter:{op:TJ(t.op),filters:r}}}(n):De()}function bJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ca{constructor(e,t,r,i,s=ke.min(),o=ke.min(),a=vr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g2{constructor(e){this.ut=e}}function m2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_g(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ch(s,o.version.toTimestamp()),createTime:ch(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zl(e.version)};else{if(!e.isUnknownDocument())return De();r.unknownDocument={path:t.path.toArray(),version:zl(e.version)}}var s,o;return r}function zv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ql(n){const e=new Cn(n.seconds,n.nanoseconds);return ke.fromTimestamp(e)}function Gl(n,e){const t=(e.baseMutations||[]).map(s=>Mb(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>Mb(n.ut,s)),i=Cn.fromMillis(e.localWriteTimeMs);return new Tb(e.batchId,i,t,r)}function Eg(n){const e=ql(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ql(n.lastLimboFreeSnapshotVersion):ke.min();let r;return r=void 0!==n.query.documents?(Oe(1===(s=n.query).documents.length),Ei(rh(o2(s.documents[0])))):function(s){return Ei(d2(s))}(n.query),new Ca(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken));var s}function _2(n,e){const t=zl(e.snapshotVersion),r=zl(e.lastLimboFreeSnapshotVersion);let i;i=Fv(e.target)?c2(n.ut,e.target):xb(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Nb(n){const e=d2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lv(e,e.limit,"L"):e}function Ob(n,e){return new Db(e.largestBatchId,Mb(n.ut,e.overlayMutation))}function y2(n,e){const t=e.path.lastSegment();return[n,Xr(e.path.popLast()),t]}function v2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zl(r.readTime),documentKey:Xr(r.documentKey.path),largestBatchId:r.largestBatchId}}class AJ{getBundleMetadata(e,t){return E2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ql(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return E2(e).put({bundleId:(i=t).id,createTime:zl(tr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return I2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Nb(s.bundledQuery),readTime:ql(s.readTime)};var s})}saveNamedQuery(e,t){return I2(e).put({name:(i=t).name,readTime:zl(tr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function E2(n){return br(n,"bundles")}function I2(n){return br(n,"namedQueries")}class qv{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new qv(e,t.uid||"")}getOverlay(e,t){return Ig(e).get(y2(this.userId,t)).next(r=>r?Ob(this.serializer,r):null)}getOverlays(e,t){const r=xo();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new Db(t,o);i.push(this.lt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Xr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ig(e).H("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,r){const i=xo(),s=Xr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ig(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const c=Ob(this.serializer,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=xo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ig(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,c,h)=>{const g=Ob(this.serializer,c);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return Ig(e).put(function(i,s,o){const[a,u,c]=y2(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:vg(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function Ig(n){return br(n,"documentOverlays")}class Wl{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Un(e.integerValue));else if("doubleValue"in e){const r=Un(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),tg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(va(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?dL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):De()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function SJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function w2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=SJ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Wl.St=new Wl;class PJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=w2(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=w2(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class RJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class MJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class wg{constructor(){this.Wt=new PJ,this.Gt=new RJ(this.Wt),this.zt=new MJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Kl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Kl(this.indexId,this.documentKey,this.arrayValue,r)}}function Ru(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=C2(n.arrayValue,e.arrayValue),0!==t?t:(t=C2(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function C2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class T2{constructor(e){this.Jt=new Wt((t,r)=>fn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Oe(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=lb(e);if(void 0!==t&&!this.tn(t))return!1;const r=Vl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Wt(fn.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Ll(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Ll(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Ll(r.field,"asc"===r.dir?0:1)));return new Jd(Jd.UNKNOWN_ID,this.collectionId,t,Xd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function b2(n){var e,t;if(Oe(n instanceof bt||n instanceof qt),n instanceof bt){if(n instanceof CL){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>bt.create(n.field,"==",s)))||[];return qt.create(i,"or")}return n}const r=n.filters.map(i=>b2(i));return qt.create(r,n.op)}function xJ(n){if(0===n.getFilters().length)return[];const e=Vb(b2(n));return Oe(D2(e)),kb(e)||Fb(e)?[e]:e.getFilters()}function kb(n){return n instanceof bt}function Fb(n){return n instanceof qt&&_b(n)}function D2(n){return kb(n)||Fb(n)||function(t){if(t instanceof qt&&mb(t)){for(const r of t.getFilters())if(!kb(r)&&!Fb(r))return!1;return!0}return!1}(n)}function Vb(n){if(Oe(n instanceof bt||n instanceof qt),n instanceof bt)return n;if(1===n.filters.length)return Vb(n.filters[0]);const e=n.filters.map(r=>Vb(r));let t=qt.create(e,n.op);return t=Gv(t),D2(t)?t:(Oe(t instanceof qt),Oe(nh(t)),Oe(t.filters.length>1),t.filters.reduce((r,i)=>Lb(r,i)))}function Lb(n,e){let t;return Oe(n instanceof bt||n instanceof qt),Oe(e instanceof bt||e instanceof qt),t=n instanceof bt?e instanceof bt?qt.create([n,e],"and"):A2(n,e):e instanceof bt?A2(e,n):function(i,s){if(Oe(i.filters.length>0&&s.filters.length>0),nh(i)&&nh(s))return EL(i,s.getFilters());const o=mb(i)?i:s,a=mb(i)?s:i,u=o.filters.map(c=>Lb(c,a));return qt.create(u,"or")}(n,e),Gv(t)}function A2(n,e){if(nh(e))return EL(e,n.getFilters());{const t=e.filters.map(r=>Lb(n,r));return qt.create(t,"or")}}function Gv(n){if(Oe(n instanceof bt||n instanceof qt),n instanceof bt)return n;const e=n.getFilters();if(1===e.length)return Gv(e[0]);if(yL(n))return n;const t=e.map(i=>Gv(i)),r=[];return t.forEach(i=>{i instanceof bt?r.push(i):i instanceof qt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:qt.create(r,n.op)}class NJ{constructor(){this.on=new Ub}addToCollectionParentIndex(e,t){return this.on.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(ss.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class Ub{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wt(St.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(St.comparator)).toArray()}}const Wv=new Uint8Array(0);class OJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Ub,this.an=new Ia(r=>jl(r),(r,i)=>ag(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Xr(i)};return S2(e).put(s)}return V.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qV(t),""],!1,!0);return S2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Ro(o.parent))}return r})}addFieldIndex(e,t){const r=Cg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=fh(e);return s.next(a=>{o.put(v2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Cg(e),i=fh(e),s=hh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Cg(e),r=hh(e),i=fh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return V.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new T2(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=hh(e);let i=!0;const s=new Map;return V.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ot();const a=[];return V.forEach(s,(u,c)=>{var R;ue("IndexedDbIndexManager",`Using index ${R=u,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${jl(t)}`);const h=function(R,Q){const fe=lb(Q);if(void 0===fe)return null;for(const Re of Vv(R,fe.fieldPath))switch(Re.op){case"array-contains-any":return Re.value.arrayValue.values||[];case"array-contains":return[Re.value]}return null}(c,u),g=function(R,Q){const fe=new Map;for(const Re of Vl(Q))for(const _t of Vv(R,Re.fieldPath))switch(_t.op){case"==":case"in":fe.set(Re.fieldPath.canonicalString(),_t.value);break;case"not-in":case"!=":return fe.set(Re.fieldPath.canonicalString(),_t.value),Array.from(fe.values())}return null}(c,u),m=function(R,Q){const fe=[];let Re=!0;for(const _t of Vl(Q)){const jn=0===_t.kind?TL(R,_t.fieldPath,R.startAt):bL(R,_t.fieldPath,R.startAt);fe.push(jn.value),Re&&(Re=jn.inclusive)}return new Su(fe,Re)}(c,u),y=function(R,Q){const fe=[];let Re=!0;for(const _t of Vl(Q)){const jn=0===_t.kind?bL(R,_t.fieldPath,R.endAt):TL(R,_t.fieldPath,R.endAt);fe.push(jn.value),Re&&(Re=jn.inclusive)}return new Su(fe,Re)}(c,u),w=this.ln(u,c,m),T=this.ln(u,c,y),A=this.hn(u,c,g),M=this.Pn(u.indexId,h,w,m.inclusive,T,y.inclusive,A);return V.forEach(M,L=>r.j(L,t.limit).next(R=>{R.forEach(Q=>{const fe=pe.fromSegments(Q.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return V.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:xJ(qt.create(e.filters,"and")).map(r=>vb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),c=u/(null!=t?t.length:1),h=[];for(let g=0;g<u;++g){const m=t?this.In(t[g/c]):Wv,y=this.Tn(e,m,r[g%c],i),w=this.En(e,m,s[g%c],o),T=a.map(A=>this.Tn(e,m,A,!0));h.push(...this.createRange(y,w,T))}return h}Tn(e,t,r,i){const s=new Kl(e,pe.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Kl(e,pe.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new T2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return V.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let c=new Wt(fn.comparator),h=!1;for(const g of u.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:c=c.add(m.field));for(const g of u.orderBy)g.field.isKeyField()||(c=c.add(g.field));return c.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new wg;for(const i of Vl(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Wl.St.ht(s,o)}return r.Ut()}In(e){const t=new wg;return Wl.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new wg;return Wl.St.ht(Bl(this.databaseId,t),r.jt(function(s){const o=Vl(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new wg);let s=0;for(const o of Vl(e)){const a=r[s++];for(const u of i)if(this.Rn(t,o.fieldPath)&&ig(a))i=this.Vn(i,o,a);else{const c=u.jt(o.kind);Wl.St.ht(a,c)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new wg;u.seed(a.Ut()),Wl.St.ht(o,u.jt(t.kind)),s.push(u)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof bt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Cg(e),i=fh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,g){const m=g?new Xd(g.sequenceNumber,new ss(ql(g.readTime),new pe(Ro(g.documentKey)),g.largestBatchId)):Xd.empty(),y=h.fields.map(([w,T])=>new Ll(fn.fromServerFormat(w),T));return new Jd(h.indexId,h.collectionGroup,y,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ye(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Cg(e),s=fh(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,u=>s.put(v2(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return V.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,u=>this.gn(e,i,u).next(c=>{const h=this.pn(s,u);return c.isEqual(h)?V.resolve():this.yn(e,s,u,c,h)}))))})}wn(e,t,r,i){return hh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return hh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=hh(e);let s=new Wt(Ru);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Kl(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Wt(Ru);const i=this.dn(t,e);if(null==i)return r;const s=lb(t);if(null!=s){const o=e.data.field(s.fieldPath);if(ig(o))for(const a of o.arrayValue.values||[])r=r.add(new Kl(t.indexId,e.key,this.In(a),i))}else r=r.add(new Kl(t.indexId,e.key,Wv,i));return r}yn(e,t,r,i,s){ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,c,h,g,m){const y=u.getIterator(),w=c.getIterator();let T=eh(y),A=eh(w);for(;T||A;){let M=!1,L=!1;if(T&&A){const R=h(T,A);R<0?L=!0:R>0&&(M=!0)}else null!=T?L=!0:M=!0;M?(g(A),A=eh(w)):L?(m(T),T=eh(y)):(T=eh(y),A=eh(w))}}(i,s,Ru,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),V.waitFor(o)}fn(e){let t=1;return fh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Ru(o,a)).filter((o,a,u)=>!a||0!==Ru(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Ru(o,e),u=Ru(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Wv,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Wv,[]]))}return s}bn(e,t){return Ru(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(P2)}getMinOffset(e,t){return V.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||De())).next(P2)}}function S2(n){return br(n,"collectionParents")}function hh(n){return br(n,"indexEntries")}function Cg(n){return br(n,"indexConfiguration")}function fh(n){return br(n,"indexState")}function P2(n){Oe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;cb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ss(e.readTime,e.documentKey,t)}const R2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ei{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function M2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Y({range:o},(h,g,m)=>(a++,m.delete()));s.push(u.next(()=>{Oe(1===a)}));const c=[];for(const h of t.mutations){const g=eL(e,h.key.path,t.batchId);s.push(i.delete(g)),c.push(h.key)}return V.waitFor(s).next(()=>c)}function Kv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De();e=n.noDocument}return JSON.stringify(e).length}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class Zv{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Oe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Zv(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=ph(e),o=Mu(e);return o.add({}).next(a=>{Oe("number"==typeof a);const u=new Tb(a,t,r,i),c=function(y,w,T){const A=T.baseMutations.map(L=>vg(y.ut,L)),M=T.mutations.map(L=>vg(y.ut,L));return{userId:w,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:A,mutations:M}}(this.serializer,this.userId,u),h=[];let g=new Wt((m,y)=>Ye(m.canonicalString(),y.canonicalString()));for(const m of i){const y=eL(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(o.put(c)),h.push(s.put(y,wY))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),V.waitFor(h).next(()=>u)})}lookupMutationBatch(e,t){return Mu(e).get(t).next(r=>r?(Oe(r.userId===this.userId),Gl(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?V.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Mu(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Oe(a.batchId>=r),s=Gl(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mu(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).W("userMutationsIndex",t).next(r=>r.map(i=>Gl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ph(e).Y({range:i},(o,a,u)=>{const[c,h,g]=o,m=Ro(h);if(c===this.userId&&t.path.isEqual(m))return Mu(e).get(g).next(y=>{if(!y)throw De();Oe(y.userId===this.userId),s.push(Gl(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ye);const i=[];return t.forEach(s=>{const o=Pv(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=ph(e).Y({range:a},(c,h,g)=>{const[m,y,w]=c,T=Ro(y);m===this.userId&&s.path.isEqual(T)?r=r.add(w):g.done()});i.push(u)}),V.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Pv(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Wt(Ye);return ph(e).Y({range:o},(u,c,h)=>{const[g,m,y]=u,w=Ro(m);g===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Mu(e).get(s).next(o=>{if(null===o)throw De();Oe(o.userId===this.userId),r.push(Gl(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return M2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ph(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Ro(s[1]);i.push(u)}else a.done()}).next(()=>{Oe(0===i.length)})})}containsKey(e,t){return x2(e,this.userId,t)}Mn(e){return N2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function x2(n,e,t){const r=Pv(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ph(n).Y({range:s,J:!0},(a,u,c)=>{const[h,g,m]=a;h===e&&g===i&&(o=!0),c.done()}).next(()=>o)}function Mu(n){return br(n,"mutations")}function ph(n){return br(n,"documentMutations")}function N2(n){return br(n,"mutationQueues")}class Zl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Zl(0)}static Nn(){return new Zl(-1)}}class kJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Zl(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>ke.fromTimestamp(new Cn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Oe(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return gh(e).Y((o,a)=>{const u=Eg(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,t){return gh(e).Y((r,i)=>{const s=Eg(i);t(s)})}Bn(e){return O2(e).get("targetGlobalKey").next(t=>(Oe(null!==t),t))}Ln(e,t){return O2(e).put("targetGlobalKey",t)}kn(e,t){return gh(e).put(_2(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const c=Eg(a);ag(t,c.target)&&(s=c,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=xu(e);return t.forEach(o=>{const a=Xr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,t,r){const i=xu(e);return V.forEach(t,s=>{const o=Xr(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=xu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=xu(e);let s=ot();return i.Y({range:r,J:!0},(o,a,u)=>{const c=Ro(o[1]),h=new pe(c);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=Xr(t.path),i=IDBKeyRange.bound([r],[qV(r)],!1,!0);let s=0;return xu(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}_t(e,t){return gh(e).get(t).next(r=>r?Eg(r):null)}}function gh(n){return br(n,"targets")}function O2(n){return br(n,"targetGlobal")}function xu(n){return br(n,"targetDocuments")}function k2([n,e],[t,r]){const i=Ye(n,t);return 0===i?Ye(e,r):i}class FJ{constructor(e){this.Qn=e,this.buffer=new Wt(k2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();k2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class F2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Y.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Iu(r)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Eu(r)}yield t.Gn(3e5)}))}}class VJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return V.resolve(os._e);const r=new FJ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(R2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(c=Date.now(),Qd()<=To.in.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(c-u)+`ms\nTotal Duration: ${c-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class LJ{constructor(e,t){this.db=e,this.garbageCollector=function V2(n,e){return new VJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return Qv(e,r)}removeReference(e,t,r){return Qv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qv(e,t)}Xn(e,t){return function(i,s){let o=!1;return N2(i).Z(a=>x2(i,a,s).next(u=>(u&&(o=!0),V.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const u=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ke.min()),xu(e).delete([0,Xr(o.path)])))});i.push(u)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qv(e,t)}Zn(e,t){const r=xu(e);let i,s=os._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:c})=>{0===o?(s!==os._e&&t(new pe(Ro(i)),s),s=c,i=u):s=os._e}).next(()=>{s!==os._e&&t(new pe(Ro(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qv(n,e){return xu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xr(e.path),sequenceNumber:i}));var i}class L2{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ql(e).put(r)}removeEntry(e,t,r){return Ql(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zv(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=pn.newInvalidDocument(t);return Ql(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tg(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:pn.newInvalidDocument(t)};return Ql(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tg(t))},(i,s)=>{r={document:this.tr(t,s),size:Kv(s)}}).next(()=>r)}getEntries(e,t){let r=Bi();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Bi(),i=new on(pe.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Kv(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return V.resolve();let i=new Wt($2);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(Tg(i.first()),Tg(i.last())),o=i.getIterator();let a=o.getNext();return Ql(e).Y({index:"documentKeyIndex",range:s},(u,c,h)=>{const g=pe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&$2(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.U(Tg(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),zv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ql(e).W(IDBKeyRange.bound(a,u,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let h=Bi();for(const g of c){const m=this.tr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(lg(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Bi();const o=j2(t,r),a=j2(t,ss.max());return Ql(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,c,h)=>{const g=this.tr(pe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(g.key,g),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new BJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return B2(e).get("remoteDocumentGlobalKey").next(t=>(Oe(!!t),t))}er(e,t){return B2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function DJ(n,e){let t;if(e.document)t=l2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=ql(e.noDocument.readTime);t=pn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De();{const r=pe.fromSegments(e.unknownDocument.path),i=ql(e.unknownDocument.version);t=pn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Cn(i[0],i[1]);return ke.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ke.min()))return r}return pn.newInvalidDocument(e)}}function U2(n){return new UJ(n)}class BJ extends L2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Ia(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wt((s,o)=>Ye(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=m2(this._r.serializer,o);i=i.add(s.path.popLast());const c=Kv(u);r+=c-a.size,t.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=m2(this._r.serializer,o.convertToNoDocument(ke.min()));t.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),V.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function B2(n){return br(n,"remoteDocumentGlobal")}function Ql(n){return br(n,"remoteDocumentsV14")}function Tg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function j2(n,e){const t=e.documentKey.path.toArray();return[n,zv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ye(t[s],r[s]),i)return i;return i=Ye(t.length,r.length),i||(i=Ye(t[t.length-2],r[r.length-2]),i||Ye(t[t.length-1],r[r.length-1]))}class jJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class H2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fg(r.mutation,i,Ui.empty(),Cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ot()){const i=xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=cg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ot()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Bi();const o=dg(),a=dg();return t.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(void 0===h||h.mutation instanceof wa)?s=s.insert(c.key,c):void 0!==h?(o.set(c.key,h.mutation.getFieldMask()),fg(h.mutation,c,h.mutation.getFieldMask(),Cn.now())):o.set(c.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),t.forEach((c,h)=>{var g;return a.set(c,new jJ(h,null!==(g=o.get(c))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dg();let i=new on((o,a)=>o-a),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let h=r.get(u)||Ui.empty();h=a.applyToLocalView(c,h),r.set(u,h);const g=(i.get(a.batchId)||ot()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,g=OL();h.forEach(m=>{if(!s.has(m)){const y=HL(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return pe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Eb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(xo());let a=-1,u=s;return o.next(c=>V.forEach(c,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ot())).next(h=>({batchId:a,changes:NL(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=cg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=cg();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,u=>{const c=(g=t,m=u.child(s),new Ea(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();null===o.get(h)&&(o=o.insert(h,pn.newInvalidDocument(h)))});let a=cg();return o.forEach((u,c)=>{const h=s.get(u);void 0!==h&&fg(h.mutation,c,Ui.empty(),Cn.now()),lg(t,c)&&(a=a.insert(u,c))}),a})}}class $J{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return V.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:tr(i.createTime)}),V.resolve();var i}getNamedQuery(e,t){return V.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Nb(i.bundledQuery),readTime:tr(i.readTime)}),V.resolve();var i}}class HJ{constructor(){this.overlays=new on(pe.comparator),this.lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xo();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){const i=xo(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new on((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let h=s.get(c.largestBatchId);null===h&&(h=xo(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=xo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return V.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Db(t,r));let s=this.lr.get(t);void 0===s&&(s=ot(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class Bb{constructor(){this.hr=new Wt(Dr.Pr),this.Ir=new Wt(Dr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Dr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Dr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new pe(new St([])),r=new Dr(t,e),i=new Dr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new St([])),r=new Dr(t,e),i=new Dr(t,e+1);let s=ot();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Dr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Dr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Ye(e.gr,t.gr)}static Tr(e,t){return Ye(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class zJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Wt(Dr.Pr)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new Tb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Dr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dr(t,0),i=new Dr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ye);return t.forEach(i=>{const s=new Dr(i,0),o=new Dr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Dr(new pe(s),0);let a=new Wt(Ye);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),V.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Oe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return V.forEach(t.mutations,i=>{const s=new Dr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Dr(t,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return V.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qJ{constructor(e){this.Cr=e,this.docs=new on(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bi();const o=t.path,a=new pe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||cb(WV(h),r)<=0||(i.has(h.key)||lg(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){De()}vr(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GJ(this)}getSize(e){return V.resolve(this.size)}}class GJ extends L2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class WJ{constructor(e){this.persistence=e,this.Fr=new Ia(t=>jl(t),ag),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Bb,this.targetCount=0,this.Nr=Zl.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),V.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Zl(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.kn(t),V.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),V.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Or.containsKey(t))}}class jb{constructor(e,t){this.Br={},this.overlays={},this.Lr=new os(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new WJ(this),this.indexManager=new NJ,this.remoteDocumentCache=new qJ(r=>this.referenceDelegate.Qr(r)),this.serializer=new g2(t),this.Kr=new $J(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new zJ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new KJ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class KJ extends ZV{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Gr=new Bb,this.zr=null}static jr(e){return new Yv(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=pe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return V.or([()=>V.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class ZJ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new Sv("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0}),u.createObjectStore("documentMutations"),z2(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),z2(e)),o=o.next(()=>function(u){const c=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,c){return c.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0});const g=c.store("mutations"),m=h.map(y=>g.put(y));return V.waitFor(m)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const c=u.createObjectStore("documentOverlays",{keyPath:OY});c.createIndex("collectionPathOverlayIndex",kY,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",FY,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const c=u.createObjectStore("remoteDocumentsV14",{keyPath:CY});c.createIndex("documentKeyIndex",TY),c.createIndex("collectionGroupIndex",bY)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:RY}).createIndex("sequenceNumberIndex",MY,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:xY}).createIndex("documentKeyIndex",NY,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=Kv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>V.forEach(a,u=>{Oe(u.userId===s.userId);const c=Gl(this.serializer,u);return M2(e,s.userId,c).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new St(o),c=[0,Xr(u)];s.push(t.get(c).next(h=>h?V.resolve():t.put({targetId:0,path:Xr(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>V.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:PY});const r=t.store("collectionParents"),i=new Ub,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Xr(u)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new St(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,u],c)=>{const h=Ro(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=Eg(i),o=_2(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(g=o,g.document?new pe(St.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):De()).path.toArray(),c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(c))}).next(()=>V.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=U2(this.serializer),s=new jb(Yv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var c;let h=null!==(c=a.get(u.userId))&&void 0!==c?c:ot();Gl(this.serializer,u).keys().forEach(g=>h=h.add(g)),a.set(u.userId,h)}),V.forEach(a,(u,c)=>{const h=new Tr(c),g=qv.ct(this.serializer,h),m=s.getIndexManager(h),y=Zv.ct(h,this.serializer,m,s.referenceDelegate);return new H2(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new fb(t,os._e),u).next()})})}}function z2(n){n.createObjectStore("targetDocuments",{keyPath:AY}).createIndex("documentTargetsIndex",SY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DY,{unique:!0}),n.createObjectStore("targetGlobal")}const $b="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hb{constructor(e,t,r,i,s,o,a,u,c,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!Hb.D())throw new ie(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LJ(this,i),this.Ii=t+"main",this.serializer=new g2(u),this.Ti=new Qs(this.Ii,this.ai,new ZJ(this.serializer)),this.qr=new kJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U2(this.serializer),this.Kr=new AJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,$b);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new os(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,Y.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Y.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Y.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Iu(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return bg(e).get("owner").next(t=>V.resolve(this.wi(t)))}Si(e){return Xv(e).delete(this.clientId)}bi(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=br(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return V.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?V.resolve(!0):bg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,$b);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xv(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new fb(t,os._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Xv(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Zv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return qv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.ai)?LY:14===u?rL:13===u?nL:12===u?VY:11===u?tL:void De();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new fb(a,this.Lr?this.Lr.next():os._e),"readwrite-primary"===t?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(H.FAILED_PRECONDITION,KV);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return bg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(H.FAILED_PRECONDITION,$b)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bg(e).put("owner",t)}static D(){return Qs.D()}pi(e){const t=bg(e);return t.get("owner").next(r=>this.wi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(er(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,tn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bg(n){return br(n,"owner")}function Xv(n){return br(n,"clientMetadata")}function zb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ot(),i=ot();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qb(e,t.fromCache,r,i)}}class QJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class q2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QJ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Qd()<=To.in.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Qd()<=To.in.DEBUG&&ue("QueryEngine","Query:",sh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Qd()<=To.in.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(t))):V.resolve())}zi(e,t){if(AL(t))return V.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Lv(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ot(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,o,u.readTime)?this.zi(e,Lv(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return AL(t)||i.isEqual(ke.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?V.resolve(null):(Qd()<=To.in.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sh(t)),this.Xi(e,o,t,GV(i,-1)).next(a=>a))})}Yi(e,t){let r=new Wt(ML(e));return t.forEach((i,s)=>{lg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Qd()<=To.in.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",sh(t)),this.Gi.getDocumentsMatchingQuery(e,t,ss.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class YJ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new on(Ye),this.ns=new Ia(s=>jl(s),ag),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function G2(n,e,t,r){return new YJ(n,e,t,r)}function W2(n,e){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,Y.Z)(function*(n,e){const t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ot();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),Gb.apply(this,arguments)}function K2(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Z2(n,e,t){let r=ot(),i=ot();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Bi();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}function eX(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mh(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Ca(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function _h(n,e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Y.Z)(function*(n,e,t){const r=he(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Iu(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Wb.apply(this,arguments)}function eE(n,e,t){const r=he(n);let i=ke.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const g=he(u),m=g.ns.get(h);return void 0!==m?V.resolve(g.ts.get(m)):g.qr.getTargetData(c,h)}(r,o,Ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:ke.min(),t?s:ot())).next(a=>(J2(r,RL(e),a),{documents:a,ls:s})))}function Q2(n,e){const t=he(n),r=he(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function Y2(n,e){const t=he(n),r=t.rs.get(e)||ke.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,GV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(J2(t,e,i),i))}function J2(n,e,t){let r=n.rs.get(e)||ke.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function Kb(){return Kb=(0,Y.Z)(function*(n,e,t,r){const i=he(n);let s=ot(),o=Bi();for(const c of t){const h=e.hs(c.metadata.name);c.document&&(s=s.add(h));const g=e.Ps(c);g.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield mh(i,(h=r,Ei(rh(St.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>Z2(c,a,o).next(h=>(a.apply(c),h)).next(h=>i.qr.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.qr.addMatchingKeys(c,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.us,h.cs)).next(()=>h.us)))}),Kb.apply(this,arguments)}function nX(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Y.Z)(function*(n,e,t=ot()){const r=yield mh(n,Ei(Nb(e.bundledQuery))),i=he(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=tr(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(vr.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),Zb.apply(this,arguments)}function X2(n,e){return`firestore_clients_${n}_${e}`}function eU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Qb(n,e){return`firestore_targets_${n}_${e}`}class tE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ie(i.error.code,i.error.message))),o?new tE(e,t,i.state,s):(er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ie(r.error.code,r.error.message))),s?new Dg(e,r.state,i):(er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=wb();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=YV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new nE(e,s):(er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Yb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Yb(t.clientId,t.onlineState):(er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jb{constructor(){this.activeTargetIds=wb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new on(Ye),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=X2(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Jb),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(X2(e.persistenceKey,i));if(s){const o=nE.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Qb(this.persistenceKey,e));if(r){const i=Dg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue("SharedClientState","READ",e,t),t}setItem(e,t){ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Y.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=os._e;if(null!=o)try{const u=JSON.parse(o);Oe("number"==typeof u),a=u}catch(u){er("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==os._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new tE(this.currentUser,e,t,r),s=eU(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=eU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=Qb(this.persistenceKey,e),s=new Dg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return nE.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return tE.Ts(new Tr(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return Dg.Ts(i,t)}Ms(e){return Yb.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=wb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class tU{constructor(){this.eo=new Jb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Jb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rX{ro(e){}shutdown(){}}class nU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rE=null;function eD(){return null===rE?rE=268435456+Math.round(2147483648*Math.random()):rE++,"0x"+rE.toString(16)}const iX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sX{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ti="WebChannelConnection";class oX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=eD(),u=this.So(t,r);ue("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,u,c,i).then(h=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Li("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${iX[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=eD();return new Promise((o,a)=>{const u=new rY;u.setWithCredentials(!0),u.listenOnce(tY.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ab.NO_ERROR:const h=u.getResponseJson();ue(ti,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ab.TIMEOUT:ue(ti,`RPC '${e}' ${s} timed out`),a(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case ab.HTTP_ERROR:const g=u.getStatus();if(ue(ti,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const w=function(A){const M=A.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(M)>=0?M:H.UNKNOWN}(y.status);a(new ie(w,y.message))}else a(new ie(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(H.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ue(ti,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ue(ti,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=eD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XQ(),a=eY(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=s.join("");ue(ti,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=o.createWebChannel(h,u);let m=!1,y=!1;const w=new sX({co:A=>{y?ue(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(ue(ti,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ue(ti,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},lo:()=>g.close()}),T=(A,M,L)=>{A.listen(M,R=>{try{L(R)}catch(Q){setTimeout(()=>{throw Q},0)}})};return T(g,Av.EventType.OPEN,()=>{y||ue(ti,`RPC '${e}' stream ${i} transport opened.`)}),T(g,Av.EventType.CLOSE,()=>{y||(y=!0,ue(ti,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),T(g,Av.EventType.ERROR,A=>{y||(y=!0,Li(ti,`RPC '${e}' stream ${i} transport errored:`,A),w.Ro(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),T(g,Av.EventType.MESSAGE,A=>{var M;if(!y){const L=A.data[0];Oe(!!L);const Q=L.error||(null===(M=L[0])||void 0===M?void 0:M.error);if(Q){ue(ti,`RPC '${e}' stream ${i} received error:`,Q);const fe=Q.status;let Re=function(Ys){const xs=cr[Ys];if(void 0!==xs)return ZL(xs)}(fe),_t=Q.message;void 0===Re&&(Re=H.INTERNAL,_t="Unknown error status: "+fe+" with message "+Q.message),y=!0,w.Ro(new ie(Re,_t)),g.close()}else ue(ti,`RPC '${e}' stream ${i} received:`,L),w.Vo(L)}}),T(a,nY.STAT_EVENT,A=>{A.stat===BV.PROXY?ue(ti,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===BV.NOPROXY&&ue(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function rU(){return typeof window<"u"?window:null}function iE(){return typeof document<"u"?document:null}function Ag(n){return new mJ(n,!0)}class tD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class iU{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new tD(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Y.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Y.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Y.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Y.Z)(function*(){e.state=0,e.start()}))}o_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aX extends iU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function vJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:De(),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Oe(void 0===h||"string"==typeof h),vr.fromBase64String(h||"")):(Oe(void 0===h||h instanceof Uint8Array),vr.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=void 0===c.code?H.UNKNOWN:ZL(c.code);return new ie(h,c.message||"")}(o);t=new e2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=No(n,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):ke.min(),a=new Br({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,s,o,a);t=new Hv(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=No(n,r.document),s=r.readTime?tr(r.readTime):ke.min(),o=pn.newNoDocument(i,s);t=new Hv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=No(n,r.document);t=new Hv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new cJ(i,s);t=new XL(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?tr(o.readTime):ke.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=yg(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=Fv(u)?{documents:c2(s,u)}:{query:xb(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=i2(s,o.resumeToken);const c=Sb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=ch(s,o.snapshotVersion.toTimestamp());const c=Sb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function IJ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=yg(this.serializer),t.removeTarget=e,this.e_(t)}}class uX extends iU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function EJ(n,e){return n&&n.length>0?(Oe(void 0!==e),n.map(t=>function(i,s){let o=tr(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=tr(s)),new oJ(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.I_(r,t)}return Oe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=yg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vg(this.serializer,r))};this.e_(t)}}class lX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(H.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class dX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(er(t),this.f_=!1):ue("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class hX{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Y.Z)(function*(){var u;Nu(o)&&(ue("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Y.Z)(function*(h){const g=he(h);g.C_.add(4),yield yh(g),g.M_.set("Unknown"),g.C_.delete(4),yield Sg(g)}),function c(h){return u.apply(this,arguments)})(o))}))}),this.M_=new dX(r,i)}}function Sg(n){return rD.apply(this,arguments)}function rD(){return rD=(0,Y.Z)(function*(n){if(Nu(n))for(const e of n.v_)yield e(!0)}),rD.apply(this,arguments)}function yh(n){return iD.apply(this,arguments)}function iD(){return iD=(0,Y.Z)(function*(n){for(const e of n.v_)yield e(!1)}),iD.apply(this,arguments)}function sE(n,e){const t=he(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),aD(t)?oD(t):Eh(t).Ho()&&sD(t,e))}function Pg(n,e){const t=he(n),r=Eh(t);t.D_.delete(e),r.Ho()&&sU(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Nu(t)&&t.M_.set("Unknown"))}function sD(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eh(n).u_(e)}function sU(n,e){n.x_.Oe(e),Eh(n).c_(e)}function oD(n){n.x_=new hJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Eh(n).start(),n.M_.g_()}function aD(n){return Nu(n)&&!Eh(n).jo()&&n.D_.size>0}function Nu(n){return 0===he(n).C_.size}function oU(n){n.x_=void 0}function fX(n){return uD.apply(this,arguments)}function uD(){return uD=(0,Y.Z)(function*(n){n.D_.forEach((e,t)=>{sD(n,e)})}),uD.apply(this,arguments)}function pX(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,Y.Z)(function*(n,e){oU(n),aD(n)?(n.M_.w_(e),oD(n)):n.M_.set("Unknown")}),lD.apply(this,arguments)}function gX(n,e,t){return cD.apply(this,arguments)}function cD(){return cD=(0,Y.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof e2&&2===e.state&&e.cause)try{yield(r=(0,Y.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oE(n,r)}else if(e instanceof Hv?n.x_.$e(e):e instanceof XL?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(ke.min()))try{const r=yield K2(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(c);h&&s.D_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(vr.EMPTY_BYTE_STRING,h.snapshotVersion)),sU(s,u);const g=new Ca(h.target,u,c,h.sequenceNumber);sD(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),yield oE(n,r)}var r}),cD.apply(this,arguments)}function oE(n,e,t){return dD.apply(this,arguments)}function dD(){return dD=(0,Y.Z)(function*(n,e,t){if(!Iu(e))throw e;n.C_.add(1),yield yh(n),n.M_.set("Offline"),t||(t=()=>K2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Sg(n)}))}),dD.apply(this,arguments)}function aU(n,e){return e().catch(t=>oE(n,t,e))}function vh(n){return hD.apply(this,arguments)}function hD(){return hD=(0,Y.Z)(function*(n){const e=he(n),t=Ou(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;mX(e);)try{const i=yield eX(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,_X(e,i)}catch(i){yield oE(e,i)}uU(e)&&lU(e)}),hD.apply(this,arguments)}function mX(n){return Nu(n)&&n.b_.length<10}function _X(n,e){n.b_.push(e);const t=Ou(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function uU(n){return Nu(n)&&!Ou(n).jo()&&n.b_.length>0}function lU(n){Ou(n).start()}function yX(n){return fD.apply(this,arguments)}function fD(){return fD=(0,Y.Z)(function*(n){Ou(n).E_()}),fD.apply(this,arguments)}function vX(n){return pD.apply(this,arguments)}function pD(){return pD=(0,Y.Z)(function*(n){const e=Ou(n);for(const t of n.b_)e.P_(t.mutations)}),pD.apply(this,arguments)}function EX(n,e,t){return gD.apply(this,arguments)}function gD(){return gD=(0,Y.Z)(function*(n,e,t){const r=n.b_.shift(),i=bb.from(r,e,t);yield aU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vh(n)}),gD.apply(this,arguments)}function IX(n,e){return mD.apply(this,arguments)}function mD(){return mD=(0,Y.Z)(function*(n,e){var t;e&&Ou(n).h_&&(yield(t=(0,Y.Z)(function*(i,s){if(KL(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();Ou(i).Yo(),yield aU(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),uU(n)&&lU(n)}),mD.apply(this,arguments)}function cU(n,e){return _D.apply(this,arguments)}function _D(){return _D=(0,Y.Z)(function*(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Nu(t);t.C_.add(3),yield yh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Sg(t)}),_D.apply(this,arguments)}function yD(n,e){return vD.apply(this,arguments)}function vD(){return vD=(0,Y.Z)(function*(n,e){const t=he(n);e?(t.C_.delete(2),yield Sg(t)):e||(t.C_.add(2),yield yh(t),t.M_.set("Unknown"))}),vD.apply(this,arguments)}function Eh(n){return n.O_||(n.O_=function(t,r,i){const s=he(t);return s.A_(),new aX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:fX.bind(null,n),Io:pX.bind(null,n),a_:gX.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.O_.Yo(),aD(n)?oD(n):n.M_.set("Unknown")):(yield n.O_.stop(),oU(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Ou(n){return n.N_||(n.N_=function(t,r,i){const s=he(t);return s.A_(),new uX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:yX.bind(null,n),Io:IX.bind(null,n),T_:vX.bind(null,n),I_:EX.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.N_.Yo(),yield vh(n)):(yield n.N_.stop(),n.b_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class ED{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new ED(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ih(n,e){if(er("AsyncQueue",`${e}: ${n}`),Iu(n))return new ie(H.UNAVAILABLE,`${e}: ${n}`);throw n}class wh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=cg(),this.sortedSet=new on(this.comparator)}static emptySet(e){return new wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dU{constructor(){this.B_=new on(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ch{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ch(e,t,wh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class wX{constructor(){this.k_=void 0,this.listeners=[]}}class CX{constructor(){this.queries=new Ia(e=>PL(e),ug),this.onlineState="Unknown",this.q_=new Set}}function ID(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,Y.Z)(function*(n,e){const t=he(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new wX),i)try{s.k_=yield t.onListen(r)}catch(o){const a=Ih(o,`Initialization of query '${sh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&bD(t)}),wD.apply(this,arguments)}function CD(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,Y.Z)(function*(n,e){const t=he(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TD.apply(this,arguments)}function TX(n,e){const t=he(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&bD(t)}function bX(n,e,t){const r=he(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function bD(n){n.q_.forEach(e=>{e.next()})}class DD{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ch(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class DX{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class hU{constructor(e){this.serializer=e}hs(e){return No(this.serializer,e)}Ps(e){return e.metadata.exists?l2(this.serializer,e.document,!1):pn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return tr(e)}}class AX{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fU(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=St.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new hU(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ot()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,Y.Z)(function*(){const t=yield function tX(n,e,t,r){return Kb.apply(this,arguments)}(e.localStore,new hU(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield nX(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function fU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pU{constructor(e){this.key=e}}class gU{constructor(e){this.key=e}}class mU{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=ML(e),this.aa=new wh(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new dU,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=lg(this.query,g)?g:null,w=!!m&&this.mutatedKeys.has(m.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;m&&y?m.data.isEqual(y.data)?w!==T&&(r.track({type:3,doc:y}),A=!0):this.ha(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this._a(y,u)>0||c&&this._a(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(a=!0)),A&&(y?(o=o.add(y),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,g)=>function(y,w){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return T(y)-T(w)}(h.type,g.type)||this._a(h.doc,g.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==o.length||c?{snapshot:new Ch(this.query,e.aa,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new dU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new gU(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new pU(r))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ch.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class SX{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PX{constructor(e){this.key=e,this.Ra=!1}}class RX{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ia(a=>PL(a),ug),this.fa=new Map,this.ga=new Set,this.pa=new on(pe.comparator),this.ya=new Map,this.wa=new Bb,this.Sa={},this.ba=new Map,this.Da=Zl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function MX(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,Y.Z)(function*(n,e){const t=QD(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield mh(t.localStore,Ei(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield SD(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&sE(t.remoteStore,o)}return i}),AD.apply(this,arguments)}function SD(n,e,t,r,i){return PD.apply(this,arguments)}function PD(){return PD=(0,Y.Z)(function*(n,e,t,r,i){n.va=(g,m,y)=>{return(w=(0,Y.Z)(function*(A,M,L,R){let Q=M.view.ca(L);Q.Zi&&(Q=yield eE(A.localStore,M.query,!1).then(({documents:jn})=>M.view.ca(jn,Q)));const fe=R&&R.targetChanges.get(M.targetId),Re=R&&null!=R.targetMismatches.get(M.targetId),_t=M.view.applyChanges(Q,A.isPrimaryClient,fe,Re);return UD(A,M.targetId,_t.Ta),_t.snapshot}),function T(A,M,L,R){return w.apply(this,arguments)})(n,g,m,y);var w};const s=yield eE(n.localStore,e,!0),o=new mU(e,s.ls),a=o.ca(s.documents),u=mg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);UD(n,t,c.Ta);const h=new SX(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),PD.apply(this,arguments)}function xX(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,Y.Z)(function*(n,e){const t=he(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!ug(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _h(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pg(t.remoteStore,r.targetId),Th(t,r.targetId)}).catch(Eu))):(Th(t,r.targetId),yield _h(t.localStore,r.targetId,!0))}),RD.apply(this,arguments)}function MD(){return MD=(0,Y.Z)(function*(n,e,t){const r=YD(n);try{const i=yield function(o,a){const u=he(o),c=Cn.now(),h=a.reduce((y,w)=>y.add(w.key),ot());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Bi(),T=ot();return u.ss.getEntries(y,h).next(A=>{w=A,w.forEach((M,L)=>{L.isValidDocument()||(T=T.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(A=>{g=A;const M=[];for(const L of a){const R=uJ(L,g.get(L.key).overlayedDocument);null!=R&&M.push(new wa(L.key,R,pL(R.value.mapValue),Tn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,M,a)}).next(A=>{m=A;const M=A.applyToLocalDocumentSet(g,T);return u.documentOverlayCache.saveOverlays(y,A.batchId,M)})}).then(()=>({batchId:m.batchId,changes:NL(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Sa[o.currentUser.toKey()];c||(c=new on(Ye)),c=c.insert(a,u),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Ta(r,i.changes),yield vh(r.remoteStore)}catch(i){const s=Ih(i,"Failed to persist write");t.reject(s)}}),MD.apply(this,arguments)}function _U(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,Y.Z)(function*(n,e){const t=he(n);try{const r=yield function XJ(n,e){const t=he(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var T,A,M;null!==e.targetMismatches.get(g)?y=y.withResumeToken(vr.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),A=y,M=h,(0===(T=m).resumeToken.approximateByteSize()||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let u=Bi(),c=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(Z2(s,o,e.documentUpdates).next(h=>{u=h.us,c=h.cs})),!r.isEqual(ke.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(g=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Oe(o.Ra):i.removedDocuments.size>0&&(Oe(o.Ra),o.Ra=!1))}),yield Ta(t,r,e)}catch(r){yield Eu(r)}}),xD.apply(this,arguments)}function yU(n,e,t){const r=he(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(c=!0)}),c&&bD(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OX(n,e,t){return ND.apply(this,arguments)}function ND(){return ND=(0,Y.Z)(function*(n,e,t){const r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new on(pe.comparator);o=o.insert(s,pn.newNoDocument(s,ke.min()));const a=ot().add(s),u=new gg(ke.min(),new Map,new on(Ye),o,a);yield _U(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),BD(r)}else yield _h(r.localStore,e,!1).then(()=>Th(r,e,t)).catch(Eu)}),ND.apply(this,arguments)}function kX(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,Y.Z)(function*(n,e){const t=he(n),r=e.batch.batchId;try{const i=yield function JJ(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const g=c.batch,m=g.keys();let y=V.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(T=>{const A=c.docVersions.get(w);Oe(null!==A),T.version.compareTo(A)<0&&(g.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ot();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);LD(t,r,null),VD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ta(t,i)}catch(i){yield Eu(i)}}),OD.apply(this,arguments)}function FX(n,e,t){return kD.apply(this,arguments)}function kD(){return kD=(0,Y.Z)(function*(n,e,t){const r=he(n);try{const i=yield function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(g=>(Oe(null!==g),h=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);LD(r,e,t),VD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ta(r,i)}catch(i){yield Eu(i)}}),kD.apply(this,arguments)}function FD(){return FD=(0,Y.Z)(function*(n,e){const t=he(n);Nu(t.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=he(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=Ih(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),FD.apply(this,arguments)}function VD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function LD(n,e,t){const r=he(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||vU(n,r)})}function vU(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Pg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),BD(n))}function UD(n,e,t){for(const r of t)r instanceof pU?(n.wa.addReference(r.key,e),LX(n,r)):r instanceof gU?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||vU(n,r.key)):De()}function LX(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.ga.add(r),BD(n))}function BD(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(St.fromString(e)),r=n.Da.next();n.ya.set(r,new PX(t)),n.pa=n.pa.insert(t,r),sE(n.remoteStore,new Ca(Ei(rh(t.path)),r,"TargetPurposeLimboResolution",os._e))}}function Ta(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=(0,Y.Z)(function*(n,e,t){const r=he(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const h=qb.Qi(u.targetId,c);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Y.Z)(function*(c,h){const g=he(c);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>V.forEach(h,y=>V.forEach(y.ki,w=>g.persistence.referenceDelegate.addReference(m,y.targetId,w)).next(()=>V.forEach(y.qi,w=>g.persistence.referenceDelegate.removeReference(m,y.targetId,w)))))}catch(m){if(!Iu(m))throw m;ue("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const w=g.ts.get(y),A=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);g.ts=g.ts.insert(y,A)}}}),function u(c,h){return a.apply(this,arguments)})(r.localStore,s))}),jD.apply(this,arguments)}function UX(n,e){return $D.apply(this,arguments)}function $D(){return $D=(0,Y.Z)(function*(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=yield W2(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new ie(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ta(t,r._s)}var s}),$D.apply(this,arguments)}function BX(n,e){const t=he(n),r=t.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function jX(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,Y.Z)(function*(n,e){const t=he(n),r=yield eE(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&UD(t,e.targetId,i.Ta),i}),HD.apply(this,arguments)}function $X(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,Y.Z)(function*(n,e){const t=he(n);return Y2(t.localStore,e).then(r=>Ta(t,r))}),zD.apply(this,arguments)}function HX(n,e,t,r){return qD.apply(this,arguments)}function qD(){return qD=(0,Y.Z)(function*(n,e,t,r){const i=he(n),s=yield function(a,u){const c=he(a),h=he(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,u).next(m=>m?c.localDocuments.getDocuments(g,m):V.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield vh(i.remoteStore):"acknowledged"===t||"rejected"===t?(LD(i,e,r||null),VD(i,e),u=e,he(he(i.localStore).mutationQueue).Fn(u)):De(),yield Ta(i,s)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),qD.apply(this,arguments)}function GD(){return GD=(0,Y.Z)(function*(n,e){const t=he(n);if(QD(t),YD(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield EU(t,r.toArray());t.Ca=!0,yield yD(t.remoteStore,!0);for(const s of i)sE(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Th(t,o),_h(t.localStore,o,!0))),Pg(t.remoteStore,o)}),yield i,yield EU(t,r),function(o){const a=he(o);a.ya.forEach((u,c)=>{Pg(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new on(pe.comparator)}(t),t.Ca=!1,yield yD(t.remoteStore,!1)}}),GD.apply(this,arguments)}function EU(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=(0,Y.Z)(function*(n,e,t){const r=he(n),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield mh(r.localStore,Ei(u[0]));for(const c of u){const h=r.ma.get(c),g=yield jX(r,h);g.snapshot&&s.push(g.snapshot)}}else{const c=yield Q2(r.localStore,o);a=yield mh(r.localStore,c),yield SD(r,IU(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),WD.apply(this,arguments)}function IU(n){return DL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qX(n){return t=he(n).localStore,he(he(t).persistence).Bi();var t}function GX(n,e,t,r){return KD.apply(this,arguments)}function KD(){return KD=(0,Y.Z)(function*(n,e,t,r){const i=he(n);if(i.Ca)return void ue("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield Y2(i.localStore,RL(s[0])),a=gg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vr.EMPTY_BYTE_STRING);yield Ta(i,o,a);break}case"rejected":yield _h(i.localStore,e,!0),Th(i,e,r);break;default:De()}}),KD.apply(this,arguments)}function WX(n,e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Y.Z)(function*(n,e,t){const r=QD(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){ue("SyncEngine","Adding an already active target "+i);continue}const s=yield Q2(r.localStore,i),o=yield mh(r.localStore,s);yield SD(r,IU(s),o.targetId,!1,o.resumeToken),sE(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield _h(r.localStore,i,!1).then(()=>{Pg(r.remoteStore,i),Th(r,i)}).catch(Eu))}}),ZD.apply(this,arguments)}function QD(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_U.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OX.bind(null,e),e.Va.a_=TX.bind(null,e.eventManager),e.Va.Fa=bX.bind(null,e.eventManager),e}function YD(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FX.bind(null,e),e}class Rg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Y.Z)(function*(){t.serializer=Ag(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return G2(this.persistence,new q2,e.initialUser,this.serializer)}createPersistence(e){return new jb(Yv.jr,this.serializer)}createSharedClientState(e){return new tU}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JD extends Rg{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Y.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield YD(r.xa.syncEngine),yield vh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return G2(this.persistence,new q2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new F2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new EY(t,this.persistence);return new vY(e.asyncQueue,r)}createPersistence(e){const t=zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new Hb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,rU(),iE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tU}}class wU extends JD{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Y.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof Xb&&(r.sharedClientState.syncEngine={Ys:HX.bind(null,i),Zs:GX.bind(null,i),Xs:WX.bind(null,i),Bi:qX.bind(null,i),Js:$X.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Y.Z)(function*(o){yield function zX(n,e){return GD.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=rU();if(!Xb.D(t))throw new ie(H.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bh{initialize(e,t){var r=this;return(0,Y.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=UX.bind(null,r.syncEngine),yield yD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CX}createDatastore(e){const t=Ag(e.databaseInfo.databaseId),r=new oX(e.databaseInfo);return new lX(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>yU(this.syncEngine,t,0),a=nU.D()?new nU:new rX,new hX(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,c,h){const g=new RX(i,s,o,a,u,c);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Y.Z)(function*(r){const i=he(r);ue("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield yh(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function CU(n,e=10240){let t=0;return{read:()=>(0,Y.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class QX{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new yr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Y.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new DX(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Y.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,Y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Y.Z)(function*(o,a){const u=he(o),c=yg(u.serializer)+"/documents",h={documents:a.map(w=>_g(u.serializer,w))},g=yield u.Co("BatchGetDocuments",c,h,a.length),m=new Map;g.forEach(w=>{const T=function yJ(n,e){return"found"in e?function(r,i){Oe(!!i.found);const s=No(r,i.found.name),o=tr(i.found.updateTime),a=i.found.createTime?tr(i.found.createTime):ke.min(),u=new Br({mapValue:{fields:i.found.fields}});return pn.newFoundDocument(s,o,a,u)}(n,e):"missing"in e?function(r,i){Oe(!!i.missing),Oe(!!i.readTime);const s=No(r,i.missing),o=tr(i.readTime);return pn.newNoDocument(s,o)}(n,e):De()}(u.serializer,w);m.set(T.key.toString(),T)});const y=[];return a.forEach(w=>{const T=m.get(w.toString());Oe(!!T),y.push(T)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=pe.fromPath(i);e.mutations.push(new Cb(s,e.precondition(s)))}),yield(r=(0,Y.Z)(function*(s,o){const a=he(s),u=yg(a.serializer)+"/documents",c={writes:o.map(h=>vg(a.serializer,h))};yield a.wo("Commit",u,c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw De();t=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ie(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ke.min())?Tn.exists(!1):Tn.updateTime(t):Tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ke.min()))throw new ie(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tn.updateTime(t)}return Tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class JX{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new tD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Y.Z)(function*(){const t=new YX(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!eg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!KL(t)}return!1}}class XX{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=zV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Y.Z)(function*(a){ue("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ih(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uE(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Y.Z)(function*(s){r.isEqual(s)||(yield W2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XD.apply(this,arguments)}function eA(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nA(n);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>cU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>cU(e.remoteStore,s)),n._onlineComponents=e}),tA.apply(this,arguments)}function TU(n){return"FirebaseError"===n.name?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function nA(n){return rA.apply(this,arguments)}function rA(){return rA=(0,Y.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!TU(t))throw t;Li("Error using user provided cache. Falling back to memory cache: "+t),yield uE(n,new Rg)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),yield uE(n,new Rg);return n._offlineComponents}),rA.apply(this,arguments)}function lE(n){return iA.apply(this,arguments)}function iA(){return iA=(0,Y.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield eA(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),yield eA(n,new bh))),n._onlineComponents}),iA.apply(this,arguments)}function bU(n){return nA(n).then(e=>e.persistence)}function Dh(n){return nA(n).then(e=>e.localStore)}function DU(n){return lE(n).then(e=>e.remoteStore)}function sA(n){return lE(n).then(e=>e.syncEngine)}function Ah(n){return oA.apply(this,arguments)}function oA(){return oA=(0,Y.Z)(function*(n){const e=yield lE(n),t=e.eventManager;return t.onListen=MX.bind(null,e.syncEngine),t.onUnlisten=xX.bind(null,e.syncEngine),t}),oA.apply(this,arguments)}function SU(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(s,o,a,u,c){const h=new aE({next:m=>{o.enqueueAndForget(()=>CD(s,g));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?c.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new DD(rh(a.path),h,{includeMetadataChanges:!0,J_:!0});return ID(s,g)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}function PU(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(s,o,a,u,c){const h=new aE({next:m=>{o.enqueueAndForget(()=>CD(s,g)),m.fromCache&&"server"===u.source?c.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new DD(a,h,{includeMetadataChanges:!0,J_:!0});return ID(s,g)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}function RU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const MU=new Map;function aA(n,e,t){if(!t)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xU(n,e,t,r){if(!0===e&&!0===r)throw new ie(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NU(n){if(!pe.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OU(n){if(pe.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":De()}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cE(n);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kU(n,e){if(e<=0)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class FU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=RU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new aY;switch(r.type){case"firstParty":return new dY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=MU.get(t);r&&(ue("ComponentProvider","Removing Datastore"),MU.delete(t),r.terminate())}(this),Promise.resolve()}}class jr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Oo extends jr{constructor(e,t,r){super(e,t,rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new pe(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function LU(n,e,...t){if(n=(0,tn.m9)(n),aA("collection","path",e),n instanceof Mg){const r=St.fromString(e,...t);return OU(r),new Oo(n,null,r)}{if(!(n instanceof gn||n instanceof Oo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...t));return OU(r),new Oo(n.firestore,null,r)}}function dE(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=zV.newId()),aA("doc","path",e),n instanceof Mg){const r=St.fromString(e,...t);return NU(r),new gn(n,null,new pe(r))}{if(!(n instanceof gn||n instanceof Oo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...t));return NU(r),new gn(n.firestore,n instanceof Oo?n.converter:null,new pe(r))}}function UU(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof gn||n instanceof Oo)&&(e instanceof gn||e instanceof Oo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uA(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof jr&&e instanceof jr&&n.firestore===e.firestore&&ug(n._query,e._query)&&n.converter===e.converter}class dee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new tD(this,"async_queue_retry"),this.iu=()=>{const t=iE();t&&ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=iE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=iE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new yr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Iu(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,er("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=ED.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return(0,Y.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function lA(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class hee{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class an extends Mg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dee,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BU(this),this._firestoreClient.terminate()}}function Bn(n){return n._firestoreClient||BU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BU(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jY(n._databaseId,u,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RU(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;n._firestoreClient=new XX(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function jU(n,e,t){const r=new yr;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield uE(n,t),yield eA(n,e),r.resolve()}catch(i){const s=i;if(!TU(s))throw s;Li("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function $U(n){if(n._initialized||n._terminated)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(vr.fromBase64String(e))}catch(t){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yl{constructor(e){this._methodName=e}}class hE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}const Cee=/^__.*__$/;class Tee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class HU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class fE{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(zU(this.Iu)&&Cee.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ag(e)}pu(e,t,r,i=!1){return new fE({Iu:e,methodName:t,gu:r,path:fn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jl(n){const e=n._freezeSettings(),t=Ag(n._databaseId);return new bee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pE(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);fA("Data must be an object, but it was:",o,r);const a=WU(r,o);let u,c;if(s.merge)u=new Ui(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const m=Og(e,g,t);if(!o.contains(m))throw new ie(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZU(h,m)||h.push(m)}u=new Ui(h),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new Tee(new Br(a),u,c)}class Ng extends Yl{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ng}}function qU(n,e,t){return new fE({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cA extends Yl{_toFieldTransform(e){return new hg(e.path,new oh)}isEqual(e){return e instanceof cA}}class Dee extends Yl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=qU(this,e,!0),r=this.yu.map(s=>Xl(s,t)),i=new $l(r);return new hg(e.path,i)}isEqual(e){return this===e}}class Aee extends Yl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=qU(this,e,!0),r=this.yu.map(s=>Xl(s,t)),i=new Hl(r);return new hg(e.path,i)}isEqual(e){return this===e}}class See extends Yl{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new ah(e.serializer,VL(e.serializer,this.wu));return new hg(e.path,t)}isEqual(e){return this===e}}function dA(n,e,t,r){const i=n.pu(1,e,t);fA("Data must be an object, but it was:",i,r);const s=[],o=Br.empty();wu(r,(u,c)=>{const h=gE(e,u,t);c=(0,tn.m9)(c);const g=i.Ru(h);if(c instanceof Ng)s.push(h);else{const m=Xl(c,g);null!=m&&(s.push(h),o.set(h,m))}});const a=new Ui(s);return new HU(o,a,i.fieldTransforms)}function hA(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[Og(e,r,t)],u=[i];if(s.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Og(e,s[m])),u.push(s[m+1]);const c=[],h=Br.empty();for(let m=a.length-1;m>=0;--m)if(!ZU(c,a[m])){const y=a[m];let w=u[m];w=(0,tn.m9)(w);const T=o.Ru(y);if(w instanceof Ng)c.push(y);else{const A=Xl(w,T);null!=A&&(c.push(y),h.set(y,A))}}const g=new Ui(c);return new HU(h,g,o.fieldTransforms)}function GU(n,e,t,r=!1){return Xl(t,n.pu(r?4:3,e))}function Xl(n,e){if(KU(n=(0,tn.m9)(n)))return fA("Unsupported field value:",e,n),WU(n,e);if(n instanceof Yl)return function(r,i){if(!zU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Xl(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,tn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return VL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Cn.fromDate(r);return{timestampValue:ch(i.serializer,s)}}if(r instanceof Cn){const s=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,s)}}if(r instanceof hE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:i2(i.serializer,r._byteString)};if(r instanceof gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${cE(r)}`)}(n,e)}function WU(n,e){const t={};return sL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wu(n,(r,i)=>{const s=Xl(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function KU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof hE||n instanceof ko||n instanceof gn||n instanceof Yl)}function fA(n,e,t){if(!KU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=cE(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Og(n,e,t){if((e=(0,tn.m9)(e))instanceof ba)return e._internalPath;if("string"==typeof e)return gE(n,e);throw mE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Pee=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(Pee)>=0)throw mE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ba(...e.split("."))._internalPath}catch{throw mE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(H.INVALID_ARGUMENT,a+n+u)}function ZU(n,e){return n.some(t=>t.isEqual(e))}class kg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ree(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_E("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ree extends kg{data(){return super.data()}}function _E(n,e){return"string"==typeof e?gE(n,e):e instanceof ba?e._internalPath:e._delegate._internalPath}function QU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pA{}class Fg extends pA{}function ku(n,e,...t){let r=[];e instanceof pA&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof Sh).length,a=s.filter(u=>u instanceof Vg).length;if(o>1||o>0&&a>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Vg extends Fg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vg(e,t,r)}_apply(e){const t=this._parse(e);return eB(e._query,t),new jr(e.firestore,e.converter,Ib(e._query,t))}_parse(e){const t=Jl(e.firestore);return function(s,o,a,u,c,h,g){let m;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){XU(g,h);const y=[];for(const w of g)y.push(JU(u,s,w));m={arrayValue:{values:y}}}else m=JU(u,s,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||XU(g,h),m=GU(a,"where",g,"in"===h||"not-in"===h);return bt.create(c,h,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sh extends pA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)eB(o,u),o=Ib(o,u)}(e._query,t),new jr(e.firestore,e.converter,Ib(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gA extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gA(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new og(s,o)}(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ea(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class yE extends Fg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yE(e,t,r)}_apply(e){return new jr(e.firestore,e.converter,Lv(e._query,this._limit,this._limitType))}}class vE extends Fg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vE(e,t,r)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,(s=t,new Ea((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class EE extends Fg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new EE(e,t,r)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,(s=t,new Ea((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function YU(n,e,t,r){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof kg)return function(s,o,a,u,c){if(!u)throw new ie(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of ih(s))if(g.field.isKeyField())h.push(Bl(o,u.key));else{const m=u.data.field(g.field);if(Mv(m))throw new ie(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new ie(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new Su(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Jl(n.firestore);return function(o,a,u,c,h,g){const m=o.explicitOrderBy;if(h.length>m.length)throw new ie(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let w=0;w<h.length;w++){const T=h[w];if(m[w].field.isKeyField()){if("string"!=typeof T)throw new ie(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!Eb(o)&&-1!==T.indexOf("/"))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const A=o.path.child(St.fromString(T));if(!pe.isDocumentKey(A))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const M=new pe(A);y.push(Bl(a,M))}else{const A=GU(u,c,T);y.push(A)}}return new Su(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function JU(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eb(e)&&-1!==t.indexOf("/"))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(St.fromString(t));if(!pe.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bl(n,new pe(r))}if(t instanceof gn)return Bl(n,t._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cE(t)}.`)}function XU(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eB(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(H.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mA{convertValue(e,t="none"){switch(Du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new hE(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ng(e));default:return null}}convertTimestamp(e){const t=Cu(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=St.fromString(e);Oe(p2(r));const i=new Tu(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(t)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function IE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Uee extends mA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends kg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lg extends Da{data(e={}){return super.data(e)}}class Fu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lg(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Lg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ec(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Lg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ec(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:jee(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function nB(n,e){return n instanceof Da&&e instanceof Da?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fu&&e instanceof Fu&&n._firestore===e._firestore&&uA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Vu extends mA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function rB(n,e,t){n=Et(n,gn);const r=Et(n.firestore,an),i=IE(n.converter,e,t);return Ph(r,[pE(Jl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Tn.none())])}function iB(n,e,t,...r){n=Et(n,gn);const i=Et(n.firestore,an),s=Jl(i);let o;return o="string"==typeof(e=(0,tn.m9)(e))||e instanceof ba?hA(s,"updateDoc",n._key,e,t,r):dA(s,"updateDoc",n._key,e),Ph(i,[o.toMutation(n._key,Tn.exists(!0))])}function sB(n,...e){var t,r,i;n=(0,tn.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||lA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(lA(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,c,h;if(n instanceof gn)c=Et(n.firestore,an),h=rh(n._key.path),u={next:g=>{e[o]&&e[o](_A(c,n,g))},error:e[o+1],complete:e[o+2]};else{const g=Et(n,jr);c=Et(g.firestore,an),h=g._query;const m=new Vu(c);u={next:y=>{e[o]&&e[o](new Fu(c,m,g,y))},error:e[o+1],complete:e[o+2]},QU(n._query)}return function(m,y,w,T){const A=new aE(T),M=new DD(y,A,w);return m.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return ID(yield Ah(m),M)})),()=>{A.Na(),m.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return CD(yield Ah(m),M)}))}}(Bn(c),h,a,u)}function Ph(n,e){return function(r,i){const s=new yr;return r.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function NX(n,e,t){return MD.apply(this,arguments)}(yield sA(r),i,s)})),s.promise}(Bn(n),e)}function _A(n,e,t){const r=t.docs.get(e._key),i=new Vu(n);return new Da(n,i,e._key,r,new ec(t.hasPendingWrites,t.fromCache),e.converter)}const ste={maxAttempts:5};class oB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jl(e)}set(e,t,r){this._verifyNotCommitted();const i=Lu(e,this._firestore),s=IE(i.converter,t,r),o=pE(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Tn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Lu(e,this._firestore);let o;return o="string"==typeof(t=(0,tn.m9)(t))||t instanceof ba?hA(this._dataReader,"WriteBatch.update",s._key,t,r,i):dA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lu(e,this._firestore);return this._mutations=this._mutations.concat(new lh(t._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lu(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new ie(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ote extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Jl(t)}get(t){const r=Lu(t,this._firestore),i=new Uee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return De();const o=s[0];if(o.isFoundDocument())return new kg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new kg(this._firestore,i,r._key,null,r.converter);throw De()})}set(t,r,i){const s=Lu(t,this._firestore),o=IE(s.converter,r,i),a=pE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Lu(t,this._firestore);let a;return a="string"==typeof(r=(0,tn.m9)(r))||r instanceof ba?hA(this._dataReader,"Transaction.update",o._key,r,i,s):dA(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Lu(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lu(e,this._firestore),r=new Vu(this._firestore);return super.get(e).then(i=>new Da(this._firestore,r,t._key,i._document,new ec(!1,!1),t.converter))}}function pte(n,e){if(1&n){const t=Oi();N(0,"input",3,4),ut("paste",function(i){return sr(t),Pn(Ft(2).handlePaste(i))})("keyup",function(i){const o=sr(t).index;return Pn(Ft(2).onKeyUp(i,o))})("input",function(i){return sr(t),Pn(Ft(2).onInput(i))})("keydown",function(i){const o=sr(t).index;return Pn(Ft(2).onKeyDown(i,o))}),k()}if(2&n){const t=e.$implicit,r=e.index,i=Ft(2);Zw("otp-input ",i.config.inputClass,""),He("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[t])("id",i.getBoxId(r))}}function gte(n,e){if(1&n&&(N(0,"div",1),at(1,pte,2,9,"input",2),eu(2,"keys"),k()),2&n){const t=Ft();Zw("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),b_("id","c_",t.componentKey,""),He("ngStyle",t.config.containerStyles),ce(1),He("ngForOf",J1(2,6,null==t.otpForm?null:t.otpForm.controls))}}!function(e,t=!0){Zd=lu.SDK_VERSION,(0,lu._registerComponent)(new FO.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new an(new lY(r.getProvider("auth-internal")),new hY(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,lu.registerVersion)(jV,"4.4.0",e),(0,lu.registerVersion)(jV,"4.4.0","esm2017")}();class Rh{static ifTab(e){return this.ifKey(e,"Tab")}static ifDelete(e){return this.ifKey(e,"Delete;Del")}static ifBackspace(e){return this.ifKey(e,"Backspace")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,t){return t.split(";").some(i=>i===e.key)}}let vA=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Pr({name:"keys",type:n,pure:!0}),n})(),mte=(()=>{class n{constructor(t,r){this.keysPipe=t,this.document=r,this.config={length:4},this.onInputChange=new Rn,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new Ud({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new Bd);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(r=>{var i=this.otpForm.controls[r].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const i=this.getBoxId(r-1),s=this.getBoxId(r);return Rh.ifSpacebar(t)?(t.preventDefault(),!1):Rh.ifBackspace(t)?(t.target.value?this.clearInput(s,r):(this.clearInput(i,r-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,r){Rh.ifTab(t)&&(r-=1);const i=this.getBoxId(r+1),s=this.getBoxId(r-1),o=this.getBoxId(r);return Rh.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(i)):Rh.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):Rh.ifDelete(t)?(t.target.value?this.clearInput(o,r):(this.clearInput(s,r-1),this.setSelected(s)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(i),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let i=this.getControlName(r);this.otpForm.controls[i]?.setValue(null);const s=this.document.getElementById(t);s&&s instanceof HTMLInputElement&&(s.value=null)}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(r)}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((i,s)=>{this.otpForm.get(this.getControlName(s))&&this.otpForm.get(this.getControlName(s)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let s=i.getElementsByClassName("otp-input")[r];s&&s.focus&&s.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let i=this.otpForm.controls[r].value,s=i.length>1,o=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let a=o?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;o&&a==i?o=!1:i=a,t+=i,(s||o)&&this.otpForm.controls[r].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var i=r.getData("Text");t.stopPropagation(),t.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return n.\u0275fac=function(t){return new(t||n)(Z(vA),Z(Vn))},n.\u0275cmp=$t({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,r){1&t&&at(0,gte,3,8,"div",0),2&t&&He("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[da,bx,vl,Rl,yT,Ip,hT,vA],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),cB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({providers:[vA],imports:[[Id,ev,tv]]}),n})(),_te=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.ngZone=i,this.verificationCode="",this.verificationId="",this.user={phoneNumber:""},this.confirmationResult="",this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}}}ngOnInit(){this.verify=localStorage.getItem("verificationId")||"{}"}onOtpChange(t){this.verificationCode=t}onSubmit(){this.authService.enterVerificationCode(this.verificationCode).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/update-profile"]).then()})}).catch(t=>{})}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Fd),Z(Jn),Z(Bt))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-verify-otp"]],decls:13,vars:1,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[1,"input"],[3,"config","onInputChange"],["ngOtpInput",""],["type","submit",1,"btn",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),K(4,"Cocktail Club"),k(),N(5,"p"),K(6,"Enter OTP sent on your mobile number"),k()(),N(7,"form")(8,"div",3)(9,"ng-otp-input",4,5),ut("onInputChange",function(o){return i.onOtpChange(o)}),k()(),N(11,"button",6),ut("click",function(){return i.onSubmit()}),K(12,"Verify OTP"),k()()()()),2&r&&(ce(9),He("config",i.config))},dependencies:[Sp,wp,Xy,mte],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%;padding:20px;border-radius:8px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 30px;font-size:8px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}}']})}return n})();function yte(n,e){1&n&&(N(0,"div",13),K(1," Invalid name "),k())}function vte(n,e){1&n&&(N(0,"div",13),K(1," Invalid email "),k())}const Ete=[{path:"signin",component:JZ,canActivate:[yp]},{path:"verify-otp",component:_te,canActivate:[yp]},{path:"update-profile",component:(()=>{class n{constructor(t,r){this.formBuilder=t,this.router=r,this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.phoneNumber=JSON.parse(localStorage.getItem("phoneNumber")||"{}"),this.userCart=JSON.parse(localStorage.getItem("cart")||"{}"),this.updateProfileForm=t.group({fullName:[this.user.fullName,Do.required],phoneNumber:[{value:this.user.phoneNumber,disabled:!0},Do.required],email:[this.user.email,Do.required]}),console.log(this.userCart),console.log(this.user),console.log("confirmation uidgg  "+(localStorage.getItem("uid")||"{}"))}ngOnInit(){}markProfileFormTouched(){const t=this.updateProfileForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.updateProfileForm.controls[r].markAsTouched()}onSubmit(t){this.markProfileFormTouched(),localStorage.setItem("user",JSON.stringify(this.updateProfileForm.value)),As.Z.firestore().collection("users").doc(t.uid).update({fullName:this.updateProfileForm.value.fullName,email:this.updateProfileForm.value.email,photoURL:"",orders:"",verificationId:"",paymentId:"",role:2,address:"",state:"",zipCode:""}).then(()=>{this.router.navigate(["/checkout"])})}static#e=this.\u0275fac=function(r){return new(r||n)(Z(vT),Z(Jn))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-update-profile"]],decls:21,vars:3,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Full name"],["class","text-danger",4,"ngIf"],[1,"fa","fa-envelope"],["formControlName","email","type","email","placeholder","Email"],["id","disabledInput",1,"input"],["formControlName","phoneNumber","type","tel","aria-disabled","true"],["type","submit",1,"btn"],[1,"text-danger"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),K(4,"Cocktail Club"),k(),N(5,"p"),K(6,"Update profile to continue"),k()(),N(7,"form",3),ut("ngSubmit",function(){return i.onSubmit(i.updateProfileForm)}),N(8,"div",4),Se(9,"i",5)(10,"input",6),k(),at(11,yte,2,0,"div",7),N(12,"div",4),Se(13,"i",8)(14,"input",9),k(),at(15,vte,2,0,"div",7),N(16,"div",10),Se(17,"i",5)(18,"input",11),k(),N(19,"button",12),K(20,"Update Profile"),k()()()()),2&r&&(ce(7),He("formGroup",i.updateProfileForm),ce(4),He("ngIf",i.updateProfileForm.controls.fullName.touched&&i.updateProfileForm.controls.fullName.invalid),ce(4),He("ngIf",i.updateProfileForm.controls.email.touched&&i.updateProfileForm.controls.email.invalid))},dependencies:[da,Sp,Rl,Ip,wp,jd,Pp],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}#disabledInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#d3d3d3}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%;padding:25px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{position:relative;margin:15px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}}']})}return n})(),canActivate:[yp]}];let Ite=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[wo.forChild(Ete),wo]})}return n})(),wte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=Zt({imports:[Id,ev,tv,Ite,cB]})}return n})();function dB(n){return new D(3e3,!1)}function rne(){return typeof window<"u"&&typeof window.document<"u"}function EA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Uu(n){switch(n.length){case 0:return new Ep;case 1:return n[0];default:return new mk(n)}}function hB(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,c=null;if(r.forEach(h=>{const g=h.get("offset"),m=g==u,y=m&&c||new Map;h.forEach((w,T)=>{let A=T,M=w;if("offset"!==T)switch(A=e.normalizePropertyName(A,o),M){case J0:M=i.get(T);break;case ma:M=s.get(T);break;default:M=e.normalizeStyleValue(T,A,M,o)}y.set(A,M)}),m||a.push(y),c=y,u=g}),o.length)throw function qte(n){return new D(3502,!1)}();return a}function IA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&wA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&wA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&wA(t,"destroy",n)))}}function wA(n,e,t){const s=CA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function CA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function as(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function fB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let TA=(n,e)=>!1,pB=(n,e,t)=>[],gB=null;function bA(n){const e=n.parentNode||n.host;return e===gB?null:e}(EA()||typeof Element<"u")&&(rne()?(gB=(()=>document.documentElement)(),TA=(n,e)=>{for(;e;){if(e===n)return!0;e=bA(e)}return!1}):TA=(n,e)=>n.contains(e),pB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tc=null,mB=!1;const _B=TA,yB=pB;let vB=(()=>{class n{validateStyleProperty(t){return function sne(n){tc||(tc=function one(){return typeof document<"u"?document.body:null}()||{},mB=!!tc.style&&"WebkitAppearance"in tc.style);let e=!0;return tc.style&&!function ine(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tc.style,!e&&mB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return _B(t,r)}getParentElement(t){return bA(t)}query(t,r,i){return yB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Ep(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),DA=(()=>{class n{}return n.NOOP=new vB,n})();const ane=1e3,AA="ng-enter",CE="ng-leave",TE="ng-trigger",bE=".ng-trigger",IB="ng-animating",SA=".ng-animating";function Aa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PA(parseFloat(e[1]),e[2])}function PA(n,e){return"s"===e?n*ane:n}function DE(n,e,t){return n.hasOwnProperty("duration")?n:function lne(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(dB()),{duration:0,delay:0,easing:""};i=PA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=PA(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function Cte(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function Tte(){return new D(3101,!1)}()),a=!0),a&&e.splice(u,0,dB())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ug(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Bu(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function TB(n,e,t){return t?e+":"+t+";":""}function bB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=TB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=TB(0,fne(t),n.style[t]));n.setAttribute("style",e)}function Fo(n,e,t){n.style&&(e.forEach((r,i)=>{const s=MA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),EA()&&bB(n))}function nc(n,e){n.style&&(e.forEach((t,r)=>{const i=MA(r);n.style[i]=""}),EA()&&bB(n))}function Bg(n){return Array.isArray(n)?1==n.length?n[0]:fk(n):n}const RA=new RegExp("{{\\s*(.+?)\\s*}}","g");function DB(n){let e=[];if("string"==typeof n){let t;for(;t=RA.exec(n);)e.push(t[1]);RA.lastIndex=0}return e}function jg(n,e,t){const r=n.toString(),i=r.replace(RA,(s,o)=>{let a=e[o];return null==a&&(t.push(function Dte(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function AE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hne=/-+([a-z0-9])/g;function MA(n){return n.replace(hne,(...e)=>e[1].toUpperCase())}function fne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function us(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ate(n){return new D(3004,!1)}()}}function AB(n,e){return window.getComputedStyle(n)[e]}const RE="*";function vne(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ene(n,e,t){if(":"==n[0]){const u=function Ine(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function jte(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Bte(n){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(SB(i,o));"<"==s[0]&&!(i==RE&&o==RE)&&e.push(SB(o,i))}(r,t,e)):t.push(n),t}const ME=new Set(["true","1"]),xE=new Set(["false","0"]);function SB(n,e){const t=ME.has(n)||xE.has(n),r=ME.has(e)||xE.has(e);return(i,s)=>{let o=n==RE||n==i,a=e==RE||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?ME.has(n):xE.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?ME.has(e):xE.has(e)),o&&a}}const wne=new RegExp("s*:selfs*,?","g");function xA(n,e,t,r){return new Cne(n).build(e,t,r)}class Cne{constructor(e){this._driver=e}build(e,t,r){const i=new Dne(t);return this._resetContextStyleTimingState(i),us(this,Bg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Pte(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Rte(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{DB(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(AE(s.values()),t.errors.push(function Mte(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=us(this,Bg(e.animation),t);return{type:1,matchers:vne(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>us(this,r,t)),options:rc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=us(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:rc(e.options)}}visitAnimate(e,t){const r=function Sne(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NA(DE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=NA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=DE(t,e);return NA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:vp({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=vp(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ma?r.push(a):t.errors.push(new D(3002,!1)):r.push(wB(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(u);let g=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function Nte(n,e,t,r,i){return new D(3010,!1)}()),g=!1),s=h.startTime),g&&c.set(u,{startTime:s,endTime:i}),t.options&&function dne(n,e,t){const r=e.params||{},i=DB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function bte(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ote(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const h=e.steps.map(M=>{const L=this._makeStyleAst(M,t);let R=null!=L.offset?L.offset:function Ane(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(L.styles),Q=0;return null!=R&&(s++,Q=L.offset=R),u=u||Q<0||Q>1,a=a||Q<c,c=Q,o.push(Q),L});u&&t.errors.push(function kte(){return new D(3012,!1)}()),a&&t.errors.push(function Fte(){return new D(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function Vte(){return new D(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,w=t.currentTime,T=t.currentAnimateTimings,A=T.duration;return h.forEach((M,L)=>{const R=m>0?L==y?1:m*L:o[L],Q=R*A;t.currentTime=w+T.delay+Q,T.duration=Q,this._validateStyleAst(M,t),M.offset=R,r.styles.push(M)}),r}visitReference(e,t){return{type:8,animation:us(this,Bg(e.animation),t),options:rc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Tne(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wne,"")),n=n.replace(/@\*/g,bE).replace(/@\w+/g,t=>bE+"-"+t.slice(1)).replace(/:animating/g,SA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,as(t.collectedStyles,t.currentQuerySelector,new Map);const a=us(this,Bg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:rc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Lte(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:DE(e.timings,t.errors,!0);return{type:12,animation:us(this,Bg(e.animation),t),timings:r,options:null}}}class Dne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rc(n){return n?(n=Ug(n)).params&&(n.params=function bne(n){return n?Ug(n):null}(n.params)):n={},n}function NA(n,e,t){return{duration:n,delay:e,easing:t}}function OA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class NE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mne=new RegExp(":enter","g"),Nne=new RegExp(":leave","g");function kA(n,e,t,r,i,s=new Map,o=new Map,a,u,c=[]){return(new One).buildKeyframes(n,e,t,r,i,s,o,a,u,c)}class One{buildKeyframes(e,t,r,i,s,o,a,u,c,h=[]){c=c||new NE;const g=new FA(e,t,c,i,s,h,[]);g.options=u;const m=u.delay?Aa(u.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,u),us(this,r,g);const y=g.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let T=y.length-1;T>=0;T--){const A=y[T];if(A.element===t){w=A;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,g.errors,u)}return y.length?y.map(w=>w.buildKeyframes()):[OA(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Aa(jg(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Aa(r.duration):null,a=null!=r.delay?Aa(r.delay):null;return 0!==o&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),us(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=OE);const o=Aa(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>us(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Aa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),us(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return DE(t.params?jg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Aa(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=OE);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const g=t.createSubContext(e.options,c);s&&g.delayNextStep(s),c===t.element&&(u=g.currentTimeline),us(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=t.currentTimeline;u&&h.delayNextStep(u);const g=h.currentTime;us(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const OE={};class FA{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new kE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Aa(r.duration)),null!=r.delay&&(i.delay=Aa(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=jg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new FA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=OE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new kne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Mne,"."+this._enterClassName)).replace(Nne,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Ute(n){return new D(3014,!1)}()),a}}class kE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Fne(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ma)}else Bu(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=jg(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ma),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=Bu(a,new Map,this._backFill);c.forEach((h,g)=>{h===J0?e.add(g):h===ma&&t.add(g)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?AE(e.values()):[],o=t.size?AE(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return OA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class kne extends kE{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Bu(e[0]);u.set("offset",0),s.push(u);const c=Bu(e[0]);c.set("offset",MB(a)),s.push(c);const h=e.length-1;for(let g=1;g<=h;g++){let m=Bu(e[g]);const y=m.get("offset");m.set("offset",MB((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return OA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function MB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class VA{}const Vne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lne extends VA{normalizePropertyName(e,t){return MA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Vne.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Ste(n,e){return new D(3005,!1)}())}return o+s}}function xB(n,e,t,r,i,s,o,a,u,c,h,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:h,totalTime:g,errors:m}}const LA={};class NB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Une(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,c,h){const g=[],m=this.ast.options&&this.ast.options.params||LA,w=this.buildStyles(r,a&&a.params||LA,g),T=u&&u.params||LA,A=this.buildStyles(i,T,g),M=new Set,L=new Map,R=new Map,Q="void"===i,fe={params:Bne(T,m),delay:this.ast.options?.delay},Re=h?[]:kA(e,t,this.ast.animation,s,o,w,A,fe,c,g);let _t=0;if(Re.forEach(Ys=>{_t=Math.max(Ys.duration+Ys.delay,_t)}),g.length)return xB(t,this._triggerName,r,i,Q,w,A,[],[],L,R,_t,g);Re.forEach(Ys=>{const xs=Ys.element,Cj=as(L,xs,new Set);Ys.preStyleProps.forEach(ac=>Cj.add(ac));const Kg=as(R,xs,new Set);Ys.postStyleProps.forEach(ac=>Kg.add(ac)),xs!==t&&M.add(xs)});const jn=AE(M.values());return xB(t,this._triggerName,r,i,Q,w,A,Re,jn,L,R,_t)}}function Bne(n,e){const t=Ug(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class jne{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ug(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=jg(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class Hne{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new jne(i.style,i.options&&i.options.params||{},r))}),OB(this.states,"true","1"),OB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new NB(e,i,this.states))}),this.fallbackTransition=function zne(n,e,t){return new NB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qne=new NE;class Gne{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=xA(this._driver,t,r,i);if(r.length)throw function Gte(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=hB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=kA(this._driver,t,s,AA,CE,new Map,new Map,r,qne,i),o.forEach(h=>{const g=as(a,h.element,new Map);h.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function Wte(){return new D(3300,!1)}()),o=[]),i.length)throw function Kte(n){return new D(3504,!1)}();a.forEach((h,g)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(g,y,ma))})});const c=Uu(o.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Zte(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const s=CA(t,"","","");return IA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const kB="ng-animate-queued",UA="ng-animate-disabled",Yne=[],FB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ps="__ng_removed";class BA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function nre(n){return n??null}(r?e.value:e),r){const s=Ug(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const $g="void",jA=new BA($g);class Xne{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Qte(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function Yte(n){return new D(3303,!1)}();if(!function rre(n){return"start"==n||"done"==n}(r))throw function Jte(n,e){return new D(3400,!1)}();const s=as(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=as(this._engine.statesByElement,e,new Map);return a.has(t)||(Rs(e,TE),Rs(e,TE+"-"+t),a.set(t,jA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Xte(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new $A(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rs(e,TE),Rs(e,TE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new BA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=jA),c.value!==$g&&u.value===c.value){if(!function ore(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,c.params)){const T=[],A=s.matchStyles(u.value,u.params,T),M=s.matchStyles(c.value,c.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{nc(e,A),Fo(e,M)})}return}const m=as(this._engine.playersByElement,e,[]);m.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let y=s.matchTransition(u.value,c.value,e,c.params),w=!1;if(!y){if(!i)return;y=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:c,player:o,isFallbackTransition:w}),w||(Rs(e,kB),o.onStart(()=>{Mh(e,kB)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const A=this._engine.playersByElement.get(e);if(A){let M=A.indexOf(o);M>=0&&A.splice(M,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,bE,!0);r.forEach(i=>{if(i[Ps])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const h=this.trigger(e,c,$g,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Uu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||jA,h=new BA($g),g=new $A(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ps];(!s||s===FB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Rs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=CA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,IA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ere{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Xne(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(FE(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!FE(t))return;const s=t[Ps];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rs(e,UA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Mh(e,UA))}removeNode(e,t,r,i){if(FE(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ps]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return FE(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,bE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,SA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Uu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ps];if(t&&t.setForRemoval){if(e[Ps]=FB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(UA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Uu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ene(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new NE,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(xe=>{h.add(xe);const Ue=this.driver.query(xe,".ng-animate-queued",!0);for(let Ge=0;Ge<Ue.length;Ge++)h.add(Ue[Ge])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=UB(m,this.collectedEnterElements),w=new Map;let T=0;y.forEach((xe,Ue)=>{const Ge=AA+T++;w.set(Ue,Ge),xe.forEach(Nt=>Rs(Nt,Ge))});const A=[],M=new Set,L=new Set;for(let xe=0;xe<this.collectedLeaveElements.length;xe++){const Ue=this.collectedLeaveElements[xe],Ge=Ue[Ps];Ge&&Ge.setForRemoval&&(A.push(Ue),M.add(Ue),Ge.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(Nt=>M.add(Nt)):L.add(Ue))}const R=new Map,Q=UB(m,Array.from(M));Q.forEach((xe,Ue)=>{const Ge=CE+T++;R.set(Ue,Ge),xe.forEach(Nt=>Rs(Nt,Ge))}),e.push(()=>{y.forEach((xe,Ue)=>{const Ge=w.get(Ue);xe.forEach(Nt=>Mh(Nt,Ge))}),Q.forEach((xe,Ue)=>{const Ge=R.get(Ue);xe.forEach(Nt=>Mh(Nt,Ge))}),A.forEach(xe=>{this.processLeaveNode(xe)})});const fe=[],Re=[];for(let xe=this._namespaceList.length-1;xe>=0;xe--)this._namespaceList[xe].drainQueuedTransitions(t).forEach(Ge=>{const Nt=Ge.player,Ar=Ge.element;if(fe.push(Nt),this.collectedEnterElements.length){const ni=Ar[Ps];if(ni&&ni.setForMove){if(ni.previousTriggersValues&&ni.previousTriggersValues.has(Ge.triggerName)){const uc=ni.previousTriggersValues.get(Ge.triggerName),Ns=this.statesByElement.get(Ge.element);if(Ns&&Ns.has(Ge.triggerName)){const zE=Ns.get(Ge.triggerName);zE.value=uc,Ns.set(Ge.triggerName,zE)}}return void Nt.destroy()}}const Vo=!g||!this.driver.containsElement(g,Ar),ls=R.get(Ar),$u=w.get(Ar),xn=this._buildInstruction(Ge,r,$u,ls,Vo);if(xn.errors&&xn.errors.length)return void Re.push(xn);if(Vo)return Nt.onStart(()=>nc(Ar,xn.fromStyles)),Nt.onDestroy(()=>Fo(Ar,xn.toStyles)),void i.push(Nt);if(Ge.isFallbackTransition)return Nt.onStart(()=>nc(Ar,xn.fromStyles)),Nt.onDestroy(()=>Fo(Ar,xn.toStyles)),void i.push(Nt);const Dj=[];xn.timelines.forEach(ni=>{ni.stretchStartingKeyframe=!0,this.disabledNodes.has(ni.element)||Dj.push(ni)}),xn.timelines=Dj,r.append(Ar,xn.timelines),o.push({instruction:xn,player:Nt,element:Ar}),xn.queriedElements.forEach(ni=>as(a,ni,[]).push(Nt)),xn.preStyleProps.forEach((ni,uc)=>{if(ni.size){let Ns=u.get(uc);Ns||u.set(uc,Ns=new Set),ni.forEach((zE,sS)=>Ns.add(sS))}}),xn.postStyleProps.forEach((ni,uc)=>{let Ns=c.get(uc);Ns||c.set(uc,Ns=new Set),ni.forEach((zE,sS)=>Ns.add(sS))})});if(Re.length){const xe=[];Re.forEach(Ue=>{xe.push(function tne(n,e){return new D(3505,!1)}())}),fe.forEach(Ue=>Ue.destroy()),this.reportError(xe)}const _t=new Map,jn=new Map;o.forEach(xe=>{const Ue=xe.element;r.has(Ue)&&(jn.set(Ue,Ue),this._beforeAnimationBuild(xe.player.namespaceId,xe.instruction,_t))}),i.forEach(xe=>{const Ue=xe.element;this._getPreviousPlayers(Ue,!1,xe.namespaceId,xe.triggerName,null).forEach(Nt=>{as(_t,Ue,[]).push(Nt),Nt.destroy()})});const Ys=A.filter(xe=>jB(xe,u,c)),xs=new Map;LB(xs,this.driver,L,c,ma).forEach(xe=>{jB(xe,u,c)&&Ys.push(xe)});const Kg=new Map;y.forEach((xe,Ue)=>{LB(Kg,this.driver,new Set(xe),u,J0)}),Ys.forEach(xe=>{const Ue=xs.get(xe),Ge=Kg.get(xe);xs.set(xe,new Map([...Array.from(Ue?.entries()??[]),...Array.from(Ge?.entries()??[])]))});const ac=[],Tj=[],bj={};o.forEach(xe=>{const{element:Ue,player:Ge,instruction:Nt}=xe;if(r.has(Ue)){if(h.has(Ue))return Ge.onDestroy(()=>Fo(Ue,Nt.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(Nt.totalTime),void i.push(Ge);let Ar=bj;if(jn.size>1){let ls=Ue;const $u=[];for(;ls=ls.parentNode;){const xn=jn.get(ls);if(xn){Ar=xn;break}$u.push(ls)}$u.forEach(xn=>jn.set(xn,Ar))}const Vo=this._buildAnimation(Ge.namespaceId,Nt,_t,s,Kg,xs);if(Ge.setRealPlayer(Vo),Ar===bj)ac.push(Ge);else{const ls=this.playersByElement.get(Ar);ls&&ls.length&&(Ge.parentPlayer=Uu(ls)),i.push(Ge)}}else nc(Ue,Nt.fromStyles),Ge.onDestroy(()=>Fo(Ue,Nt.toStyles)),Tj.push(Ge),h.has(Ue)&&i.push(Ge)}),Tj.forEach(xe=>{const Ue=s.get(xe.element);if(Ue&&Ue.length){const Ge=Uu(Ue);xe.setRealPlayer(Ge)}}),i.forEach(xe=>{xe.parentPlayer?xe.syncPlayerEvents(xe.parentPlayer):xe.destroy()});for(let xe=0;xe<A.length;xe++){const Ue=A[xe],Ge=Ue[Ps];if(Mh(Ue,CE),Ge&&Ge.hasAnimation)continue;let Nt=[];if(a.size){let Vo=a.get(Ue);Vo&&Vo.length&&Nt.push(...Vo);let ls=this.driver.query(Ue,SA,!0);for(let $u=0;$u<ls.length;$u++){let xn=a.get(ls[$u]);xn&&xn.length&&Nt.push(...xn)}}const Ar=Nt.filter(Vo=>!Vo.destroyed);Ar.length?ire(this,Ue,Ar):this.processLeaveNode(Ue)}return A.length=0,ac.forEach(xe=>{this.players.push(xe),xe.onDone(()=>{xe.destroy();const Ue=this.players.indexOf(xe);this.players.splice(Ue,1)}),xe.play()}),ac}elementContainsData(e,t){let r=!1;const i=t[Ps];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==$g;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,h=c!==s,g=as(r,c,[]);this._getPreviousPlayers(c,h,o,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),g.push(y)})}nc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,c=[],h=new Set,g=new Set,m=t.timelines.map(w=>{const T=w.element;h.add(T);const A=T[Ps];if(A&&A.removedBeforeQueried)return new Ep(w.duration,w.delay);const M=T!==u,L=function sre(n){const e=[];return BB(n,e),e}((r.get(T)||Yne).map(_t=>_t.getRealPlayer())).filter(_t=>!!_t.element&&_t.element===T),R=s.get(T),Q=o.get(T),fe=hB(0,this._normalizer,0,w.keyframes,R,Q),Re=this._buildPlayer(w,fe,L);if(w.subTimeline&&i&&g.add(T),M){const _t=new $A(e,a,T);_t.setRealPlayer(Re),c.push(_t)}return Re});c.forEach(w=>{as(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function tre(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>Rs(w,IB));const y=Uu(m);return y.onDestroy(()=>{h.forEach(w=>Mh(w,IB)),Fo(u,t.toStyles)}),g.forEach(w=>{as(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ep(e.duration,e.delay)}}class $A{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ep,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>IA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){as(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function FE(n){return n&&1===n.nodeType}function VB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function LB(n,e,t,r,i){const s=[];t.forEach(u=>s.push(VB(u)));const o=[];r.forEach((u,c)=>{const h=new Map;u.forEach(g=>{const m=e.computeStyle(c,g,i);h.set(g,m),(!m||0==m.length)&&(c[Ps]=Jne,o.push(c))}),n.set(c,h)});let a=0;return t.forEach(u=>VB(u,s[a++])),o}function UB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?r:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);u!==r&&t.get(u).push(a)}),t}function Rs(n,e){n.classList?.add(e)}function Mh(n,e){n.classList?.remove(e)}function ire(n,e,t){Uu(t).onDone(()=>n.processLeaveNode(e))}function BB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof mk?BB(r.players,e):e.push(r)}}function jB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class VE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new ere(e,t,r),this._timelineEngine=new Gne(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=[],h=xA(this._driver,s,u,c);if(u.length)throw function zte(n,e){return new D(3404,!1)}();a=function $ne(n,e,t){return new Hne(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=fB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=fB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ure=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Fo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fo(this._element,this._initialStyles),this._endStyles&&(Fo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nc(this._element,this._endStyles),this._endStyles=null),Fo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function HA(n){let e=null;return n.forEach((t,r)=>{(function lre(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class $B{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:AB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _B(e,t)}getParentElement(e){return bA(e)}query(e,t,r){return yB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,h=o.filter(y=>y instanceof $B);(function pne(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((w,T)=>c.set(T,w))});let g=function cne(n){return n.length?n[0]instanceof Map?n:n.map(e=>wB(e)):[]}(t).map(y=>Bu(y));g=function gne(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,AB(n,a)))}}return e}(e,g,c);const m=function are(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=HA(e[0]),e.length>1&&(r=HA(e[e.length-1]))):e instanceof Map&&(t=HA(e)),t||r?new ure(n,t,r):null}(e,g);return new $B(e,g,u,m)}}let dre=(()=>{class n extends dk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ki.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?fk(t):t;return HB(this._renderer,null,r,"register",[i]),new hre(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(ne(Pf),ne(Vn))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class hre extends oK{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fre(this._id,e,t||{},this._renderer)}}class fre{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return HB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function HB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const zB="@.disabled";let pre=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new qB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=h=>{Array.isArray(h)?h.forEach(u):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(u),new gre(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(ne(Pf),ne(VE),ne(Bt))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class qB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==zB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gre extends qB{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==zB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function mre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function _re(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let yre=(()=>{class n extends VE{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn),ne(DA),ne(VA),ne(ml))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const GB=[{provide:dk,useClass:dre},{provide:VA,useFactory:function vre(){return new Lne}},{provide:VE,useClass:yre},{provide:Pf,useFactory:function Ere(n,e,t){return new pre(n,e,t)},deps:[oy,VE,Bt]}],zA=[{provide:DA,useFactory:()=>new cre},{provide:PM,useValue:"BrowserAnimations"},...GB],WB=[{provide:DA,useClass:vB},{provide:PM,useValue:"NoopAnimations"},...GB];let Ire=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?WB:zA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({providers:zA,imports:[Xx]}),n})();function KB(...n){return function wre(){return ek(1)}()(ga(n,Uy(n)))}function qA(...n){const e=Uy(n);return _i((t,r)=>{(e?KB(n,t,e):KB(n,t)).subscribe(r)})}function GA(){return _i((n,e)=>{let t,r=!1;n.subscribe(Fi(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function WA(n,e){return _i(function Cre(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(Fi(o,h=>{const g=c++;u=a?n(u,h,g):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function bre(n,e){return n===e}function KA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZB(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function QB(){if(!function UY(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Hg{constructor(e){this._delegate=e}static fromBase64String(e){return QB(),new Hg(ko.fromBase64String(e))}static fromUint8Array(e){return ZB(),new Hg(ko.fromUint8Array(e))}toBase64(){return QB(),this._delegate.toBase64()}toUint8Array(){return ZB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZA(n){return function Sre(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Pre{enableIndexedDbPersistence(e,t){return function pee(n,e){$U(n=Et(n,an));const t=Bn(n);if(t._uninitializedComponentsProvider)throw new ie(H.FAILED_PRECONDITION,"SDK cache is already specified.");Li("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new bh;return jU(t,i,new JD(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gee(n){$U(n=Et(n,an));const e=Bn(n);if(e._uninitializedComponentsProvider)throw new ie(H.FAILED_PRECONDITION,"SDK cache is already specified.");Li("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new bh;return jU(e,r,new wU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mee(n){if(n._initialized&&!n._terminated)throw new ie(H.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(t=(0,Y.Z)(function*(i){if(!Qs.D())return Promise.resolve();const s=i+"main";yield Qs.delete(s)}),function r(i){return t.apply(this,arguments)})(zb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function VU(n,e,t,r={}){var i;const s=(n=Et(n,Mg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Tr.MOCK_USER;else{a=(0,tn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tr(c)}n._authCredentials=new uY(new $V(a,u))}}(this._delegate,e,t,r)}enableNetwork(){return function yee(n){return function eee(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield bU(n),t=yield DU(n);return e.setNetworkEnabled(!0),function(i){const s=he(i);return s.C_.delete(0),Sg(s)}(t)}))}(Bn(n=Et(n,an)))}(this._delegate)}disableNetwork(){return function vee(n){return function tee(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield bU(n),t=yield DU(n);return e.setNetworkEnabled(!1),(r=(0,Y.Z)(function*(s){const o=he(s);o.C_.add(0),yield yh(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Bn(n=Et(n,an)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _ee(n){return function(t){const r=new yr;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function VX(n,e){return FD.apply(this,arguments)}(yield sA(t),r)})),r.promise}(Bn(n=Et(n,an)))}(this._delegate)}onSnapshotsInSync(e){return function Qee(n,e){return function iee(n,e){const t=new aE(e);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Ah(n),s=t,he(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Ah(n),s=t,void he(i).q_.delete(s);var i,s}))}}(Bn(n=Et(n,an)),lA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xh(this,LU(this._delegate,e))}catch(t){throw Ii(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ms(this,dE(this._delegate,e))}catch(t){throw Ii(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wi(this,function cee(n,e){if(n=Et(n,Mg),aA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jr(n,null,(r=e,new Ea(St.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ii(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ate(n,e,t){n=Et(n,an);const r=Object.assign(Object.assign({},ste),t);return function(s){if(s.maxAttempts<1)throw new ie(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new yr;return s.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const c=yield function AU(n){return lE(n).then(e=>e.datastore)}(s);new JX(s.asyncQueue,c,a,o,u).run()})),u.promise}(Bn(n),i=>e(new ote(n,i)),r)}(this._delegate,t=>e(new JB(this,t)))}batch(){return Bn(this._delegate),new XB(new oB(this._delegate,e=>Ph(this._delegate,e)))}loadBundle(e){return function Eee(n,e){const t=Bn(n=Et(n,an)),r=new hee;return function see(n,e,t,r){const i=function(o,a){let u;return u="string"==typeof o?QL().encode(o):o,h=function(h,g){if(h instanceof Uint8Array)return CU(h,g);if(h instanceof ArrayBuffer)return CU(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new QX(h,a);var h}(t,Ag(e));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function KX(n,e,t){const r=he(n);var i;(i=(0,Y.Z)(function*(o,a,u){try{const c=yield a.getMetadata();if(yield function(w,T){const A=he(w),M=tr(T.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",L=>A.Kr.getBundleMetadata(L,T.id)).then(L=>!!L&&L.createTime.compareTo(M)>=0)}(o.localStore,c))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(w=c).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);u._updateProgress(fU(c));const h=new AX(c,o.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&u._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield Ta(o,m.ra,void 0),yield function(w,T){const A=he(w);return A.persistence.runTransaction("Save bundle","readwrite",M=>A.Kr.saveBundleMetadata(M,T))}(o.localStore,c),u._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return Li("SyncEngine",`Loading bundle failed with ${c}`),u._failWith(c),Promise.resolve(new Set)}var w}),function s(o,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield sA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Iee(n,e){return function oee(n,e){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(r,i){const s=he(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Dh(n),e)}))}(Bn(n=Et(n,an)),e).then(t=>t?new jr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new wi(this,t):null)}}class UE extends mA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hg(new ko(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ms.forKey(t,this.firestore,null)}}class JB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}get(e){const t=sc(e);return this._delegate.get(t).then(r=>new zg(this._firestore,new Da(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sc(e);return r?(KA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sc(e);return this._delegate.delete(t),this}}class XB{constructor(e){this._delegate=e}set(e,t,r){const i=sc(e);return r?(KA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ic{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Lg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ic.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ic(e,new UE(e),t),i.set(t,s)),s}}ic.INSTANCES=new WeakMap;class Ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ms(t,new gn(t._delegate,r,new pe(e)))}static forKey(e,t,r){return new Ms(t,new gn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xh(this.firestore,LU(this._delegate,e))}catch(t){throw Ii(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof gn&&UU(this._delegate,e)}set(e,t){t=KA("DocumentReference.set",t);try{return t?rB(this._delegate,e,t):rB(this._delegate,e)}catch(r){throw Ii(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?iB(this._delegate,e):iB(this._delegate,e,t,...r)}catch(i){throw Ii(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Kee(n){return Ph(Et(n.firestore,an),[new lh(n._key,Tn.none())])}(this._delegate)}onSnapshot(...e){const t=ej(e),r=tj(e,i=>new zg(this.firestore,new Da(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Hee(n){n=Et(n,gn);const e=Et(n.firestore,an),t=Bn(e),r=new Vu(e);return function nee(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(r=(0,Y.Z)(function*(s,o,a){try{const u=yield function(h,g){const m=he(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ie(H.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=Ih(u,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Da(e,r,n._key,i,new ec(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function zee(n){n=Et(n,gn);const e=Et(n.firestore,an);return SU(Bn(e),n._key,{source:"server"}).then(t=>_A(e,n,t))}(this._delegate):function $ee(n){n=Et(n,gn);const e=Et(n.firestore,an);return SU(Bn(e),n._key).then(t=>_A(e,n,t))}(this._delegate),t.then(r=>new zg(this.firestore,new Da(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ms(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}function Ii(n,e,t){return n.message=n.message.replace(e,t),n}function ej(n){for(const e of n)if("object"==typeof e&&!ZA(e))return e;return{}}function tj(n,e){var t,r;let i;return i=ZA(n[0])?n[0]:ZA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ms(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nB(this._delegate,e._delegate)}}class qg extends zg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function oY(n,e){n||De()}(void 0!==t),t}}class wi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}where(e,t,r){try{return new wi(this.firestore,ku(this._delegate,function Mee(n,e,t){const r=e,i=_E("where",n);return Vg._create(i,r,t)}(e,t,r)))}catch(i){throw Ii(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wi(this.firestore,ku(this._delegate,function xee(n,e="asc"){const t=e,r=_E("orderBy",n);return gA._create(r,t)}(e,t)))}catch(r){throw Ii(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wi(this.firestore,ku(this._delegate,function Nee(n){return kU("limit",n),yE._create("limit",n,"F")}(e)))}catch(t){throw Ii(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wi(this.firestore,ku(this._delegate,function Oee(n){return kU("limitToLast",n),yE._create("limitToLast",n,"L")}(e)))}catch(t){throw Ii(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wi(this.firestore,ku(this._delegate,function kee(...n){return vE._create("startAt",n,!0)}(...e)))}catch(t){throw Ii(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wi(this.firestore,ku(this._delegate,function Fee(...n){return vE._create("startAfter",n,!1)}(...e)))}catch(t){throw Ii(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wi(this.firestore,ku(this._delegate,function Vee(...n){return EE._create("endBefore",n,!1)}(...e)))}catch(t){throw Ii(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wi(this.firestore,ku(this._delegate,function Lee(...n){return EE._create("endAt",n,!0)}(...e)))}catch(t){throw Ii(t,"endAt()","Query.endAt()")}}isEqual(e){return uA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Gee(n){n=Et(n,jr);const e=Et(n.firestore,an),t=Bn(e),r=new Vu(e);return function ree(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(r=(0,Y.Z)(function*(s,o,a){try{const u=yield eE(s,o,!0),c=new mU(o,u.ls),h=c.ca(u.documents),g=c.applyChanges(h,!1);a.resolve(g.snapshot)}catch(u){const c=Ih(u,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Fu(e,r,n,i))}(this._delegate):"server"===e?.source?function Wee(n){n=Et(n,jr);const e=Et(n.firestore,an),t=Bn(e),r=new Vu(e);return PU(t,n._query,{source:"server"}).then(i=>new Fu(e,r,n,i))}(this._delegate):function qee(n){n=Et(n,jr);const e=Et(n.firestore,an),t=Bn(e),r=new Vu(e);return QU(n._query),PU(t,n._query).then(i=>new Fu(e,r,n,i))}(this._delegate),t.then(r=>new QA(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ej(e),r=tj(e,i=>new QA(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sB(this._delegate,t,r)}withConverter(e){return new wi(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}class Mre{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Mre(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new qg(this._firestore,r))})}isEqual(e){return nB(this._delegate,e._delegate)}}class xh extends wi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ms(this.firestore,e):null}doc(e){try{return new Ms(this.firestore,void 0===e?dE(this._delegate):dE(this._delegate,e))}catch(t){throw Ii(t,"doc()","CollectionReference.doc()")}}add(e){return function Zee(n,e){const t=Et(n.firestore,an),r=dE(n),i=IE(n.converter,e);return Ph(t,[pE(Jl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ms(this.firestore,t))}isEqual(e){return UU(this._delegate,e._delegate)}withConverter(e){return new xh(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}function sc(n){return Et(n,gn)}class YA{constructor(...e){this._delegate=new ba(...e)}static documentId(){return new YA(fn.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class oc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function lte(){return new cA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new oc(e)}static delete(){const e=function ute(){return new Ng("deleteField")}();return e._methodName="FieldValue.delete",new oc(e)}static arrayUnion(...e){const t=function cte(...n){return new Dee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new oc(t)}static arrayRemove(...e){const t=function dte(...n){return new Aee("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new oc(t)}static increment(e){const t=function hte(n){return new See("increment",n)}(e);return t._methodName="FieldValue.increment",new oc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xre={Firestore:YB,GeoPoint:hE,Timestamp:Cn,Blob:Hg,Transaction:JB,WriteBatch:XB,DocumentReference:Ms,DocumentSnapshot:zg,Query:wi,QueryDocumentSnapshot:qg,QuerySnapshot:QA,CollectionReference:xh,FieldPath:YA,FieldValue:oc,setLogLevel:function Rre(n){!function sY(n){vu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function nj(n,e){return function kre(n,e=bO){return new Fr(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function JA(n,e){return nj(n,e).pipe(Vi(t=>({payload:t,type:"query"})))}!function Ore(n){(function Nre(n,e){n.INTERNAL.registerComponent(new FO.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},xre)))})(n,(e,t)=>new YB(e,t,new Pre)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(As.Z);class rj{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=lj(r,t);return new oj(i,s,this.afs)}snapshotChanges(){return function Fre(n,e){return nj(n,e).pipe(qA(void 0),GA(),Vi(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(e={}){return this.snapshotChanges().pipe(Vi(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return ga(this.ref.get(e)).pipe(rs)}}function BE(n,e){return JA(n,e).pipe(qA(void 0),GA(),Vi(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const c=s.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function ij(n,e,t){return BE(n,t).pipe(WA((r,i)=>function Vre(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Lre(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return XA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function Tre(n,e=_p){return n=n??bre,_i((t,r)=>{let i,s=!0;t.subscribe(Fi(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Vi(r=>r.map(i=>({type:i.type,payload:i}))))}function XA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function sj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oj{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Vi(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(qA(void 0),GA(),By(([r,i])=>i.length>0||!r),Vi(([,r])=>r),rs)}auditTrail(e){return this.stateChanges(e).pipe(WA((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sj(e);return ij(this.query,t,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(e={}){return JA(this.query,this.afs.schedulers.outsideAngular).pipe(Vi(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),rs)}get(e){return ga(this.query.get(e)).pipe(rs)}add(e){return this.ref.add(e)}doc(e){return new rj(this.ref.doc(e),this.afs)}}class Ure{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BE(this.query,this.afs.schedulers.outsideAngular).pipe(Vi(t=>t.filter(r=>e.indexOf(r.type)>-1)),By(t=>t.length>0),rs):BE(this.query,this.afs.schedulers.outsideAngular).pipe(rs)}auditTrail(e){return this.stateChanges(e).pipe(WA((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sj(e);return ij(this.query,t,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(e={}){return JA(this.query,this.afs.schedulers.outsideAngular).pipe(Vi(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),rs)}get(e){return ga(this.query.get(e)).pipe(rs)}}const aj=new de("angularfire2.enableFirestorePersistence"),uj=new de("angularfire2.firestore.persistenceSettings"),Bre=new de("angularfire2.firestore.settings"),jre=new de("angularfire2.firestore.use-emulator");function lj(n,e=(t=>t)){return{query:e(n),ref:n}}let $re=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,u,c,h,g,m,y,w,T,A,M,L){this.schedulers=u;const R=W0(t,a,r),Q=h;g&&ck(R,a,m,w,T,A,y,M),[this.firestore,this.persistenceEnabled$]=UO(`${R.name}.firestore`,"AngularFirestore",R.name,()=>{const fe=a.runOutsideAngular(()=>R.firestore());if(s&&fe.settings(s),Q&&fe.useEmulator(...Q),i&&!Px(o)){const Re=()=>{try{return ga(fe.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(_t){return typeof console<"u"&&console.warn(_t),kd(!1)}};return[fe,a.runOutsideAngular(Re)]}return[fe,kd(!1)]},[s,Q,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=lj(i,r),a=this.schedulers.ngZone.run(()=>s);return new oj(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Ure(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new rj(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ne(Fy),ne(Vy,8),ne(aj,8),ne(Bre,8),ne(vd),ne(Bt),ne(NO),ne(uj,8),ne(jre,8),ne(jy,8),ne(ik,8),ne(sk,8),ne(ok,8),ne(ak,8),ne(uk,8),ne(lk,8),ne(MO,8))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Hre=(()=>{class n{constructor(){As.Z.registerVersion("angularfire",Oy.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:aj,useValue:!0},{provide:uj,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=Zt({providers:[$re]})}return n})();class jE{}class eS{}class Sa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zre{encodeKey(e){return cj(e)}encodeValue(e){return cj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Gre=/%(\d[a-f0-9])/gi,Wre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cj(n){return encodeURIComponent(n).replace(Gre,(e,t)=>Wre[t]??e)}function $E(n){return`${n}`}class ju{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($E):[$E(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ju({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($E(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($E(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Kre{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function dj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hj(n){return typeof Blob<"u"&&n instanceof Blob}function fj(n){return typeof FormData<"u"&&n instanceof FormData}class Gg{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Zre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sa),this.context||(this.context=new Kre),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ju,this.urlWithParams=t}serializeBody(){return null===this.body?null:dj(this.body)||hj(this.body)||fj(this.body)||function Qre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ju?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fj(this.body)?null:hj(this.body)?this.body.type||null:dj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ju?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),c)),new Gg(t,r,s,{params:c,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:o})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class tS{constructor(e,t=200,r="OK"){this.headers=e.headers||new Sa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nS extends tS{constructor(e={}){super(e),this.type=dr.ResponseHeader}clone(e={}){return new nS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HE extends tS{constructor(e={}){super(e),this.type=dr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pj extends tS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function rS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yre=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Gg)s=t;else{let u,c;u=i.headers instanceof Sa?i.headers:new Sa(i.headers),i.params&&(c=i.params instanceof ju?i.params:new ju({fromObject:i.params})),s=new Gg(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=je(s).pipe(iu(u=>this.handler.handle(u)));if(t instanceof Gg||"events"===i.observe)return o;const a=o.pipe(ha(u=>u instanceof HE));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(we(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(we(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(we(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(we(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ju).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,rS(i,r))}post(t,r,i={}){return this.request("POST",t,rS(i,r))}put(t,r,i={}){return this.request("PUT",t,rS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(ne(jE))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function gj(n,e){return e(n)}function Jre(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const eie=new de("HTTP_INTERCEPTORS"),Wg=new de("HTTP_INTERCEPTOR_FNS");function tie(){let n=null;return(e,t)=>(null===n&&(n=(Qe(eie,{optional:!0})??[]).reduceRight(Jre,gj)),n(e,t))}let mj=(()=>{class n extends jE{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Wg)));this.chain=r.reduceRight((i,s)=>function Xre(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),gj)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ne(eS),ne(po))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const sie=/^\)\]\}',?\n/;let yj=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ht(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,w)=>i.setRequestHeader(y,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=i.statusText||"OK",w=new Sa(i.getAllResponseHeaders()),T=function oie(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new nS({headers:w,status:i.status,statusText:y,url:T}),o},u=()=>{let{headers:y,status:w,statusText:T,url:A}=a(),M=null;204!==w&&(M=typeof i.response>"u"?i.responseText:i.response),0===w&&(w=M?200:0);let L=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof M){const R=M;M=M.replace(sie,"");try{M=""!==M?JSON.parse(M):null}catch(Q){M=R,L&&(L=!1,M={error:Q,text:M})}}L?(r.next(new HE({body:M,headers:y,status:w,statusText:T,url:A||void 0})),r.complete()):r.error(new pj({error:M,headers:y,status:w,statusText:T,url:A||void 0}))},c=y=>{const{url:w}=a(),T=new pj({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(T)};let h=!1;const g=y=>{h||(r.next(a()),h=!0);let w={type:dr.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===t.responseType&&i.responseText&&(w.partialText=i.responseText),r.next(w)},m=y=>{let w={type:dr.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.next(w)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",g),null!==s&&i.upload&&i.upload.addEventListener("progress",m)),i.send(s),r.next({type:dr.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",g),null!==s&&i.upload&&i.upload.removeEventListener("progress",m)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ne(Mx))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const iS=new de("XSRF_ENABLED"),vj=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ej=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ij{}let lie=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ne(Vn),ne(vd),ne(vj))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function cie(n,e){const t=n.url.toLowerCase();if(!Qe(iS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Qe(Ij).getToken(),i=Qe(Ej);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var nr=(()=>((nr=nr||{})[nr.Interceptors=0]="Interceptors",nr[nr.LegacyInterceptors=1]="LegacyInterceptors",nr[nr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nr[nr.NoXsrfProtection=3]="NoXsrfProtection",nr[nr.JsonpSupport=4]="JsonpSupport",nr[nr.RequestsMadeViaParent=5]="RequestsMadeViaParent",nr))();function Nh(n,e){return{\u0275kind:n,\u0275providers:e}}function die(...n){const e=[Yre,yj,mj,{provide:jE,useExisting:mj},{provide:eS,useExisting:yj},{provide:Wg,useValue:cie,multi:!0},{provide:iS,useValue:!0},{provide:Ij,useClass:lie}];for(const t of n)e.push(...t.\u0275providers);return _P(e)}const wj=new de("LEGACY_INTERCEPTOR_FN");let fie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=Zt({providers:[die(Nh(nr.LegacyInterceptors,[{provide:wj,useFactory:tie},{provide:Wg,useExisting:wj,multi:!0}]))]}),n})(),pie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n,bootstrap:[L7]});static#n=this.\u0275inj=Zt({imports:[Xx,Id,fie,ev,tv,wte,j7,QZ,wo,V7,cB,Ire,PK.forRoot(),k7,Hre,s7.initializeApp(CF_firebase)]})}return n})();D5().bootstrapModule(pie).catch(n=>console.error(n))},942:(cs,$n,Ve)=>{Ve.d($n,{Z:()=>Hn});var b=Ve(90),W=Ve(859),O=Ve(881),Ne=Ve(877);class Rt{constructor(We,Ke){this._delegate=We,this.firebase=Ke,(0,O._addComponent)(We,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(We,Ke=O._DEFAULT_ENTRY_NAME){var zn;this._delegate.checkDestroyed();const mn=this._delegate.container.getProvider(We);return!mn.isInitialized()&&"EXPLICIT"===(null===(zn=mn.getComponent())||void 0===zn?void 0:zn.instantiationMode)&&mn.initialize(),mn.getImmediate({identifier:Ke})}_removeServiceInstance(We,Ke=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Ke)}_addComponent(We){(0,O._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,O._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const bn=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function It(){const pt=function Gt(pt){const We={},Ke={__esModule:!0,initializeApp:function dt(st,ae={}){const yt=O.initializeApp(st,ae);if((0,b.r3)(We,yt.name))return We[yt.name];const Kt=new pt(yt,Ke);return We[yt.name]=Kt,Kt},app:mn,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ri(st){const ae=st.name,yt=ae.replace("-compat","");if(O._registerComponent(st)&&"PUBLIC"===st.type){const Kt=(_n=mn())=>{if("function"!=typeof _n[yt])throw bn.create("invalid-app-argument",{appName:ae});return _n[yt]()};void 0!==st.serviceProps&&(0,b.ZB)(Kt,st.serviceProps),Ke[yt]=Kt,pt.prototype[yt]=function(..._n){return this._getService.bind(this,ae).apply(this,st.multipleInstances?_n:[])}}return"PUBLIC"===st.type?Ke[yt]:null},removeApp:function zn(st){delete We[st]},useAsService:function Nn(st,ae){return"serverAuth"===ae?null:ae},modularAPIs:O}};function mn(st){if(!(0,b.r3)(We,st=st||O._DEFAULT_ENTRY_NAME))throw bn.create("no-app",{appName:st});return We[st]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function Vt(){return Object.keys(We).map(st=>We[st])}}),mn.App=pt,Ke}(Rt);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:It,extendNamespace:function We(Ke){(0,b.ZB)(pt,Ke)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),pt}(),le=new Ne.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Hn=J;!function Dt(pt){(0,O.registerVersion)("@firebase/app-compat","0.2.25",pt)}()},881:(cs,$n,Ve)=>{Ve.r($n),Ve.d($n,{FirebaseError:()=>Ne.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>zi,_addComponent:()=>oi,_addOrOverwriteComponent:()=>ai,_apps:()=>Er,_clearComponents:()=>Dn,_components:()=>si,_getProvider:()=>Lt,_registerComponent:()=>fr,_removeServiceInstance:()=>ui,deleteApp:()=>Hr,getApp:()=>Gi,getApps:()=>Wn,initializeApp:()=>ms,onLog:()=>Pa,registerVersion:()=>li,setLogLevel:()=>Js});var b=Ve(861),W=Ve(859),O=Ve(877),Ne=Ve(90);const Rt=(q,D)=>D.some(oe=>q instanceof oe);let un,bn;const J=new WeakMap,le=new WeakMap,Me=new WeakMap,Je=new WeakMap,Dt=new WeakMap;let We={get(q,D,oe){if(q instanceof IDBTransaction){if("done"===D)return le.get(q);if("objectStoreNames"===D)return q.objectStoreNames||Me.get(q);if("store"===D)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return dt(q[D])},set:(q,D,oe)=>(q[D]=oe,!0),has:(q,D)=>q instanceof IDBTransaction&&("done"===D||"store"===D)||D in q};function mn(q){return"function"==typeof q?function zn(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function It(){return bn||(bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...D){return q.apply(Vt(this),D),dt(J.get(this))}:function(...D){return dt(q.apply(Vt(this),D))}:function(D,...oe){const te=q.call(Vt(this),D,...oe);return Me.set(te,D.sort?D.sort():[D]),dt(te)}}(q):(q instanceof IDBTransaction&&function pt(q){if(le.has(q))return;const D=new Promise((oe,te)=>{const Ce=()=>{q.removeEventListener("complete",gt),q.removeEventListener("error",Mt),q.removeEventListener("abort",Mt)},gt=()=>{oe(),Ce()},Mt=()=>{te(q.error||new DOMException("AbortError","AbortError")),Ce()};q.addEventListener("complete",gt),q.addEventListener("error",Mt),q.addEventListener("abort",Mt)});le.set(q,D)}(q),Rt(q,function Gt(){return un||(un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,We):q)}function dt(q){if(q instanceof IDBRequest)return function Hn(q){const D=new Promise((oe,te)=>{const Ce=()=>{q.removeEventListener("success",gt),q.removeEventListener("error",Mt)},gt=()=>{oe(dt(q.result)),Ce()},Mt=()=>{te(q.error),Ce()};q.addEventListener("success",gt),q.addEventListener("error",Mt)});return D.then(oe=>{oe instanceof IDBCursor&&J.set(oe,q)}).catch(()=>{}),Dt.set(D,q),D}(q);if(Je.has(q))return Je.get(q);const D=mn(q);return D!==q&&(Je.set(q,D),Dt.set(D,q)),D}const Vt=q=>Dt.get(q),st=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],yt=new Map;function Kt(q,D){if(!(q instanceof IDBDatabase)||D in q||"string"!=typeof D)return;if(yt.get(D))return yt.get(D);const oe=D.replace(/FromIndex$/,""),te=D!==oe,Ce=ae.includes(oe);if(!(oe in(te?IDBIndex:IDBObjectStore).prototype)||!Ce&&!st.includes(oe))return;const gt=function(){var Mt=(0,b.Z)(function*(kn,...rn){const yn=this.transaction(kn,Ce?"readwrite":"readonly");let lc=yn.store;return te&&(lc=lc.index(rn.shift())),(yield Promise.all([lc[oe](...rn),Ce&&yn.done]))[0]});return function(rn){return Mt.apply(this,arguments)}}();return yt.set(D,gt),gt}!function Ke(q){We=q(We)}(q=>({...q,get:(D,oe,te)=>Kt(D,oe)||q.get(D,oe,te),has:(D,oe)=>!!Kt(D,oe)||q.has(D,oe)}));class _n{constructor(D){this.container=D}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function On(q){return"VERSION"===q.getComponent()?.type}(oe)){const te=oe.getImmediate();return`${te.library}/${te.version}`}return null}).filter(oe=>oe).join(" ")}}const ji="@firebase/app",ht=new O.Yd("@firebase/app"),zi="[DEFAULT]",qi={[ji]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,si=new Map;function oi(q,D){try{q.container.addComponent(D)}catch(oe){ht.debug(`Component ${D.name} failed to register with FirebaseApp ${q.name}`,oe)}}function ai(q,D){q.container.addOrOverwriteComponent(D)}function fr(q){const D=q.name;if(si.has(D))return ht.debug(`There were multiple attempts to register component ${D}.`),!1;si.set(D,q);for(const oe of Er.values())oi(oe,q);return!0}function Lt(q,D){const oe=q.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),q.container.getProvider(D)}function ui(q,D,oe=zi){Lt(q,D).clearInstance(oe)}function Dn(){si.clear()}const cn=new Ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(D,oe,te){this._isDeleted=!1,this._options=Object.assign({},D),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=te,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(D){this.checkDestroyed(),this._automaticDataCollectionEnabled=D}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(D){this._isDeleted=D}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const gs="10.7.1";function ms(q,D={}){let oe=q;"object"!=typeof D&&(D={name:D});const te=Object.assign({name:zi,automaticDataCollectionEnabled:!1},D),Ce=te.name;if("string"!=typeof Ce||!Ce)throw cn.create("bad-app-name",{appName:String(Ce)});if(oe||(oe=(0,Ne.aH)()),!oe)throw cn.create("no-options");const gt=Er.get(Ce);if(gt){if((0,Ne.vZ)(oe,gt.options)&&(0,Ne.vZ)(te,gt.config))return gt;throw cn.create("duplicate-app",{appName:Ce})}const Mt=new W.H0(Ce);for(const rn of si.values())Mt.addComponent(rn);const kn=new An(oe,te,Mt);return Er.set(Ce,kn),kn}function Gi(q=zi){const D=Er.get(q);if(!D&&q===zi&&(0,Ne.aH)())return ms();if(!D)throw cn.create("no-app",{appName:q});return D}function Wn(){return Array.from(Er.values())}function Hr(q){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,b.Z)(function*(q){const D=q.name;Er.has(D)&&(Er.delete(D),yield Promise.all(q.container.getProviders().map(oe=>oe.delete())),q.isDeleted=!0)})).apply(this,arguments)}function li(q,D,oe){var te;let Ce=null!==(te=qi[q])&&void 0!==te?te:q;oe&&(Ce+=`-${oe}`);const gt=Ce.match(/\s|\//),Mt=D.match(/\s|\//);if(gt||Mt){const kn=[`Unable to register library "${Ce}" with version "${D}":`];return gt&&kn.push(`library name "${Ce}" contains illegal characters (whitespace or "/")`),gt&&Mt&&kn.push("and"),Mt&&kn.push(`version name "${D}" contains illegal characters (whitespace or "/")`),void ht.warn(kn.join(" "))}fr(new W.wA(`${Ce}-version`,()=>({library:Ce,version:D}),"VERSION"))}function Pa(q,D){if(null!==q&&"function"!=typeof q)throw cn.create("invalid-log-argument");(0,O.Am)(q,D)}function Js(q){(0,O.Ub)(q)}const Lo="firebase-heartbeat-database",_s=1,P="firebase-heartbeat-store";let S=null;function E(){return S||(S=function ri(q,D,{blocked:oe,upgrade:te,blocking:Ce,terminated:gt}={}){const Mt=indexedDB.open(q,D),kn=dt(Mt);return te&&Mt.addEventListener("upgradeneeded",rn=>{te(dt(Mt.result),rn.oldVersion,rn.newVersion,dt(Mt.transaction),rn)}),oe&&Mt.addEventListener("blocked",rn=>oe(rn.oldVersion,rn.newVersion,rn)),kn.then(rn=>{gt&&rn.addEventListener("close",()=>gt()),Ce&&rn.addEventListener("versionchange",yn=>Ce(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),kn}(Lo,_s,{upgrade:(q,D)=>{0===D&&q.createObjectStore(P)}}).catch(q=>{throw cn.create("idb-open",{originalErrorMessage:q.message})})),S}function v(){return(v=(0,b.Z)(function*(q){try{return yield(yield E()).transaction(P).objectStore(P).get(be(q))}catch(D){if(D instanceof Ne.ZR)ht.warn(D.message);else{const oe=cn.create("idb-get",{originalErrorMessage:D?.message});ht.warn(oe.message)}}})).apply(this,arguments)}function F(q,D){return U.apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(q,D){try{const te=(yield E()).transaction(P,"readwrite");yield te.objectStore(P).put(D,be(q)),yield te.done}catch(oe){if(oe instanceof Ne.ZR)ht.warn(oe.message);else{const te=cn.create("idb-set",{originalErrorMessage:oe?.message});ht.warn(te.message)}}})).apply(this,arguments)}function be(q){return`${q.name}!${q.options.appId}`}class Ct{constructor(D){this.container=D,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Xe(oe),this._heartbeatsCachePromise=this._storage.read().then(te=>(this._heartbeatsCache=te,te))}triggerHeartbeat(){var D=this;return(0,b.Z)(function*(){var oe,te;const gt=D.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Ee();if((null!=(null===(oe=D._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||(D._heartbeatsCache=yield D._heartbeatsCachePromise,null!=(null===(te=D._heartbeatsCache)||void 0===te?void 0:te.heartbeats)))&&D._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!D._heartbeatsCache.heartbeats.some(kn=>kn.date===Mt))return D._heartbeatsCache.heartbeats.push({date:Mt,agent:gt}),D._heartbeatsCache.heartbeats=D._heartbeatsCache.heartbeats.filter(kn=>{const rn=new Date(kn.date).valueOf();return Date.now()-rn<=2592e6}),D._storage.overwrite(D._heartbeatsCache)})()}getHeartbeatsHeader(){var D=this;return(0,b.Z)(function*(){var oe;if(null===D._heartbeatsCache&&(yield D._heartbeatsCachePromise),null==(null===(oe=D._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===D._heartbeatsCache.heartbeats.length)return"";const te=Ee(),{heartbeatsToSend:Ce,unsentEntries:gt}=function me(q,D=1024){const oe=[];let te=q.slice();for(const Ce of q){const gt=oe.find(Mt=>Mt.agent===Ce.agent);if(gt){if(gt.dates.push(Ce.date),rr(oe)>D){gt.dates.pop();break}}else if(oe.push({agent:Ce.agent,dates:[Ce.date]}),rr(oe)>D){oe.pop();break}te=te.slice(1)}return{heartbeatsToSend:oe,unsentEntries:te}}(D._heartbeatsCache.heartbeats),Mt=(0,Ne.L)(JSON.stringify({version:2,heartbeats:Ce}));return D._heartbeatsCache.lastSentHeartbeatDate=te,gt.length>0?(D._heartbeatsCache.heartbeats=gt,yield D._storage.overwrite(D._heartbeatsCache)):(D._heartbeatsCache.heartbeats=[],D._storage.overwrite(D._heartbeatsCache)),Mt})()}}function Ee(){return(new Date).toISOString().substring(0,10)}class Xe{constructor(D){this.app=D,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,Ne.hl)()&&(0,Ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var D=this;return(0,b.Z)(function*(){if(yield D._canUseIndexedDBPromise){const te=yield function C(q){return v.apply(this,arguments)}(D.app);return te?.heartbeats?te:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(D){var oe=this;return(0,b.Z)(function*(){var te;if(yield oe._canUseIndexedDBPromise){const gt=yield oe.read();return F(oe.app,{lastSentHeartbeatDate:null!==(te=D.lastSentHeartbeatDate)&&void 0!==te?te:gt.lastSentHeartbeatDate,heartbeats:D.heartbeats})}})()}add(D){var oe=this;return(0,b.Z)(function*(){var te;if(yield oe._canUseIndexedDBPromise){const gt=yield oe.read();return F(oe.app,{lastSentHeartbeatDate:null!==(te=D.lastSentHeartbeatDate)&&void 0!==te?te:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...D.heartbeats]})}})()}}function rr(q){return(0,Ne.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Ra(q){fr(new W.wA("platform-logger",D=>new _n(D),"PRIVATE")),fr(new W.wA("heartbeat",D=>new Ct(D),"PRIVATE")),li(ji,"0.9.25",q),li(ji,"0.9.25","esm2017"),li("fire-js","")}("")},859:(cs,$n,Ve)=>{Ve.d($n,{H0:()=>Gt,wA:()=>O});var b=Ve(861),W=Ve(90);class O{constructor(J,le,Me){this.name=J,this.instanceFactory=le,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ne="[DEFAULT]";class Rt{constructor(J,le){this.name=J,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const le=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(le)){const Me=new W.BH;if(this.instancesDeferred.set(le,Me),this.isInitialized(le)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:le});Je&&Me.resolve(Je)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(J){var le;const Me=this.normalizeInstanceIdentifier(J?.identifier),Je=null!==(le=J?.optional)&&void 0!==le&&le;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Dt){if(Je)return null;throw Dt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function bn(It){return"EAGER"===It.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(const[le,Me]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(le);try{const Dt=this.getOrInitializeService({instanceIdentifier:Je});Me.resolve(Dt)}catch{}}}}clearInstance(J=Ne){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,b.Z)(function*(){const le=Array.from(J.instances.values());yield Promise.all([...le.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...le.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ne){return this.instances.has(J)}getOptions(J=Ne){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:le={}}=J,Me=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:Me,options:le});for(const[Dt,Hn]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Dt)&&Hn.resolve(Je);return Je}onInit(J,le){var Me;const Je=this.normalizeInstanceIdentifier(le),Dt=null!==(Me=this.onInitCallbacks.get(Je))&&void 0!==Me?Me:new Set;Dt.add(J),this.onInitCallbacks.set(Je,Dt);const Hn=this.instances.get(Je);return Hn&&J(Hn,Je),()=>{Dt.delete(J)}}invokeOnInitCallbacks(J,le){const Me=this.onInitCallbacks.get(le);if(Me)for(const Je of Me)try{Je(J,le)}catch{}}getOrInitializeService({instanceIdentifier:J,options:le={}}){let Me=this.instances.get(J);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(It=J,It===Ne?void 0:It),options:le}),this.instances.set(J,Me),this.instancesOptions.set(J,le),this.invokeOnInitCallbacks(Me,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Me)}catch{}var It;return Me||null}normalizeInstanceIdentifier(J=Ne){return this.component?this.component.multipleInstances?J:Ne:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gt{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const le=this.getProvider(J.name);if(le.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);le.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const le=new Rt(J,this);return this.providers.set(J,le),le}getProviders(){return Array.from(this.providers.values())}}},877:(cs,$n,Ve)=>{Ve.d($n,{Am:()=>It,Ub:()=>Gt,Yd:()=>bn,in:()=>W});const b=[];var W=(()=>{return(J=W||(W={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",W;var J})();const O={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ne=W.INFO,Rt={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},un=(J,le,...Me)=>{if(le<J.logLevel)return;const Je=(new Date).toISOString(),Dt=Rt[le];if(!Dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Dt](`[${Je}]  ${J.name}:`,...Me)};class bn{constructor(le){this.name=le,this._logLevel=Ne,this._logHandler=un,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in W))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?O[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...le),this._logHandler(this,W.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...le),this._logHandler(this,W.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,W.INFO,...le),this._logHandler(this,W.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,W.WARN,...le),this._logHandler(this,W.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...le),this._logHandler(this,W.ERROR,...le)}}function Gt(J){b.forEach(le=>{le.setLogLevel(J)})}function It(J,le){for(const Me of b){let Je=null;le&&le.level&&(Je=O[le.level]),Me.userLogHandler=null===J?null:(Dt,Hn,...pt)=>{const We=pt.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");Hn>=(Je??Dt.logLevel)&&J({level:W[Hn].toLowerCase(),message:We,args:pt,type:Dt.name})}}}},568:(cs,$n,Ve)=>{Ve.r($n);var b=Ve(861),W=Ve(942),O=Ve(932),Ne=Ve(90),bn=(Ve(881),Ve(877),Ve(859));function Gt(){return window}const It=2e3;function le(){return le=(0,b.Z)(function*(E,C,v){var F;const{BuildInfo:U}=Gt();(0,O.au)(C.sessionId,"AuthEvent did not contain a session ID");const be=yield function Ke(E){return zn.apply(this,arguments)}(C.sessionId),ye={};return(0,O.av)()?ye.ibi=U.packageName:(0,O.aw)()?ye.apn=U.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),U.displayName&&(ye.appDisplayName=U.displayName),ye.sessionId=be,(0,O.ay)(E,v,C.type,void 0,null!==(F=C.eventId)&&void 0!==F?F:void 0,ye)}),le.apply(this,arguments)}function Je(){return(Je=(0,b.Z)(function*(E){const{BuildInfo:C}=Gt(),v={};(0,O.av)()?v.iosBundleId=C.packageName:(0,O.aw)()?v.androidPackageName=C.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),yield(0,O.az)(E,v)})).apply(this,arguments)}function pt(){return(pt=(0,b.Z)(function*(E,C,v){const{cordova:F}=Gt();let U=()=>{};try{yield new Promise((be,ye)=>{let Be=null;function Ct(){var Xe;be();const rr=null===(Xe=F.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof rr&&rr(),"function"==typeof v?.close&&v.close()}function Ee(){Be||(Be=window.setTimeout(()=>{ye((0,O.aB)(E,"redirect-cancelled-by-user"))},It))}function me(){"visible"===document?.visibilityState&&Ee()}C.addPassiveListener(Ct),document.addEventListener("resume",Ee,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",me,!1),U=()=>{C.removePassiveListener(Ct),document.removeEventListener("resume",Ee,!1),document.removeEventListener("visibilitychange",me,!1),Be&&window.clearTimeout(Be)}})}finally{U()}})).apply(this,arguments)}function zn(){return(zn=(0,b.Z)(function*(E){const C=function mn(E){if((0,O.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const C=new ArrayBuffer(E.length),v=new Uint8Array(C);for(let F=0;F<E.length;F++)v[F]=E.charCodeAt(F);return v}(E),v=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(v)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const dt=20;class Vt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(C)),super.onEvent(C)}initialized(){var C=this;return(0,b.Z)(function*(){yield C.initPromise})()}}function st(E){return ae.apply(this,arguments)}function ae(){return(ae=(0,b.Z)(function*(E){const C=yield _n()._get(On(E));return C&&(yield _n()._remove(On(E))),C})).apply(this,arguments)}function Kt(){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<dt;v++){const F=Math.floor(Math.random()*C.length);E.push(C.charAt(F))}return E.join("")}function _n(){return(0,O.aE)(O.b)}function On(E){return(0,O.aF)("authEvent",E.config.apiKey,E.name)}function ht(E){if(!E?.includes("?"))return{};const[C,...v]=E.split("?");return(0,Ne.zd)(v.join("?"))}const j=class ds{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(C){var v=this;return(0,b.Z)(function*(){const F=C._key();let U=v.eventManagers.get(F);return U||(U=new Vt(C),v.eventManagers.set(F,U),v.attachCallbackListeners(C,U)),U})()}_openPopup(C){(0,O.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,v,F,U){var be=this;return(0,b.Z)(function*(){!function We(E){var C,v,F,U,be,ye,Be,Ct,Ee,me;const Xe=Gt();(0,O.aC)("function"==typeof(null===(C=Xe?.universalLinks)||void 0===C?void 0:C.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(v=Xe?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(be=null===(U=null===(F=Xe?.cordova)||void 0===F?void 0:F.plugins)||void 0===U?void 0:U.browsertab)||void 0===be?void 0:be.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(Ct=null===(Be=null===(ye=Xe?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===Ct?void 0:Ct.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(me=null===(Ee=Xe?.cordova)||void 0===Ee?void 0:Ee.InAppBrowser)||void 0===me?void 0:me.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const ye=yield be._initialize(C);yield ye.initialized(),ye.resetRedirect(),(0,O.aI)(),yield be._originValidation(C);const Be=function ri(E,C,v=null){return{type:C,eventId:v,urlResponse:null,sessionId:Kt(),postBody:null,tenantId:E.tenantId,error:(0,O.aB)(E,"no-auth-event")}}(C,F,U);yield function Nn(E,C){return _n()._set(On(E),C)}(C,Be);const Ct=yield function J(E,C,v){return le.apply(this,arguments)}(C,Be,v),Ee=yield function Dt(E){const{cordova:C}=Gt();return new Promise(v=>{C.plugins.browsertab.isAvailable(F=>{let U=null;F?C.plugins.browsertab.openUrl(E):U=C.InAppBrowser.open(E,(0,O.aA)()?"_blank":"_system","location=yes"),v(U)})})}(Ct);return function Hn(E,C,v){return pt.apply(this,arguments)}(C,ye,Ee)})()}_isIframeWebStorageSupported(C,v){throw new Error("Method not implemented.")}_originValidation(C){const v=C._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Me(E){return Je.apply(this,arguments)}(C)),this.originValidationPromises[v]}attachCallbackListeners(C,v){const{universalLinks:F,handleOpenURL:U,BuildInfo:be}=Gt(),ye=setTimeout((0,b.Z)(function*(){yield st(C),v.onEvent(z())}),500),Be=function(){var me=(0,b.Z)(function*(Xe){clearTimeout(ye);const rr=yield st(C);let Ra=null;rr&&Xe?.url&&(Ra=function yt(E,C){var v,F;const U=function $i(E){const C=ht(E),v=C.link?decodeURIComponent(C.link):void 0,F=ht(v).link,U=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return ht(U).link||U||F||v||E}(C);if(U.includes("/__/auth/callback")){const be=ht(U),ye=be.firebaseError?function ji(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,Be=null===(F=null===(v=ye?.code)||void 0===v?void 0:v.split("auth/"))||void 0===F?void 0:F[1],Ct=Be?(0,O.aB)(Be):null;return Ct?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Ct,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:U,postBody:null}}return null}(rr,Xe.url)),v.onEvent(Ra||z())});return function(rr){return me.apply(this,arguments)}}();typeof F<"u"&&"function"==typeof F.subscribe&&F.subscribe(null,Be);const Ct=U,Ee=`${be.packageName.toLowerCase()}://`;Gt().handleOpenURL=function(){var me=(0,b.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Ee)&&Be({url:Xe}),"function"==typeof Ct)try{Ct(Xe)}catch(rr){console.error(rr)}});return function(Xe){return me.apply(this,arguments)}}()}};function z(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}const ee=1e3;function ge(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function we(E=(0,Ne.z$)()){return!("file:"!==ge()&&"ionic:"!==ge()&&"capacitor:"!==ge()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const E=self.localStorage,C=O.aN();if(E)return E.setItem(C,"1"),E.removeItem(C),!function jt(E=(0,Ne.z$)()){return function wt(){return(0,Ne.w1)()&&11===document?.documentMode}()||function nn(E=(0,Ne.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Ne.hl)()}catch{return qn()&&(0,Ne.hl)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function ct(){return"http:"===ge()||"https:"===ge()}()||(0,Ne.ru)()||we())&&!function Pe(){return(0,Ne.b$)()||(0,Ne.UG)()}()&&ln()&&!qn()}function hr(){return we()&&typeof document<"u"}function Hi(){return(Hi=(0,b.Z)(function*(){return!!hr()&&new Promise(E=>{const C=setTimeout(()=>{E(!1)},ee);document.addEventListener("deviceready",()=>{clearTimeout(C),E(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},fs=O.aC,ps="persistence";function qi(E){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(E){yield E._initializationPromise;const C=oi(),v=O.aF(ps,E.config.apiKey,E.name);C&&C.setItem(v,E._getPersistence())})).apply(this,arguments)}function oi(){var E;try{return(null===(E=function hs(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const ai=O.aC;class fr{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE(j),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(C){var v=this;return(0,b.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,v,F,U){var be=this;return(0,b.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(C,v,F,U)})()}_openRedirect(C,v,F,U){var be=this;return(0,b.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(C,v,F,U)})()}_isIframeWebStorageSupported(C,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,v)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ai(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,b.Z)(function*(){if(C.underlyingResolver)return;const v=yield function $r(){return Hi.apply(this,arguments)}();C.underlyingResolver=v?C.cordovaResolver:C.browserResolver})()}}function Lt(E){return E.unwrap()}function Dn(E){return cn(E)}function cn(E){const{_tokenResponse:C}=E instanceof Ne.ZR?E.customData:E;if(!C)return null;if(!(E instanceof Ne.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return O.P.credentialFromResult(E);const v=C.providerId;if(!v||v===O.p.PASSWORD)return null;let F;switch(v){case O.p.GOOGLE:F=O.X;break;case O.p.FACEBOOK:F=O.W;break;case O.p.GITHUB:F=O.Y;break;case O.p.TWITTER:F=O.$;break;default:const{oauthIdToken:U,oauthAccessToken:be,oauthTokenSecret:ye,pendingToken:Be,nonce:Ct}=C;return be||ye||U||Be?Be?v.startsWith("saml.")?O.aQ._create(v,Be):O.N._fromParams({providerId:v,signInMethod:v,pendingToken:Be,idToken:U,accessToken:be}):new O.Z(v).credential({idToken:U,accessToken:be,rawNonce:Ct}):null}return E instanceof Ne.ZR?F.credentialFromError(E):F.credentialFromResult(E)}function An(E,C){return C.catch(v=>{throw v instanceof Ne.ZR&&function Hu(E,C){var v;const F=null===(v=C.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new Gi(E,O.as(E,C));else if(F){const U=cn(C),be=C;U&&(be.credential=U,be.tenantId=F.tenantId||void 0,be.email=F.email||void 0,be.phoneNumber=F.phoneNumber||void 0)}}(E,v),v}).then(v=>{const U=v.user;return{operationType:v.operationType,credential:Dn(v),additionalUserInfo:O.aq(v),user:Wn.getOrCreate(U)}})}function gs(E,C){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(E,C){const v=yield C;return{verificationId:v.verificationId,confirm:F=>An(E,v.confirm(F))}})).apply(this,arguments)}class Gi{constructor(C,v){this.resolver=v,this.auth=function ui(E){return E.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return An(Lt(this.auth),this.resolver.resolveSignIn(C))}}class Wn{constructor(C){this._delegate=C,this.multiFactor=O.at(C)}static getOrCreate(C){return Wn.USER_MAP.has(C)||Wn.USER_MAP.set(C,new Wn(C)),Wn.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var v=this;return(0,b.Z)(function*(){return An(v.auth,O.a2(v._delegate,C))})()}linkWithPhoneNumber(C,v){var F=this;return(0,b.Z)(function*(){return gs(F.auth,O.l(F._delegate,C,v))})()}linkWithPopup(C){var v=this;return(0,b.Z)(function*(){return An(v.auth,O.d(v._delegate,C,fr))})()}linkWithRedirect(C){var v=this;return(0,b.Z)(function*(){return yield qi(O.aJ(v.auth)),O.g(v._delegate,C,fr)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var v=this;return(0,b.Z)(function*(){return An(v.auth,O.a3(v._delegate,C))})()}reauthenticateWithPhoneNumber(C,v){return gs(this.auth,O.r(this._delegate,C,v))}reauthenticateWithPopup(C){return An(this.auth,O.e(this._delegate,C,fr))}reauthenticateWithRedirect(C){var v=this;return(0,b.Z)(function*(){return yield qi(O.aJ(v.auth)),O.h(v._delegate,C,fr)})()}sendEmailVerification(C){return O.ag(this._delegate,C)}unlink(C){var v=this;return(0,b.Z)(function*(){return yield O.ap(v._delegate,C),v})()}updateEmail(C){return O.al(this._delegate,C)}updatePassword(C){return O.am(this._delegate,C)}updatePhoneNumber(C){return O.u(this._delegate,C)}updateProfile(C){return O.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,v){return O.ah(this._delegate,C,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wn.USER_MAP=new WeakMap;const Hr=O.aC;let Wi=(()=>{class E{constructor(v,F){if(this.app=v,F.isInitialized())return this._delegate=F.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=v.options;Hr(U,"invalid-api-key",{appName:v.name}),Hr(U,"invalid-api-key",{appName:v.name});const be=typeof window<"u"?fr:void 0;this._delegate=F.initialize({options:{persistence:Pa(U,v.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,F){O.K(this._delegate,v,F)}applyActionCode(v){return O.a7(this._delegate,v)}checkActionCode(v){return O.a8(this._delegate,v)}confirmPasswordReset(v,F){return O.a6(this._delegate,v,F)}createUserWithEmailAndPassword(v,F){var U=this;return(0,b.Z)(function*(){return An(U._delegate,O.aa(U._delegate,v,F))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return O.af(this._delegate,v)}isSignInWithEmailLink(v){return O.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,b.Z)(function*(){Hr(Gn(),v._delegate,"operation-not-supported-in-this-environment");const F=yield O.j(v._delegate,fr);return F?An(v._delegate,Promise.resolve(F)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function G(E,C){(0,O.aJ)(E)._logFramework(C)}(this._delegate,v)}onAuthStateChanged(v,F,U){const{next:be,error:ye,complete:Be}=li(v,F,U);return this._delegate.onAuthStateChanged(be,ye,Be)}onIdTokenChanged(v,F,U){const{next:be,error:ye,complete:Be}=li(v,F,U);return this._delegate.onIdTokenChanged(be,ye,Be)}sendSignInLinkToEmail(v,F){return O.ac(this._delegate,v,F)}sendPasswordResetEmail(v,F){return O.a5(this._delegate,v,F||void 0)}setPersistence(v){var F=this;return(0,b.Z)(function*(){let U;switch(function zi(E,C){fs(Object.values(At).includes(C),E,"invalid-persistence-type"),(0,Ne.b$)()?fs(C!==At.SESSION,E,"unsupported-persistence-type"):(0,Ne.UG)()?fs(C===At.NONE,E,"unsupported-persistence-type"):qn()?fs(C===At.NONE||C===At.LOCAL&&(0,Ne.hl)(),E,"unsupported-persistence-type"):fs(C===At.NONE||ln(),E,"unsupported-persistence-type")}(F._delegate,v),v){case At.SESSION:U=O.a;break;case At.LOCAL:U=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case At.NONE:U=O.U;break;default:return O.ax("argument-error",{appName:F._delegate.name})}return F._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return An(this._delegate,O.a0(this._delegate))}signInWithCredential(v){return An(this._delegate,O.a1(this._delegate,v))}signInWithCustomToken(v){return An(this._delegate,O.a4(this._delegate,v))}signInWithEmailAndPassword(v,F){return An(this._delegate,O.ab(this._delegate,v,F))}signInWithEmailLink(v,F){return An(this._delegate,O.ae(this._delegate,v,F))}signInWithPhoneNumber(v,F){return gs(this._delegate,O.s(this._delegate,v,F))}signInWithPopup(v){var F=this;return(0,b.Z)(function*(){return Hr(Gn(),F._delegate,"operation-not-supported-in-this-environment"),An(F._delegate,O.c(F._delegate,v,fr))})()}signInWithRedirect(v){var F=this;return(0,b.Z)(function*(){return Hr(Gn(),F._delegate,"operation-not-supported-in-this-environment"),yield qi(F._delegate),O.f(F._delegate,v,fr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return O.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=At,E})();function li(E,C,v){let F=E;"function"!=typeof E&&({next:F,error:C,complete:v}=E);const U=F;return{next:ye=>U(ye&&Wn.getOrCreate(ye)),error:C,complete:v}}function Pa(E,C){const v=function si(E,C){const v=oi();if(!v)return[];const F=O.aF(ps,E,C);switch(v.getItem(F)){case At.NONE:return[O.U];case At.LOCAL:return[O.i,O.a];case At.SESSION:return[O.a];default:return[]}}(E,C);if(typeof self<"u"&&!v.includes(O.i)&&v.push(O.i),typeof window<"u")for(const F of[O.b,O.a])v.includes(F)||v.push(F);return v.includes(O.U)||v.push(O.U),v}class Js{constructor(){this.providerId="phone",this._delegate=new O.P(Lt(W.Z.auth()))}static credential(C,v){return O.P.credential(C,v)}verifyPhoneNumber(C,v){return this._delegate.verifyPhoneNumber(C,v)}unwrap(){return this._delegate}}Js.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Js.PROVIDER_ID=O.P.PROVIDER_ID;const Lo=O.aC;class _s{constructor(C,v,F=W.Z.app()){var U;Lo(null===(U=F.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:F.name}),this._delegate=new O.R(F.auth(),C,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function S(E){E.INTERNAL.registerComponent(new bn.wA("auth-compat",C=>{const v=C.getProvider("app-compat").getImmediate(),F=C.getProvider("auth");return new Wi(v,F)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:Js,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:_s,TwitterAuthProvider:O.$,Auth:Wi,AuthCredential:O.L,Error:Ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.1")}(W.Z)},861:(cs,$n,Ve)=>{function b(O,Ne,Rt,un,bn,Gt,It){try{var J=O[Gt](It),le=J.value}catch(Me){return void Rt(Me)}J.done?Ne(le):Promise.resolve(le).then(un,bn)}function W(O){return function(){var Ne=this,Rt=arguments;return new Promise(function(un,bn){var Gt=O.apply(Ne,Rt);function It(le){b(Gt,un,bn,It,J,"next",le)}function J(le){b(Gt,un,bn,It,J,"throw",le)}It(void 0)})}}Ve.d($n,{Z:()=>W})},582:(cs,$n,Ve)=>{function Ne(j,z){var G={};for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&z.indexOf(B)<0&&(G[B]=j[B]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(B=Object.getOwnPropertySymbols(j);X<B.length;X++)z.indexOf(B[X])<0&&Object.prototype.propertyIsEnumerable.call(j,B[X])&&(G[B[X]]=j[B[X]])}return G}function Me(j,z,G,B){return new(G||(G=Promise))(function(ee,ge){function ct(wt){try{Pe(B.next(wt))}catch(nn){ge(nn)}}function we(wt){try{Pe(B.throw(wt))}catch(nn){ge(nn)}}function Pe(wt){wt.done?ee(wt.value):function X(ee){return ee instanceof G?ee:new G(function(ge){ge(ee)})}(wt.value).then(ct,we)}Pe((B=B.apply(j,z||[])).next())})}function dt(j){return this instanceof dt?(this.v=j,this):new dt(j)}function Vt(j,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,B=G.apply(j,z||[]),ee=[];return X={},ge("next"),ge("throw"),ge("return"),X[Symbol.asyncIterator]=function(){return this},X;function ge(jt){B[jt]&&(X[jt]=function(ln){return new Promise(function(qn,Gn){ee.push([jt,ln,qn,Gn])>1||ct(jt,ln)})})}function ct(jt,ln){try{!function we(jt){jt.value instanceof dt?Promise.resolve(jt.value.v).then(Pe,wt):nn(ee[0][2],jt)}(B[jt](ln))}catch(qn){nn(ee[0][3],qn)}}function Pe(jt){ct("next",jt)}function wt(jt){ct("throw",jt)}function nn(jt,ln){jt(ln),ee.shift(),ee.length&&ct(ee[0][0],ee[0][1])}}function Nn(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,z=j[Symbol.asyncIterator];return z?z.call(j):(j=function pt(j){var z="function"==typeof Symbol&&Symbol.iterator,G=z&&j[z],B=0;if(G)return G.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&B>=j.length&&(j=void 0),{value:j&&j[B++],done:!j}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),G={},B("next"),B("throw"),B("return"),G[Symbol.asyncIterator]=function(){return this},G);function B(ee){G[ee]=j[ee]&&function(ge){return new Promise(function(ct,we){!function X(ee,ge,ct,we){Promise.resolve(we).then(function(Pe){ee({value:Pe,done:ct})},ge)}(ct,we,(ge=j[ee](ge)).done,ge.value)})}}}Ve.d($n,{FC:()=>Vt,KL:()=>Nn,_T:()=>Ne,mG:()=>Me,qq:()=>dt}),"function"==typeof SuppressedError&&SuppressedError}},cs=>{cs(cs.s=560)}]);