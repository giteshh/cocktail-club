"use strict";(self.webpackChunkcocktail_club=self.webpackChunkcocktail_club||[]).push([[179],{932:(us,Bn,Ve)=>{Ve.d(Bn,{$:()=>ui,A:()=>ue,G:()=>Dt,K:()=>Gg,L:()=>Aa,N:()=>ms,P:()=>Zh,R:()=>uI,U:()=>me,V:()=>xh,W:()=>Xg,X:()=>He,Y:()=>Ar,Z:()=>Uu,_:()=>xs,a:()=>_m,a0:()=>Ce,a1:()=>qn,a2:()=>Lo,a3:()=>xa,a4:()=>kh,a5:()=>Wi,a6:()=>ju,a7:()=>Ki,a8:()=>jE,a9:()=>$E,aA:()=>Ie,aB:()=>Ft,aC:()=>oe,aD:()=>mI,aE:()=>L,aF:()=>Be,aG:()=>ef,aH:()=>Ho,aI:()=>Nm,aJ:()=>vn,aN:()=>li,aQ:()=>An,aa:()=>qA,ab:()=>GA,ac:()=>WA,ad:()=>KA,ae:()=>ZA,af:()=>YA,ag:()=>am,ah:()=>JA,ak:()=>bi,al:()=>HE,am:()=>zE,ap:()=>yr,aq:()=>GE,as:()=>KE,at:()=>dr,au:()=>Kt,av:()=>te,aw:()=>q,ax:()=>ct,ay:()=>Nc,az:()=>Ga,b:()=>pc,c:()=>Qh,d:()=>hI,e:()=>Yh,f:()=>Xh,g:()=>za,h:()=>Mc,i:()=>bm,j:()=>qa,k:()=>Yu,l:()=>Am,m:()=>SI,p:()=>Gt,r:()=>qu,s:()=>sS,u:()=>cI});var b=Ve(861),K=Ve(90),O=Ve(881),xe=Ve(877),Rt=Ve(582),un=Ve(859);const Gt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Dt=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},jn=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new xe.Yd("@firebase/auth");function mn(f,...l){We.logLevel<=xe.in.ERROR&&We.error(`Auth (${O.SDK_VERSION}): ${f}`,...l)}function ct(f,...l){throw st(f,...l)}function Ft(f,...l){return st(f,...l)}function ei(f,l,d){const p=Object.assign(Object.assign({},jn()),{[l]:d});return new K.LL("auth","Firebase",p).create(l,{appName:f.name})}function Mn(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&ct(f,"argument-error"),ei(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(f,...l){if("string"!=typeof f){const d=l[0],p=[...l.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return ft.create(f,...l)}function oe(f,l,...d){if(!f)throw st(l,...d)}function yt(f){const l="INTERNAL ASSERTION FAILED: "+f;throw mn(l),new Error(l)}function Kt(f,l){f||yt(l)}function _n(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function xn(){return"http:"===Li()||"https:"===Li()}function Li(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ti{constructor(l,d){this.shortDelay=l,this.longDelay=d,Kt(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Ui(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xn()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ls(f,l){Kt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class j{static initialize(l,d,p){this.fetchImpl=l,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},G=new ti(3e4,6e4);function B(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function X(f,l,d,p){return ee.apply(this,arguments)}function ee(){return(ee=(0,b.Z)(function*(f,l,d,p,_={}){return pe(f,_,(0,b.Z)(function*(){let I={},M={};p&&("GET"===l?M=p:I={body:JSON.stringify(p)});const $=(0,K.xO)(Object.assign({key:f.config.apiKey},M)).slice(1),ie=yield f._getAdditionalHeaders();return ie["Content-Type"]="application/json",f.languageCode&&(ie["X-Firebase-Locale"]=f.languageCode),j.fetch()(wt(f,f.config.apiHost,d,$),Object.assign({method:l,headers:ie,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function pe(f,l,d){return ut.apply(this,arguments)}function ut(){return(ut=(0,b.Z)(function*(f,l,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},z),l);try{const _=new jt(f),I=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const M=yield I.json();if("needConfirmation"in M)throw ln(f,"account-exists-with-different-credential",M);if(I.ok&&!("errorMessage"in M))return M;{const $=I.ok?M.errorMessage:M.error.message,[ie,Ae]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ie)throw ln(f,"credential-already-in-use",M);if("EMAIL_EXISTS"===ie)throw ln(f,"email-already-in-use",M);if("USER_DISABLED"===ie)throw ln(f,"user-disabled",M);const Fe=p[ie]||ie.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw ei(f,Fe,Ae);ct(f,Fe)}}catch(_){if(_ instanceof K.ZR)throw _;ct(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function De(f,l,d,p){return Se.apply(this,arguments)}function Se(){return(Se=(0,b.Z)(function*(f,l,d,p,_={}){const I=yield X(f,l,d,p,_);return"mfaPendingCredential"in I&&ct(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function wt(f,l,d,p){const _=`${l}${d}?${p}`;return f.config.emulator?ls(f.config,_):`${f.config.apiScheme}://${_}`}function tn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jt{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Ft(this.auth,"network-request-failed")),G.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ln(f,l,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Ft(f,l,p);return _.customData._tokenResponse=d,_}function $n(f){return void 0!==f&&void 0!==f.getResponse}function Hn(f){return void 0!==f&&void 0!==f.enterprise}class ur{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return tn(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Bi(){return(Bi=(0,b.Z)(function*(f){return(yield X(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cs(f,l){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(f,l){return X(f,"GET","/v2/recaptchaConfig",B(f,l))})).apply(this,arguments)}function hs(){return(hs=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function ri(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Vt(){return(Vt=(0,b.Z)(function*(f,l=!1){const d=(0,K.m9)(f),p=yield d.getIdToken(l),_=bn(p);oe(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const I="object"==typeof _.firebase?_.firebase:void 0,M=I?.sign_in_provider;return{claims:_,token:p,authTime:ri(si(_.auth_time)),issuedAtTime:ri(si(_.iat)),expirationTime:ri(si(_.exp)),signInProvider:M||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function si(f){return 1e3*Number(f)}function bn(f){const[l,d,p]=f.split(".");if(void 0===l||void 0===d||void 0===p)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(mn("Failed to decode base64 JWT payload"),null)}catch(_){return mn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function cn(f,l){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,b.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(p){throw p instanceof K.ZR&&function fs({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class ps{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(l);this.timerId=setTimeout((0,b.Z)(function*(){yield d.iteration()}),p)}iteration(){var l=this;return(0,b.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Hi{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(f){return Br.apply(this,arguments)}function Br(){return Br=(0,b.Z)(function*(f){var l;const d=f.auth,p=yield f.getIdToken(),_=yield cn(f,function _r(f,l){return ni.apply(this,arguments)}(d,{idToken:p}));oe(_?.users.length,d,"internal-error");const I=_.users[0];f._notifyReloadListener(I);const M=null!==(l=I.providerUserInfo)&&void 0!==l&&l.length?function Ks(f){return f.map(l=>{var{providerId:d}=l,p=(0,Rt._T)(l,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(I.providerUserInfo):[],$=function Ta(f,l){return[...f.filter(p=>!l.some(_=>_.providerId===p.providerId)),...l]}(f.providerData,M),Fe=!!f.isAnonymous&&!(f.email&&I.passwordHash||$?.length),Tt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:$,metadata:new Hi(I.createdAt,I.lastLoginAt),isAnonymous:Fe};Object.assign(f,Tt)}),Br.apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(f){const l=(0,K.m9)(f);yield zn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function gs(){return(gs=(0,b.Z)(function*(f,l){const d=yield pe(f,{},(0,b.Z)(function*(){const p=(0,K.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:I}=f.config,M=wt(f,_,"/v1/token",`key=${I}`),$=yield f._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(M,{method:"POST",headers:$,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,b.Z)(function*(f,l){return X(f,"POST","/v2/accounts:revokeToken",B(f,l))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){oe(l.idToken,"internal-error"),oe(typeof l.idToken<"u","internal-error"),oe(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function ku(f){const l=bn(f);return oe(l,"internal-error"),oe(typeof l.exp<"u","internal-error"),oe(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var p=this;return(0,b.Z)(function*(){return oe(!p.accessToken||p.refreshToken,l,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(l,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var p=this;return(0,b.Z)(function*(){const{accessToken:_,refreshToken:I,expiresIn:M}=yield function xo(f,l){return gs.apply(this,arguments)}(l,d);p.updateTokensAndExpiration(_,I,Number(M))})()}updateTokensAndExpiration(l,d,p){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(l,d){const{refreshToken:p,accessToken:_,expirationTime:I}=d,M=new E;return p&&(oe("string"==typeof p,"internal-error",{appName:l}),M.refreshToken=p),_&&(oe("string"==typeof _,"internal-error",{appName:l}),M.accessToken=_),I&&(oe("number"==typeof I,"internal-error",{appName:l}),M.expirationTime=I),M}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return yt("not implemented")}}function w(f,l){oe("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class v{constructor(l){var{uid:d,auth:p,stsTokenManager:_}=l,I=(0,Rt._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ps(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new Hi(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,b.Z)(function*(){const p=yield cn(d,d.stsTokenManager.getToken(d.auth,l));return oe(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(l){return function lr(f){return Vt.apply(this,arguments)}(this,l)}reload(){return function zi(f){return oi.apply(this,arguments)}(this)}_assign(l){this!==l&&(oe(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new v(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var p=this;return(0,b.Z)(function*(){let _=!1;l.idToken&&l.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(l),_=!0),d&&(yield zn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var l=this;return(0,b.Z)(function*(){const d=yield l.getIdToken();return yield cn(l,function ds(f,l){return hs.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var p,_,I,M,$,ie,Ae,Fe;const Tt=null!==(p=d.displayName)&&void 0!==p?p:void 0,di=null!==(_=d.email)&&void 0!==_?_:void 0,Ko=null!==(I=d.phoneNumber)&&void 0!==I?I:void 0,Fc=null!==(M=d.photoURL)&&void 0!==M?M:void 0,df=null!==($=d.tenantId)&&void 0!==$?$:void 0,Xu=null!==(ie=d._redirectEventId)&&void 0!==ie?ie:void 0,hf=null!==(Ae=d.createdAt)&&void 0!==Ae?Ae:void 0,ff=null!==(Fe=d.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Vc,emailVerified:xr,isAnonymous:Gm,providerData:pf,stsTokenManager:Wm}=d;oe(Vc&&Wm,l,"internal-error");const Km=E.fromJSON(this.name,Wm);oe("string"==typeof Vc,l,"internal-error"),w(Tt,l.name),w(di,l.name),oe("boolean"==typeof xr,l,"internal-error"),oe("boolean"==typeof Gm,l,"internal-error"),w(Ko,l.name),w(Fc,l.name),w(df,l.name),w(Xu,l.name),w(hf,l.name),w(ff,l.name);const el=new v({uid:Vc,auth:l,email:di,emailVerified:xr,displayName:Tt,isAnonymous:Gm,photoURL:Fc,phoneNumber:Ko,tenantId:df,stsTokenManager:Km,createdAt:hf,lastLoginAt:ff});return pf&&Array.isArray(pf)&&(el.providerData=pf.map(OI=>Object.assign({},OI))),Xu&&(el._redirectEventId=Xu),el}static _fromIdTokenResponse(l,d,p=!1){return(0,b.Z)(function*(){const _=new E;_.updateFromServerResponse(d);const I=new v({uid:d.localId,auth:l,stsTokenManager:_,isAnonymous:p});return yield zn(I),I})()}}const k=new Map;function L(f){Kt(f instanceof Function,"Expected a class definition");let l=k.get(f);return l?(Kt(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,k.set(f,l),l)}const me=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,b.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,b.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Be(f,l,d){return`firebase:${f}:${l}:${d}`}class Ct{constructor(l,d,p){this.persistence=l,this.auth=d,this.userKey=p;const{config:_,name:I}=this.auth;this.fullUserKey=Be(this.userKey,_.apiKey,I),this.fullPersistenceKey=Be("persistence",_.apiKey,I),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,b.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?v._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,b.Z)(function*(){if(d.persistence===l)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,p="authUser"){return(0,b.Z)(function*(){if(!d.length)return new Ct(L(me),l,p);const _=(yield Promise.all(d.map(function(){var Ae=(0,b.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let I=_[0]||L(me);const M=Be(p,l.config.apiKey,l.name);let $=null;for(const Ae of d)try{const Fe=yield Ae._get(M);if(Fe){const Tt=v._fromJSON(l,Fe);Ae!==I&&($=Tt),I=Ae;break}}catch{}const ie=_.filter(Ae=>Ae._shouldAllowMigration);return I._shouldAllowMigration&&ie.length?(I=ie[0],$&&(yield I._set(M,$.toJSON())),yield Promise.all(d.map(function(){var Ae=(0,b.Z)(function*(Fe){if(Fe!==I)try{yield Fe._remove(M)}catch{}});return function(Fe){return Ae.apply(this,arguments)}}())),new Ct(I,l,p)):new Ct(I,l,p)})()}}function ye(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(ba(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(ge(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(T(l))return"Blackberry";if(se(l))return"Webos";if(Je(l))return"Safari";if((l.includes("chrome/")||er(l))&&!l.includes("edge/"))return"Chrome";if(q(l))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function ge(f=(0,K.z$)()){return/firefox\//i.test(f)}function Je(f=(0,K.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function er(f=(0,K.z$)()){return/crios\//i.test(f)}function ba(f=(0,K.z$)()){return/iemobile/i.test(f)}function q(f=(0,K.z$)()){return/android/i.test(f)}function T(f=(0,K.z$)()){return/blackberry/i.test(f)}function se(f=(0,K.z$)()){return/webos/i.test(f)}function te(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ie(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function Nn(f=(0,K.z$)()){return te(f)||q(f)||se(f)||T(f)||/windows phone/i.test(f)||ba(f)}function yn(f,l=[]){let d;switch(f){case"Browser":d=ye((0,K.z$)());break;case"Worker":d=`${ye((0,K.z$)())}-${f}`;break;default:d=f}const p=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${O.SDK_VERSION}/${p}`}class ec{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const p=I=>new Promise((M,$)=>{try{M(l(I))}catch(ie){$(ie)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,b.Z)(function*(){if(d.auth.currentUser===l)return;const p=[];try{for(const _ of d.queue)yield _(l),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const I of p)try{I()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Bg(){return(Bg=(0,b.Z)(function*(f,l={}){return X(f,"GET","/v2/passwordPolicy",B(f,l))})).apply(this,arguments)}class BA{constructor(l){var d,p,_,I;const M=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=M.minPasswordLength)&&void 0!==d?d:6,M.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=M.maxPasswordLength),void 0!==M.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=M.containsLowercaseCharacter),void 0!==M.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=M.containsUppercaseCharacter),void 0!==M.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=M.containsNumericCharacter),void 0!==M.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=M.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=l.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(I=l.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=l.schemaVersion}validatePassword(l){var d,p,_,I,M,$;const ie={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,ie),this.validatePasswordCharacterOptions(l,ie),ie.isValid&&(ie.isValid=null===(d=ie.meetsMinPasswordLength)||void 0===d||d),ie.isValid&&(ie.isValid=null===(p=ie.meetsMaxPasswordLength)||void 0===p||p),ie.isValid&&(ie.isValid=null===(_=ie.containsLowercaseLetter)||void 0===_||_),ie.isValid&&(ie.isValid=null===(I=ie.containsUppercaseLetter)||void 0===I||I),ie.isValid&&(ie.isValid=null===(M=ie.containsNumericCharacter)||void 0===M||M),ie.isValid&&(ie.isValid=null===($=ie.containsNonAlphanumericCharacter)||void 0===$||$),ie}validatePasswordLengthOptions(l,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=l.length>=p),_&&(d.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<l.length;_++)p=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(l,d,p,_,I){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=I))}}class jA{constructor(l,d,p,_){this.app=l,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new ec(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,d){var p=this;return d&&(this._popupRedirectResolver=L(d)),this._initializationPromise=this.queue((0,b.Z)(function*(){var _,I;if(!p._deleted&&(p.persistenceManager=yield Ct.create(p,l),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(I=p.currentUser)||void 0===I?void 0:I.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,b.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,b.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let I=_,M=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const $=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,ie=I?._redirectEventId,Ae=yield d.tryRedirectSignIn(l);(!$||$===ie)&&Ae?.user&&(I=Ae.user,M=!0)}if(!I)return d.directlySetCurrentUser(null);if(!I._redirectEventId){if(M)try{yield d.beforeStateQueue.runMiddleware(I)}catch($){I=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject($))}return I?d.reloadAndSetCurrentUserOrClear(I):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===I._redirectEventId?d.directlySetCurrentUser(I):d.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(l){var d=this;return(0,b.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,b.Z)(function*(){try{yield zn(l)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,b.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,b.Z)(function*(){const p=l?(0,K.m9)(l):null;return p&&oe(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(l,d=!1){var p=this;return(0,b.Z)(function*(){if(!p._deleted)return l&&oe(p.tenantId===l.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(l)),p.queue((0,b.Z)(function*(){yield p.directlySetCurrentUser(l),p.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,b.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,b.Z)(function*(){yield d.assertedPersistence.setPersistence(L(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var d=this;return(0,b.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,b.Z)(function*(){const d=yield function ME(f){return Bg.apply(this,arguments)}(l),p=new BA(d);null===l.tenantId?l._projectPasswordPolicy=p:l._tenantPasswordPolicies[l.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new K.LL("auth","Firebase",l())}onAuthStateChanged(l,d,p){return this.registerStateListener(this.authStateSubscription,l,d,p)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,p){return this.registerStateListener(this.idTokenSubscription,l,d,p)}authStateReady(){return new Promise((l,d)=>{if(this.currentUser)l();else{const p=this.onAuthStateChanged(()=>{p(),l()},d)}})}revokeAccessToken(l){var d=this;return(0,b.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function P(f,l){return S.apply(this,arguments)}(d,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var p=this;return(0,b.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,b.Z)(function*(){if(!d.redirectPersistenceManager){const p=l&&L(l)||d._popupRedirectResolver;oe(p,d,"argument-error"),d.redirectPersistenceManager=yield Ct.create(d,[L(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,b.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,b.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===l?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,b.Z)(function*(){if(l===d.currentUser)return d.queue((0,b.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,p,_){if(this._deleted)return()=>{};const I="function"==typeof d?d:d.next.bind(d);let M=!1;const $=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe($,this,"internal-error"),$.then(()=>{M||I(this.currentUser)}),"function"==typeof d){const ie=l.addObserver(d,p,_);return()=>{M=!0,ie()}}{const ie=l.addObserver(d);return()=>{M=!0,ie()}}}directlySetCurrentUser(l){var d=this;return(0,b.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,b.Z)(function*(){var d;const p={"X-Client-Version":l.clientVersion};l.app.options.appId&&(p["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const I=yield l._getAppCheckToken();return I&&(p["X-Firebase-AppCheck"]=I),p})()}_getAppCheckToken(){var l=this;return(0,b.Z)(function*(){var d;const p=yield null===(d=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function Xn(f,...l){We.logLevel<=xe.in.WARN&&We.warn(`Auth (${O.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function vn(f){return(0,K.m9)(f)}class xE{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jg(f){return new Promise((l,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=l,p.onerror=_=>{const I=Ft("internal-error");I.customData=_,d(I)},p.type="text/javascript",p.charset="UTF-8",function NE(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(p)})}function $g(f){return`__${f}${Math.floor(1e6*Math.random())}`}const Ot="NO_RECAPTCHA";class OE{constructor(l){this.type="recaptcha-enterprise",this.auth=vn(l)}verify(l="verify",d=!1){var p=this;return(0,b.Z)(function*(){function I(){return I=(0,b.Z)(function*($){if(!d){if(null==$.tenantId&&null!=$._agentRecaptchaConfig)return $._agentRecaptchaConfig.siteKey;if(null!=$.tenantId&&void 0!==$._tenantRecaptchaConfigs[$.tenantId])return $._tenantRecaptchaConfigs[$.tenantId].siteKey}return new Promise(function(){var ie=(0,b.Z)(function*(Ae,Fe){cs($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tt=>{if(void 0!==Tt.recaptchaKey){const di=new ur(Tt);return null==$.tenantId?$._agentRecaptchaConfig=di:$._tenantRecaptchaConfigs[$.tenantId]=di,Ae(di.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(Tt=>{Fe(Tt)})});return function(Ae,Fe){return ie.apply(this,arguments)}}())}),I.apply(this,arguments)}function M($,ie,Ae){const Fe=window.grecaptcha;Hn(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute($,{action:l}).then(Tt=>{ie(Tt)}).catch(()=>{ie(Ot)})}):Ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($,ie)=>{(function _($){return I.apply(this,arguments)})(p.auth).then(Ae=>{if(!d&&Hn(window.grecaptcha))M(Ae,$,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));jg("https://www.google.com/recaptcha/enterprise.js?render="+Ae).then(()=>{M(Ae,$,ie)}).catch(Fe=>{ie(Fe)})}}).catch(Ae=>{ie(Ae)})})})()}}function kE(f,l,d){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,b.Z)(function*(f,l,d,p=!1){const _=new OE(f);let I;try{I=yield _.verify(d)}catch{I=yield _.verify(d,!0)}const M=Object.assign({},l);return Object.assign(M,p?{captchaResp:I}:{captchaResponse:I}),Object.assign(M,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(M,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),M})).apply(this,arguments)}function we(f,l,d,p){return zg.apply(this,arguments)}function zg(){return zg=(0,b.Z)(function*(f,l,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield kE(f,l,d,"getOobCode"===d);return p(f,I)}return p(f,l).catch(function(){var I=(0,b.Z)(function*(M){if("auth/missing-recaptcha-token"===M.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $=yield kE(f,l,d,"getOobCode"===d);return p(f,$)}return Promise.reject(M)});return function(M){return I.apply(this,arguments)}}())}),zg.apply(this,arguments)}function Gg(f,l,d){const p=vn(f);oe(p._canInitEmulator,p,"emulator-config-failed"),oe(/^https?:\/\//.test(l),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,I=bh(l),{host:M,port:$}=function tc(f){const l=bh(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const I=_[1];return{host:I,port:nc(p.substr(I.length+1))}}{const[I,M]=p.split(":");return{host:I,port:nc(M)}}}(l);p.config.emulator={url:`${I}//${M}${null===$?"":`:${$}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:M,port:$,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Wg(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function bh(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function nc(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Aa{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return yt("not implemented")}_getIdTokenResponse(l){return yt("not implemented")}_linkToIdToken(l,d){return yt("not implemented")}_getReauthenticationResolver(l){return yt("not implemented")}}function Le(f,l){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:resetPassword",B(f,l))})).apply(this,arguments)}function jr(){return(jr=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Kg(f,l){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function Qg(){return(Qg=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",B(f,l))})).apply(this,arguments)}function HA(f,l){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithPassword",B(f,l))})).apply(this,arguments)}function Qs(f,l){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:sendOobCode",B(f,l))})).apply(this,arguments)}function Dh(){return(Dh=(0,b.Z)(function*(f,l){return Qs(f,l)})).apply(this,arguments)}function LE(f,l){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,b.Z)(function*(f,l){return Qs(f,l)})).apply(this,arguments)}function Jg(f,l){return No.apply(this,arguments)}function No(){return(No=(0,b.Z)(function*(f,l){return Qs(f,l)})).apply(this,arguments)}function Sh(){return(Sh=(0,b.Z)(function*(f,l){return Qs(f,l)})).apply(this,arguments)}function ic(){return(ic=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithEmailLink",B(f,l))})).apply(this,arguments)}function Pa(){return(Pa=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithEmailLink",B(f,l))})).apply(this,arguments)}class Oo extends Aa{constructor(l,d,p,_=null){super("password",p),this._email=l,this._password=d,this._tenantId=_}static _fromEmailAndPassword(l,d){return new Oo(l,d,"password")}static _fromEmailAndCode(l,d,p=null){return new Oo(l,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,b.Z)(function*(){switch(d.signInMethod){case"password":return we(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",HA);case"emailLink":return function le(f,l){return ic.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:ct(l,"internal-error")}})()}_linkToIdToken(l,d){var p=this;return(0,b.Z)(function*(){switch(p.signInMethod){case"password":return we(l,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kg);case"emailLink":return function rt(f,l){return Pa.apply(this,arguments)}(l,{idToken:d,email:p._email,oobCode:p._password});default:ct(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function ai(f,l){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithIdp",B(f,l))})).apply(this,arguments)}class ms extends Aa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new ms(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):ct("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_}=d,I=(0,Rt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const M=new ms(p,_);return M.idToken=I.idToken||void 0,M.accessToken=I.accessToken||void 0,M.secret=I.secret,M.nonce=I.nonce,M.pendingToken=I.pendingToken||null,M}_getIdTokenResponse(l){return ai(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,ai(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ai(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,K.xO)(d)}return l}}function wi(){return(wi=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:sendVerificationCode",B(f,l))})).apply(this,arguments)}function Gi(){return(Gi=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,l))})).apply(this,arguments)}function Ra(){return(Ra=(0,b.Z)(function*(f,l){const d=yield De(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,l));if(d.temporaryProof)throw ln(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Rh={USER_NOT_FOUND:"user-not-found"};function sc(){return(sc=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Rh)})).apply(this,arguments)}class Dr extends Aa{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Dr({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Dr({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function qi(f,l){return Gi.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function xt(f,l){return Ra.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Mh(f,l){return sc.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}=l;return p||d||_||I?new Dr({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}):null}}class $t{constructor(l){var d,p,_,I,M,$;const ie=(0,K.zd)((0,K.pd)(l)),Ae=null!==(d=ie.apiKey)&&void 0!==d?d:null,Fe=null!==(p=ie.oobCode)&&void 0!==p?p:null,Tt=function Lu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=ie.mode)&&void 0!==_?_:null);oe(Ae&&Fe&&Tt,"argument-error"),this.apiKey=Ae,this.operation=Tt,this.code=Fe,this.continueUrl=null!==(I=ie.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(M=ie.languageCode)&&void 0!==M?M:null,this.tenantId=null!==($=ie.tenantId)&&void 0!==$?$:null}static parseLink(l){const d=function BE(f){const l=(0,K.zd)((0,K.pd)(f)).link,d=l?(0,K.zd)((0,K.pd)(l)).deep_link_id:null,p=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(p?(0,K.zd)((0,K.pd)(p)).link:null)||p||d||l||f}(l);try{return new $t(d)}catch{return null}}}let xh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Oo._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=$t.parseLink(p);return oe(_,"argument-error"),Oo._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ms{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Ut extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Uu extends Ut{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),ms._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return oe(l.idToken||l.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Uu.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Uu.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:I,nonce:M,providerId:$}=l;if(!p&&!_&&!d&&!I||!$)return null;try{return new Uu($)._credential({idToken:d,accessToken:p,nonce:M,pendingToken:I})}catch{return null}}}let Xg=(()=>{class f extends Ut{constructor(){super("facebook.com")}static credential(d){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),He=(()=>{class f extends Ut{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Ar=(()=>{class f extends Ut{constructor(){super("github.com")}static credential(d){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class An extends Aa{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return ai(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,ai(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ai(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_,pendingToken:I}=d;return p&&_&&I&&p===_?new An(p,I):null}static _create(l,d){return new An(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xs extends Ms{constructor(l){oe(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return xs.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return xs.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=An.fromJSON(l);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:p}=l;if(!d||!p)return null;try{return An._create(p,d)}catch{return null}}}let ui=(()=>{class f extends Ut{constructor(){super("twitter.com")}static credential(d,p){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Nh(f,l){return oc.apply(this,arguments)}function oc(){return(oc=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signUp",B(f,l))})).apply(this,arguments)}class Sr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,p,_=!1){return(0,b.Z)(function*(){const I=yield v._fromIdTokenResponse(l,p,_),M=_s(p);return new Sr({user:I,providerId:M,_tokenResponse:p,operationType:d})})()}static _forOperation(l,d,p){return(0,b.Z)(function*(){yield l._updateTokensIfNecessary(p,!0);const _=_s(p);return new Sr({user:l,providerId:_,_tokenResponse:p,operationType:d})})()}}function _s(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Ce(f){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,b.Z)(function*(f){var l;const d=vn(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new Sr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Nh(d,{returnSecureToken:!0}),_=yield Sr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Qt extends K.ZR{constructor(l,d,p,_){var I;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Qt.prototype),this.customData={appName:l.name,tenantId:null!==(I=l.tenantId)&&void 0!==I?I:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(l,d,p,_){return new Qt(l,d,p,_)}}function Ci(f,l,d,p){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Qt._fromErrorAndOperation(f,I,l,p):I})}function Ys(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function yr(f,l){return Js.apply(this,arguments)}function Js(){return Js=(0,b.Z)(function*(f,l){const d=(0,K.m9)(f);yield ko(!0,d,l);const{providerUserInfo:p}=yield function ji(f,l){return $i.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),_=Ys(p||[]);return d.providerData=d.providerData.filter(I=>_.has(I.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Js.apply(this,arguments)}function dn(f,l){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,b.Z)(function*(f,l,d=!1){const p=yield cn(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return Sr._forOperation(f,"link",p)})).apply(this,arguments)}function ko(f,l,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(f,l,d){yield zn(l);const _=!1===f?"provider-already-linked":"no-such-provider";oe(Ys(l.providerData).has(d)===f,l.auth,_)})).apply(this,arguments)}function ac(f,l){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,b.Z)(function*(f,l,d=!1){const{auth:p}=f,_="reauthenticate";try{const I=yield cn(f,Ci(p,_,l,f),d);oe(I.idToken,p,"internal-error");const M=bn(I.idToken);oe(M,p,"internal-error");const{sub:$}=M;return oe(f.uid===$,p,"user-mismatch"),Sr._forOperation(f,_,I)}catch(I){throw"auth/user-not-found"===I?.code&&ct(p,"user-mismatch"),I}})).apply(this,arguments)}function Oh(f,l){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(f,l,d=!1){const p="signIn",_=yield Ci(f,p,l),I=yield Sr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function qn(f,l){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,b.Z)(function*(f,l){return Oh(vn(f),l)})).apply(this,arguments)}function Lo(f,l){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,b.Z)(function*(f,l){const d=(0,K.m9)(f);return yield ko(!1,d,l.providerId),dn(d,l)})).apply(this,arguments)}function xa(f,l){return uc.apply(this,arguments)}function uc(){return(uc=(0,b.Z)(function*(f,l){return ac((0,K.m9)(f),l)})).apply(this,arguments)}function em(){return(em=(0,b.Z)(function*(f,l){return De(f,"POST","/v1/accounts:signInWithCustomToken",B(f,l))})).apply(this,arguments)}function kh(f,l){return lc.apply(this,arguments)}function lc(){return lc=(0,b.Z)(function*(f,l){const d=vn(f),p=yield function Yt(f,l){return em.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),_=yield Sr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),lc.apply(this,arguments)}class eo{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?Na._fromServerResponse(l,d):"totpInfo"in d?to._fromServerResponse(l,d):ct(l,"internal-error")}}class Na extends eo{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new Na(d)}}class to extends eo{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new to(d)}}function tr(f,l,d){var p;oe((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function tm(f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,b.Z)(function*(f){const l=vn(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function Wi(f,l,d){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,b.Z)(function*(f,l,d){const p=vn(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&tr(p,_,d),yield we(p,_,"getOobCode",LE)})).apply(this,arguments)}function ju(f,l,d){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,b.Z)(function*(f,l,d){yield Le((0,K.m9)(f),{oobCode:l,newPassword:d}).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&tm(f),_});return function(_){return p.apply(this,arguments)}}())}),Oa.apply(this,arguments)}function Ki(f,l){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,b.Z)(function*(f,l){yield function Zt(f,l){return Qg.apply(this,arguments)}((0,K.m9)(f),{oobCode:l})}),Fh.apply(this,arguments)}function jE(f,l){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,b.Z)(function*(f,l){const d=(0,K.m9)(f),p=yield Le(d,{oobCode:l}),_=p.requestType;switch(oe(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(p.mfaInfo,d,"internal-error");default:oe(p.email,d,"internal-error")}let I=null;return p.mfaInfo&&(I=eo._fromServerResponse(vn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:I},operation:_}})).apply(this,arguments)}function $E(f,l){return nm.apply(this,arguments)}function nm(){return(nm=(0,b.Z)(function*(f,l){const{data:d}=yield jE((0,K.m9)(f),l);return d.email})).apply(this,arguments)}function qA(f,l,d){return rm.apply(this,arguments)}function rm(){return(rm=(0,b.Z)(function*(f,l,d){const p=vn(f),M=yield we(p,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nh).catch(ie=>{throw"auth/password-does-not-meet-requirements"===ie.code&&tm(f),ie}),$=yield Sr._fromIdTokenResponse(p,"signIn",M);return yield p._updateCurrentUser($.user),$})).apply(this,arguments)}function GA(f,l,d){return qn((0,K.m9)(f),xh.credential(l,d)).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&tm(f),_});return function(_){return p.apply(this,arguments)}}())}function WA(f,l,d){return im.apply(this,arguments)}function im(){return(im=(0,b.Z)(function*(f,l,d){const p=vn(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function I(M,$){oe($.handleCodeInApp,p,"argument-error"),$&&tr(p,M,$)})(_,d),yield we(p,_,"getOobCode",Jg)})).apply(this,arguments)}function KA(f,l){return"EMAIL_SIGNIN"===$t.parseLink(l)?.operation}function ZA(f,l,d){return sm.apply(this,arguments)}function sm(){return(sm=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f),_=xh.credentialWithLink(l,d||_n());return oe(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),qn(p,_)})).apply(this,arguments)}function om(){return(om=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:createAuthUri",B(f,l))})).apply(this,arguments)}function YA(f,l){return cc.apply(this,arguments)}function cc(){return cc=(0,b.Z)(function*(f,l){const p={identifier:l,continueUri:xn()?_n():"http://localhost"},{signinMethods:_}=yield function QA(f,l){return om.apply(this,arguments)}((0,K.m9)(f),p);return _||[]}),cc.apply(this,arguments)}function am(f,l){return um.apply(this,arguments)}function um(){return um=(0,b.Z)(function*(f,l){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&tr(d.auth,_,l);const{email:I}=yield function rc(f,l){return Dh.apply(this,arguments)}(d.auth,_);I!==f.email&&(yield f.reload())}),um.apply(this,arguments)}function JA(f,l,d){return lm.apply(this,arguments)}function lm(){return lm=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&tr(p.auth,I,d);const{email:M}=yield function Sa(f,l){return Sh.apply(this,arguments)}(p.auth,I);M!==f.email&&(yield f.reload())}),lm.apply(this,arguments)}function Lh(){return(Lh=(0,b.Z)(function*(f,l){return X(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function bi(f,l){return dc.apply(this,arguments)}function dc(){return dc=(0,b.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const p=(0,K.m9)(f),I={idToken:yield p.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},M=yield cn(p,function Uo(f,l){return Lh.apply(this,arguments)}(p.auth,I));p.displayName=M.displayName||null,p.photoURL=M.photoUrl||null;const $=p.providerData.find(({providerId:ie})=>"password"===ie);$&&($.displayName=p.displayName,$.photoURL=p.photoURL),yield p._updateTokensIfNecessary(M)}),dc.apply(this,arguments)}function HE(f,l){return Uh((0,K.m9)(f),l,null)}function zE(f,l){return Uh((0,K.m9)(f),null,l)}function Uh(f,l,d){return hc.apply(this,arguments)}function hc(){return hc=(0,b.Z)(function*(f,l,d){const{auth:p}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(I.email=l),d&&(I.password=d);const M=yield cn(f,function VE(f,l){return jr.apply(this,arguments)}(p,I));yield f._updateTokensIfNecessary(M,!0)}),hc.apply(this,arguments)}class no{constructor(l,d,p={}){this.isNewUser=l,this.providerId=d,this.profile=p}}class cm extends no{constructor(l,d,p,_){super(l,d,p),this.username=_}}class Di extends no{constructor(l,d){super(l,"facebook.com",d)}}class dm extends cm{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class hm extends no{constructor(l,d){super(l,"google.com",d)}}class cr extends cm{constructor(l,d,p){super(l,"twitter.com",d,p)}}function GE(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function qE(f){var l,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const M=null===(d=null===(l=bn(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(M)return new no(I,"anonymous"!==M&&"custom"!==M?M:null)}if(!p)return null;switch(p){case"facebook.com":return new Di(I,_);case"github.com":return new dm(I,_);case"google.com":return new hm(I,_);case"twitter.com":return new cr(I,_,f.screenName||null);case"custom":case"anonymous":return new no(I,null);default:return new no(I,p,_)}}(d)}class ro{constructor(l,d,p){this.type=l,this.credential=d,this.user=p}static _fromIdtoken(l,d){return new ro("enroll",l,d)}static _fromMfaPendingCredential(l){return new ro("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,p;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ro._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(p=l.multiFactorSession)&&void 0!==p&&p.idToken)return ro._fromIdtoken(l.multiFactorSession.idToken)}return null}}class pm{constructor(l,d,p){this.session=l,this.hints=d,this.signInResolver=p}static _fromError(l,d){const p=vn(l),_=d.customData._serverResponse,I=(_.mfaInfo||[]).map($=>eo._fromServerResponse(p,$));oe(_.mfaPendingCredential,p,"internal-error");const M=ro._fromMfaPendingCredential(_.mfaPendingCredential);return new pm(M,I,function(){var $=(0,b.Z)(function*(ie){const Ae=yield ie._process(p,M);delete _.mfaInfo,delete _.mfaPendingCredential;const Fe=Object.assign(Object.assign({},_),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(d.operationType){case"signIn":const Tt=yield Sr._fromIdTokenResponse(p,d.operationType,Fe);return yield p._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return oe(d.user,p,"internal-error"),Sr._forOperation(d.user,d.operationType,Fe);default:ct(p,"internal-error")}});return function(ie){return $.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,b.Z)(function*(){return d.signInResolver(l)})()}}function KE(f,l){var d;const p=(0,K.m9)(f),_=l;return oe(l.customData.operationType,p,"argument-error"),oe(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),pm._fromError(p,_)}class ne{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>eo._fromServerResponse(l.auth,p)))})}static _fromUser(l){return new ne(l)}getSession(){var l=this;return(0,b.Z)(function*(){return ro._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var p=this;return(0,b.Z)(function*(){const _=l,I=yield p.getSession(),M=yield cn(p.user,_._process(p.user.auth,I,d));return yield p.user._updateTokensIfNecessary(M),p.user.reload()})()}unenroll(l){var d=this;return(0,b.Z)(function*(){const p="string"==typeof l?l:l.uid,_=yield d.user.getIdToken();try{const I=yield cn(d.user,function XE(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:withdraw",B(f,l))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:M})=>M!==p),yield d.user._updateTokensIfNecessary(I),yield d.user.reload()}catch(I){throw I}})()}}const mt=new WeakMap;function dr(f){const l=(0,K.m9)(f);return mt.has(l)||mt.set(l,ne._fromUser(l)),mt.get(l)}const On="__sak";class nr{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(On,"1"),this.storage.removeItem(On),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const pc=(()=>{class f extends nr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gm(){const f=(0,K.z$)();return Je(f)||te(f)}()&&function nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),I=this.localCache[p];_!==I&&d(p,I,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys(($,ie,Ae)=>{this.notifyListeners($,Ae)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $=this.storage.getItem(_);if(d.newValue!==$)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const I=()=>{const $=this.storage.getItem(_);!p&&this.localCache[_]===$||this.notifyListeners(_,$)},M=this.storage.getItem(_);!function Mt(){return(0,K.w1)()&&10===document.documentMode}()||M===d.newValue||d.newValue===d.oldValue?I():setTimeout(I,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,I=this;return(0,b.Z)(function*(){yield _().call(I,d,p),I.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,b.Z)(function*(){const I=yield p().call(_,d);return _.localCache[d]=JSON.stringify(I),I})()}_remove(d){var p=()=>super._remove,_=this;return(0,b.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),_m=(()=>{class f extends nr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Rr=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(I=>I.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,b.Z)(function*(){const _=d,{eventId:I,eventType:M,data:$}=_.data,ie=p.handlersMap[M];if(!ie?.size)return;_.ports[0].postMessage({status:"ack",eventId:I,eventType:M});const Ae=Array.from(ie).map(function(){var Tt=(0,b.Z)(function*(di){return di(_.origin,$)});return function(di){return Tt.apply(this,arguments)}}()),Fe=yield function ym(f){return Promise.all(f.map(function(){var l=(0,b.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return l.apply(this,arguments)}}()))}(Ae);_.ports[0].postMessage({status:"done",eventId:I,eventType:M,response:Fe})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function li(f="",l=10){let d="";for(let p=0;p<l;p++)d+=Math.floor(10*Math.random());return f+d}class vm{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,p=50){var _=this;return(0,b.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let M,$;return new Promise((ie,Ae)=>{const Fe=li("",20);I.port1.start();const Tt=setTimeout(()=>{Ae(new Error("unsupported_event"))},p);$={messageChannel:I,onMessage(di){const Ko=di;if(Ko.data.eventId===Fe)switch(Ko.data.status){case"ack":clearTimeout(Tt),M=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),ie(Ko.data.response);break;default:clearTimeout(Tt),clearTimeout(M),Ae(new Error("invalid_response"))}}},_.handlers.add($),I.port1.addEventListener("message",$.onMessage),_.target.postMessage({eventType:l,eventId:Fe,data:d},[I.port2])}).finally(()=>{$&&_.removeMessageHandler($)})})()}}function Jt(){return window}function $h(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function Hh(){return(Hh=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gc="firebaseLocalStorageDb",Im=1,Fa="firebaseLocalStorage",wm="fbase_key";class Va{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function La(f,l){return f.transaction([Fa],l?"readwrite":"readonly").objectStore(Fa)}function mc(){const f=indexedDB.open(gc,Im);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Fa,{keyPath:wm})}catch(_){d(_)}}),f.addEventListener("success",(0,b.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Fa)?l(p):(p.close(),yield function Cm(){const f=indexedDB.deleteDatabase(gc);return new Va(f).toPromise()}(),l(yield mc()))}))})}function qh(f,l,d){return _c.apply(this,arguments)}function _c(){return(_c=(0,b.Z)(function*(f,l,d){const p=La(f,!0).put({[wm]:l,value:d});return new Va(p).toPromise()})).apply(this,arguments)}function Wh(){return(Wh=(0,b.Z)(function*(f,l){const d=La(f,!1).get(l),p=yield new Va(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Tm(f,l){const d=La(f,!0).delete(l);return new Va(d).toPromise()}const bm=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,b.Z)(function*(){return d.db||(d.db=yield mc()),d.db})()}_withRetries(d){var p=this;return(0,b.Z)(function*(){let _=0;for(;;)try{const I=yield p._openDb();return yield d(I)}catch(I){if(_++>3)throw I;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,b.Z)(function*(){return $h()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,b.Z)(function*(){d.receiver=Rr._getInstance(function zh(){return $h()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,b.Z)(function*(_,I){return{keyProcessed:(yield d._poll()).includes(I.key)}});return function(_,I){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,b.Z)(function*(_,I){return["keyChanged"]});return function(_,I){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,b.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function Em(){return Hh.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new vm(d.activeServiceWorker);const I=yield d.sender._send("ping",{},800);I&&null!==(p=I[0])&&void 0!==p&&p.fulfilled&&null!==(_=I[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,b.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function eI(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const d=yield mc();return yield qh(d,On,"1"),yield Tm(d,On),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,b.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,b.Z)(function*(){return _._withPendingWrite((0,b.Z)(function*(){return yield _._withRetries(I=>qh(I,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=yield p._withRetries(I=>function Gh(f,l){return Wh.apply(this,arguments)}(I,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,b.Z)(function*(){return p._withPendingWrite((0,b.Z)(function*(){return yield p._withRetries(_=>Tm(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,b.Z)(function*(){const p=yield d._withRetries(M=>{const $=La(M,!1).getAll();return new Va($).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],I=new Set;if(0!==p.length)for(const{fbase_key:M,value:$}of p)I.add(M),JSON.stringify(d.localCache[M])!==JSON.stringify($)&&(d.notifyListeners(M,$),_.push(M));for(const M of Object.keys(d.localCache))d.localCache[M]&&!I.has(M)&&(d.notifyListeners(M,null),_.push(M));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),$o=1e12;class yc{constructor(l){this.auth=l,this.counter=$o,this._widgets=new Map}render(l,d){const p=this.counter;return this._widgets.set(p,new vc(l,this.auth.name,d||{})),this.counter++,p}reset(l){var d;const p=l||$o;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(l){var d;return(null===(d=this._widgets.get(l||$o))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,b.Z)(function*(){var p;return null===(p=d._widgets.get(l||$o))||void 0===p||p.execute(),""})()}}class vc{constructor(l,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;oe(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kh(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ec=$g("rcb"),oI=new ti(3e4,6e4);class Hu{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Jt().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return oe(function aI(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&$n(Jt().grecaptcha)?Promise.resolve(Jt().grecaptcha):new Promise((p,_)=>{const I=Jt().setTimeout(()=>{_(Ft(l,"network-request-failed"))},oI.get());Jt()[Ec]=()=>{Jt().clearTimeout(I),delete Jt()[Ec];const $=Jt().grecaptcha;if(!$||!$n($))return void _(Ft(l,"internal-error"));const ie=$.render;$.render=(Ae,Fe)=>{const Tt=ie(Ae,Fe);return this.counter++,Tt},this.hostLanguage=d,p($)},jg(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Ec,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(I),_(Ft(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=Jt().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rS{load(l){return(0,b.Z)(function*(){return new yc(l)})()}clearedOneInstance(){}}const Ic="recaptcha",iS={theme:"light",type:"image"};class uI{constructor(l,d,p=Object.assign({},iS)){this.parameters=p,this.type=Ic,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(l),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;oe(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rS:new Hu,this.validateStartingState()}verify(){var l=this;return(0,b.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),p=l.getAssertedRecaptcha();return p.getResponse(d)||new Promise(I=>{const M=$=>{$&&(l.tokenChangeListeners.delete(M),I($))};l.tokenChangeListeners.add(M),l.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof l)l(d);else if("string"==typeof l){const p=Jt()[l];"function"==typeof p&&p(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,b.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,b.Z)(function*(){oe(xn()&&!$h(),l.auth,"internal-error"),yield function lI(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Ur(f){return Bi.apply(this,arguments)}(l.auth);oe(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dm{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Dr._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function sS(f,l,d){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.Z)(function*(f,l,d){const p=vn(f),_=yield Gu(p,l,(0,K.m9)(d));return new Dm(_,I=>qn(p,I))})).apply(this,arguments)}function Am(f,l,d){return wc.apply(this,arguments)}function wc(){return(wc=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f);yield ko(!1,p,"phone");const _=yield Gu(p.auth,l,(0,K.m9)(d));return new Dm(_,I=>Lo(p,I))})).apply(this,arguments)}function qu(f,l,d){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f),_=yield Gu(p.auth,l,(0,K.m9)(d));return new Dm(_,I=>xa(p,I))})).apply(this,arguments)}function Gu(f,l,d){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,b.Z)(function*(f,l,d){var p;const _=yield d.verify();try{let I;if(oe("string"==typeof _,f,"argument-error"),oe(d.type===Ic,f,"argument-error"),I="string"==typeof l?{phoneNumber:l}:l,"session"in I){const M=I.session;if("phoneNumber"in I)return oe("enroll"===M.type,f,"internal-error"),(yield function ZE(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:start",B(f,l))}(f,{idToken:M.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{oe("signin"===M.type,f,"internal-error");const $=(null===(p=I.multiFactorHint)||void 0===p?void 0:p.uid)||I.multiFactorUid;return oe($,f,"missing-multi-factor-info"),(yield function tI(f,l){return X(f,"POST","/v2/accounts/mfaSignIn:start",B(f,l))}(f,{mfaPendingCredential:M.credential,mfaEnrollmentId:$,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:M}=yield function Rs(f,l){return wi.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:_});return M}}finally{d._reset()}}),Ba.apply(this,arguments)}function cI(f,l){return ja.apply(this,arguments)}function ja(){return(ja=(0,b.Z)(function*(f,l){yield dn((0,K.m9)(f),l)})).apply(this,arguments)}let Zh=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=vn(d)}verifyPhoneNumber(d,p){return Gu(this.auth,d,(0,K.m9)(p))}static credential(d,p){return Dr._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Dr._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function vs(f,l){return l?L(l):(oe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Sm extends Aa{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return ai(l,this._buildIdpRequest())}_linkToIdToken(l,d){return ai(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return ai(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Pm(f){return Oh(f.auth,new Sm(f),f.bypassAuthState)}function Rm(f){const{auth:l,user:d}=f;return oe(d,l,"internal-error"),ac(d,new Sm(f),f.bypassAuthState)}function dI(f){return Si.apply(this,arguments)}function Si(){return(Si=(0,b.Z)(function*(f){const{auth:l,user:d}=f;return oe(d,l,"internal-error"),dn(d,new Sm(f),f.bypassAuthState)})).apply(this,arguments)}class Mm{constructor(l,d,p,_,I=!1){this.auth=l,this.resolver=p,this.user=_,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,b.Z)(function*(p,_){l.pendingPromise={resolve:p,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(I){l.reject(I)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,b.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:I,tenantId:M,error:$,type:ie}=l;if($)return void d.reject($);const Ae={auth:d.auth,requestUri:p,sessionId:_,tenantId:M||void 0,postBody:I||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ie)(Ae))}catch(Fe){d.reject(Fe)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Pm;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return Rm;default:ct(this.auth,"internal-error")}}resolve(l){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tc=new ti(2e3,1e4);function Qh(f,l,d){return bc.apply(this,arguments)}function bc(){return(bc=(0,b.Z)(function*(f,l,d){const p=vn(f);Mn(f,l,Ms);const _=vs(p,d);return new Ac(p,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Yh(f,l,d){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f);Mn(p.auth,l,Ms);const _=vs(p.auth,d);return new Ac(p.auth,"reauthViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}function hI(f,l,d){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f);Mn(p.auth,l,Ms);const _=vs(p.auth,d);return new Ac(p.auth,"linkViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}let Ac=(()=>{class f extends Mm{constructor(d,p,_,I,M){super(d,p,I,M),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,b.Z)(function*(){const p=yield d.execute();return oe(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,b.Z)(function*(){Kt(1===d.filter.length,"Popup operations only handle one event");const p=li();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Ft(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ft(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Tc.get())};d()}}return f.currentPopupAction=null,f})();const xm="pendingRedirect",$a=new Map;class fI extends Mm{constructor(l,d,p=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,b.Z)(function*(){let p=$a.get(d.auth._key());if(!p){try{const I=(yield function Sc(f,l){return Os.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;p=()=>Promise.resolve(I)}catch(_){p=()=>Promise.reject(_)}$a.set(d.auth._key(),p)}return d.bypassAuthState||$a.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,p=this;return(0,b.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(p,l);if("unknown"!==l.type){if(l.eventId){const _=yield p.auth._redirectUserForId(l.eventId);if(_)return p.user=_,d().call(p,l);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Os(){return(Os=(0,b.Z)(function*(f,l){const d=rr(l),p=Om(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Jh(f,l){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,b.Z)(function*(f,l){return Om(f)._set(rr(l),"true")})).apply(this,arguments)}function Nm(){$a.clear()}function Ho(f,l){$a.set(f._key(),l)}function Om(f){return L(f._redirectPersistence)}function rr(f){return Be(xm,f.config.apiKey,f.name)}function Xh(f,l,d){return function pI(f,l,d){return Rc.apply(this,arguments)}(f,l,d)}function Rc(){return(Rc=(0,b.Z)(function*(f,l,d){const p=vn(f);Mn(f,l,Ms),yield p._initializationPromise;const _=vs(p,d);return yield Jh(_,p),_._openRedirect(p,l,"signInViaRedirect")})).apply(this,arguments)}function Mc(f,l,d){return function Ha(f,l,d){return io.apply(this,arguments)}(f,l,d)}function io(){return(io=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f);Mn(p.auth,l,Ms),yield p.auth._initializationPromise;const _=vs(p.auth,d);yield Jh(_,p.auth);const I=yield gI(p);return _._openRedirect(p.auth,l,"reauthViaRedirect",I)})).apply(this,arguments)}function za(f,l,d){return function km(f,l,d){return Ku.apply(this,arguments)}(f,l,d)}function Ku(){return(Ku=(0,b.Z)(function*(f,l,d){const p=(0,K.m9)(f);Mn(p.auth,l,Ms),yield p.auth._initializationPromise;const _=vs(p.auth,d);yield ko(!1,p,l.providerId),yield Jh(_,p.auth);const I=yield gI(p);return _._openRedirect(p.auth,l,"linkViaRedirect",I)})).apply(this,arguments)}function qa(f,l){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,b.Z)(function*(f,l){return yield vn(f)._initializationPromise,ef(f,l,!1)})).apply(this,arguments)}function ef(f,l){return ve.apply(this,arguments)}function ve(){return(ve=(0,b.Z)(function*(f,l,d=!1){const p=vn(f),_=vs(p,l),M=yield new fI(p,_,d).execute();return M&&!d&&(delete M.user._redirectEventId,yield p._persistUserIfCurrent(M.user),yield p._setRedirectUser(null,l)),M})).apply(this,arguments)}function gI(f){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,b.Z)(function*(f){const l=li(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class mI{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(l,p)&&(d=!0,this.sendToConsumer(l,p),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function aS(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yI(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var p;if(l.error&&!yI(l)){const _=(null===(p=l.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Ft(this.auth,_))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const p=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&p}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_I(l))}saveEventToCache(l){this.cachedEventUids.add(_I(l)),this.lastProcessedEventTime=Date.now()}}function _I(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function yI({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function Ga(f){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,b.Z)(function*(f,l={}){return X(f,"GET","/v1/projects",l)})).apply(this,arguments)}const uS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gn=/^https?/;function zo(){return(zo=(0,b.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield Ga(f);for(const d of l)try{if(vI(d))return}catch{}ct(f,"unauthorized-domain")})).apply(this,arguments)}function vI(f){const l=_n(),{protocol:d,hostname:p}=new URL(l);if(f.startsWith("chrome-extension://")){const M=new URL(f);return""===M.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&M.hostname===p}if(!Gn.test(d))return!1;if(uS.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Pi=new ti(3e4,6e4);function so(){const f=Jt().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let qo=null;const EI=new ti(5e3,15e3),lS="__/auth/iframe",II="emulator/auth/iframe",cS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ci=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nf(f){const l=f.config;oe(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?ls(l,II):`https://${f.config.authDomain}/${lS}`,p={apiKey:l.apiKey,appName:f.name,v:O.SDK_VERSION},_=ci.get(f.config.apiHost);_&&(p.eid=_);const I=f._getFrameworks();return I.length&&(p.fw=I.join(",")),`${d}?${(0,K.xO)(p).slice(1)}`}function Bm(){return Bm=(0,b.Z)(function*(f){const l=yield function Zu(f){return qo=qo||function Um(f){return new Promise((l,d)=>{var p,_,I;function M(){so(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{so(),d(Ft(f,"network-request-failed"))},timeout:Pi.get()})}if(null!==(_=null===(p=Jt().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(I=Jt().gapi)||void 0===I||!I.load){const $=$g("iframefcb");return Jt()[$]=()=>{gapi.load?M():d(Ft(f,"network-request-failed"))},jg(`https://apis.google.com/js/api.js?onload=${$}`).catch(ie=>d(ie))}M()}}).catch(l=>{throw qo=null,l})}(f),qo}(f),d=Jt().gapi;return oe(d,f,"internal-error"),l.open({where:document.body,url:nf(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cS,dontclear:!0},p=>new Promise(function(){var _=(0,b.Z)(function*(I,M){yield p.restyle({setHideOnLeave:!1});const $=Ft(f,"network-request-failed"),ie=Jt().setTimeout(()=>{M($)},EI.get());function Ae(){Jt().clearTimeout(ie),I(p)}p.ping(Ae).then(Ae,()=>{M($)})});return function(I,M){return _.apply(this,arguments)}}()))}),Bm.apply(this,arguments)}const jm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,CI=600,TI="_blank",bI="http://localhost";class $m{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xc="__/auth/handler",sf="emulator/auth/handler",Ka=encodeURIComponent("fac");function Nc(f,l,d,p,_,I){return Go.apply(this,arguments)}function Go(){return(Go=(0,b.Z)(function*(f,l,d,p,_,I){oe(f.config.authDomain,f,"auth-domain-config-required"),oe(f.config.apiKey,f,"invalid-api-key");const M={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:O.SDK_VERSION,eventId:_};if(l instanceof Ms){l.setDefaultLanguage(f.languageCode),M.providerId=l.providerId||"",(0,K.xb)(l.getCustomParameters())||(M.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Fe,Tt]of Object.entries(I||{}))M[Fe]=Tt}if(l instanceof Ut){const Fe=l.getScopes().filter(Tt=>""!==Tt);Fe.length>0&&(M.scopes=Fe.join(","))}f.tenantId&&(M.tid=f.tenantId);const $=M;for(const Fe of Object.keys($))void 0===$[Fe]&&delete $[Fe];const ie=yield f._getAppCheckToken(),Ae=ie?`#${Ka}=${encodeURIComponent(ie)}`:"";return`${function AI({config:f}){return f.emulator?ls(f,sf):`https://${f.authDomain}/${xc}`}(f)}?${(0,K.xO)($).slice(1)}${Ae}`})).apply(this,arguments)}const Oc="webStorageSupport",Yu=class Qu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_m,this._completeRedirectFn=ef,this._overrideRedirectResult=Ho}_openPopup(l,d,p,_){var I=this;return(0,b.Z)(function*(){var M;Kt(null===(M=I.eventManagers[l._key()])||void 0===M?void 0:M.manager,"_initialize() not called before _openPopup()");const $=yield Nc(l,d,p,_n(),_);return function DI(f,l,d,p=wI,_=CI){const I=Math.max((window.screen.availHeight-_)/2,0).toString(),M=Math.max((window.screen.availWidth-p)/2,0).toString();let $="";const ie=Object.assign(Object.assign({},jm),{width:p.toString(),height:_.toString(),top:I,left:M}),Ae=(0,K.z$)().toLowerCase();d&&($=er(Ae)?TI:d),ge(Ae)&&(l=l||bI,ie.scrollbars="yes");const Fe=Object.entries(ie).reduce((di,[Ko,Fc])=>`${di}${Ko}=${Fc},`,"");if(function gt(f=(0,K.z$)()){var l;return te(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Ae)&&"_self"!==$)return function rf(f,l){const d=document.createElement("a");d.href=f,d.target=l;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(l||"",$),new $m(null);const Tt=window.open(l||"",$,Fe);oe(Tt,f,"popup-blocked");try{Tt.focus()}catch{}return new $m(Tt)}(l,$,li())})()}_openRedirect(l,d,p,_){var I=this;return(0,b.Z)(function*(){return yield I._originValidation(l),function Ns(f){Jt().location.href=f}(yield Nc(l,d,p,_n(),_)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:_,promise:I}=this.eventManagers[d];return _?Promise.resolve(_):(Kt(I,"If manager is not set, promise should be"),I)}const p=this.initAndGetManager(l);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(l){var d=this;return(0,b.Z)(function*(){const p=yield function Wa(f){return Bm.apply(this,arguments)}(l),_=new mI(l);return p.register("authEvent",I=>(oe(I?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:_},d.iframes[l._key()]=p,_})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Oc,{type:Oc},_=>{var I;const M=null===(I=_?.[0])||void 0===I?void 0:I[Oc];void 0!==M&&d(!!M),ct(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function tf(f){return zo.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return Nn()||Je()||te()}};class Hm{constructor(l){this.factorId=l}_process(l,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,p);case"signin":return this._finalizeSignIn(l,d.credential);default:return yt("unexpected MultiFactorSessionType")}}}class af extends Hm{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new af(l)}_finalizeEnroll(l,d,p){return function QE(f,l){return X(f,"POST","/v2/accounts/mfaEnrollment:finalize",B(f,l))}(l,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function nI(f,l){return X(f,"POST","/v2/accounts/mfaSignIn:finalize",B(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let SI=(()=>{class f{constructor(){}static assertion(d){return af._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var lf="@firebase/auth";class dS{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,b.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(p=>{l(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,K.Pz)("authIdTokenMaxAge"),function RI(f){(0,O._registerComponent)(new un.wA("auth",(l,{options:d})=>{const p=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),I=l.getProvider("app-check-internal"),{apiKey:M,authDomain:$}=p.options;oe(M&&!M.includes(":"),"invalid-api-key",{appName:p.name});const ie={apiKey:M,authDomain:$,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(f)},Ae=new jA(p,_,I,ie);return function qg(f,l){const d=l?.persistence||[],p=(Array.isArray(d)?d:[d]).map(L);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(p,l?.popupRedirectResolver)}(Ae,d),Ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,p)=>{l.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new un.wA("auth-internal",l=>{const d=vn(l.getProvider("auth").getImmediate());return new dS(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(lf,"1.5.1",function PI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,O.registerVersion)(lf,"1.5.1","esm2017")}("Browser")},90:(us,Bn,Ve)=>{Ve.d(Bn,{BH:()=>ei,G6:()=>ls,L:()=>It,LL:()=>ee,Pz:()=>Ft,Sg:()=>Mn,UG:()=>yt,ZB:()=>Re,ZR:()=>X,aH:()=>ct,b$:()=>xn,eu:()=>z,hl:()=>j,jU:()=>Kt,m9:()=>gs,ne:()=>ni,pd:()=>$i,r3:()=>Hn,ru:()=>_n,tV:()=>J,uI:()=>oe,vZ:()=>cs,w1:()=>Ui,xO:()=>hs,xb:()=>Ur,z$:()=>st,zd:()=>ji});const xe=function(P){const S=[];let E=0;for(let w=0;w<P.length;w++){let v=P.charCodeAt(w);v<128?S[E++]=v:v<2048?(S[E++]=v>>6|192,S[E++]=63&v|128):55296==(64512&v)&&w+1<P.length&&56320==(64512&P.charCodeAt(w+1))?(v=65536+((1023&v)<<10)+(1023&P.charCodeAt(++w)),S[E++]=v>>18|240,S[E++]=v>>12&63|128,S[E++]=v>>6&63|128,S[E++]=63&v|128):(S[E++]=v>>12|224,S[E++]=v>>6&63|128,S[E++]=63&v|128)}return S},un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,S){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let v=0;v<P.length;v+=3){const k=P[v],L=v+1<P.length,Te=L?P[v+1]:0,me=v+2<P.length,Be=me?P[v+2]:0;let ge=(15&Te)<<2|Be>>6,Je=63&Be;me||(Je=64,L||(ge=64)),w.push(E[k>>2],E[(3&k)<<4|Te>>4],E[ge],E[Je])}return w.join("")},encodeString(P,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(P):this.encodeByteArray(xe(P),S)},decodeString(P,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(P):function(P){const S=[];let E=0,w=0;for(;E<P.length;){const v=P[E++];if(v<128)S[w++]=String.fromCharCode(v);else if(v>191&&v<224){const k=P[E++];S[w++]=String.fromCharCode((31&v)<<6|63&k)}else if(v>239&&v<365){const me=((7&v)<<18|(63&P[E++])<<12|(63&P[E++])<<6|63&P[E++])-65536;S[w++]=String.fromCharCode(55296+(me>>10)),S[w++]=String.fromCharCode(56320+(1023&me))}else{const k=P[E++],L=P[E++];S[w++]=String.fromCharCode((15&v)<<12|(63&k)<<6|63&L)}}return S.join("")}(this.decodeStringToByteArray(P,S))},decodeStringToByteArray(P,S){this.init_();const E=S?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let v=0;v<P.length;){const k=E[P.charAt(v++)],Te=v<P.length?E[P.charAt(v)]:0;++v;const Be=v<P.length?E[P.charAt(v)]:64;++v;const ye=v<P.length?E[P.charAt(v)]:64;if(++v,null==k||null==Te||null==Be||null==ye)throw new Tn;w.push(k<<2|Te>>4),64!==Be&&(w.push(Te<<4&240|Be>>2),64!==ye&&w.push(Be<<6&192|ye))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const It=function(P){return function(P){const S=xe(P);return un.encodeByteArray(S,!0)}(P).replace(/\./g,"")},J=function(P){try{return un.decodeString(P,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Re(P,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return S}for(const E in S)!S.hasOwnProperty(E)||!Ye(E)||(P[E]=Re(P[E],S[E]));return P}function Ye(P){return"__proto__"!==P}const We=()=>{try{return function Dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=P&&J(P[1]);return S&&JSON.parse(S)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},ct=()=>{var P;return null===(P=We())||void 0===P?void 0:P.config},Ft=P=>{var S;return null===(S=We())||void 0===S?void 0:S[`_${P}`]};class ei{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,E)=>{this.resolve=S,this.reject=E})}wrapCallback(S){return(E,w)=>{E?this.reject(E):this.resolve(w),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(E):S(E,w))}}}function Mn(P,S){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const w=S||"demo-project",v=P.iat||0,k=P.sub||P.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const L=Object.assign({iss:`https://securetoken.google.com/${w}`,aud:w,iat:v,exp:v+3600,auth_time:v,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},P);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(L)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function yt(){var P;const S=null===(P=We())||void 0===P?void 0:P.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Kt(){return"object"==typeof self&&self.self===self}function _n(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ui(){const P=st();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function ls(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function z(){return new Promise((P,S)=>{try{let E=!0;const w="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(w);v.onsuccess=()=>{v.result.close(),E||self.indexedDB.deleteDatabase(w),P(!0)},v.onupgradeneeded=()=>{E=!1},v.onerror=()=>{var k;S((null===(k=v.error)||void 0===k?void 0:k.message)||"")}}catch(E){S(E)}})}class X extends Error{constructor(S,E,w){super(E),this.code=S,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(S,E,w){this.service=S,this.serviceName=E,this.errors=w}create(S,...E){const w=E[0]||{},v=`${this.service}/${S}`,k=this.errors[S],L=k?function pe(P,S){return P.replace(ut,(E,w)=>{const v=S[w];return null!=v?String(v):`<${w}?>`})}(k,w):"Error";return new X(v,`${this.serviceName}: ${L} (${v}).`,w)}}const ut=/\{\$([^}]+)}/g;function Hn(P,S){return Object.prototype.hasOwnProperty.call(P,S)}function Ur(P){for(const S in P)if(Object.prototype.hasOwnProperty.call(P,S))return!1;return!0}function cs(P,S){if(P===S)return!0;const E=Object.keys(P),w=Object.keys(S);for(const v of E){if(!w.includes(v))return!1;const k=P[v],L=S[v];if(At(k)&&At(L)){if(!cs(k,L))return!1}else if(k!==L)return!1}for(const v of w)if(!E.includes(v))return!1;return!0}function At(P){return null!==P&&"object"==typeof P}function hs(P){const S=[];for(const[E,w]of Object.entries(P))Array.isArray(w)?w.forEach(v=>{S.push(encodeURIComponent(E)+"="+encodeURIComponent(v))}):S.push(encodeURIComponent(E)+"="+encodeURIComponent(w));return S.length?"&"+S.join("&"):""}function ji(P){const S={};return P.replace(/^\?/,"").split("&").forEach(w=>{if(w){const[v,k]=w.split("=");S[decodeURIComponent(v)]=decodeURIComponent(k)}}),S}function $i(P){const S=P.indexOf("?");if(!S)return"";const E=P.indexOf("#",S);return P.substring(S,E>0?E:void 0)}function ni(P,S){const E=new ri(P,S);return E.subscribe.bind(E)}class ri{constructor(S,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{S(this)}).catch(w=>{this.error(w)})}next(S){this.forEachObserver(E=>{E.next(S)})}error(S){this.forEachObserver(E=>{E.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,E,w){let v;if(void 0===S&&void 0===E&&void 0===w)throw new Error("Missing Observer.");v=function lr(P,S){if("object"!=typeof P||null===P)return!1;for(const E of S)if(E in P&&"function"==typeof P[E])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:E,complete:w},void 0===v.next&&(v.next=Vt),void 0===v.error&&(v.error=Vt),void 0===v.complete&&(v.complete=Vt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),k}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,S)}sendOne(S,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{E(this.observers[S])}catch(w){typeof console<"u"&&console.error&&console.error(w)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function gs(P){return P&&P._delegate?P._delegate:P}},875:(us,Bn,Ve)=>{function b(n){return"function"==typeof n}function K(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function xe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gt(s)}catch(o){e=e??[],o instanceof O?e=[...e,...o.errors]:e.push(o)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gt(e);else{if(e instanceof Rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xe(t,e)}remove(e){const{_finalizers:t}=this;t&&xe(t,e),e instanceof Rt&&e._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const un=Rt.EMPTY;function Tn(n){return n instanceof Rt||n&&"closed"in n&&b(n.remove)&&b(n.add)&&b(n.unsubscribe)}function Gt(n){b(n)?n():n.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:r}=J;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ue(n){J.setTimeout(()=>{const{onUnhandledError:e}=It;if(!e)throw n;e(n)})}function Re(){}const Ye=ft("C",void 0,void 0);function ft(n,e,t){return{kind:n,value:e,error:t}}let Ge=null;function We(n){if(It.useDeprecatedSynchronousErrorHandling){const e=!Ge;if(e&&(Ge={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ge;if(Ge=null,t)throw r}}else n()}class mn extends Rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tn(e)&&e.add(this)):this.destination=Kt}static create(e,t,r){return new Mn(e,t,r)}next(e){this.isStopped?yt(function jn(n){return ft("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?yt(function Dt(n){return ft("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yt(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function Ft(n,e){return ct.call(n,e)}class ei{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){st(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){st(r)}else st(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){st(t)}}}class Mn extends mn{constructor(e,t,r){let i;if(super(),b(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&It.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ft(e.next,s),error:e.error&&Ft(e.error,s),complete:e.complete&&Ft(e.complete,s)}):i=e}this.destination=new ei(i)}}function st(n){It.useDeprecatedSynchronousErrorHandling?function Xn(n){It.useDeprecatedSynchronousErrorHandling&&Ge&&(Ge.errorThrown=!0,Ge.error=n)}(n):ue(n)}function yt(n,e){const{onStoppedNotification:t}=It;t&&J.setTimeout(()=>t(n,e))}const Kt={closed:!0,next:Re,error:function oe(n){throw n},complete:Re},_n="function"==typeof Symbol&&Symbol.observable||"@@observable";function xn(n){return n}function Ui(n){return 0===n.length?xn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function j(n){return n&&n instanceof mn||function ls(n){return n&&b(n.next)&&b(n.error)&&b(n.complete)}(n)&&Tn(n)}(t)?t:new Mn(t,r,i);return We(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ti(r))((i,s)=>{const o=new Mn({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[_n](){return this}pipe(...t){return Ui(t)(this)}toPromise(t){return new(t=ti(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ti(n){var e;return null!==(e=n??It.Promise)&&void 0!==e?e:Promise}const z=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new B(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new z}next(t){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?un:(this.currentObservers=null,s.push(t),new Rt(()=>{this.currentObservers=null,xe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new B(e,t),n})();class B extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:un}}function X(n){return b(n?.lift)}function ee(n){return e=>{if(X(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new ut(n,e,t,r,i)}class ut extends mn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(n,e){return ee((t,r)=>{let i=0;t.subscribe(pe(r,s=>{r.next(n.call(e,s,i++))}))})}var Se=Ve(582);const wt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tn(n){return b(n?.then)}function jt(n){return b(n[_n])}function ln(n){return Symbol.asyncIterator&&b(n?.[Symbol.asyncIterator])}function $n(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ur=function Hn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ur(n){return b(n?.[ur])}function Bi(n){return(0,Se.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Se.qq)(t.read());if(i)return yield(0,Se.qq)(void 0);yield yield(0,Se.qq)(r)}}finally{t.releaseLock()}})}function cs(n){return b(n?.getReader)}function At(n){if(n instanceof pt)return n;if(null!=n){if(jt(n))return function ds(n){return new pt(e=>{const t=n[_n]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wt(n))return function hs(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(tn(n))return function ji(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ue)})}(n);if(ln(n))return _r(n);if(Ur(n))return function $i(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cs(n))return function ni(n){return _r(Bi(n))}(n)}throw $n(n)}function _r(n){return new pt(e=>{(function ri(n,e){var t,r,i,s;return(0,Se.mG)(this,void 0,void 0,function*(){try{for(t=(0,Se.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ii(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Vt(n,e,t=1/0){return b(e)?Vt((r,i)=>De((s,o)=>e(r,s,i,o))(At(n(r,i))),t):("number"==typeof e&&(t=e),ee((r,i)=>function lr(n,e,t,r,i,s,o,a){const u=[];let c=0,h=0,g=!1;const m=()=>{g&&!u.length&&!c&&e.complete()},y=D=>c<r?C(D):u.push(D),C=D=>{s&&e.next(D),c++;let A=!1;At(t(D,h++)).subscribe(pe(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;u.length&&c<r;){const x=u.shift();o?ii(e,o,()=>C(x)):C(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(pe(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function si(n=1/0){return Vt(xn,n)}const bn=new pt(n=>n.complete());function fs(n){return n[n.length-1]}function ps(n){return b(fs(n))?n.pop():void 0}function Hi(n){return function Dn(n){return n&&b(n.schedule)}(fs(n))?n.pop():void 0}function Br(n,e=0){return ee((t,r)=>{t.subscribe(pe(r,i=>ii(r,n,()=>r.next(i),e),()=>ii(r,n,()=>r.complete(),e),i=>ii(r,n,()=>r.error(i),e)))})}function zi(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function gs(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{ii(t,e,()=>{const r=n[Symbol.asyncIterator]();ii(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function E(n,e){return e?function S(n,e){if(null!=n){if(jt(n))return function oi(n,e){return At(n).pipe(zi(e),Br(e))}(n,e);if(wt(n))return function Ks(n,e){return new pt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(tn(n))return function Ta(n,e){return At(n).pipe(zi(e),Br(e))}(n,e);if(ln(n))return gs(n,e);if(Ur(n))return function xo(n,e){return new pt(t=>{let r;return ii(t,e,()=>{r=n[ur](),ii(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}(n,e);if(cs(n))return function P(n,e){return gs(Bi(n),e)}(n,e)}throw $n(n)}(n,e):At(n)}function k(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Mn({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function L(n){for(let e in n)if(n[e]===L)return e;throw Error("Could not find renamed property on target object.")}function Te(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Be(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ct=L({__forward_ref__:L});function ye(n){return n.__forward_ref__=ye,n.toString=function(){return me(this())},n}function ge(n){return Je(n)?n():n}function Je(n){return"function"==typeof n&&n.hasOwnProperty(Ct)&&n.__forward_ref__===ye}function er(n){return n&&!!n.\u0275providers}const q="https://g.co/ng/security#xss";class T extends Error{constructor(e,t){super(se(e,t)),this.code=e}}function se(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function nn(n,e){throw new T(-201,!1)}function Ii(n,e){null==n&&function Ot(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Da(n){return qg(n,tc)||qg(n,Wg)}function qg(n,e){return n.hasOwnProperty(e)?n[e]:null}function bh(n){return n&&(n.hasOwnProperty(nc)||n.hasOwnProperty(Aa))?n[nc]:null}const tc=L({\u0275prov:L}),nc=L({\u0275inj:L}),Wg=L({ngInjectableDef:L}),Aa=L({ngInjectorDef:L});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let Fu;function jr(n){const e=Fu;return Fu=n,e}function Kg(n,e,t){const r=Da(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Le.Optional?null:void 0!==e?e:void nn(me(n))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qs={},Vu="__NG_DI_FLAG__",rc="ngTempTokenPath",Dh="ngTokenPath",LE=/\n/gm,Ah="\u0275",Jg="__source";let No;function Sa(n){const e=No;return No=n,e}function Sh(n,e=Le.Default){if(void 0===No)throw new T(-203,!1);return null===No?Kg(n,void 0,e):No.get(n,e&Le.Optional?null:void 0,e)}function le(n,e=Le.Default){return(function VE(){return Fu}()||Sh)(ge(n),e)}function rt(n,e=Le.Default){return le(n,Pa(e))}function Pa(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Oo(n){const e=[];for(let t=0;t<n.length;t++){const r=ge(n[t]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=Le.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Ph(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(le(i,s))}else e.push(le(r))}return e}function ai(n,e){return n[Vu]=e,n.prototype[Vu]=e,n}function Ph(n){return n[Vu]}function Rs(n){return{toString:n}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),qi=(()=>{return(n=qi||(qi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qi;var n})();const Gi={},xt=[],Ra=L({\u0275cmp:L}),Rh=L({\u0275dir:L}),Mh=L({\u0275pipe:L}),sc=L({\u0275mod:L}),Dr=L({\u0275fac:L}),Lu=L({__NG_ELEMENT_ID__:L});let BE=0;function $t(n){return Rs(()=>{const e=Nh(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||qi.Emulated,id:"c"+BE++,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null};oc(t);const r=n.dependencies;return t.directiveDefs=Sr(r,!1),t.pipeDefs=Sr(r,!0),t})}function xh(n){return kt(n)||An(n)}function Ms(n){return null!==n}function Ut(n){return Rs(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xg(n,e){if(null==n)return Gi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function He(n){return Rs(()=>{const e=Nh(n);return oc(e),e})}function Ar(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[Ra]||null}function An(n){return n[Rh]||null}function $r(n){return n[Mh]||null}function ui(n,e){const t=n[sc]||null;if(!t&&!0===e)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return t}function Nh(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xg(n.inputs,e),outputs:Xg(n.outputs)}}function oc(n){n.features?.forEach(e=>e(n))}function Sr(n,e){if(!n)return null;const t=e?$r:xh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Ms)}const _s=0,Ce=1,Xe=2,Qt=3,Ci=4,Ys=5,yr=6,Js=7,dn=8,Ma=9,ko=10,tt=11,ac=12,Fo=13,Oh=14,Xs=15,qn=16,Vo=17,Lo=18,Ti=19,xa=20,uc=21,Yt=22,kh=1,lc=2,eo=7,Na=8,to=9,tr=10;function Pr(n){return Array.isArray(n)&&"object"==typeof n[kh]}function Wi(n){return Array.isArray(n)&&!0===n[kh]}function Bu(n){return 0!=(4&n.flags)}function ju(n){return n.componentOffset>-1}function Oa(n){return 1==(1&n.flags)}function Ki(n){return!!n.template}function Fh(n){return 0!=(256&n[Xe])}function Uo(n,e){return n.hasOwnProperty(Dr)?n[Dr]:null}class Lh{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function bi(){return dc}function dc(n){return n.type.prototype.ngOnChanges&&(n.setInput=zE),HE}function HE(){const n=hc(this),e=n?.current;if(e){const t=n.previous;if(t===Gi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zE(n,e,t,r){const i=this.declaredInputs[t],s=hc(n)||function qE(n,e){return n[Uh]=e}(n,{previous:Gi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Lh(u&&u.currentValue,e,a===Gi),n[r]=e}bi.ngInherit=!0;const Uh="__ngSimpleChanges__";function hc(n){return n[Uh]||null}const Di=function(n,e,t){};function cr(n){for(;Array.isArray(n);)n=n[_s];return n}function Bh(n,e){return cr(e[n])}function Ai(n,e){return cr(e[n.index])}function fc(n,e){return n.data[e]}function ka(n,e){return n[e]}function Hr(n,e){const t=e[n];return Pr(t)?t:t[_s]}function jh(n){return 64==(64&n[Xe])}function Bo(n,e){return null==e?null:n[e]}function WE(n){n[Lo]=0}function fm(n,e){n[Ys]+=e;let t=n,r=n[Qt];for(;null!==r&&(1===e&&1===t[Ys]||-1===e&&0===t[Ys]);)r[Ys]+=e,t=r,r=r[Qt]}const Ke={lFrame:mc(null),bindingsEnabled:!0};function YE(){return Ke.bindingsEnabled}function ne(){return Ke.lFrame.lView}function mt(){return Ke.lFrame.tView}function dr(n){return Ke.lFrame.contextLView=n,n[dn]}function On(n){return Ke.lFrame.contextLView=null,n}function nr(){let n=gm();for(;null!==n&&64===n.type;)n=n.parent;return n}function gm(){return Ke.lFrame.currentTNode}function ys(n,e){const t=Ke.lFrame;t.currentTNode=n,t.isParent=e}function mm(){return Ke.lFrame.isParent}function pc(){Ke.lFrame.isParent=!1}function Rr(){const n=Ke.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Jt(){return Ke.lFrame.bindingIndex++}function Ns(n){const e=Ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Hh(n,e){const t=Ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,zh(e)}function zh(n){Ke.lFrame.currentDirectiveIndex=n}function gc(n){const e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Fa(n){Ke.lFrame.currentQueryIndex=n}function wm(n){const e=n[Ce];return 2===e.type?e.declTNode:1===e.type?n[yr]:null}function Va(n,e,t){if(t&Le.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Le.Host||(i=wm(s),null===i||(s=s[Xs],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ke.lFrame=Cm();return r.currentTNode=e,r.lView=n,!0}function La(n){const e=Cm(),t=n[Ce];Ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Cm(){const n=Ke.lFrame,e=null===n?null:n.child;return null===e?mc(n):e}function mc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function qh(){const n=Ke.lFrame;return Ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _c=qh;function Gh(){const n=qh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mr(){return Ke.lFrame.selectedIndex}function jo(n){Ke.lFrame.selectedIndex=n}function En(){const n=Ke.lFrame;return fc(n.tView,n.selectedIndex)}function $o(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=h&&(n.destroyHooks??(n.destroyHooks=[])).push(t,h)}}function yc(n,e,t){Ec(n,e,3,t)}function vc(n,e,t,r){(3&n[Xe])===t&&Ec(n,e,t,r)}function Kh(n,e){let t=n[Xe];(3&t)===e&&(t&=2047,t+=1,n[Xe]=t)}function Ec(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Lo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Lo]+=65536),(a<s||-1==s)&&(oI(n,t,e,u),n[Lo]=(4294901760&n[Lo])+u+2),u++}function oI(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Xe]>>11<n[Lo]>>16&&(3&n[Xe])===e){n[Xe]+=2048,Di(4,a,s);try{s.call(a)}finally{Di(5,a,s)}}}else{Di(4,a,s);try{s.call(a)}finally{Di(5,a,s)}}}const Ua=-1;class Hu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function zu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];wc(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Am(n){return 3===n||4===n||6===n}function wc(n){return 64===n.charCodeAt(0)}function qu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Cc(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Cc(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Gu(n){return n!==Ua}function Ba(n){return 32767&n}function ja(n,e){let t=function cI(n){return n>>16}(n),r=e;for(;t>0;)r=r[Xs],t--;return r}let Zh=!0;function vs(n){const e=Zh;return Zh=n,e}const Pm=255,Rm=5;let dI=0;const Si={};function Tc(n,e){const t=bc(n,e);if(-1!==t)return t;const r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,Qh(r.data,n),Qh(e,null),Qh(r.blueprint,null));const i=Yh(n,e),s=n.injectorIndex;if(Gu(i)){const o=Ba(i),a=ja(i,e),u=a[Ce].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Qh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bc(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Yh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Rc(i),null===r)return Ua;if(t++,i=i[Xs],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ua}function Wu(n,e,t){!function Mm(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Lu)&&(r=t[Lu]),null==r&&(r=t[Lu]=dI++);const i=r&Pm;e.data[n+(i>>Rm)]|=1<<i}(n,e,t)}function Dc(n,e,t){if(t&Le.Optional||void 0!==n)return n;nn()}function Ac(n,e,t,r){if(t&Le.Optional&&void 0===r&&(r=null),!(t&(Le.Self|Le.Host))){const i=n[Ma],s=jr(void 0);try{return i?i.get(e,r,t&Le.Optional):Kg(e,r,t&Le.Optional)}finally{jr(s)}}return Dc(r,0,t)}function xm(n,e,t,r=Le.Default,i){if(null!==n){if(1024&e[Xe]){const o=function pI(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Xe]&&!(256&o[Xe]);){const a=$a(s,o,t,r|Le.Self,Si);if(a!==Si)return a;let u=s.parent;if(!u){const c=o[uc];if(c){const h=c.get(t,Si,r);if(h!==Si)return h}u=Rc(o),o=o[Xs]}s=u}return i}(n,e,t,r,Si);if(o!==Si)return o}const s=$a(n,e,t,r,Si);if(s!==Si)return s}return Ac(e,t,r,i)}function $a(n,e,t,r,i){const s=function Jh(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Lu)?n[Lu]:void 0;return"number"==typeof e?e>=0?e&Pm:Om:e}(t);if("function"==typeof s){if(!Va(e,n,r))return r&Le.Host?Dc(i,0,r):Ac(e,t,r,i);try{const o=s(r);if(null!=o||r&Le.Optional)return o;nn()}finally{_c()}}else if("number"==typeof s){let o=null,a=bc(n,e),u=Ua,c=r&Le.Host?e[qn][yr]:null;for((-1===a||r&Le.SkipSelf)&&(u=-1===a?Yh(n,e):e[a+8],u!==Ua&&Nm(r,!1)?(o=e[Ce],a=Ba(u),e=ja(u,e)):a=-1);-1!==a;){const h=e[Ce];if(Pc(s,a,h.data)){const g=fI(a,e,t,o,r,c);if(g!==Si)return g}u=e[a+8],u!==Ua&&Nm(r,e[Ce].data[a+8]===c)&&Pc(s,a,e)?(o=h,a=Ba(u),e=ja(u,e)):a=-1}}return i}function fI(n,e,t,r,i,s){const o=e[Ce],a=o.data[n+8],h=function Sc(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,h=s>>20,m=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<m;y++){const C=o[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){const y=o[u];if(y&&Ki(y)&&y.type===t)return u}return null}(a,o,t,null==r?ju(a)&&Zh:r!=o&&0!=(3&a.type),i&Le.Host&&s===a);return null!==h?Os(e,o,h,a):Si}function Os(n,e,t,r){let i=n[t];const s=e.data;if(function aI(n){return n instanceof Hu}(i)){const o=i;o.resolving&&function gt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ie(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=vs(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?jr(o.injectImpl):null;Va(n,r,Le.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function sI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=dc(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&jr(u),vs(a),o.resolving=!1,_c()}}return i}function Pc(n,e,t){return!!(t[e+(n>>Rm)]&1<<n)}function Nm(n,e){return!(n&Le.Self||n&Le.Host&&e)}class Ho{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return xm(this._tNode,this._lView,e,Pa(r),t)}}function Om(){return new Ho(nr(),ne())}function rr(n){return Rs(()=>{const e=n.prototype.constructor,t=e[Dr]||Xh(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Dr]||Xh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xh(n){return Je(n)?()=>{const e=Xh(ge(n));return e&&e()}:Uo(n)}function Rc(n){const e=n[Ce],t=e.type;return 2===t?e.declTNode:1===t?n[yr]:null}const io="__parameters__";function qa(n,e,t){return Rs(()=>{const r=function Ku(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,h){const g=u.hasOwnProperty(io)?u[io]:Object.defineProperty(u,io,{value:[]})[io];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function so(n,e){n.forEach(t=>Array.isArray(t)?so(t,e):e(t))}function Um(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ci(n,e,t){let r=Wa(n,e);return r>=0?n[1|r]=t:(r=~r,function II(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function nf(n,e){const t=Wa(n,e);if(t>=0)return n[1|t]}function Wa(n,e){return function jm(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ka=ai(qa("Optional"),8),Go=ai(qa("SkipSelf"),4);var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();const el=new Map;let OI=0;const FI="__ngContext__";function zr(n,e){Pr(e)?(n[FI]=e[xa],function $B(n){el.set(n[xa],n)}(e)):n[FI]=e}let VI;function LI(n,e){return VI(n,e)}function mf(n){const e=n[Qt];return Wi(e)?e[Qt]:e}function UI(n){return vS(n[Fo])}function BI(n){return vS(n[Ci])}function vS(n){for(;null!==n&&!Wi(n);)n=n[Ci];return n}function Lc(n,e,t,r,i){if(null!=r){let s,o=!1;Wi(r)?s=r:Pr(r)&&(o=!0,r=r[_s]);const a=cr(r);0===n&&null!==t?null==i?bS(e,t,a):tl(e,t,a,i||null,!0):1===n&&null!==t?tl(e,t,a,i||null,!0):2===n?function WI(n,e,t){const r=Zm(n,e);r&&function uj(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function dj(n,e,t,r,i){const s=t[eo];s!==cr(t)&&Lc(e,n,r,s,i);for(let a=tr;a<t.length;a++){const u=t[a];_f(u[Ce],u,n,e,r,s)}}(e,n,s,t,i)}}function $I(n,e,t){return n.createElement(e,t)}function IS(n,e){const t=n[to],r=t.indexOf(e),i=e[Qt];512&e[Xe]&&(e[Xe]&=-513,fm(i,-1)),t.splice(r,1)}function HI(n,e){if(n.length<=tr)return;const t=tr+e,r=n[t];if(r){const i=r[Vo];null!==i&&i!==n&&IS(i,r),e>0&&(n[t-1][Ci]=r[Ci]);const s=qo(n,tr+e);!function ej(n,e){_f(n,e,e[tt],2,null,null),e[_s]=null,e[yr]=null}(r[Ce],r);const o=s[Ti];null!==o&&o.detachView(s[Ce]),r[Qt]=null,r[Ci]=null,r[Xe]&=-65}return r}function wS(n,e){if(!(128&e[Xe])){const t=e[tt];t.destroyNode&&_f(n,e,t,3,null,null),function rj(n){let e=n[Fo];if(!e)return zI(n[Ce],n);for(;e;){let t=null;if(Pr(e))t=e[Fo];else{const r=e[tr];r&&(t=r)}if(!t){for(;e&&!e[Ci]&&e!==n;)Pr(e)&&zI(e[Ce],e),e=e[Qt];null===e&&(e=n),Pr(e)&&zI(e[Ce],e),t=e&&e[Ci]}e=t}}(e)}}function zI(n,e){if(!(128&e[Xe])){e[Xe]&=-65,e[Xe]|=128,function aj(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Di(4,a,u);try{u.call(a)}finally{Di(5,a,u)}}else{Di(4,i,s);try{s.call(i)}finally{Di(5,i,s)}}}}}(n,e),function oj(n,e){const t=n.cleanup,r=e[Js];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Js]=null}}(n,e),1===e[Ce].type&&e[tt].destroy();const t=e[Vo];if(null!==t&&Wi(e[Qt])){t!==e[Qt]&&IS(t,e);const r=e[Ti];null!==r&&r.detachView(n)}!function HB(n){el.delete(n[xa])}(e)}}function CS(n,e,t){return function TS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[_s];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===qi.None||s===qi.Emulated)return null}return Ai(r,t)}}(n,e.parent,t)}function tl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bS(n,e,t){n.appendChild(e,t)}function DS(n,e,t,r,i){null!==r?tl(n,e,t,r,i):bS(n,e,t)}function Zm(n,e){return n.parentNode(e)}let qI,Jm,QI,Xm,PS=function SS(n,e,t){return 40&n.type?Ai(n,t):null};function Qm(n,e,t,r){const i=CS(n,r,e),s=e[tt],a=function AS(n,e,t){return PS(n,e,t)}(r.parent||e[yr],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)DS(s,i,t[u],a,!1);else DS(s,i,t,a,!1);void 0!==qI&&qI(s,r,e,t,i)}function Ym(n,e){if(null!==e){const t=e.type;if(3&t)return Ai(e,n);if(4&t)return GI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ym(n,r);{const i=n[e.index];return Wi(i)?GI(-1,i):cr(i)}}if(32&t)return LI(e,n)()||cr(n[e.index]);{const r=MS(n,e);return null!==r?Array.isArray(r)?r[0]:Ym(mf(n[qn]),r):Ym(n,e.next)}}return null}function MS(n,e){return null!==e?n[qn][yr].projection[e.projection]:null}function GI(n,e){const t=tr+n+1;if(t<e.length){const r=e[t],i=r[Ce].firstChild;if(null!==i)return Ym(r,i)}return e[eo]}function KI(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&zr(cr(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)KI(n,e,t.child,r,i,s,!1),Lc(e,n,i,a,s);else if(32&u){const c=LI(t,r);let h;for(;h=c();)Lc(e,n,i,h,s);Lc(e,n,i,a,s)}else 16&u?xS(n,e,r,t,i,s):Lc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function _f(n,e,t,r,i,s){KI(t,r,n.firstChild,e,i,s,!1)}function xS(n,e,t,r,i,s){const o=t[qn],u=o[yr].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Lc(e,n,i,u[c],s);else KI(n,e,u,o[Qt],i,s,!0)}function NS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&zu(n,e,r),null!==i&&NS(n,e,i),null!==s&&function fj(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Uc(n){return function ZI(){if(void 0===Jm&&(Jm=null,Zt.trustedTypes))try{Jm=Zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jm}()?.createHTML(n)||n}function YI(){if(void 0===Xm&&(Xm=null,Zt.trustedTypes))try{Xm=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xm}function FS(n){return YI()?.createHTML(n)||n}function LS(n){return YI()?.createScriptURL(n)||n}class nl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${q})`}}class yj extends nl{getTypeName(){return"HTML"}}class vj extends nl{getTypeName(){return"Style"}}class Ej extends nl{getTypeName(){return"Script"}}class Ij extends nl{getTypeName(){return"URL"}}class wj extends nl{getTypeName(){return"ResourceURL"}}function Zi(n){return n instanceof nl?n.changingThisBreaksApplicationSecurity:n}function oo(n,e){const t=function Cj(n){return n instanceof nl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${q})`)}return t===e}class Pj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Uc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Rj{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Uc(e),t}}const xj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e_(n){return(n=String(n)).match(xj)?n:"unsafe:"+n}function Zo(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function yf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const BS=Zo("area,br,col,hr,img,wbr"),jS=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$S=Zo("rp,rt"),JI=yf(BS,yf(jS,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yf($S,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yf($S,jS)),XI=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),HS=yf(XI,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nj=Zo("script,style,template");class Oj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!JI.hasOwnProperty(t))return this.sanitizedSomething=!0,!Nj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!HS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;XI[a]&&(u=e_(u)),this.buf.push(" ",o,'="',zS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();JI.hasOwnProperty(t)&&!BS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fj=/([^\#-~ |!])/g;function zS(n){return n.replace(/&/g,"&amp;").replace(kj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Fj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let t_;function qS(n,e){let t=null;try{t_=t_||function US(n){const e=new Rj(n);return function Mj(){try{return!!(new window.DOMParser).parseFromString(Uc(""),"text/html")}catch{return!1}}()?new Pj(e):e}(n);let r=e?String(e):"";t=t_.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=t_.getInertBodyElement(r)}while(r!==s);return Uc((new Oj).sanitizeChildren(ew(t)||t))}finally{if(t){const r=ew(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ew(n){return"content"in n&&function Vj(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function tw(n){const e=vf();return e?FS(e.sanitize(Xt.HTML,n)||""):oo(n,"HTML")?FS(Zi(n)):qS(function kS(){return void 0!==QI?QI:typeof document<"u"?document:void 0}(),te(n))}function ao(n){const e=vf();return e?e.sanitize(Xt.URL,n)||"":oo(n,"URL")?Zi(n):e_(te(n))}function GS(n){const e=vf();if(e)return LS(e.sanitize(Xt.RESOURCE_URL,n)||"");if(oo(n,"ResourceURL"))return LS(Zi(n));throw new T(904,!1)}function vf(){const n=ne();return n&&n[ac]}const n_=new ve("ENVIRONMENT_INITIALIZER"),KS=new ve("INJECTOR",-1),ZS=new ve("INJECTOR_DEF_TYPES");class QS{get(e,t=Qs){if(t===Qs){const r=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw r.name="NullInjectorError",r}return t}}function zj(...n){return{\u0275providers:YS(0,n),\u0275fromNgModule:!0}}function YS(n,...e){const t=[],r=new Set;let i;return so(e,s=>{const o=s;nw(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&JS(i,t),t}function JS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];rw(i,s=>{e.push(s)})}}function nw(n,e,t,r){if(!(n=ge(n)))return!1;let i=null,s=bh(n);const o=!s&&kt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=bh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)nw(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{so(s.imports,h=>{nw(h,e,t,r)&&(c||(c=[]),c.push(h))})}finally{}void 0!==c&&JS(c,e)}if(!a){const c=Uo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:xt},{provide:ZS,useValue:i,multi:!0},{provide:n_,useValue:()=>le(i),multi:!0})}const u=s.providers;null==u||a||rw(u,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}function rw(n,e){for(let t of n)er(t)&&(t=t.\u0275providers),Array.isArray(t)?rw(t,e):e(t)}const qj=L({provide:String,useValue:L});function iw(n){return null!==n&&"object"==typeof n&&qj in n}function rl(n){return"function"==typeof n}const sw=new ve("Set Injector scope."),r_={},Wj={};let ow;function i_(){return void 0===ow&&(ow=new QS),ow}class Qo{}class tP extends Qo{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uw(e,o=>this.processProvider(o)),this.records.set(KS,Bc(void 0,this)),i.has("environment")&&this.records.set(Qo,Bc(void 0,this));const s=this.records.get(sw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZS.multi,xt,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Sa(this),r=jr(void 0);try{return e()}finally{Sa(t),jr(r)}}get(e,t=Qs,r=Le.Default){this.assertNotDestroyed(),r=Pa(r);const i=Sa(this),s=jr(void 0);try{if(!(r&Le.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Jj(n){return"function"==typeof n||"object"==typeof n&&n instanceof ve}(e)&&Da(e);a=u&&this.injectableDefInScope(u)?Bc(aw(e),r_):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Le.Self?i_():this.parent).get(e,t=r&Le.Optional&&t===Qs?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[rc]=o[rc]||[]).unshift(me(e)),i)throw o;return function UE(n,e,t,r){const i=n[rc];throw e[Jg]&&i.unshift(e[Jg]),n.message=function ms(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ah?n.slice(2):n;let i=me(e);if(Array.isArray(e))i=e.map(me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(LE,"\n  ")}`}("\n"+n.message,i,t,r),n[Dh]=i,n[rc]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{jr(s),Sa(i)}}resolveInjectorInitializers(){const e=Sa(this),t=jr(void 0);try{const r=this.get(n_.multi,xt,Le.Self);for(const i of r)i()}finally{Sa(e),jr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=rl(e=ge(e))?e:ge(e&&e.provide);const r=function Zj(n){return iw(n)?Bc(void 0,n.useValue):Bc(nP(n),r_)}(e);if(rl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bc(void 0,r_,!0),i.factory=()=>Oo(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===r_&&(t.value=Wj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Yj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ge(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function aw(n){const e=Da(n),t=null!==e?e.factory:Uo(n);if(null!==t)return t;if(n instanceof ve)throw new T(204,!1);if(n instanceof Function)return function Kj(n){const e=n.length;if(e>0)throw function Zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new T(204,!1);const t=function Gg(n){return n&&(n[tc]||n[Wg])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function nP(n,e,t){let r;if(rl(n)){const i=ge(n);return Uo(i)||aw(i)}if(iw(n))r=()=>ge(n.useValue);else if(function eP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Oo(n.deps||[]));else if(function XS(n){return!(!n||!n.useExisting)}(n))r=()=>le(ge(n.useExisting));else{const i=ge(n&&(n.useClass||n.provide));if(!function Qj(n){return!!n.deps}(n))return Uo(i)||aw(i);r=()=>new i(...Oo(n.deps))}return r}function Bc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uw(n,e){for(const t of n)Array.isArray(t)?uw(t,e):t&&er(t)?uw(t.\u0275providers,e):e(t)}class Xj{}class rP{}class t${resolveComponentFactory(e){throw function e$(n){const e=Error(`No component factory found for ${me(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let jc=(()=>{class n{}return n.NULL=new t$,n})();function n$(){return $c(nr(),ne())}function $c(n,e){return new Qi(Ai(n,e))}let Qi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=n$,n})();class Ef{}let Yo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function i$(){const n=ne(),t=Hr(nr().index,n);return(Pr(t)?t:n)[tt]}(),n})(),s$=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>null}),n})();class Hc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sP=new Hc("15.2.10"),lw={},cw="ngOriginalError";function dw(n){return n[cw]}class zc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&dw(e);for(;t&&dw(t);)t=dw(t);return t||null}}function Jo(n){return n instanceof Function?n():n}function aP(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const uP="ng-template";function m$(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==aP(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function lP(n){return 4===n.type&&n.value!==uP}function _$(n,e,t){return e===(4!==n.type||t?n.value:uP)}function y$(n,e,t){let r=4;const i=n.attrs||[],s=function I$(n){for(let e=0;e<n.length;e++)if(Am(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!_$(n,u,t)||""===u&&1===e.length){if(ks(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!m$(n.attrs,c,t)){if(ks(r))return!1;o=!0}continue}const g=v$(8&r?"class":u,i,lP(n),t);if(-1===g){if(ks(r))return!1;o=!0;continue}if(""!==c){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==aP(y,c,0)||2&r&&c!==m){if(ks(r))return!1;o=!0}}}}else{if(!o&&!ks(r)&&!ks(u))return!1;if(o&&ks(u))continue;o=!1,r=u|1&r}}return ks(r)||o}function ks(n){return 0==(1&n)}function v$(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function w$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function cP(n,e,t=!1){for(let r=0;r<e.length;r++)if(y$(n,e[r],t))return!0;return!1}function dP(n,e){return n?":not("+e.trim()+")":e}function T$(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ks(o)&&(e+=dP(s,i),i=""),r=o,s=s||!ks(r);t++}return""!==i&&(e+=dP(s,i)),e}const nt={};function ce(n){hP(mt(),ne(),Mr()+n,!1)}function hP(n,e,t,r){if(!r)if(3==(3&e[Xe])){const s=n.preOrderCheckHooks;null!==s&&yc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&vc(e,s,0,t)}jo(t)}function mP(n,e=null,t=null,r){const i=_P(n,e,t,r);return i.resolveInjectorInitializers(),i}function _P(n,e=null,t=null,r,i=new Set){const s=[t||xt,zj(n)];return r=r||("object"==typeof n?void 0:me(n)),new tP(s,e||i_(),r||null,i)}let Yi=(()=>{class n{static create(t,r){if(Array.isArray(t))return mP({name:""},r,t,"");{const i=t.name??"";return mP({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Qs,n.NULL=new QS,n.\u0275prov=we({token:n,providedIn:"any",factory:()=>le(KS)}),n.__NG_ELEMENT_ID__=-1,n})();function W(n,e=Le.Default){const t=ne();return null===t?le(n,e):xm(nr(),t,ge(n),e)}function bP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Fa(t[r]),o.contentQueries(2,e[s],s)}}}function o_(n,e,t,r,i,s,o,a,u,c,h){const g=e.blueprint.slice();return g[_s]=i,g[Xe]=76|r,(null!==h||n&&1024&n[Xe])&&(g[Xe]|=1024),WE(g),g[Qt]=g[Xs]=n,g[dn]=t,g[ko]=o||n&&n[ko],g[tt]=a||n&&n[tt],g[ac]=u||n&&n[ac]||null,g[Ma]=c||n&&n[Ma]||null,g[yr]=s,g[xa]=function jB(){return OI++}(),g[uc]=h,g[qn]=2==e.type?n[qn]:g,g}function Wc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function mw(n,e,t,r,i){const s=gm(),o=mm(),u=n.data[e]=function Q$(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function $h(){return Ke.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function $u(){const n=Ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ys(s,!0),s}function If(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _w(n,e,t){La(e);try{const r=n.viewQuery;null!==r&&Dw(1,r,t);const i=n.template;null!==i&&DP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bP(n,e),n.staticViewQueries&&Dw(2,n.viewQuery,t);const s=n.components;null!==s&&function W$(n,e){for(let t=0;t<e.length;t++)m4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Xe]&=-5,Gh()}}function a_(n,e,t,r){const i=e[Xe];if(128!=(128&i)){La(e);try{WE(e),function vm(n){return Ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&DP(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&yc(e,c,null)}else{const c=n.preOrderHooks;null!==c&&vc(e,c,0,null),Kh(e,0)}if(function p4(n){for(let e=UI(n);null!==e;e=BI(e)){if(!e[lc])continue;const t=e[to];for(let r=0;r<t.length;r++){const i=t[r];512&i[Xe]||fm(i[Qt],1),i[Xe]|=512}}}(e),function f4(n){for(let e=UI(n);null!==e;e=BI(e))for(let t=tr;t<e.length;t++){const r=e[t],i=r[Ce];jh(r)&&a_(i,r,i.template,r[dn])}}(e),null!==n.contentQueries&&bP(n,e),o){const c=n.contentCheckHooks;null!==c&&yc(e,c)}else{const c=n.contentHooks;null!==c&&vc(e,c,1),Kh(e,1)}!function q$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)jo(~i);else{const s=i,o=t[++r],a=t[++r];Hh(o,s),a(2,e[s])}}}finally{jo(-1)}}(n,e);const a=n.components;null!==a&&function G$(n,e){for(let t=0;t<e.length;t++)g4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Dw(2,u,r),o){const c=n.viewCheckHooks;null!==c&&yc(e,c)}else{const c=n.viewHooks;null!==c&&vc(e,c,2),Kh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Xe]&=-41,512&e[Xe]&&(e[Xe]&=-513,fm(e[Qt],-1))}finally{Gh()}}}function DP(n,e,t,r,i){const s=Mr(),o=2&r;try{jo(-1),o&&e.length>Yt&&hP(n,e,Yt,!1),Di(o?2:0,i),t(r,i)}finally{jo(s),Di(o?3:1,i)}}function yw(n,e,t){if(Bu(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function vw(n,e,t){YE()&&(function r4(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;ju(t)&&function c4(n,e,t){const r=Ai(e,n),i=AP(t),s=n[ko],o=u_(n,o_(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tc(t,e),zr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Os(e,n,a,t);zr(c,e),null!==o&&d4(0,a-i,c,u,0,o),Ki(u)&&(Hr(t.index,e)[dn]=Os(e,n,a,t))}}(n,e,t,Ai(t,e)),64==(64&t.flags)&&xP(n,e,t))}function Ew(n,e,t=Ai){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function AP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Iw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Iw(n,e,t,r,i,s,o,a,u,c){const h=Yt+r,g=h+i,m=function K$(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:nt);return t}(h,g),y="function"==typeof c?c():c;return m[Ce]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function PP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?RP(t,e,i,s):r.hasOwnProperty(i)&&RP(t,e,r[i],s)}return t}function RP(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Ji(n,e,t,r,i,s,o,a){const u=Ai(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[r])?(Aw(n,t,h,r,i),ju(e)&&function X$(n,e){const t=Hr(e,n);16&t[Xe]||(t[Xe]|=32)}(t,e.index)):3&e.type&&(r=function J$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function ww(n,e,t,r){if(YE()){const i=null===r?null:{"":-1},s=function s4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(cP(e,o.selectors,!1))if(r||(r=[]),Ki(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Cw(n,e,a.length)}else r.unshift(o),Cw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&MP(n,e,t,o,i,a),i&&function o4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=qu(t.mergedAttrs,t.attrs)}function MP(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Wu(Tc(t,e),n,r[c].type);!function u4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const h=r[c];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=If(n,e,r.length,null);for(let c=0;c<r.length;c++){const h=r[c];t.mergedAttrs=qu(t.mergedAttrs,h.hostAttrs),l4(n,t,e,u,h),a4(u,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function Y$(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let h=e.directiveStart;h<i;h++){const g=s[h],m=t?t.get(g):null,C=m?m.outputs:null;u=PP(g.inputs,h,u,m?m.inputs:null),c=PP(g.outputs,h,c,C);const D=null===u||null===o||lP(e)?null:h4(u,h,o);a.push(D)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function xP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function eI(){return Ke.lFrame.currentDirectiveIndex}();try{jo(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];zh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&i4(u,c)}}finally{jo(-1),zh(o)}}function i4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cw(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function a4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ki(e)&&(t[""]=n)}}function l4(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Uo(i.type)),o=new Hu(s,Ki(i),W);n.blueprint[r]=o,t[r]=o,function t4(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function n4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,If(n,t,i.hostVars,nt),i)}function uo(n,e,t,r,i,s){const o=Ai(n,e);!function Tw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?te(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[tt],o,s,n.value,t,r,i)}function d4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],h=o[u++],g=o[u++];null!==a?r.setInput(t,g,c,h):t[h]=g}}}function h4(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function NP(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function g4(n,e){const t=Hr(e,n);if(jh(t)){const r=t[Ce];48&t[Xe]?a_(r,t,r.template,t[dn]):t[Ys]>0&&bw(t)}}function bw(n){for(let r=UI(n);null!==r;r=BI(r))for(let i=tr;i<r.length;i++){const s=r[i];if(jh(s))if(512&s[Xe]){const o=s[Ce];a_(o,s,o.template,s[dn])}else s[Ys]>0&&bw(s)}const t=n[Ce].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hr(t[r],n);jh(i)&&i[Ys]>0&&bw(i)}}function m4(n,e){const t=Hr(e,n),r=t[Ce];(function _4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),_w(r,t,t[dn])}function u_(n,e){return n[Fo]?n[Oh][Ci]=e:n[Fo]=e,n[Oh]=e,e}function l_(n){for(;n;){n[Xe]|=32;const e=mf(n);if(Fh(n)&&!e)return n;n=e}return null}function c_(n,e,t,r=!0){const i=e[ko];i.begin&&i.begin();try{a_(n,e,n.template,t)}catch(o){throw r&&VP(e,o),o}finally{i.end&&i.end()}}function Dw(n,e,t){Fa(0),e(n,t)}function OP(n){return n[Js]||(n[Js]=[])}function kP(n){return n.cleanup||(n.cleanup=[])}function VP(n,e){const t=n[Ma],r=t?t.get(zc,null):null;r&&r.handleError(e)}function Aw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function d_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Be(i,a):2==s&&(r=Be(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function h_(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(cr(s)),Wi(s))for(let a=tr;a<s.length;a++){const u=s[a],c=u[Ce].firstChild;null!==c&&h_(u[Ce],u,c,r)}const o=t.type;if(8&o)h_(n,e,t.child,r);else if(32&o){const a=LI(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=MS(e,t);if(Array.isArray(a))r.push(...a);else{const u=mf(e[qn]);h_(u[Ce],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class wf{get rootNodes(){const e=this._lView,t=e[Ce];return h_(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return 128==(128&this._lView[Xe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qt];if(Wi(e)){const t=e[Na],r=t?t.indexOf(this):-1;r>-1&&(HI(e,r),qo(t,r))}this._attachedToViewContainer=!1}wS(this._lView[Ce],this._lView)}onDestroy(e){!function SP(n,e,t,r){const i=OP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&kP(n).push(r,i.length-1))}(this._lView[Ce],this._lView,null,e)}markForCheck(){l_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xe]&=-65}reattach(){this._lView[Xe]|=64}detectChanges(){c_(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nj(n,e){_f(n,e,e[tt],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class y4 extends wf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;c_(e[Ce],e,e[dn],!1)}checkNoChanges(){}get context(){return null}}class LP extends jc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kt(e);return new Cf(t,this.ngModule)}}function UP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class E4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Pa(r);const i=this.injector.get(e,lw,r);return i!==lw||t===lw?i:this.parentInjector.get(e,t,r)}}class Cf extends rP{get inputs(){return UP(this.componentDef.inputs)}get outputs(){return UP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function b$(n){return n.map(T$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Qo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new E4(e,s):e,a=o.get(Ef,null);if(null===a)throw new T(407,!1);const u=o.get(s$,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function Z$(n,e,t){return n.selectRootElement(e,t===qi.ShadowDom)}(c,r,this.componentDef.encapsulation):$I(c,h,function v4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.onPush?288:272,y=Iw(0,null,null,1,0,null,null,null,null,null),C=o_(null,y,null,m,null,null,a,c,u,o,null);let D,A;La(C);try{const x=this.componentDef;let U,R=null;x.findHostDirectiveDefs?(U=[],R=new Map,x.findHostDirectiveDefs(x,U,R),U.push(x)):U=[x];const Q=function w4(n,e){const t=n[Ce],r=Yt;return n[r]=e,Wc(t,r,2,"#host",null)}(C,g),he=function C4(n,e,t,r,i,s,o,a){const u=i[Ce];!function T4(n,e,t,r){for(const i of n)e.mergedAttrs=qu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(d_(e,e.mergedAttrs,!0),null!==t&&OS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),h=o_(i,AP(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&Cw(u,n,r.length-1),u_(i,h),i[n.index]=h}(Q,g,x,U,C,a,c);A=fc(y,Yt),g&&function D4(n,e,t,r){if(r)zu(n,t,["ng-version",sP.full]);else{const{attrs:i,classes:s}=function D$(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ks(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&zu(n,t,i),s&&s.length>0&&NS(n,t,s.join(" "))}}(c,x,g,r),void 0!==t&&function A4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(A,this.ngContentSelectors,t),D=function b4(n,e,t,r,i,s){const o=nr(),a=i[Ce],u=Ai(o,i);MP(a,i,o,t,null,r);for(let h=0;h<t.length;h++)zr(Os(i,a,o.directiveStart+h,o),i);xP(a,i,o),u&&zr(u,i);const c=Os(i,a,o.directiveStart+o.componentOffset,o);if(n[dn]=i[dn]=c,null!==s)for(const h of s)h(c,e);return yw(a,o,n),c}(he,x,U,R,C,[S4]),_w(y,C,null)}finally{Gh()}return new I4(this.componentType,D,$c(A,C),C,A)}}class I4 extends Xj{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new y4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Aw(s[Ce],s,i,e,t),l_(Hr(this._tNode.index,s))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function S4(){const n=nr();$o(ne()[Ce],n)}function Ht(n){let e=function BP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ki(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Sw(n.inputs),o.declaredInputs=Sw(n.declaredInputs),o.outputs=Sw(n.outputs);const a=i.hostBindings;a&&x4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&R4(n,u),c&&M4(n,c),Te(n.inputs,i.inputs),Te(n.declaredInputs,i.declaredInputs),Te(n.outputs,i.outputs),Ki(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ht&&(t=!1)}}e=Object.getPrototypeOf(e)}!function P4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qu(i.hostAttrs,t=qu(t,i.hostAttrs))}}(r)}function Sw(n){return n===Gi?{}:n===xt?[]:n}function R4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function M4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function x4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function f_(n){return!!Pw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Pw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function lo(n,e,t){return n[e]=t}function qr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Mi(n,e,t,r){const i=ne();return qr(i,Jt(),e)&&(mt(),uo(En(),i,n,e,t,r)),Mi}function Zc(n,e,t,r){return qr(n,Jt(),t)?e+te(t)+r:nt}function dt(n,e,t,r,i,s,o,a){const u=ne(),c=mt(),h=n+Yt,g=c.firstCreatePass?function $4(n,e,t,r,i,s,o,a,u){const c=e.consts,h=Wc(e,n,4,o||null,Bo(c,a));ww(e,t,h,Bo(c,u)),$o(e,h);const g=h.tView=Iw(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,c,u,e,t,r,i,s,o):c.data[h];ys(g,!1);const m=u[tt].createComment("");Qm(c,u,m,g),zr(m,u),u_(u,u[h]=NP(m,u,m,g)),Oa(g)&&vw(c,u,g),null!=o&&Ew(u,g,a)}function Ze(n,e,t){const r=ne();return qr(r,Jt(),e)&&Ji(mt(),En(),r,n,e,r[tt],t,!1),Ze}function Rw(n,e,t,r,i){const o=i?"class":"style";Aw(n,t,e.inputs[o],o,r)}function N(n,e,t,r){const i=ne(),s=mt(),o=Yt+n,a=i[tt],u=s.firstCreatePass?function q4(n,e,t,r,i,s){const o=e.consts,u=Wc(e,n,2,r,Bo(o,i));return ww(e,t,u,Bo(o,s)),null!==u.attrs&&d_(u,u.attrs,!1),null!==u.mergedAttrs&&d_(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=$I(a,e,function iI(){return Ke.lFrame.currentNamespace}()),h=Oa(u);return ys(u,!0),OS(a,c,u),32!=(32&u.flags)&&Qm(s,i,c,u),0===function KE(){return Ke.lFrame.elementDepthCount}()&&zr(c,i),function ZE(){Ke.lFrame.elementDepthCount++}(),h&&(vw(s,i,u),yw(s,u,i)),null!==r&&Ew(i,u),N}function F(){let n=nr();mm()?pc():(n=n.parent,ys(n,!1));const e=n;!function QE(){Ke.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&($o(t,n),Bu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function uI(n){return 0!=(8&n.flags)}(e)&&Rw(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lI(n){return 0!=(16&n.flags)}(e)&&Rw(t,e,ne(),e.stylesWithoutHost,!1),F}function Ne(n,e,t,r){return N(n,e,t,r),F(),Ne}function bf(n,e,t){const r=ne(),i=mt(),s=n+Yt,o=i.firstCreatePass?function G4(n,e,t,r,i){const s=e.consts,o=Bo(s,r),a=Wc(e,n,8,"ng-container",o);return null!==o&&d_(a,o,!0),ww(e,t,a,Bo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ys(o,!0);const a=r[s]=r[tt].createComment("");return Qm(i,r,a,o),zr(a,r),Oa(o)&&(vw(i,r,o),yw(i,o,r)),null!=t&&Ew(r,o),bf}function Df(){let n=nr();const e=mt();return mm()?pc():(n=n.parent,ys(n,!1)),e.firstCreatePass&&($o(e,n),Bu(n)&&e.queries.elementEnd(n)),Df}function Xi(){return ne()}function Af(n){return!!n&&"function"==typeof n.then}const Mw=function eR(n){return!!n&&"function"==typeof n.subscribe};function lt(n,e,t,r){const i=ne(),s=mt(),o=nr();return function nR(n,e,t,r,i,s,o){const a=Oa(r),c=n.firstCreatePass&&kP(n),h=e[dn],g=OP(e);let m=!0;if(3&r.type||o){const D=Ai(r,e),A=o?o(D):D,x=g.length,U=o?Q=>o(cr(Q[r.index])):r.index;let R=null;if(!o&&a&&(R=function W4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Js],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,m=!1;else{s=iR(r,e,h,s,!1);const Q=t.listen(A,i,s);g.push(s,Q),c&&c.push(i,U,x,x+1)}}else s=iR(r,e,h,s,!1);const y=r.outputs;let C;if(m&&null!==y&&(C=y[i])){const D=C.length;if(D)for(let A=0;A<D;A+=2){const he=e[C[A]][C[A+1]].subscribe(s),Pe=g.length;g.push(s,he),c&&c.push(i,r.index,Pe,-(Pe+1))}}}(s,i,i[tt],o,n,e,r),lt}function rR(n,e,t,r){try{return Di(6,e,t),!1!==t(r)}catch(i){return VP(n,i),!1}finally{Di(7,e,t)}}function iR(n,e,t,r,i){return function s(o){if(o===Function)return r;l_(n.componentOffset>-1?Hr(n.index,e):e);let u=rR(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=rR(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Bt(n=1){return function Wh(n){return(Ke.lFrame.contextLView=function Tm(n,e){for(;n>0;)e=e[Xs],n--;return e}(n,Ke.lFrame.contextLView))[dn]}(n)}function Fs(n,e,t){return g_(n,"",e,"",t),Fs}function g_(n,e,t,r,i){const s=ne(),o=Zc(s,e,t,r);return o!==nt&&Ji(mt(),En(),s,n,o,s[tt],i,!1),g_}function m_(n,e){return n<<17|e<<2}function Za(n){return n>>17&32767}function xw(n){return 2|n}function sl(n){return(131068&n)>>2}function Nw(n,e){return-131069&n|e<<2}function Ow(n){return 1|n}function fR(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Za(s):sl(s),u=!1;for(;0!==a&&(!1===u||o);){const h=n[a+1];n3(n[a],e)&&(u=!0,n[a+1]=r?Ow(h):xw(h)),a=r?Za(h):sl(h)}u&&(n[t+1]=r?xw(s):Ow(s))}function n3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Wa(n,e)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pR(n){return n.substring(hr.key,hr.keyEnd)}function gR(n,e){const t=hr.textEnd;return t===e?-1:(e=hr.keyEnd=function o3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,hr.key=e,t),rd(n,e,t))}function rd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function id(n,e,t){return Vs(n,e,t,!1),id}function __(n,e){return Vs(n,e,null,!0),__}function ea(n){Ls(g3,ho,n,!0)}function ho(n,e){for(let t=function i3(n){return function _R(n){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=n.length}(n),gR(n,rd(n,0,hr.textEnd))}(e);t>=0;t=gR(e,t))ci(n,pR(e),!0)}function Vs(n,e,t,r){const i=ne(),s=mt(),o=Ns(2);s.firstUpdatePass&&IR(s,n,o,r),e!==nt&&qr(i,o,e)&&CR(s,s.data[Mr()],i,i[tt],n,i[o+1]=function _3(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=me(Zi(n)))),n}(e,t),r,o)}function Ls(n,e,t,r){const i=mt(),s=Ns(2);i.firstUpdatePass&&IR(i,null,s,r);const o=ne();if(t!==nt&&qr(o,s,t)){const a=i.data[Mr()];if(bR(a,r)&&!ER(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Be(u,t||"")),Rw(i,a,o,t,r)}else!function m3(n,e,t,r,i,s,o,a){i===nt&&(i=xt);let u=0,c=0,h=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==h||null!==g;){const m=u<i.length?i[u+1]:void 0,y=c<s.length?s[c+1]:void 0;let D,C=null;h===g?(u+=2,c+=2,m!==y&&(C=g,D=y)):null===g||null!==h&&h<g?(u+=2,C=h):(c+=2,C=g,D=y),null!==C&&CR(n,e,t,r,C,D,o,a),h=u<i.length?i[u]:null,g=c<s.length?s[c]:null}}(i,a,o,o[tt],o[s+1],o[s+1]=function p3(n,e,t){if(null==t||""===t)return xt;const r=[],i=Zi(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function ER(n,e){return e>=n.expandoStartIndex}function IR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Mr()],o=ER(n,t);bR(s,r)&&null===e&&!o&&(e=!1),e=function c3(n,e,t,r){const i=gc(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Sf(t=kw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=kw(i,n,e,t,r),null===s){let u=function d3(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==sl(r))return n[Za(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=kw(null,n,e,u[1],r),u=Sf(u,e.attrs,r),function h3(n,e,t,r){n[Za(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function f3(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Sf(r,n[s].hostAttrs,t);return Sf(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function e3(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Za(o),u=sl(o);n[r]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Wa(t,h)>0)&&(c=!0)):h=t,i)if(0!==u){const m=Za(n[a+1]);n[r+1]=m_(m,a),0!==m&&(n[m+1]=Nw(n[m+1],r)),n[a+1]=function J4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=m_(a,0),0!==a&&(n[a+1]=Nw(n[a+1],r)),a=r;else n[r+1]=m_(u,0),0===a?a=r:n[u+1]=Nw(n[u+1],r),u=r;c&&(n[r+1]=xw(n[r+1])),fR(n,h,r,!0),fR(n,h,r,!1),function t3(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Wa(s,e)>=0&&(t[r+1]=Ow(t[r+1]))}(e,h,n,r,s),o=m_(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function kw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Sf(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Sf(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ci(n,o,!!t||e[++s]))}return void 0===n?null:n}function g3(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ci(n,r,t)}function CR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],h=function X4(n){return 1==(1&n)}(c)?TR(u,e,t,i,sl(c),o):void 0;y_(h)||(y_(s)||function Y4(n){return 2==(2&n)}(c)&&(s=TR(u,null,t,i,a,o)),function hj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:xr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=xr.Important),n.setStyle(t,r,i,s))}}(r,o,Bh(Mr(),t),i,s))}function TR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),h=c?u[1]:u,g=null===h;let m=t[i+1];m===nt&&(m=g?xt:void 0);let y=g?nf(m,r):h===r?m:void 0;if(c&&!y_(y)&&(y=nf(u,r)),y_(y)&&(a=y,o))return a;const C=n[i+1];i=o?Za(C):sl(C)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=nf(u,r))}return a}function y_(n){return void 0!==n}function bR(n,e){return 0!=(n.flags&(e?8:16))}function Z(n,e=""){const t=ne(),r=mt(),i=n+Yt,s=r.firstCreatePass?Wc(r,i,1,e,null):r.data[i],o=t[i]=function jI(n,e){return n.createText(e)}(t[tt],e);Qm(r,t,o,s),ys(s,!1)}function ir(n){return vr("",n,""),ir}function vr(n,e,t){const r=ne(),i=Zc(r,n,e,t);return i!==nt&&function Xo(n,e,t){const r=Bh(e,n);!function ES(n,e,t){n.setValue(e,t)}(n[tt],r,t)}(r,Mr(),i),vr}function Fw(n,e,t){Ls(ci,ho,Zc(ne(),n,e,t),!0)}function Vw(n,e,t){const r=ne();if(qr(r,Jt(),e)){const s=mt(),o=En();Ji(s,o,r,n,e,function FP(n,e,t){return(null===n||Ki(n))&&(t=function GE(n){for(;Array.isArray(n);){if("object"==typeof n[kh])return n;n=n[_s]}return null}(t[e.index])),t[tt]}(gc(s.data),o,r),t,!0)}return Vw}const ol=void 0;var F3=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k3(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let sd={};function hi(n){const e=function V3(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=qR(e);if(t)return t;const r=e.split("-")[0];if(t=qR(r),t)return t;if("en"===r)return F3;throw new T(701,!1)}function qR(n){return n in sd||(sd[n]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[n]),sd[n]}var Ee=(()=>((Ee=Ee||{})[Ee.LocaleId=0]="LocaleId",Ee[Ee.DayPeriodsFormat=1]="DayPeriodsFormat",Ee[Ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ee[Ee.DaysFormat=3]="DaysFormat",Ee[Ee.DaysStandalone=4]="DaysStandalone",Ee[Ee.MonthsFormat=5]="MonthsFormat",Ee[Ee.MonthsStandalone=6]="MonthsStandalone",Ee[Ee.Eras=7]="Eras",Ee[Ee.FirstDayOfWeek=8]="FirstDayOfWeek",Ee[Ee.WeekendRange=9]="WeekendRange",Ee[Ee.DateFormat=10]="DateFormat",Ee[Ee.TimeFormat=11]="TimeFormat",Ee[Ee.DateTimeFormat=12]="DateTimeFormat",Ee[Ee.NumberSymbols=13]="NumberSymbols",Ee[Ee.NumberFormats=14]="NumberFormats",Ee[Ee.CurrencyCode=15]="CurrencyCode",Ee[Ee.CurrencySymbol=16]="CurrencySymbol",Ee[Ee.CurrencyName=17]="CurrencyName",Ee[Ee.Currencies=18]="Currencies",Ee[Ee.Directionality=19]="Directionality",Ee[Ee.PluralCase=20]="PluralCase",Ee[Ee.ExtraData=21]="ExtraData",Ee))();const od="en-US";let GR=od;function Bw(n,e,t,r,i){if(n=ge(n),Array.isArray(n))for(let s=0;s<n.length;s++)Bw(n[s],e,t,r,i);else{const s=mt(),o=ne();let a=rl(n)?n:ge(n.provide),u=nP(n);const c=nr(),h=1048575&c.providerIndexes,g=c.directiveStart,m=c.providerIndexes>>20;if(rl(n)||!n.multi){const y=new Hu(u,i,W),C=$w(a,e,i?h:h+m,g);-1===C?(Wu(Tc(c,o),s,a),jw(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),o.push(y)):(t[C]=y,o[C]=y)}else{const y=$w(a,e,h+m,g),C=$w(a,e,h,h+m),A=C>=0&&t[C];if(i&&!A||!i&&!(y>=0&&t[y])){Wu(Tc(c,o),s,a);const x=function OH(n,e,t,r,i){const s=new Hu(n,t,W);return s.multi=[],s.index=e,s.componentProviders=0,_1(s,i,r&&!t),s}(i?NH:xH,t.length,i,r,u);!i&&A&&(t[C].providerFactory=x),jw(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(x),o.push(x)}else jw(s,n,y>-1?y:C,_1(t[i?C:y],u,!i&&r));!i&&r&&A&&t[C].componentProviders++}}}function jw(n,e,t,r){const i=rl(e),s=function Gj(n){return!!n.useClass}(e);if(i||s){const u=(s?ge(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[r,u]):c[h+1].push(r,u)}else c.push(t,u)}}}function _1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $w(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xH(n,e,t,r){return Hw(this.multi,[])}function NH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Os(t,t[Ce],this.providerFactory.index,r);s=a.slice(0,o),Hw(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hw(i,s);return s}function Hw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function In(n,e=[]){return t=>{t.providersResolver=(r,i)=>function MH(n,e,t){const r=mt();if(r.firstCreatePass){const i=Ki(n);Bw(t,r.data,r.blueprint,i,!0),Bw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ad{}class y1{}class v1 extends ad{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LP(this);const r=ui(e);this._bootstrapComponents=Jo(r.bootstrap),this._r3Injector=_P(e,t,[{provide:ad,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zw extends y1{constructor(e){super(),this.moduleType=e}create(e){return new v1(this.moduleType,e)}}class FH extends ad{constructor(e,t,r){super(),this.componentFactoryResolver=new LP(this),this.instance=null;const i=new tP([...e,{provide:ad,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],t||i_(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function C_(n,e,t=null){return new FH(n,e,t).injector}let VH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=YS(0,t.type),i=r.length>0?C_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=we({token:n,providedIn:"environment",factory:()=>new n(le(Qo))}),n})();function T_(n){n.getStandaloneInjector=e=>e.get(VH).getOrCreateStandaloneInjector(n)}function Of(n,e){const t=n[e];return t===nt?void 0:t}function A1(n,e,t,r,i,s,o){const a=e+t;return function il(n,e,t,r){const i=qr(n,e,t);return qr(n,e+1,r)||i}(n,a,i,s)?lo(n,a+2,o?r.call(o,i,s):r(i,s)):Of(n,a+2)}function ud(n,e){const t=mt();let r;const i=n+Yt;t.firstCreatePass?(r=function nz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Uo(r.type)),o=jr(W);try{const a=vs(!1),u=s();return vs(a),function H4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ne(),i,u),u}finally{jr(o)}}function M1(n,e,t){const r=n+Yt,i=ne(),s=ka(i,r);return Ff(i,r)?function D1(n,e,t,r,i,s){const o=e+t;return qr(n,o,i)?lo(n,o+1,s?r.call(s,i):r(i)):Of(n,o+1)}(i,Rr(),e,s.transform,t,s):s.transform(t)}function kf(n,e,t,r){const i=n+Yt,s=ne(),o=ka(s,i);return Ff(s,i)?A1(s,Rr(),e,o.transform,t,r,o):o.transform(t,r)}function Ff(n,e){return n[Ce].data[e].pure}function Gw(n){return e=>{setTimeout(n,void 0,e)}}const Sn=class oz extends G{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Gw(s),i&&(i=Gw(i)),o&&(o=Gw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Rt&&e.add(a),a}};let ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=cz,n})();const uz=ta,lz=class extends uz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=o_(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Vo]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Ti];return null!==o&&(i[Ti]=o.createEmbeddedView(r)),_w(r,i,e),new wf(i)}};function cz(){return function b_(n,e){return 4&n.type?new lz(e,n,$c(n,e)):null}(nr(),ne())}let Us=(()=>{class n{}return n.__NG_ELEMENT_ID__=dz,n})();function dz(){return function O1(n,e){let t;const r=e[n.index];if(Wi(r))t=r;else{let i;if(8&n.type)i=cr(r);else{const s=e[tt];i=s.createComment("");const o=Ai(n,e);tl(s,Zm(s,o),i,function lj(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=NP(r,e,i,n),u_(e,t)}return new x1(t,n,e)}(nr(),ne())}const hz=Us,x1=class extends hz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yh(this._hostTNode,this._hostLView);if(Gu(e)){const t=ja(e,this._hostLView),r=Ba(e);return new Ho(t[Ce].data[r+8],t)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=N1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function zo(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Cf(kt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Qo,null);m&&(s=m)}const h=u.create(c,i,void 0,s);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[Ce];if(function tS(n){return Wi(n[Qt])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const g=r[Qt],m=new x1(g,g[yr],g[Qt]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function ij(n,e,t,r){const i=tr+r,s=t.length;r>0&&(t[i-1][Ci]=e),r<s-tr?(e[Ci]=t[i],Um(t,tr+r,e)):(t.push(e),e[Ci]=null),e[Qt]=t;const o=e[Vo];null!==o&&t!==o&&function sj(n,e){const t=n[to];e[qn]!==e[Qt][Qt][qn]&&(n[lc]=!0),null===t?n[to]=[e]:t.push(e)}(o,e);const a=e[Ti];null!==a&&a.insertView(n),e[Xe]|=64}(i,r,o,s);const a=GI(s,o),u=r[tt],c=Zm(u,o[eo]);return null!==c&&function tj(n,e,t,r,i,s){r[_s]=i,r[yr]=e,_f(n,r,t,1,i,s)}(i,o[yr],u,r,c,a),e.attachToViewContainerRef(),Um(Kw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=N1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=HI(this._lContainer,t);r&&(qo(Kw(this._lContainer),t),wS(r[Ce],r))}detach(e){const t=this._adjustIndex(e,-1),r=HI(this._lContainer,t);return r&&null!=qo(Kw(this._lContainer),t)?new wf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function N1(n){return n[Na]}function Kw(n){return n[Na]||(n[Na]=[])}function A_(...n){}const S_=new ve("Application Initializer");let P_=(()=>{class n{constructor(t){this.appInits=t,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Af(s))t.push(s);else if(Mw(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(le(S_,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lf=new ve("AppId",{providedIn:"root",factory:function oM(){return`${o0()}${o0()}${o0()}`}});function o0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aM=new ve("Platform Initializer"),Uf=new ve("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uM=new ve("AnimationModuleType");let Bz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const na=new ve("LocaleId",{providedIn:"root",factory:()=>rt(na,Le.Optional|Le.SkipSelf)||function jz(){return typeof $localize<"u"&&$localize.locale||od}()}),$z=new ve("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Hz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let lM=(()=>{class n{compileModuleSync(t){return new zw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Jo(ui(t).declarations).reduce((o,a)=>{const u=kt(a);return u&&o.push(new Cf(u)),o},[]);return new Hz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gz=(()=>Promise.resolve(0))();function a0(n){typeof Zone>"u"?Gz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sn(!1),this.onMicrotaskEmpty=new Sn(!1),this.onStable=new Sn(!1),this.onError=new Sn(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Wz(){let n=Zt.requestAnimationFrame,e=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Qz(n){const e=()=>{!function Zz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,l0(n),n.isCheckStableRunning=!0,u0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),l0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return hM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),fM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return hM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),fM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,l0(n),u0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new T(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Kz,A_,A_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Kz={};function u0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function l0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function hM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fM(n){n._nesting--,u0(n)}class Yz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sn,this.onMicrotaskEmpty=new Sn,this.onStable=new Sn,this.onError=new Sn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const pM=new ve(""),R_=new ve("");let h0,c0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h0||(function Jz(n){h0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),a0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(le(Lt),le(d0),le(R_))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),d0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return h0?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ra=!1;let Qa=null;const gM=new ve("AllowMultipleToken"),f0=new ve("PlatformDestroyListeners"),mM=new ve("appBootstrapListener");class _M{constructor(e,t){this.name=e,this.token=t}}function vM(n,e,t=[]){const r=`Platform: ${e}`,i=new ve(r);return(s=[])=>{let o=p0();if(!o||o.injector.get(gM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function t9(n){if(Qa&&!Qa.get(gM,!1))throw new T(400,!1);Qa=n;const e=n.get(IM);(function yM(n){const e=n.get(aM,null);e&&e.forEach(t=>t())})(n)}(function EM(n=[],e){return Yi.create({name:e,providers:[{provide:sw,useValue:"platform"},{provide:f0,useValue:new Set([()=>Qa=null])},...n]})}(a,r))}return function r9(n){const e=p0();if(!e)throw new T(401,!1);return e}()}}function p0(){return Qa?.get(IM)??null}let IM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function CM(n,e){let t;return t="noop"===n?new Yz:("zone.js"===n?void 0:n)||new Lt(e),t}(r?.ngZone,function wM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Lt,useValue:i}];return i.run(()=>{const o=Yi.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(zc,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{M_(this._modules,a),c.unsubscribe()})}),function TM(n,e,t){try{const r=t();return Af(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(P_);return c.runInitializers(),c.donePromise.then(()=>(function WR(n){Ii(n,"Expected localeId to be defined"),"string"==typeof n&&(GR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(na,od)||od),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=bM({},r);return function Xz(n,e,t){const r=new zw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(al);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(f0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(le(Yi))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bM(n,e){return Array.isArray(e)?e.reduce(bM,n):{...n,...e}}let al=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new pt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new pt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),a0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function w(...n){const e=Hi(n),t=function zn(n,e){return"number"==typeof fs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?At(r[0]):si(t)(E(r,e)):bn}(s,o.pipe(function v(n={}){const{connector:e=(()=>new G),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=g=!1},C=()=>{const D=o;y(),D?.unsubscribe()};return ee((D,A)=>{c++,!g&&!h&&m();const x=u=u??e();A.add(()=>{c--,0===c&&!g&&!h&&(a=k(C,i))}),x.subscribe(A),!o&&c>0&&(o=new Mn({next:U=>x.next(U),error:U=>{g=!0,m(),a=k(y,t,U),x.error(U)},complete:()=>{h=!0,m(),a=k(y,r),x.complete()}}),At(D).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof rP;if(!this._injector.get(P_).done){!i&&function xs(n){const e=kt(n)||An(n)||$r(n);return null!==e&&e.standalone}(t);throw new T(405,ra)}let o;o=i?t:this._injector.get(jc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function e9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ad),c=o.create(Yi.NULL,[],r||o.selector,a),h=c.location.nativeElement,g=c.injector.get(pM,null);return g?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),M_(this.components,c),g?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;M_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(mM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>M_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(le(Lt),le(Qo),le(zc))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let x_=(()=>{class n{}return n.__NG_ELEMENT_ID__=s9,n})();function s9(n){return function o9(n,e,t){if(ju(n)&&!t){const r=Hr(n.index,e);return new wf(r,r)}return 47&n.type?new wf(e[qn],e):null}(nr(),ne(),16==(16&n))}class MM{constructor(){}supports(e){return f_(e)}create(e){return new h9(e)}}const d9=(n,e)=>e;class h9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<NM(r,i,s)?t:r,a=NM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,h=u-i;if(c!=h){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<c&&(s[m]=y+1)}s[o.previousIndex]=h-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!f_(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function U4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new f9(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class f9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class xM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new p9,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class OM{constructor(){}supports(e){return e instanceof Map||Pw(e)}create(){return new g9}}class g9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Pw(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new m9(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class m9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kM(){return new k_([new MM])}let k_=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kM()),deps:[[n,new Go,new Ka]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new T(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:kM}),n})();function FM(){return new Bf([new OM])}let Bf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||FM()),deps:[[n,new Go,new Ka]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new T(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:FM}),n})();const v9=vM(null,"core",[]);let E9=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(le(al))},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({}),n})();function dd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let v0=null;function ia(){return v0}class C9{}const Wn=new ve("DocumentToken");let E0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return function T9(){return le(VM)}()},providedIn:"platform"}),n})();const b9=new ve("Location Initialized");let VM=(()=>{class n extends E0{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(t){const r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){LM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){LM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:function(){return function D9(){return new VM(le(Wn))}()},providedIn:"platform"}),n})();function LM(){return!!window.history.pushState}function I0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function UM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function sa(n){return n&&"?"!==n[0]?"?"+n:n}let ll=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(jM)},providedIn:"root"}),n})();const BM=new ve("appBaseHref");let jM=(()=>{class n extends ll{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rt(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return I0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+sa(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+sa(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+sa(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(le(E0),le(BM,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A9=(()=>{class n extends ll{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=I0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+sa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+sa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(le(E0),le(BM,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),w0=(()=>{class n{constructor(t){this._subject=new Sn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function R9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(UM($M(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+sa(r))}normalize(t){return n.stripTrailingSlash(function P9(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$M(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sa(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=sa,n.joinWithSlash=I0,n.stripTrailingSlash=UM,n.\u0275fac=function(t){return new(t||n)(le(ll))},n.\u0275prov=we({token:n,factory:function(){return function S9(){return new w0(le(ll))}()},providedIn:"root"}),n})();function $M(n){return n.replace(/\/index.html$/,"")}const HM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var xi=(()=>((xi=xi||{})[xi.Decimal=0]="Decimal",xi[xi.Percent=1]="Percent",xi[xi.Currency=2]="Currency",xi[xi.Scientific=3]="Scientific",xi))(),je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Group=1]="Group",je[je.List=2]="List",je[je.PercentSign=3]="PercentSign",je[je.PlusSign=4]="PlusSign",je[je.MinusSign=5]="MinusSign",je[je.Exponential=6]="Exponential",je[je.SuperscriptingExponent=7]="SuperscriptingExponent",je[je.PerMille=8]="PerMille",je[je.Infinity=9]="Infinity",je[je.NaN=10]="NaN",je[je.TimeSeparator=11]="TimeSeparator",je[je.CurrencyDecimal=12]="CurrencyDecimal",je[je.CurrencyGroup=13]="CurrencyGroup",je))();function Is(n,e){const t=hi(n),r=t[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===je.CurrencyDecimal)return t[Ee.NumberSymbols][je.Decimal];if(e===je.CurrencyGroup)return t[Ee.NumberSymbols][je.Group]}return r}const j9=2,nq=/^(\d+)?\.((\d+)(-(\d+))?)?$/,KM=22,z_=".",$f="0",rq=";",iq=",",A0="#",ZM="\xa4";function oq(n,e,t,r,i){const o=function P0(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(rq),i=r[0],s=r[1],o=-1!==i.indexOf(z_)?i.split(z_):[i.substring(0,i.lastIndexOf($f)+1),i.substring(i.lastIndexOf($f)+1)],a=o[0],u=o[1]||"";t.posPre=a.substring(0,a.indexOf(A0));for(let h=0;h<u.length;h++){const g=u.charAt(h);g===$f?t.minFrac=t.maxFrac=h+1:g===A0?t.maxFrac=h+1:t.posSuf+=g}const c=a.split(iq);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const h=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(A0);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function C0(n,e){return hi(n)[Ee.NumberFormats][e]}(e,xi.Currency),Is(e,je.MinusSign));return o.minFrac=function $9(n){let e;const t=HM[n];return t&&(e=t[2]),"number"==typeof e?e:j9}(r),o.maxFrac=o.minFrac,function S0(n,e,t,r,i,s,o=!1){let a="",u=!1;if(isFinite(n)){let c=function cq(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(z_))>-1&&(e=e.replace(z_,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===$f;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===$f;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>KM&&(r=r.splice(0,KM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function lq(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let h=e.minInt,g=e.minFrac,m=e.maxFrac;if(s){const U=s.match(nq);if(null===U)throw new Error(`${s} is not a valid digit info`);const R=U[1],Q=U[3],he=U[5];null!=R&&(h=R0(R)),null!=Q&&(g=R0(Q)),null!=he?m=R0(he):null!=Q&&g>m&&(m=g)}!function dq(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let g=o;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let g=1;g<o;g++)r[g]=0}if(a>=5)if(o-1<0){for(let g=0;g>o;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+n.integerLen,h=r.reduceRight(function(g,m,y,C){return C[y]=(m+=g)<10?m:m-10,u&&(0===C[y]&&y>=c?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}(c,g,m);let y=c.digits,C=c.integerLen;const D=c.exponent;let A=[];for(u=y.every(U=>!U);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?A=y.splice(C,y.length):(A=y,y=[0]);const x=[];for(y.length>=e.lgSize&&x.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)x.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&x.unshift(y.join("")),a=x.join(Is(t,r)),A.length&&(a+=Is(t,i)+A.join("")),D&&(a+=Is(t,je.Exponential)+"+"+D)}else a=Is(t,je.Infinity);return a=n<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,je.CurrencyGroup,je.CurrencyDecimal,i).replace(ZM,t).replace(ZM,"").trim()}function R0(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class mq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ex(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ex(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(W(Us),W(ta),W(k_))},n.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ex(n,e){n.context.$implicit=e.item}let aa=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(W(Us),W(ta))},n.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yq{constructor(){this.$implicit=null,this.ngIf=null}}function tx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${me(e)}'.`)}let rx=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:xr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(W(Qi),W(Bf),W(Yo))},n.\u0275dir=He({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let sx=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function k0(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function B9(n,e,t="en"){const r=function F9(n){return hi(n)[Ee.Currencies]}(t)[n]||HM[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return oq(function F0(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(u){throw function $s(n,e){return new T(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(W(na,16),W($z,16))},n.\u0275pipe=Ar({name:"currency",type:n,pure:!0,standalone:!0}),n})();let hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({}),n})();const Hq="server";function ax(n){return n===Hq}let Gq=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>new Wq(le(Wn),window)}),n})();class Wq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Kq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ux(this.window.history)||ux(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ux(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class w6 extends C9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class U0 extends w6{static makeCurrent(){!function w9(n){v0||(v0=n)}(new U0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function C6(){return zf=zf||document.querySelector("base"),zf?zf.getAttribute("href"):null}();return null==t?null:function T6(n){W_=W_||document.createElement("a"),W_.setAttribute("href",n);const e=W_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fq(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let W_,zf=null;const fx=new ve("TRANSITION_ID"),D6=[{provide:S_,useFactory:function b6(n,e,t){return()=>{t.get(P_).donePromise.then(()=>{const r=ia(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[fx,Wn,Yi],multi:!0}];let S6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const K_=new ve("EventManagerPlugins");let Z_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(le(K_),le(Lt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class px{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ia().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let gx=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),qf=(()=>{class n extends gx{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const B0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},j0=/%COMP%/g,yx=new ve("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function vx(n,e){return e.flat(100).map(t=>t.replace(j0,n))}function Ex(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Q_=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new $0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Cx?i.applyToHost(t):i instanceof H0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case qi.Emulated:s=new Cx(o,a,r,this.appId,u);break;case qi.ShadowDom:return new k6(o,a,t,r);default:s=new H0(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(le(Z_),le(qf),le(Lf),le(yx))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class $0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(B0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=B0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=B0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(xr.DashCase|xr.Important)?e.style.setProperty(t,r,i&xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ex(r)):this.eventManager.addEventListener(e,t,Ex(r))}}function wx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class k6 extends $0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=vx(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class H0 extends $0{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=vx(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Cx extends H0{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function x6(n){return"_ngcontent-%COMP%".replace(j0,n)}(o),this.hostAttr=function N6(n){return"_nghost-%COMP%".replace(j0,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let F6=(()=>{class n extends px{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Tx=["alt","control","meta","shift"],V6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let U6=(()=>{class n extends px{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Tx.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=V6[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tx.forEach(o=>{o!==i&&(0,L6[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Dx=[{provide:Uf,useValue:"browser"},{provide:aM,useValue:function B6(){U0.makeCurrent()},multi:!0},{provide:Wn,useFactory:function $6(){return function _j(n){QI=n}(document),document},deps:[]}],H6=vM(v9,"browser",Dx),Ax=new ve(""),Sx=[{provide:R_,useClass:class A6{addToWindow(e){Zt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zt.getAllAngularRootElements=()=>e.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(r=>{const i=Zt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ia().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:pM,useClass:c0,deps:[Lt,d0,R_]},{provide:c0,useClass:c0,deps:[Lt,d0,R_]}],Px=[{provide:sw,useValue:"root"},{provide:zc,useFactory:function j6(){return new zc},deps:[]},{provide:K_,useClass:F6,multi:!0,deps:[Wn,Lt,Uf]},{provide:K_,useClass:U6,multi:!0,deps:[Wn]},{provide:Q_,useClass:Q_,deps:[Z_,qf,Lf,yx]},{provide:Ef,useExisting:Q_},{provide:gx,useExisting:qf},{provide:qf,useClass:qf,deps:[Wn]},{provide:Z_,useClass:Z_,deps:[K_,Lt]},{provide:class Zq{},useClass:S6,deps:[]},[]];let Rx=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Lf,useValue:t.appId},{provide:fx,useExisting:Lf},D6]}}}return n.\u0275fac=function(t){return new(t||n)(le(Ax,12))},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({providers:[...Px,...Sx],imports:[hd,E9]}),n})(),Mx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new t:function q6(){return new Mx(le(Wn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new(t||n):le(kx),r},providedIn:"root"}),n})(),kx=(()=>{class n extends Ox{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Xt.NONE:return r;case Xt.HTML:return oo(r,"HTML")?Zi(r):qS(this._doc,String(r)).toString();case Xt.STYLE:return oo(r,"Style")?Zi(r):r;case Xt.SCRIPT:if(oo(r,"Script"))return Zi(r);throw new Error("unsafe value used in a script context");case Xt.URL:return oo(r,"URL")?Zi(r):e_(String(r));case Xt.RESOURCE_URL:if(oo(r,"ResourceURL"))return Zi(r);throw new Error(`unsafe value used in a resource URL context (see ${q})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${q})`)}}bypassSecurityTrustHtml(t){return function Tj(n){return new yj(n)}(t)}bypassSecurityTrustStyle(t){return function bj(n){return new vj(n)}(t)}bypassSecurityTrustScript(t){return function Dj(n){return new Ej(n)}(t)}bypassSecurityTrustUrl(t){return function Aj(n){return new Ij(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Sj(n){return new wj(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Wn))},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new t:function Q6(n){return new kx(n.get(Wn))}(le(Yi)),r},providedIn:"root"}),n})();function $e(...n){return E(n,Hi(n))}class Hs extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Y_=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Y6}=Array,{getPrototypeOf:J6,prototype:X6,keys:e5}=Object;function Fx(n){if(1===n.length){const e=n[0];if(Y6(e))return{args:e,keys:null};if(function t5(n){return n&&"object"==typeof n&&J6(n)===X6}(e)){const t=e5(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:n5}=Array;function Vx(n){return De(e=>function r5(n,e){return n5(e)?n(...e):n(e)}(n,e))}function Lx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ux(...n){const e=Hi(n),t=ps(n),{args:r,keys:i}=Fx(n);if(0===r.length)return E([],e);const s=new pt(function i5(n,e,t=xn){return r=>{Bx(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Bx(e,()=>{const c=E(n[u],e);let h=!1;c.subscribe(pe(r,g=>{s[u]=g,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Lx(i,o):xn));return t?s.pipe(Vx(t)):s}function Bx(n,e,t){n?ii(t,n,e):e()}function G0(...n){return function s5(){return si(1)}()(E(n,Hi(n)))}function jx(n){return new pt(e=>{At(n()).subscribe(e)})}function Gf(n,e){const t=b(n)?n:()=>n,r=i=>i.error(t());return new pt(e?i=>e.schedule(r,0,i):r)}function W0(){return ee((n,e)=>{let t=null;n._refCount++;const r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $x extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rt;const t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rt.EMPTY)}return e}refCount(){return W0()(this)}}function fo(n,e){return ee((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let c=0;const h=s++;At(n(u,h)).subscribe(i=pe(r,g=>r.next(e?e(u,g,h,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fd(n){return n<=0?()=>bn:ee((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ja(n,e){return ee((t,r)=>{let i=0;t.subscribe(pe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function J_(n){return ee((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hx(n=a5){return ee((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function a5(){return new Y_}function Xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ja((i,s)=>n(i,s,r)):xn,fd(1),t?J_(e):Hx(()=>new Y_))}function dl(n,e){return b(e)?Vt(n,e,1):Vt(n,1)}function Gr(n,e,t){const r=b(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pe(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xn}function eu(n){return ee((e,t)=>{let s,r=null,i=!1;r=e.subscribe(pe(t,void 0,void 0,o=>{s=At(n(o,eu(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function zx(n,e){return ee(function u5(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(pe(o,h=>{const g=c++;u=a?n(u,h,g):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function K0(n){return n<=0?()=>bn:ee((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qx(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ja((i,s)=>n(i,s,r)):xn,K0(1),t?J_(e):Hx(()=>new Y_))}function Z0(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const it="primary",Wf=Symbol("RouteTitle");class d5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pd(n){return new d5(n)}function h5(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function po(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Gx(n[i],e[i]))return!1;return!0}function Gx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Wx(n){return Array.prototype.concat.apply([],n)}function Kx(n){return n.length>0?n[n.length-1]:null}function Nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function tu(n){return Mw(n)?n:Af(n)?E(Promise.resolve(n)):$e(n)}const X_=!1,p5={exact:function Yx(n,e,t){if(!hl(n.segments,e.segments)||!ey(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Yx(n.children[r],e.children[r],t))return!1;return!0},subset:Jx},Zx={exact:function g5(n,e){return po(n,e)},subset:function m5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gx(n[t],e[t]))},ignored:()=>!0};function Qx(n,e,t){return p5[t.paths](n.root,e.root,t.matrixParams)&&Zx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Jx(n,e,t){return Xx(n,e,e.segments,t)}function Xx(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hl(i,t)||e.hasChildren()||!ey(i,t,r))}if(n.segments.length===t.length){if(!hl(n.segments,t)||!ey(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Jx(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(hl(n.segments,i)&&ey(n.segments,i,r)&&n.children[it])&&Xx(n.children[it],e,s,r)}}function ey(n,e,t){return e.every((r,i)=>Zx[t](n[i].parameters,r.parameters))}class nu{constructor(e=new ht([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pd(this.queryParams)),this._queryParamMap}toString(){return v5.serialize(this)}}class ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Nr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ty(this)}}class Kf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pd(this.parameters)),this._parameterMap}toString(){return nN(this)}}function hl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return new Q0},providedIn:"root"}),n})();class Q0{parse(e){const t=new S5(e);return new nu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qf(e.root,!0)}`,r=function w5(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ny(t)}=${ny(i)}`).join("&"):`${ny(t)}=${ny(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function E5(n){return encodeURI(n)}(e.fragment)}`:""}`}}const v5=new Q0;function ty(n){return n.segments.map(e=>nN(e)).join("/")}function Qf(n,e){if(!n.hasChildren())return ty(n);if(e){const t=n.children[it]?Qf(n.children[it],!1):"",r=[];return Nr(n.children,(i,s)=>{s!==it&&r.push(`${s}:${Qf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function y5(n,e){let t=[];return Nr(n.children,(r,i)=>{i===it&&(t=t.concat(e(r,i)))}),Nr(n.children,(r,i)=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===it?[Qf(n.children[it],!1)]:[`${i}:${Qf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${ty(n)}/${t[0]}`:`${ty(n)}/(${t.join("//")})`}}function eN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ny(n){return eN(n).replace(/%3B/gi,";")}function Y0(n){return eN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ry(n){return decodeURIComponent(n)}function tN(n){return ry(n.replace(/\+/g,"%20"))}function nN(n){return`${Y0(n.path)}${function I5(n){return Object.keys(n).map(e=>`;${Y0(e)}=${Y0(n[e])}`).join("")}(n.parameters)}`}const C5=/^[^\/()?;=#]+/;function iy(n){const e=n.match(C5);return e?e[0]:""}const T5=/^[^=?&#]+/,D5=/^[^&#]+/;class S5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new ht(e,t)),r}parseSegment(){const e=iy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,X_);return this.capture(e),new Kf(ry(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=iy(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=iy(this.remaining);i&&(r=i,this.capture(r))}e[ry(t)]=ry(r)}parseQueryParam(e){const t=function b5(n){const e=n.match(T5);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function A5(n){const e=n.match(D5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=tN(t),s=tN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iy(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,X_);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=it);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[it]:new ht([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,X_)}}function J0(n){return n.segments.length>0?new ht([],{[it]:n}):n}function sy(n){const e={};for(const r of Object.keys(n.children)){const s=sy(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function P5(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new ht(n.segments.concat(e.segments),e.children)}return n}(new ht(n.segments,e))}function fl(n){return n instanceof nu}const X0=!1;function R5(n,e,t,r,i){if(0===t.length)return gd(e.root,e.root,e.root,r,i);const s=function aN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Nr(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new oN(t,e,r)}(t);return s.toRoot()?gd(e.root,e.root,new ht([],{}),r,i):function o(u){const c=function x5(n,e,t,r){if(n.isAbsolute)return new md(e.root,!0,0);if(-1===r)return new md(t,t===e.root,0);return function uN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,X0&&"Invalid number of '../'");i=r.segments.length}return new md(r,!1,i-s)}(t,r+(Yf(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),h=c.processChildren?_d(c.segmentGroup,c.index,s.commands):eC(c.segmentGroup,c.index,s.commands);return gd(e.root,c.segmentGroup,h,r,i)}(n.snapshot?._lastPathIndex)}function Yf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jf(n){return"object"==typeof n&&null!=n&&n.outlets}function gd(n,e,t,r,i){let o,s={};r&&Nr(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),o=n===e?t:sN(n,e,t);const a=J0(sy(o));return new nu(a,s,i)}function sN(n,e,t){const r={};return Nr(n.children,(i,s)=>{r[s]=i===e?t:sN(i,e,t)}),new ht(n.segments,r)}class oN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yf(r[0]))throw new T(4003,X0&&"Root segment cannot have matrix parameters");const i=r.find(Jf);if(i&&i!==Kx(r))throw new T(4004,X0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class md{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function eC(n,e,t){if(n||(n=new ht([],{})),0===n.segments.length&&n.hasChildren())return _d(n,e,t);const r=function O5(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Jf(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cN(u,c,o))return s;r+=2}else{if(!cN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ht(n.segments.slice(0,r.pathIndex),{});return s.children[it]=new ht(n.segments.slice(r.pathIndex),n.children),_d(s,0,i)}return r.match&&0===i.length?new ht(n.segments,{}):r.match&&!n.hasChildren()?tC(n,e,t):r.match?_d(n,0,i):tC(n,e,t)}function _d(n,e,t){if(0===t.length)return new ht(n.segments,{});{const r=function N5(n){return Jf(n[0])?n[0].outlets:{[it]:n}}(t),i={};if(!r[it]&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const s=_d(n.children[it],e,t);return new ht(n.segments,s.children)}return Nr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=eC(n.children[o],e,s))}),Nr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ht(n.segments,i)}}function tC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Jf(s)){const u=k5(s.outlets);return new ht(r,u)}if(0===i&&Yf(t[0])){r.push(new Kf(n.segments[e].path,lN(t[0]))),i++;continue}const o=Jf(s)?s.outlets[it]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Yf(a)?(r.push(new Kf(o,lN(a))),i+=2):(r.push(new Kf(o,{})),i++)}return new ht(r,{})}function k5(n){const e={};return Nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=tC(new ht([],{}),0,t))}),e}function lN(n){const e={};return Nr(n,(t,r)=>e[r]=`${t}`),e}function cN(n,e,t){return n==t.path&&po(e,t.parameters)}const Xf="imperative";class go{constructor(e,t){this.id=e,this.url=t}}class nC extends go{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pl extends go{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oy extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ay extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class rC extends go{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class F5 extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V5 extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L5 extends go{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class U5 extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B5 extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class H5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Z5=(()=>{class n{createUrlTree(t,r,i,s,o,a){return R5(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),Y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(e){return Z5.\u0275fac(e)},providedIn:"root"}),n})();class hN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sC(e,this._root).map(t=>t.value)}}function iC(n,e){if(n===e.value)return e;for(const t of e.children){const r=iC(n,t);if(r)return r}return null}function sC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sC(n,t);if(r.length)return r.unshift(e),r}return[]}class ua{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fN extends hN{constructor(e,t){super(e),this.snapshot=t,oC(this,e)}toString(){return this.snapshot.toString()}}function pN(n,e){const t=function J5(n,e){const o=new uy([],{},{},"",{},it,e,null,n.root,-1,{});return new mN("",new ua(o,[]))}(n,e),r=new Hs([new Kf("",{})]),i=new Hs({}),s=new Hs({}),o=new Hs({}),a=new Hs(""),u=new vd(r,i,o,a,s,it,e,t.root);return u.snapshot=t.root,new fN(new ua(u,[]),t)}class vd{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(De(c=>c[Wf]))??$e(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>pd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>pd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function X5(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uy{get title(){return this.data?.[Wf]}constructor(e,t,r,i,s,o,a,u,c,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mN extends hN{constructor(e,t){super(t),this.url=e,oC(this,t)}toString(){return _N(this._root)}}function oC(n,e){e.value._routerState=n,e.children.forEach(t=>oC(n,t))}function _N(n){const e=n.children.length>0?` { ${n.children.map(_N).join(", ")} } `:"";return`${n.value}${e}`}function aC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,po(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),po(e.params,t.params)||n.params.next(t.params),function f5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!po(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),po(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uC(n,e){const t=po(n.params,e.params)&&function _5(n,e){return hl(n,e)&&n.every((t,r)=>po(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||uC(n.parent,e.parent))}function ep(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function tG(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ep(n,r,i);return ep(n,r)})}(n,e,t);return new ua(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ep(n,a)),o}}const r=function nG(n){return new vd(new Hs(n.url),new Hs(n.params),new Hs(n.queryParams),new Hs(n.fragment),new Hs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ep(n,s));return new ua(r,i)}}const lC="ngNavigationCancelingError";function yN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=fl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function vN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[lC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function EN(n){return IN(n)&&fl(n.url)}function IN(n){return n&&n[lC]}class rG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tp,this.attachRef=null}}let tp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ly=!1;let cC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Sn,this.deactivateEvents=new Sn,this.attachEvents=new Sn,this.detachEvents=new Sn,this.parentContexts=rt(tp),this.location=rt(Us),this.changeDetector=rt(x_),this.environmentInjector=rt(Qo)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,ly);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,ly);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,ly);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,ly);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iG(t,a,i.injector);if(r&&function sG(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bi]}),n})();class iG{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vd?this.route:e===tp?this.childContexts:this.parent.get(e,t)}}let dC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=$t({type:n,selectors:[["ng-component"]],standalone:!0,features:[T_],decls:1,vars:0,template:function(t,r){1&t&&Ne(0,"router-outlet")},dependencies:[cC],encapsulation:2}),n})();function wN(n,e){return n.providers&&!n._injector&&(n._injector=C_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fC(n){const e=n.children&&n.children.map(fC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=dC),t}function Cs(n){return n.outlet||it}function CN(n,e){const t=n.filter(r=>Cs(r)===e);return t.push(...n.filter(r=>Cs(r)!==e)),t}function np(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cG{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),aC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Nr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new G5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new z5(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(aC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=np(i.snapshot),u=a?.get(jc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cy{constructor(e,t){this.component=e,this.route=t}}function dG(n,e,t){const r=n._root;return rp(r,e?e._root:null,t,[r.value])}function Ed(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function FE(n){return null!==Da(n)}(n)?e.get(n):n:r}function rp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yd(e);return n.children.forEach(o=>{(function fG(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function pG(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hl(n.url,e.url)||!po(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uC(n,e)||!po(n.queryParams,e.queryParams);default:return!uC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),rp(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cy(a.outlet.component,o))}else o&&ip(e,a,i),i.canActivateChecks.push(new TN(r)),rp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Nr(s,(o,a)=>ip(o,t.getContext(a),i)),i}function ip(n,e,t){const r=yd(n),i=n.value;Nr(r,(s,o)=>{ip(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new cy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sp(n){return"function"==typeof n}function pC(n){return n instanceof Y_||"EmptyError"===n?.name}const dy=Symbol("INITIAL_VALUE");function Id(){return fo(n=>Ux(n.map(e=>e.pipe(fd(1),function o5(...n){const e=Hi(n);return ee((t,r)=>{(e?G0(n,t,e):G0(n,t)).subscribe(r)})}(dy)))).pipe(De(e=>{for(const t of e)if(!0!==t){if(t===dy)return dy;if(!1===t||t instanceof nu)return t}return!0}),Ja(e=>e!==dy),fd(1)))}function bN(n){return function Li(...n){return Ui(n)}(Gr(e=>{if(fl(e))throw yN(0,e)}),De(e=>!0===e))}const gC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DN(n,e,t,r,i){const s=mC(n,e,t);return s.matched?function MG(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?$e(i.map(o=>{const a=Ed(o,n);return tu(function EG(n){return n&&sp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Id(),bN()):$e(!0)}(r=wN(e,r),e,t).pipe(De(o=>!0===o?s:{...gC})):$e(s)}function mC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||h5)(t,n,e);if(!i)return{...gC};const s={};Nr(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function hy(n,e,t,r){if(t.length>0&&function OG(n,e,t){return t.some(r=>fy(n,e,r)&&Cs(r)!==it)}(n,t,r)){const s=new ht(e,function NG(n,e,t,r){const i={};i[it]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Cs(s)!==it){const o=new ht([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Cs(s)]=o}return i}(n,e,r,new ht(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function kG(n,e,t){return t.some(r=>fy(n,e,r))}(n,t,r)){const s=new ht(n.segments,function xG(n,e,t,r,i){const s={};for(const o of r)if(fy(n,t,o)&&!i[Cs(o)]){const a=new ht([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Cs(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ht(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function fy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AN(n,e,t,r){return!!(Cs(n)===r||r!==it&&fy(e,t,n))&&("**"===n.path||mC(e,n,t).matched)}function SN(n,e,t){return 0===e.length&&!n.children[t]}const py=!1;class gy{constructor(e){this.segmentGroup=e||null}}class PN{constructor(e){this.urlTree=e}}function op(n){return Gf(new gy(n))}function RN(n){return Gf(new PN(n))}class UG{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=hy(this.urlTree.root,[],[],this.config).segmentGroup,t=new ht(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,it).pipe(De(s=>this.createUrlTree(sy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(eu(s=>{if(s instanceof PN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof gy?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,it).pipe(De(i=>this.createUrlTree(sy(i),e.queryParams,e.fragment))).pipe(eu(i=>{throw i instanceof gy?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,py)}createUrlTree(e,t,r){const i=J0(e);return new nu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(De(s=>new ht([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return E(i).pipe(dl(s=>{const o=r.children[s],a=CN(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(De(u=>({segment:u,outlet:s})))}),zx((s,o)=>(s[o.outlet]=o.segment,s),{}),qx())}expandSegment(e,t,r,i,s,o){return E(r).pipe(dl(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(eu(c=>{if(c instanceof gy)return $e(null);throw c}))),Xa(a=>!!a),eu((a,u)=>{if(pC(a))return SN(t,i,s)?$e(new ht([],{})):op(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return AN(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):op(t):op(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RN(s):this.lineralizeSegments(r,s).pipe(Vt(o=>{const a=new ht(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:h}=mC(t,i,s);if(!a)return op(t);const g=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?RN(g):this.lineralizeSegments(i,g).pipe(Vt(m=>this.expandSegment(e,t,r,m.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=wN(r,e),r.loadChildren?(r._loadedRoutes?$e({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(De(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ht(i,{})))):$e(new ht(i,{}))):DN(t,r,i,e).pipe(fo(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Vt(h=>{const g=h.injector??e,m=h.routes,{segmentGroup:y,slicedSegments:C}=hy(t,a,u,m),D=new ht(y.segments,y.children);if(0===C.length&&D.hasChildren())return this.expandChildren(g,m,D).pipe(De(R=>new ht(a,R)));if(0===m.length&&0===C.length)return $e(new ht(a,{}));const A=Cs(r)===s;return this.expandSegment(g,D,m,C,A?it:s,!0).pipe(De(U=>new ht(a.concat(U.segments),U.children)))})):op(t)))}getChildConfig(e,t,r){return t.children?$e({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?$e({routes:t._loadedRoutes,injector:t._loadedInjector}):function RG(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?$e(!0):$e(i.map(o=>{const a=Ed(o,n);return tu(function mG(n){return n&&sp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Id(),bN())}(e,t,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,t).pipe(Gr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function VG(n){return Gf(vN(py,3))}())):$e({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $e(r);if(i.numberOfChildren>1||!i.children[it])return e.redirectTo,Gf(new T(4e3,py));i=i.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new nu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Nr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Nr(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ht(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new T(4001,py);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class jG{}class zG{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=hy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(De(t=>{if(null===t)return null;const r=new uy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ua(r,t),s=new mN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=gN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return E(Object.keys(r.children)).pipe(dl(i=>{const s=r.children[i],o=CN(t,i);return this.processSegmentGroup(e,o,s,i)}),zx((i,s)=>i&&s?(i.push(...s),i):null),function l5(n,e=!1){return ee((t,r)=>{let i=0;t.subscribe(pe(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),J_(null),qx(),De(i=>{if(null===i)return null;const s=xN(i);return function qG(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return E(t).pipe(dl(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xa(o=>!!o),eu(o=>{if(pC(o))return SN(r,i,s)?$e([]):$e(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!AN(t,r,i,s))return $e(null);let o;if("**"===t.path){const a=i.length>0?Kx(i).parameters:{},u=ON(r)+i.length;o=$e({snapshot:new uy(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(t),Cs(t),t.component??t._loadedComponent??null,t,NN(r),u,FN(t)),consumedSegments:[],remainingSegments:[]})}else o=DN(r,t,i,e).pipe(De(({matched:a,consumedSegments:u,remainingSegments:c,parameters:h})=>{if(!a)return null;const g=ON(r)+u.length;return{snapshot:new uy(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(t),Cs(t),t.component??t._loadedComponent??null,t,NN(r),g,FN(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(fo(a=>{if(null===a)return $e(null);const{snapshot:u,consumedSegments:c,remainingSegments:h}=a;e=t._injector??e;const g=t._loadedInjector??e,m=function GG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:C}=hy(r,c,h,m.filter(A=>void 0===A.redirectTo));if(0===C.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(De(A=>null===A?null:[new ua(u,A)]));if(0===m.length&&0===C.length)return $e([new ua(u,[])]);const D=Cs(t)===s;return this.processSegment(g,m,y,C,D?it:s).pipe(De(A=>null===A?null:[new ua(u,A)]))}))}}function WG(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xN(n){const e=[],t=new Set;for(const r of n){if(!WG(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=xN(r.children);e.push(new ua(r.value,i))}return e.filter(r=>!t.has(r))}function NN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ON(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kN(n){return n.data||{}}function FN(n){return n.resolve||{}}function VN(n){return"string"==typeof n.title||null===n.title}function _C(n){return fo(e=>{const t=n(e);return t?E(t).pipe(De(()=>e)):$e(e)})}const wd=new ve("ROUTES");let yC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(lM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $e(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=tu(t.loadComponent()).pipe(De(UN),Gr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Z0(()=>{this.componentLoaders.delete(t)})),i=new $x(r,()=>new G).pipe(W0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(De(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,h=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=Wx(u.get(wd,[],Le.Self|Le.Optional)));return{routes:c.map(fC),injector:u}}),Z0(()=>{this.childrenLoaders.delete(r)})),o=new $x(s,()=>new G).pipe(W0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return tu(t()).pipe(De(UN),Vt(r=>r instanceof y1||Array.isArray(r)?$e(r):E(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UN(n){return function t8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _y=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new G,this.configLoader=rt(yC),this.environmentInjector=rt(Qo),this.urlSerializer=rt(Zf),this.rootContexts=rt(tp),this.navigationId=0,this.afterPreactivation=()=>$e(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new $5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new j5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Hs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ja(r=>0!==r.id),De(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),fo(r=>{let i=!1,s=!1;return $e(r).pipe(Gr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fo(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new ay(o.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),bn}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return BN(o.source)&&(t.browserUrlTree=o.extractedUrl),$e(o).pipe(fo(h=>{const g=this.transitions?.getValue();return this.events.next(new nC(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?bn:Promise.resolve(h)}),function BG(n,e,t,r){return fo(i=>function LG(n,e,t,r,i){return new UG(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(De(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Gr(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function ZG(n,e,t,r,i){return Vt(s=>function HG(n,e,t,r,i,s,o="emptyOnly"){return new zG(n,e,t,r,i,o,s).recognize().pipe(fo(a=>null===a?function $G(n){return new pt(e=>e.error(n))}(new jG):$e(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(De(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Gr(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const m=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(m,h)}t.browserUrlTree=h.urlAfterRedirects}const g=new F5(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:y,extras:C}=o,D=new nC(h,this.urlSerializer.serialize(g),m,y);this.events.next(D);const A=pN(g,this.rootComponentType).snapshot;return $e(r={...o,targetSnapshot:A,urlAfterRedirects:g,extras:{...C,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new ay(o.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),bn}}),Gr(o=>{const a=new V5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),De(o=>r={...o,guards:dG(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function wG(n,e){return Vt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?$e({...t,guardsResult:!0}):function CG(n,e,t,r){return E(n).pipe(Vt(i=>function PG(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$e(s.map(a=>{const u=np(e)??i,c=Ed(a,u);return tu(function vG(n){return n&&sp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Xa())})).pipe(Id()):$e(!0)}(i.component,i.route,t,e,r)),Xa(i=>!0!==i,!0))}(o,r,i,n).pipe(Vt(a=>a&&function gG(n){return"boolean"==typeof n}(a)?function TG(n,e,t,r){return E(e).pipe(dl(i=>G0(function DG(n,e){return null!==n&&e&&e(new H5(n)),$e(!0)}(i.route.parent,r),function bG(n,e){return null!==n&&e&&e(new q5(n)),$e(!0)}(i.route,r),function SG(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function hG(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>jx(()=>$e(o.guards.map(u=>{const c=np(o.node)??t,h=Ed(u,c);return tu(function yG(n){return n&&sp(n.canActivateChild)}(h)?h.canActivateChild(r,n):c.runInContext(()=>h(r,n))).pipe(Xa())})).pipe(Id())));return $e(s).pipe(Id())}(n,i.path,t),function AG(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $e(!0);const i=r.map(s=>jx(()=>{const o=np(e)??t,a=Ed(s,o);return tu(function _G(n){return n&&sp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xa())}));return $e(i).pipe(Id())}(n,i.route,t))),Xa(i=>!0!==i,!0))}(r,s,n,e):$e(a)),De(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Gr(o=>{if(r.guardsResult=o.guardsResult,fl(o.guardsResult))throw yN(0,o.guardsResult);const a=new L5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ja(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),_C(o=>{if(o.guards.canActivateChecks.length)return $e(o).pipe(Gr(a=>{const u=new U5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),fo(a=>{let u=!1;return $e(a).pipe(function QG(n,e){return Vt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $e(t);let s=0;return E(i).pipe(dl(o=>function YG(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!VN(i)&&(s[Wf]=i.title),function JG(n,e,t,r){const i=function XG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return $e({});const s={};return E(i).pipe(Vt(o=>function e8(n,e,t,r){const i=np(e)??r,s=Ed(n,i);return tu(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xa(),Gr(a=>{s[o]=a}))),K0(1),function c5(n){return De(()=>n)}(s),eu(o=>pC(o)?bn:Gf(o)))}(s,n,e,r).pipe(De(o=>(n._resolvedData=o,n.data=gN(n,t).resolve,i&&VN(i)&&(n.data[Wf]=i.title),null)))}(o.route,r,n,e)),Gr(()=>s++),K0(1),Vt(o=>s===i.length?$e(t):bn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Gr({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Gr(a=>{const u=new B5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),_C(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Gr(h=>{u.component=h}),De(()=>{})));for(const h of u.children)c.push(...a(h));return c};return Ux(a(o.targetSnapshot.root)).pipe(J_(),fd(1))}),_C(()=>this.afterPreactivation()),De(o=>{const a=function eG(n,e,t){const r=ep(n,e._root,t?t._root:void 0);return new fN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Gr(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>De(r=>(new cG(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),fd(1),Gr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new pl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Z0(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),eu(o=>{if(s=!0,IN(o)){EN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new oy(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),EN(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||BN(r.source)};t.scheduleNavigation(u,Xf,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new rC(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return bn}))}))}cancelNavigationTransition(t,r,i){const s=new oy(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BN(n){return n!==Xf}let jN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[Wf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(n8)},providedIn:"root"}),n})(),n8=(()=>{class n extends jN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(le(Mx))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(s8)},providedIn:"root"}),n})();class i8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let s8=(()=>{class n extends i8{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rr(n)))(r||n)}}(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yy=new ve("",{providedIn:"root",factory:()=>({})});let a8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(u8)},providedIn:"root"}),n})(),u8=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l8(n){throw n}function c8(n,e,t){return e.parse("/")}const d8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=rt(Bz),this.isNgZoneEnabled=!1,this.options=rt(yy,{optional:!0})||{},this.errorHandler=this.options.errorHandler||l8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||c8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=rt(a8),this.routeReuseStrategy=rt(r8),this.urlCreationStrategy=rt(Y5),this.titleStrategy=rt(jN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Wx(rt(wd,{optional:!0})??[]),this.navigationTransitions=rt(_y),this.urlSerializer=rt(Zf),this.location=rt(w0),this.isNgZoneEnabled=rt(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(fC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,h,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xf,null,r)}navigate(t,r={skipLocationChange:!1}){return function f8(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new T(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...d8}:!1===r?{...h8}:r,fl(t))return Qx(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Qx(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,h;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((g,m)=>{a=g,u=m}),h="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cd=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new G;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof pl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=dd(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=dd(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=dd(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function WS(n,e,t){return function $j(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?GS:ao}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(W(pr),W(vd),function Mc(n){return function hI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Am(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(nr(),n)}("tabindex"),W(Yo),W(Qi),W(ll))},n.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&lt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Mi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[bi]}),n})();class $N{}let m8=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ja(t=>t instanceof pl),dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=C_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return E(i).pipe(si())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):$e(null);const s=i.pipe(Vt(o=>null===o?$e(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?E([s,this.loader.loadComponent(r)]).pipe(si()):s})}}return n.\u0275fac=function(t){return new(t||n)(le(pr),le(lM),le(Qo),le($N),le(yC))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EC=new ve("");let HN=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function TP(){throw new Error("invalid")}()},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();var es=(()=>((es=es||{})[es.COMPLETE=0]="COMPLETE",es[es.FAILED=1]="FAILED",es[es.REDIRECTING=2]="REDIRECTING",es))();const Td=!1;function ru(n,e){return{\u0275kind:n,\u0275providers:e}}const IC=new ve("",{providedIn:"root",factory:()=>!1});function qN(){const n=rt(Yi);return e=>{const t=n.get(al);if(e!==t.components[0])return;const r=n.get(pr),i=n.get(GN);1===n.get(wC)&&r.initialNavigation(),n.get(WN,null,Le.Optional)?.setUpPreloading(),n.get(EC,null,Le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const GN=new ve(Td?"bootstrap done indicator":"",{factory:()=>new G}),wC=new ve(Td?"initial navigation":"",{providedIn:"root",factory:()=>1});function I8(){let n=[];return n=Td?[{provide:n_,multi:!0,useFactory:()=>{const e=rt(pr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function W5(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ru(1,n)}const WN=new ve(Td?"router preloader":"");function w8(n){return ru(0,[{provide:WN,useExisting:m8},{provide:$N,useExisting:n}])}const ap=!1,KN=new ve(ap?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),C8=[w0,{provide:Zf,useClass:Q0},pr,tp,{provide:vd,useFactory:function zN(n){return n.routerState.root},deps:[pr]},yC,ap?{provide:IC,useValue:!0}:[]];function T8(){return new _M("Router",pr)}let mo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[C8,ap&&r?.enableTracing?I8().\u0275providers:[],{provide:wd,multi:!0,useValue:t},{provide:KN,useFactory:S8,deps:[[pr,new Ka,new Go]]},{provide:yy,useValue:r||{}},r?.useHash?{provide:ll,useClass:A9}:{provide:ll,useClass:jM},{provide:EC,useFactory:()=>{const n=rt(Gq),e=rt(Lt),t=rt(yy),r=rt(_y),i=rt(Zf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HN(i,r,n,e,t)}},r?.preloadingStrategy?w8(r.preloadingStrategy).\u0275providers:[],{provide:_M,multi:!0,useFactory:T8},r?.initialNavigation?P8(r):[],[{provide:ZN,useFactory:qN},{provide:mM,multi:!0,useExisting:ZN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:wd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(le(KN,8))},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({imports:[dC]}),n})();function S8(n){if(ap&&n)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function P8(n){return["disabled"===n.initialNavigation?ru(3,[{provide:S_,multi:!0,useFactory:()=>{const e=rt(pr);return()=>{e.setUpLocationChangeListener()}}},{provide:wC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ru(2,[{provide:wC,useValue:0},{provide:S_,multi:!0,deps:[Yi],useFactory:e=>{const t=e.get(b9,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(pr),s=e.get(GN);(function _8(n,e){n.events.pipe(Ja(t=>t instanceof pl||t instanceof oy||t instanceof rC||t instanceof ay),De(t=>t instanceof pl||t instanceof ay?es.COMPLETE:t instanceof oy&&(0===t.code||1===t.code)?es.REDIRECTING:es.FAILED),Ja(t=>t!==es.REDIRECTING),fd(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(_y).afterPreactivation=()=>(r(!0),s.closed?$e(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ZN=new ve(ap?"Router Initializer":"");let M8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,consts:[[1,"container"],["routerLink","/","src","../../../../assets/images/404page.png"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"img",1),F())},styles:[".container[_ngcontent-%COMP%]{height:90vh;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:50%;cursor:pointer}@media only screen and (max-width: 992px){img[_ngcontent-%COMP%]{width:100%}}"]})}return n})(),x8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-customer"]],decls:2,vars:0,template:function(r,i){1&r&&(N(0,"p"),Z(1,"customer works!"),F())}})}return n})(),N8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,i){1&r&&(N(0,"p"),Z(1,"dashboard works!"),F())}})}return n})(),QN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(r,i){1&r&&Ne(0,"app-dashboard")},dependencies:[N8]})}return n})();const O8=[{path:"",redirectTo:"customer",pathMatch:"full"},{path:"customer",component:x8},{path:"admin",component:QN},{path:"**",component:M8}];let k8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[mo.forRoot(O8),mo]})}return n})(),F8=(()=>{class n{constructor(){this.title="cocktail-club"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Ne(0,"router-outlet")},dependencies:[cC],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']})}return n})();const V8=[{path:"dashboard",component:QN}];let L8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[mo.forChild(V8),mo]})}return n})(),U8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[hd,L8,mo]})}return n})();var Y=Ve(861),bd=(Ve(568),Ve(881));function Qn(n){return"function"==typeof n}function CC(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(0,bd.registerVersion)("firebase","10.7.1","app");const TC=CC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vy(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class _o{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Qn(r))try{r()}catch(s){e=s instanceof TC?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{XN(s)}catch(o){e=e??[],o instanceof TC?e=[...e,...o.errors]:e.push(o)}}if(e)throw new TC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)XN(e);else{if(e instanceof _o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vy(t,e)}remove(e){const{_finalizers:t}=this;t&&vy(t,e),e instanceof _o&&e._removeParent(this)}}_o.EMPTY=(()=>{const n=new _o;return n.closed=!0,n})();const YN=_o.EMPTY;function JN(n){return n instanceof _o||n&&"closed"in n&&Qn(n.remove)&&Qn(n.add)&&Qn(n.unsubscribe)}function XN(n){Qn(n)?n():n.unsubscribe()}class $8 extends _o{constructor(e,t){super()}schedule(e,t=0){return this}}const Ey={setInterval(n,e,...t){const{delegate:r}=Ey;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ey;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class eO extends $8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ey.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ey.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vy(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class H8 extends eO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}const bC={now:()=>(bC.delegate||Date).now(),delegate:void 0};class up{constructor(e,t=up.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}up.now=bC.now;class tO extends up{constructor(e,t=up.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}class z8 extends tO{}const q8=new z8(H8),nO=new tO(eO);function pi(n){return e=>{if(function G8(n){return Qn(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}const gl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Iy={setTimeout(n,e,...t){const{delegate:r}=Iy;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Iy;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rO(n){Iy.setTimeout(()=>{const{onUnhandledError:e}=gl;if(!e)throw n;e(n)})}function iO(){}const W8=(()=>DC("C",void 0,void 0))();function DC(n,e,t){return{kind:n,value:e,error:t}}let ml=null;function wy(n){if(gl.useDeprecatedSynchronousErrorHandling){const e=!ml;if(e&&(ml={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ml;if(ml=null,t)throw r}}else n()}class AC extends _o{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,JN(e)&&e.add(this)):this.destination=eW}static create(e,t,r){return new lp(e,t,r)}next(e){this.isStopped?PC(function Z8(n){return DC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?PC(function K8(n){return DC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?PC(W8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y8=Function.prototype.bind;function SC(n,e){return Y8.call(n,e)}class J8{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cy(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cy(r)}else Cy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cy(t)}}}class lp extends AC{constructor(e,t,r){let i;if(super(),Qn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&gl.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&SC(e.next,s),error:e.error&&SC(e.error,s),complete:e.complete&&SC(e.complete,s)}):i=e}this.destination=new J8(i)}}function Cy(n){gl.useDeprecatedSynchronousErrorHandling?function Q8(n){gl.useDeprecatedSynchronousErrorHandling&&ml&&(ml.errorThrown=!0,ml.error=n)}(n):rO(n)}function PC(n,e){const{onStoppedNotification:t}=gl;t&&Iy.setTimeout(()=>t(n,e))}const eW={closed:!0,next:iO,error:function X8(n){throw n},complete:iO};function Ni(n,e,t,r,i){return new tW(n,e,t,r,i)}class tW extends AC{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function cp(n){return n}function Dd(n,e=0){return pi((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function iu(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function _l(n,e=0){return pi((t,r)=>{t.subscribe(Ni(r,i=>iu(r,n,()=>r.next(i),e),()=>iu(r,n,()=>r.complete(),e),i=>iu(r,n,()=>r.error(i),e)))})}const Ty=new Hc("ANGULARFIRE2_VERSION");class sO{constructor(){return((n,e)=>{const t=(0,bd.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(iW)}}const iW="app-check";function Ad(){}class oO{zone;delegate;constructor(e,t=q8){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class sW{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ad,{},Ad,Ad)),t.pipe(function nW(n,e,t){const r=Qn(n)||e||t?{next:n,error:e,complete:t}:n;return r?pi((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ni(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):cp}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let aO=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new oO(Zone.current)),this.insideAngular=t.run(()=>new oO(Zone.current,nO)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(le(Lt))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ts(n){return function aW(n){return function(t){return(t=t.lift(new sW(n.ngZone))).pipe(Dd(n.outsideAngular),_l(n.insideAngular))}}(function Sd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var yo=Ve(942);yo.Z.registerVersion("firebase","10.7.1","app-compat");const dW=["ngOnDestroy"];class uO{constructor(e){return e}}const by=new ve("angularfire2.app.options"),Dy=new ve("angularfire2.app.name");function RC(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=yo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>yo.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;pW("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new uO(o)}const pW=(n,...e)=>{},gW={provide:uO,useFactory:RC,deps:[by,Lt,[new Ka,Dy]]};let mW=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:by,useValue:t},{provide:Dy,useValue:r}]}}constructor(t){yo.Z.registerVersion("angularfire",Ty.full,"core"),yo.Z.registerVersion("angularfire",Ty.full,"app-compat"),yo.Z.registerVersion("angular",sP.full,t.toString())}static \u0275fac=function(r){return new(r||n)(le(Uf))};static \u0275mod=Ut({type:n});static \u0275inj=rn({providers:[gW]})}return n})();function lO(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function _W(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(cO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${yW?" You may need to reload as Firebase is not HMR aware.":""}`),cO("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const yW=typeof module<"u"&&!!module.hot,cO=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const MC=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();let gi=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function EW(n){return n&&n instanceof AC||function vW(n){return n&&Qn(n.next)&&Qn(n.error)&&Qn(n.complete)}(n)&&JN(n)}(t)?t:new lp(t,r,i);return wy(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=hO(r))((i,s)=>{const o=new lp({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[MC](){return this}pipe(...t){return function dO(n){return 0===n.length?cp:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=hO(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function hO(n){var e;return null!==(e=n??gl.Promise)&&void 0!==e?e:Promise}const IW=CC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ay=(()=>{class n extends gi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new fO(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new IW}next(t){wy(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){wy(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wy(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?YN:(this.currentObservers=null,s.push(t),new _o(()=>{this.currentObservers=null,vy(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new gi;return t.source=this,t}}return n.create=(e,t)=>new fO(e,t),n})();class fO extends Ay{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:YN}}function xC(n){return n[n.length-1]}function Sy(n){return function wW(n){return n&&Qn(n.schedule)}(xC(n))?n.pop():void 0}const pO=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gO(n){return Qn(n?.then)}function mO(n){return Qn(n[MC])}function _O(n){return Symbol.asyncIterator&&Qn(n?.[Symbol.asyncIterator])}function yO(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const vO=TW();function EO(n){return Qn(n?.[vO])}function IO(n){return(0,Se.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Se.qq)(t.read());if(i)return yield(0,Se.qq)(void 0);yield yield(0,Se.qq)(r)}}finally{t.releaseLock()}})}function wO(n){return Qn(n?.getReader)}function la(n){if(n instanceof gi)return n;if(null!=n){if(mO(n))return function bW(n){return new gi(e=>{const t=n[MC]();if(Qn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pO(n))return function DW(n){return new gi(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(gO(n))return function AW(n){return new gi(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rO)})}(n);if(_O(n))return CO(n);if(EO(n))return function SW(n){return new gi(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(wO(n))return function PW(n){return CO(IO(n))}(n)}throw yO(n)}function CO(n){return new gi(e=>{(function RW(n,e){var t,r,i,s;return(0,Se.mG)(this,void 0,void 0,function*(){try{for(t=(0,Se.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function TO(n,e){if(!n)throw new Error("Iterable cannot be null");return new gi(t=>{iu(t,e,()=>{const r=n[Symbol.asyncIterator]();iu(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ca(n,e){return e?function FW(n,e){if(null!=n){if(mO(n))return function MW(n,e){return la(n).pipe(Dd(e),_l(e))}(n,e);if(pO(n))return function NW(n,e){return new gi(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(gO(n))return function xW(n,e){return la(n).pipe(Dd(e),_l(e))}(n,e);if(_O(n))return TO(n,e);if(EO(n))return function OW(n,e){return new gi(t=>{let r;return iu(t,e,()=>{r=n[vO](),iu(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Qn(r?.return)&&r.return()})}(n,e);if(wO(n))return function kW(n,e){return TO(IO(n),e)}(n,e)}throw yO(n)}(n,e):la(n)}function Pd(...n){return ca(n,Sy(n))}function Oi(n,e){return pi((t,r)=>{let i=0;t.subscribe(Ni(r,s=>{r.next(n.call(e,s,i++))}))})}function bO(n,e,t=1/0){return Qn(e)?bO((r,i)=>Oi((s,o)=>e(r,s,i,o))(la(n(r,i))),t):("number"==typeof e&&(t=e),pi((r,i)=>function VW(n,e,t,r,i,s,o,a){const u=[];let c=0,h=0,g=!1;const m=()=>{g&&!u.length&&!c&&e.complete()},y=D=>c<r?C(D):u.push(D),C=D=>{s&&e.next(D),c++;let A=!1;la(t(D,h++)).subscribe(Ni(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;u.length&&c<r;){const x=u.shift();o?iu(e,o,()=>C(x)):C(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(Ni(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function DO(n=1/0){return bO(cp,n)}const NC=new gi(n=>n.complete());function su(n,e){return pi((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ni(r,u=>{i?.unsubscribe();let c=0;const h=s++;la(n(u,h)).subscribe(i=Ni(r,g=>r.next(e?e(u,g,h,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class BW extends Ay{constructor(e=1/0,t=1/0,r=bC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function OC(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new lp({next:()=>{r.unsubscribe(),n()}});return la(e(...t)).subscribe(r)}function AO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function jW(n={}){const{connector:e=(()=>new Ay),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=g=!1},C=()=>{const D=o;y(),D?.unsubscribe()};return pi((D,A)=>{c++,!g&&!h&&m();const x=u=u??e();A.add(()=>{c--,0===c&&!g&&!h&&(a=OC(C,i))}),x.subscribe(A),!o&&c>0&&(o=new lp({next:U=>x.next(U),error:U=>{g=!0,m(),a=OC(y,t,U),x.error(U)},complete:()=>{h=!0,m(),a=OC(y,r),x.complete()}}),la(D).subscribe(o))})(s)}}({connector:()=>new BW(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const SO=CC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Py(n,e){return pi((t,r)=>{let i=0;t.subscribe(Ni(r,s=>n.call(e,s,i++)&&r.next(s)))})}function zW(n=qW){return pi((e,t)=>{let r=!1;e.subscribe(Ni(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qW(){return new SO}function PO(n,e){return Qn(e)?su(()=>n,e):su(()=>n)}const RO=new ve("angularfire2.auth.use-emulator"),MO=new ve("angularfire2.auth.settings"),xO=new ve("angularfire2.auth.tenant-id"),NO=new ve("angularfire2.auth.langugage-code"),OO=new ve("angularfire2.auth.use-device-language"),kO=new ve("angularfire.auth.persistence"),FO=(n,e,t,r,i,s,o,a)=>lO(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[c,h]of Object.entries(o))u.settings[c]=h;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let Ry=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,u,c,h,g,m,y){const C=new Ay,D=Pd(void 0).pipe(_l(o.outsideAngular),su(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ve.bind(Ve,568)))),Oi(()=>RC(t,s,r)),Oi(A=>FO(A,s,a,c,h,g,u,m)),AO({bufferSize:1,refCount:!1}));if(ax(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pd(null);else{D.pipe(function GW(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Py((i,s)=>n(i,s,r)):cp,function $W(n){return n<=0?()=>NC:pi((e,t)=>{let r=0;e.subscribe(Ni(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}(1),t?function HW(n){return pi((e,t)=>{let r=!1;e.subscribe(Ni(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}(e):zW(()=>new SO))}()).subscribe();const A=D.pipe(su(R=>R.getRedirectResult().then(Q=>Q,()=>null)),ts,AO({bufferSize:1,refCount:!1})),x=D.pipe(su(R=>new gi(Q=>({unsubscribe:s.runOutsideAngular(()=>R.onAuthStateChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))})))),U=D.pipe(su(R=>new gi(Q=>({unsubscribe:s.runOutsideAngular(()=>R.onIdTokenChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))}))));this.authState=A.pipe(PO(x),Dd(o.outsideAngular),_l(o.insideAngular)),this.user=A.pipe(PO(U),Dd(o.outsideAngular),_l(o.insideAngular)),this.idToken=this.user.pipe(su(R=>R?ca(R.getIdToken()):Pd(null))),this.idTokenResult=this.user.pipe(su(R=>R?ca(R.getIdTokenResult()):Pd(null))),this.credential=function UW(...n){const e=Sy(n),t=function CW(n,e){return"number"==typeof xC(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?la(r[0]):DO(t)(ca(r,e)):NC}(A,C,this.authState.pipe(Py(R=>!R))).pipe(Oi(R=>R?.user?R:null),Dd(o.outsideAngular),_l(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(dW.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(c=>t.run(()=>c)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,c)=>o.then(h=>{const g=h?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,g),g})})})}))(this,D,s,{spy:{apply:(A,x,U)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&U.then(R=>C.next(R))}}})}static \u0275fac=function(r){return new(r||n)(le(by),le(Dy,8),le(Uf),le(Lt),le(aO),le(RO,8),le(MO,8),le(xO,8),le(NO,8),le(OO,8),le(kO,8),le(sO,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),KW=(()=>{class n{constructor(){yo.Z.registerVersion("angularfire",Ty.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=rn({providers:[Ry]})}return n})(),kC=(()=>{class n{constructor(t){this.fireAuth=t}signInWithPhoneNumber(t,r){return new Promise((i,s)=>{this.fireAuth.signInWithPhoneNumber(r,t).then(o=>{this.confirmationResult=o,i(o)}).catch(o=>{s("SMS not sent")})})}enterVerificationCode(t){return new Promise((r,i)=>{this.confirmationResult?.confirm(t).then(function(){var s=(0,Y.Z)(function*(o){r(o.user)});return function(o){return s.apply(this,arguments)}}()).catch(s=>{i(s.message)})})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return console.log(t),null!==t}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ry))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZW(n,e){1&n&&(N(0,"a",21),Z(1," Home "),F())}function QW(n,e){1&n&&(N(0,"a",22),Z(1," Cocktails "),F())}function YW(n,e){1&n&&(N(0,"a",23),Z(1," Juices "),F())}function JW(n,e){1&n&&(N(0,"a",24),Z(1," Beverages "),F())}function XW(n,e){1&n&&(N(0,"a",25),Z(1," Fast Food "),F())}function e7(n,e){1&n&&(N(0,"a",26),Ne(1,"img",27),F())}let ou=(()=>{class n{constructor(t){this.router=t}shouldDisplayLink(t){return this.router.url!==t}static#e=this.\u0275fac=function(r){return new(r||n)(W(pr))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-navbar"]],decls:32,vars:6,consts:[[1,"navbar","navbar-expand-lg","sticky-top"],[1,"container-fluid"],[1,"sec-1"],["routerLink","/home",1,"navbar-brand"],["src","../../../../assets/images/navbar/cocktail.gif","alt","logo",1,"brand-logo"],[1,"sec-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-link","routerLink","../home",4,"ngIf"],["class","nav-link","routerLink","../cocktail",4,"ngIf"],["class","nav-link","routerLink","../fruit-juice",4,"ngIf"],["class","nav-link","routerLink","../beverage",4,"ngIf"],["class","nav-link","routerLink","../fast-food",4,"ngIf"],[1,"dropdown-toggle","menu-item"],["src","../../../../assets/images/navbar/profile.png","alt","profile",1,"nav-icons"],[1,"dropdown-menu"],[1,"menu-item"],[1,"item-txt"],["class","nav-link","routerLink","../cart",4,"ngIf"],["routerLink","../home",1,"nav-link"],["routerLink","../cocktail",1,"nav-link"],["routerLink","../fruit-juice",1,"nav-link"],["routerLink","../beverage",1,"nav-link"],["routerLink","../fast-food",1,"nav-link"],["routerLink","../cart",1,"nav-link"],["src","../../../../assets/images/navbar/cart.png","alt","cart",1,"nav-icons"]],template:function(r,i){1&r&&(N(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),Ne(4,"img",4),N(5,"h4"),Z(6,"Cocktail Club"),F()()(),N(7,"div",5)(8,"button",6),Ne(9,"span",7),F(),N(10,"div",8)(11,"div",9),dt(12,ZW,2,0,"a",10),dt(13,QW,2,0,"a",11),dt(14,YW,2,0,"a",12),dt(15,JW,2,0,"a",13),dt(16,XW,2,0,"a",14),N(17,"div")(18,"button",15)(19,"span"),Ne(20,"img",16),F()(),N(21,"ul",17)(22,"li",18)(23,"span",19),Z(24," Gitesh Sharma "),F()(),N(25,"li",18)(26,"span",19),Z(27," Orders "),F()(),N(28,"li",18)(29,"span",19),Z(30," Logout "),F()()()(),dt(31,e7,2,0,"a",20),F()()()()()),2&r&&(ce(12),Ze("ngIf",i.shouldDisplayLink("/home")),ce(1),Ze("ngIf",i.shouldDisplayLink("/cocktail")),ce(1),Ze("ngIf",i.shouldDisplayLink("/fruit-juice")),ce(1),Ze("ngIf",i.shouldDisplayLink("/beverage")),ce(1),Ze("ngIf",i.shouldDisplayLink("/fast-food")),ce(15),Ze("ngIf",i.shouldDisplayLink("/cart")))},dependencies:[aa,Cd],styles:["nav[_ngcontent-%COMP%]{padding-top:0}.container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#ffffff}.nav-link[_ngcontent-%COMP%]{color:#ff6907;font-weight:500;font-size:16px;letter-spacing:1px}.nav-link[_ngcontent-%COMP%]:hover{color:#1e3932}.brand-logo[_ngcontent-%COMP%]{width:100%;height:50px}.nav-icons[_ngcontent-%COMP%]{width:100%;height:30px;padding:0 10px}.navbar-brand[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.navbar-brand[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ff6907;font-size:22px;text-align:center;letter-spacing:2px}#onMobileCartIcon[_ngcontent-%COMP%]{display:none}.dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;border:none;background-color:#fff;width:100%}.menu-item[_ngcontent-%COMP%]:hover{cursor:pointer;color:#1362ff}button[_ngcontent-%COMP%]:focus ~ .dropdown-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:15px 10px;line-height:30px}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{width:100%}.brand-logo[_ngcontent-%COMP%]{width:100%;height:45px}#onMobileCartIcon[_ngcontent-%COMP%]{display:block;height:20px;width:20px}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}}@media only screen and (max-width: 992px){nav[_ngcontent-%COMP%]{width:100%}#onMobileCartIcon[_ngcontent-%COMP%]{display:block}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}}"]})}return n})(),t7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-footer"]],decls:21,vars:0,consts:[[1,"footer"],["id","flex",1,"container"],[1,"sec-1"],[1,"sec-2"],[1,"fa","fa-location-arrow"],[1,"fa","fa-phone"],[1,"fa","fa","fa-envelope"],["id","copyright-section",1,"container"],[1,"text-center"]],template:function(r,i){1&r&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"p"),Z(4,"Thank you for stopping by Cocktail Club \u2013 your ticket to a world of culinary delights! Explore our menu featuring fresh juices, artisanal cocktails, delectable pizzas, juicy burgers, and an array of hot and cold beverages and shakes. Savor the flavors, make memories, and embark on a one-of-a-kind culinary adventure with us."),F()(),N(5,"div",3)(6,"p"),Ne(7,"i",4),Z(8," Shop 15-A,Connaught place, New Delhi "),F(),N(9,"p"),Ne(10,"i",5),Z(11," +91-9900000000 "),F(),N(12,"p"),Ne(13,"i",6),Z(14," info@cocktailclub.com "),F()()(),N(15,"div",7)(16,"p",8),Z(17,"Copyright @2023 "),N(18,"b"),Z(19,"Cocktail Club"),F(),Z(20,"| Designed With Angular and love by Gitesh Sharma"),F()()())},styles:["footer[_ngcontent-%COMP%]{min-height:250px;padding:10px 0 0;margin:110px 0 -44px;border-top:1px solid silver}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding-bottom:0;margin-bottom:8px}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;display:flex;padding-top:10px}.sec-1[_ngcontent-%COMP%]{padding-right:20px;width:80%}#copyright-section[_ngcontent-%COMP%]{border-top:1px solid silver;margin-top:15px;padding-top:10px}@media only screen and (max-width: 768px){footer[_ngcontent-%COMP%]{border-top:1px solid silver}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;flex-direction:column;text-align:justify}.sec-1[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}}"]})}return n})(),n7=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){let t=JSON.parse(localStorage.getItem("user")||"{}");this.userData=t.user.phoneNumber,console.log(this.userData)}getUser(){console.log(this.authService.isLoggedIn)}navigateToTop(){window.scrollTo(0,0)}static#e=this.\u0275fac=function(r){return new(r||n)(W(kC))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-home"]],decls:74,vars:0,consts:[[1,"container-fluid"],[1,"carousel-img-section"],[1,"carousel-sec-1"],[1,"img-sec-1"],["src","../../../../assets/images/home/carousel/cocktail.jpg"],["src","../../../../assets/images/home/carousel/burger.jpg"],[1,"img-sec-2"],["src","../../../../assets/images/home/carousel/coffee.jpg"],["src","../../../../assets/images/home/carousel/juice.jpg"],[1,"carousel-sec-2"],[1,"text-lt"],[1,"text-dk"],[1,"happy-hour-section"],[1,"happy-hour-section-1"],[1,"happy-hour-section-2"],["id","happy-hour-img","src","../../../../assets/images/home/happyhour.jpg"],[1,"imgOnRight-section"],[1,"imgOnRight-left-section"],["routerLink","/cocktail","src","../../../../assets/images/home/cocktail.jpg","alt","cocktail",3,"click"],[1,"imgOnRight-right-section"],["routerLink","/cocktail",1,"btn",3,"click"],["id","sec-1",1,"imgOnLeft-section"],[1,"imgOnLeft-left-section"],["routerLink","/fruit-juice",1,"btn",3,"click"],[1,"imgOnLeft-right-section"],["routerLink","/fruit-juice","src","../../../../assets/images/home/juice.jpg","alt","juice",3,"click"],["id","sec-2",1,"imgOnRight-section"],["routerLink","/beverage","src","../../../../assets/images/home/beverage.jpg","alt","beverage",3,"click"],["routerLink","/beverage",1,"btn",3,"click"],["id","sec-3",1,"imgOnLeft-section"],["routerLink","/fast-food",1,"btn",3,"click"],["routerLink","/fast-food","src","../../../../assets/images/home/fastfood.jpg","alt","fast-food",3,"click"]],template:function(r,i){1&r&&(Ne(0,"app-navbar"),N(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),Ne(5,"img",4)(6,"img",5),F(),N(7,"div",6),Ne(8,"img",7)(9,"img",8),F()(),N(10,"div",9)(11,"h1",10),Z(12,"Bring the bar"),F(),N(13,"h1",11),Z(14,"Home."),F(),N(15,"p"),Z(16," Delivering expertly crafted cocktails, revitalizing fruit juices, a range of hot and cold beverages and delectable fast food to your doorstep. "),F(),N(17,"p"),Z(18," Order Online | Dine Inside | Grab and Go "),F()()(),N(19,"div",12)(20,"div",13)(21,"h1",10),Z(22,"Happy Hour O'clock."),F(),N(23,"p"),Z(24,"Every Friday, 4pm to 8 pm. Free entry & Live music"),F(),N(25,"p"),Z(26,"Buy 1 Get 1 cocktail. Free pizza on order above 999 /-"),F(),N(27,"p"),Z(28,"Beverage, fast food and fruit juices upto 50% off."),F(),N(29,"p"),Z(30,"*Offer applicable on Dine in only."),F()(),N(31,"div",14),Ne(32,"img",15),F()(),N(33,"div",16)(34,"div",17)(35,"img",18),lt("click",function(){return i.navigateToTop()}),F()(),N(36,"div",19)(37,"h1"),Z(38,"Cocktails"),F(),N(39,"p"),Z(40,"Eat. Sleep. Cocktail. Repeat."),F(),N(41,"button",20),lt("click",function(){return i.navigateToTop()}),Z(42,"Explore now"),F()()(),N(43,"div",21)(44,"div",22)(45,"h1"),Z(46,"Fruit Juices"),F(),N(47,"p"),Z(48,"Fresh fruit juices straight from Mother Nature herself."),F(),N(49,"button",23),lt("click",function(){return i.navigateToTop()}),Z(50,"Explore now"),F()(),N(51,"div",24)(52,"img",25),lt("click",function(){return i.navigateToTop()}),F()()(),N(53,"div",26)(54,"div",17)(55,"img",27),lt("click",function(){return i.navigateToTop()}),F()(),N(56,"div",19)(57,"h1"),Z(58,"Beverages"),F(),N(59,"p"),Z(60,"Beverages that refreshes the body. Refreshes the soul."),F(),N(61,"button",28),lt("click",function(){return i.navigateToTop()}),Z(62,"Explore now"),F()()(),N(63,"div",29)(64,"div",22)(65,"h1"),Z(66,"Fast Food"),F(),N(67,"p"),Z(68,"Fast Fuel for Hungry Souls."),F(),N(69,"button",30),lt("click",function(){return i.navigateToTop()}),Z(70,"Explore now"),F()(),N(71,"div",24)(72,"img",31),lt("click",function(){return i.navigateToTop()}),F()()(),Ne(73,"app-footer"),F())},dependencies:[Cd,ou,t7],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff}.carousel-img-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.carousel-sec-2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:40%}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:320px;height:310px}.text-lt[_ngcontent-%COMP%]{font-weight:lighter;font-size:50px;letter-spacing:2px;color:#ff6907}.text-dk[_ngcontent-%COMP%]{font-weight:bolder;font-size:60px;letter-spacing:3px;color:#ff6907}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .happy-hour-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;text-align:justify;line-height:30px;letter-spacing:1px}.happy-hour-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:100px}.happy-hour-section-1[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#happy-hour[_ngcontent-%COMP%]{font-size:35px;color:#ff6907;font-weight:700}#happy-hour-img[_ngcontent-%COMP%]{width:600px;height:600px}.imgOnLeft-section[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]{height:600px;margin-top:80px;display:flex;justify-content:space-around;align-items:center;text-align:center}.imgOnLeft-left-section[_ngcontent-%COMP%], .imgOnRight-right-section[_ngcontent-%COMP%]{padding:60px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff6907;font-weight:700;font-size:50px;letter-spacing:3px;text-transform:uppercase}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1e3932;font-weight:500;font-size:24px;max-width:550px;letter-spacing:1px}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:560px;border-radius:50%;background-color:#fff}.btn[_ngcontent-%COMP%]{padding:10px 30px;border-radius:30px;margin-top:15px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0009}@media only screen and (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{width:100%}.text-lt[_ngcontent-%COMP%]{font-size:30px;letter-spacing:1px}.text-dk[_ngcontent-%COMP%]{font-size:40px;letter-spacing:2px}.carousel-img-section[_ngcontent-%COMP%]{flex-direction:column}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .happy-hour-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;text-align:justify;line-height:0}.carousel-sec-1[_ngcontent-%COMP%]{flex-direction:row}.carousel-sec-2[_ngcontent-%COMP%]{flex-direction:column;width:100%;margin-top:30px}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:100%}.happy-hour-section[_ngcontent-%COMP%]{flex-direction:column;margin-top:30px}.happy-hour-section-1[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#happy-hour-img[_ngcontent-%COMP%]{width:100%;height:100%}.imgOnLeft-section[_ngcontent-%COMP%]{flex-direction:column;margin:-60px 0 0}.imgOnRight-section[_ngcontent-%COMP%]{flex-direction:column-reverse;margin:-60px 0 0}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-60px 0 0}#sec-1[_ngcontent-%COMP%]{margin:-20px 0}#sec-3[_ngcontent-%COMP%]{margin-bottom:-100px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.btn[_ngcontent-%COMP%]{padding:8px 24px;border-radius:30px;margin-top:5px;font-size:14px}}"]})}return n})();const r7=[{id:1,name:"Fresh Orange",price:49,image:"/assets/images/juice/orange.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:2,name:"Mixed Fruit",price:89,image:"/assets/images/juice/mixedfruit.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:3,name:"Lemonade",price:29,image:"/assets/images/juice/lemonade.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:4,name:"Pineapple",price:39,image:"/assets/images/juice/pineapple.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:5,name:"Watermelon",price:39,image:"/assets/images/juice/watermelon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:6,name:"Mango",price:39,image:"/assets/images/juice/mango.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:7,name:"Berry berry",price:39,image:"/assets/images/juice/berryberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],i7=[{id:8,name:"Kiwi",price:89,image:"/assets/images/juice/kiwi.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:9,name:"Mango",price:49,image:"/assets/images/juice/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:10,name:"Strawberry",price:59,image:"/assets/images/juice/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:11,name:"Banana",price:39,image:"/assets/images/juice/banana.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:12,name:"Coconut Crush",price:119,image:"/assets/images/juice/coconutcrush.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:13,name:"Cold coco",price:89,image:"/assets/images/juice/coldcoco.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:14,name:"Chocolate",price:79,image:"/assets/images/juice/chocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],s7=[{id:15,name:"Double patty",price:169,image:"/assets/images/fastfood/doublepatty.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:16,name:"Veggie Burger",price:39,image:"/assets/images/fastfood/veggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:17,name:"Burger + Fries",price:189,image:"/assets/images/fastfood/burger+fries.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:18,name:"Double Burger",price:229,image:"/assets/images/fastfood/doubleburger.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:19,name:"Aaloo tikki",price:59,image:"/assets/images/fastfood/aalootikki.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:20,name:"Black bun",price:199,image:"/assets/images/fastfood/blackbun.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:21,name:"Mexican",price:99,image:"/assets/images/fastfood/mexican.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],o7=[{id:22,name:"Cheesilious pizza",price:699,image:"/assets/images/fastfood/cheesilisious.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:23,name:"Fresh veggie",price:399,image:"/assets/images/fastfood/freshveggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:24,name:"Margherita pizza",price:299,image:"/assets/images/fastfood/margherita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:25,name:"Pepperoni ",price:319,image:"/assets/images/fastfood/pepperoni.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:26,name:"Italian",price:549,image:"/assets/images/fastfood/italian.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:27,name:"Paneer onion",price:249,image:"/assets/images/fastfood/paneeronion.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:28,name:"Tandoori",price:449,image:"/assets/images/fastfood/anycombo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],a7=[{id:29,name:"French Fries",price:49,image:"https://img.freepik.com/free-photo/crispy-french-fries-with-ketchup-mayonnaise_1150-26588.jpg?w=996&t=st=1681408625~exp=1681409225~hmac=146de81cd90a83953a0517c9f425613aac26d79fc32211aeb24a222e8b1cc26e",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],u7=[{id:30,name:"Latte",price:59,image:"/assets/images/beverage/latte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:31,name:"Vanilla Latte",price:99,image:"/assets/images/beverage/vanillalatte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:32,name:"Cappuccino",price:49,image:"/assets/images/beverage/cappuccino.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:33,name:"Espresso",price:49,image:"/assets/images/beverage/espresso.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:34,name:"Americano",price:59,image:"/assets/images/beverage/americano.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:35,name:"Mocha",price:69,image:"/assets/images/beverage/mocha.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:36,name:"Dark Coffee",price:39,image:"/assets/images/beverage/darkcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:37,name:"Ginger Tea",price:19,image:"/assets/images/beverage/gingertea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:38,name:"Cardamom Tea",price:19,image:"/assets/images/beverage/cardamon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:39,name:"Black Tea",price:19,image:"/assets/images/beverage/blacktea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:40,name:"Hot Lemon Tea",price:29,image:"/assets/images/beverage/lemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:41,name:"Lemon grass tea",price:39,image:"/assets/images/beverage/lemongrass.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:42,name:"Masala Latte Tea",price:49,image:"/assets/images/beverage/masalatea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:43,name:"Cookies -6N",price:29,image:"/assets/images/beverage/cookies.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],l7=[{id:44,name:"Unicorn",price:249,image:"/assets/images/beverage/unicorn.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:45,name:"Chocolate Dive",price:149,image:"/assets/images/beverage/chocolatedrive.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:46,name:"Strawberry",price:129,image:"/assets/images/beverage/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:47,name:"Dark Chocolate",price:139,image:"/assets/images/beverage/darkchocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:48,name:"Mango",price:119,image:"/assets/images/beverage/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:49,name:"Cool buzz",price:169,image:"/assets/images/beverage/coolbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:50,name:"Cold Coffee",price:149,image:"/assets/images/beverage/coldcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:51,name:"Oreo Shake",price:169,image:"/assets/images/beverage/oreo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:52,name:"Pink Island",price:189,image:"/assets/images/beverage/pinkisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:53,name:"Choco Overload",price:249,image:"/assets/images/beverage/chocooverload.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:54,name:"Frozen princess",price:229,image:"/assets/images/beverage/frozenprincess.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:55,name:"Iced Tea",price:69,image:"/assets/images/beverage/icedtea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:56,name:"Iced coffee",price:79,image:"/assets/images/beverage/icedcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:57,name:"Iced lemon tea",price:89,image:"/assets/images/beverage/icedlemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],c7=[{id:58,name:"Mojito",price:149,image:"/assets/images/cocktail/mojito.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:59,name:"Gin Buzz",price:349,image:"/assets/images/cocktail/ginbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:60,name:"Cool Blue",price:159,image:"/assets/images/cocktail/coolblue.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:61,name:"Bloody Mary",price:189,image:"/assets/images/cocktail/bloodymary.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:62,name:"Mai Tai",price:199,image:"/assets/images/cocktail/maitai.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:63,name:"Apple Tini",price:139,image:"/assets/images/cocktail/appletini.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:64,name:"Manhattan",price:189,image:"/assets/images/cocktail/manhattan.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:65,name:"Sazerac",price:229,image:"/assets/images/cocktail/sazerac.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:66,name:"Screwdriver",price:239,image:"/assets/images/cocktail/screwdriver.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:67,name:"Long Island",price:279,image:"/assets/images/cocktail/longisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:68,name:"Pina Colada",price:349,image:"/assets/images/cocktail/pinacolada.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:69,name:"Berry Margarita",price:279,image:"/assets/images/cocktail/berrymargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:70,name:"Lime Margarita",price:279,image:"/assets/images/cocktail/limemargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:71,name:"Whiskey Sour",price:279,image:"/assets/images/cocktail/whiskeysour.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}];let dp=(()=>{class n{constructor(){}getCart(){return JSON.parse(localStorage.getItem("cart"))}addToCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.push(t),localStorage.setItem("cart",JSON.stringify(r))}removeFromCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.splice(t,1),localStorage.setItem("cart",JSON.stringify(r))}addQtyToCart(t,r){let i=[];localStorage.getItem("cart")&&(i=JSON.parse(localStorage.getItem("cart"))||[]),i[t].quantity=r,localStorage.setItem("cart",JSON.stringify(i))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class VO{}class d7{}const da="*";function h7(n,e){return{type:7,name:n,definitions:e,options:{}}}function LO(n,e=null){return{type:4,styles:e,timings:n}}function UO(n,e=null){return{type:2,steps:n,options:e}}function hp(n){return{type:6,styles:n,offset:null}}function FC(n,e,t){return{type:0,name:n,styles:e,options:t}}function BO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function jO(n){Promise.resolve().then(n)}class fp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $O{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?jO(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const VC="!",HO=["toast-component",""];function f7(n,e){if(1&n){const t=Xi();N(0,"button",5),lt("click",function(){return dr(t),On(Bt().remove())}),N(1,"span",6),Z(2,"\xd7"),F()()}}function p7(n,e){if(1&n&&(bf(0),Z(1),Df()),2&n){const t=Bt(2);ce(1),vr("[",t.duplicatesCount+1,"]")}}function g7(n,e){if(1&n&&(N(0,"div"),Z(1),dt(2,p7,2,1,"ng-container",4),F()),2&n){const t=Bt();ea(t.options.titleClass),Mi("aria-label",t.title),ce(1),vr(" ",t.title," "),ce(1),Ze("ngIf",t.duplicatesCount)}}function m7(n,e){if(1&n&&Ne(0,"div",7),2&n){const t=Bt();ea(t.options.messageClass),Ze("innerHTML",t.message,tw)}}function _7(n,e){if(1&n&&(N(0,"div",8),Z(1),F()),2&n){const t=Bt();ea(t.options.messageClass),Mi("aria-label",t.message),ce(1),vr(" ",t.message," ")}}function y7(n,e){if(1&n&&(N(0,"div"),Ne(1,"div",9),F()),2&n){const t=Bt();ce(1),id("width",t.width+"%")}}class b7{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class D7{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class A7{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new G;_activate=new G;_manualClose=new G;_resetTimeout=new G;_countDuplicate=new G;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class My{toastId;config;message;title;toastType;toastRef;_onTap=new G;_onAction=new G;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const qO=new ve("ToastConfig");class S7 extends D7{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let P7=(()=>{class n{_document=rt(Wn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class R7{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let M7=(()=>{class n{_overlayContainer=rt(P7);_componentFactoryResolver=rt(jc);_appRef=rt(al);_document=rt(Wn);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new S7(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new R7(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vl=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(Xt.HTML,r));const h=new A7(u),g=new My(this.index,s,c,i,t,h),y=Yi.create({providers:[{provide:My,useValue:g}],parent:this._injector}),C=new b7(s.toastComponent,y),D=u.attach(C,s.newestOnTop);h.componentInstance=D.instance;const A={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:D};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}static \u0275fac=function(r){return new(r||n)(le(qO),le(M7),le(Yi),le(Ox),le(Lt))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const x7={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(W(vl),W(My),W(Lt))};static \u0275cmp=$t({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&lt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Vw("@flyInOut",i.state),ea(i.toastClasses),id("display",i.displayStyle))},standalone:!0,features:[T_],attrs:HO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(dt(0,f7,3,0,"button",0),dt(1,g7,3,5,"div",1),dt(2,m7,1,3,"div",2),dt(3,_7,2,4,"div",3),dt(4,y7,2,2,"div",4)),2&r&&(Ze("ngIf",i.options.closeButton),ce(1),Ze("ngIf",i.title),ce(1),Ze("ngIf",i.message&&i.options.enableHtml),ce(1),Ze("ngIf",i.message&&!i.options.enableHtml),ce(1),Ze("ngIf",i.options.progressBar))},dependencies:[aa],encapsulation:2,data:{animation:[h7("flyInOut",[FC("inactive",hp({opacity:0})),FC("active",hp({opacity:1})),FC("removed",hp({opacity:0})),BO("inactive => active",LO("{{ easeTime }}ms {{ easing }}")),BO("active => removed",LO("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},N7=(n={})=>function Hj(n){return{\u0275providers:n}}([{provide:qO,useValue:{default:x7,config:n}}]);let O7=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[N7(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=rn({})}return n})();function k7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addBurgerToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}function F7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addPizzaToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}let V7=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.burgers=s7,this.pizza=o7,this.fries=a7,this.fastFood=[],this.cart=[],this.existingBurger=!1,this.existingPizza=!1,this.existingFries=!1}addBurgerToCart(t){this.existingBurger=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingBurger=!0)})),this.existingBurger?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}addPizzaToCart(t){this.existingPizza=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingPizza=!0)})),this.existingPizza?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}addFriesToCart(t){this.existingFries=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingFries=!0)})),this.existingFries?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(dp),W(vl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-fast-food"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"app-navbar"),N(2,"h3",1),Z(3,"Burger Bonanza: Bite into Deliciousness"),F(),Ne(4,"hr"),N(5,"div",2),dt(6,k7,15,4,"div",3),F(),N(7,"h3",4),Z(8,"Pizza Paradise: Explore Our Irresistible Pies"),F(),Ne(9,"hr"),N(10,"div",2),dt(11,F7,15,4,"div",3),F()()),2&r&&(ce(6),Ze("ngForOf",i.burgers),ce(5),Ze("ngForOf",i.pizza))},dependencies:[cl,ou]})}return n})();function L7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addJuiceToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}function U7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addShakeToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}let B7=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.juices=r7,this.shakes=i7,this.cart=[],this.existingProduct=!1}addJuiceToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}addShakeToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(dp),W(vl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-fruit-juice"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"app-navbar"),N(2,"h3",1),Z(3,"Quench Your Thirst Naturally: Browse Our Juices"),F(),Ne(4,"hr"),N(5,"div",2),dt(6,L7,15,4,"div",3),F(),N(7,"h3",4),Z(8,"Indulge in Bliss: Our Irresistible Shakes"),F(),Ne(9,"hr"),N(10,"div",2),dt(11,U7,15,4,"div",3),F()()),2&r&&(ce(6),Ze("ngForOf",i.juices),ce(5),Ze("ngForOf",i.shakes))},dependencies:[cl,ou]})}return n})();function j7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addHotBeverageToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}function $7(n,e){if(1&n){const t=Xi();N(0,"div",5)(1,"a"),Ne(2,"img",6),F(),N(3,"div",7)(4,"h5",8),Z(5),F(),N(6,"p",9),Z(7),F(),N(8,"div",10)(9,"div",11)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",12)(14,"img",13),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addColdBeverageToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}let H7=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.hotBeverages=u7,this.hotBeverage=[],this.coldBeverages=l7,this.coldBeverage=[],this.cart=[],this.existingHotBeverages=!1,this.existingColdBeverages=!1}addHotBeverageToCart(t){this.existingHotBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingHotBeverages=!0)})),this.existingHotBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}addColdBeverageToCart(t){this.existingColdBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingColdBeverages=!0)})),this.existingColdBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-right",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-right",timeOut:2e3}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(dp),W(vl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-beverage"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png","alt","addtocart",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"app-navbar"),N(2,"h3",1),Z(3,"Warmth in a Cup: Explore Our Hot Beverages"),F(),Ne(4,"hr"),N(5,"div",2),dt(6,j7,15,4,"div",3),F(),N(7,"h3",4),Z(8,"Icy Bliss: Sip on Our Cold Beverage Collection"),F(),Ne(9,"hr"),N(10,"div",2),dt(11,$7,15,4,"div",3),F()()),2&r&&(ce(6),Ze("ngForOf",i.hotBeverages),ce(5),Ze("ngForOf",i.coldBeverages))},dependencies:[cl,ou]})}return n})();function z7(n,e){if(1&n){const t=Xi();N(0,"div",4)(1,"a"),Ne(2,"img",5),F(),N(3,"div",6)(4,"h5",7),Z(5),F(),N(6,"p",8),Z(7),F(),N(8,"div",9)(9,"div",10)(10,"p")(11,"b"),Z(12),F()()(),N(13,"div",11)(14,"img",12),lt("click",function(){const s=dr(t).$implicit;return On(Bt().addToCart(s))}),F()()()()()}if(2&n){const t=e.$implicit;ce(2),Fs("src",t.image,ao),ce(3),ir(t.name),ce(2),ir(t.description),ce(5),vr("\u20b9 ",t.price,"/-")}}let q7=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.cocktails=c7,this.cocktail=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:2e3}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:2e3}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(dp),W(vl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-cocktail"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"app-navbar"),N(2,"h3",1),Z(3,"Cocktail Connoisseur's Corner: Dive In"),F(),Ne(4,"hr"),N(5,"div",2),dt(6,z7,15,4,"div",3),F()()),2&r&&(ce(6),Ze("ngForOf",i.cocktails))},dependencies:[cl,ou]})}return n})();function G7(n,e){1&n&&(N(0,"div",8)(1,"div",9),Ne(2,"img",10),N(3,"h2",11),Z(4,"404, no delicious food item found !"),F(),N(5,"p",12),Z(6,'Simply click "Explore Now" to peruse our scrumptious menu and load your cart with delightful items.'),F(),N(7,"a",13),Z(8,"Explore Now"),F()()())}function W7(n,e){if(1&n){const t=Xi();N(0,"div",14)(1,"div",15)(2,"a",16),lt("click",function(){const s=dr(t).index;return On(Bt().removeCartItem(s))}),Ne(3,"i",17),F(),N(4,"div",18),Ne(5,"img",19),F(),N(6,"div",20)(7,"div",21)(8,"p",22),Z(9),F(),N(10,"p"),Z(11),F(),N(12,"label"),Z(13,"Quantity"),F(),N(14,"input",23),lt("change",function(i){const o=dr(t).index;return On(Bt().addQty(o,i))}),F(),N(15,"p",24),Z(16),ud(17,"currency"),F()()(),Ne(18,"hr"),F()()}if(2&n){const t=e.$implicit;ce(5),Fs("src",t.image,ao),ce(4),ir(t.name),ce(2),ir(t.description),ce(3),Fs("value",t.quantity),ce(2),vr("",kf(17,5,t.price,"INR"),"/-")}}function K7(n,e){if(1&n){const t=Xi();N(0,"div",25)(1,"div",9)(2,"table",26)(3,"tr")(4,"td"),Z(5,"Total Price"),F(),N(6,"td",27),Z(7),ud(8,"currency"),F()(),N(9,"tr")(10,"td"),Z(11,"Delivery Charge"),F(),N(12,"td",27),Z(13),ud(14,"currency"),F()(),N(15,"tr")(16,"td"),Z(17,"Total Amount"),F(),N(18,"td",28)(19,"b"),Z(20),ud(21,"currency"),F()()()(),Ne(22,"hr"),N(23,"div",29)(24,"button",30),lt("click",function(){return dr(t),On(Bt().placeOrder())}),Ne(25,"i",31),Z(26," Place Order "),F()()()()}if(2&n){const t=Bt();ce(7),ir(kf(8,3,t.productPrice,"INR")),ce(6),ir(kf(14,6,t.deliveryCharge,"INR")),ce(7),vr("",kf(21,9,t.total,"INR")," /-")}}let Z7=(()=>{class n{constructor(t,r){this.appService=t,this.router=r,this.product=[],this.total=0,this.quantity=1,this.totalPrice=0,this.deliveryCharge=40,this.productPrice=0,this.cartProducts=[],this.existingProduct=!1,this.showButton=!1,this.cart=[],this.getCartItems()}getCartItems(){this.cart=this.appService.getCart(),this.cart?(this.doTotal(),this.showButton=this.cart.length>0):this.showButton=!1}addQty(t,r){this.appService.addQtyToCart(t,r.target.value),this.getCartItems()}removeCartItem(t){this.appService.removeFromCart(t),this.getCartItems()}doTotal(){this.total=0,this.cart.forEach(t=>{this.total+=t.price*t.quantity}),this.productPrice=this.total,this.total+=this.deliveryCharge}placeOrder(){this.router.navigate(["/checkout"]),this.getCartItems()}static#e=this.\u0275fac=function(r){return new(r||n)(W(dp),W(pr))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-cart"]],decls:11,vars:3,consts:[[1,"container-fluid"],["class","text-center","id","noItemInCart",4,"ngIf"],[1,"row","m-0"],[1,"col-md-2"],[1,"col-md-4"],["class","mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"total-cart-mobile"],["class","mt-5",4,"ngIf"],["id","noItemInCart",1,"text-center"],[1,"custom-card-body"],["src","../../../../assets/images/navbar/donut.png",1,"cart-icon"],[1,"custom-card-title"],[1,"custom-card-text"],["routerLink","/home",1,"btn"],[1,"mb-3",2,"max-width","540px"],[1,"row","no-gutters"],["data-toggle","tooltip","data-placement","top","title","Remove",1,"text-danger",3,"click"],[1,"fa","fa-x"],[1,"left","col-md-4"],["alt","...",1,"custom-card-image","m-3",3,"src"],[1,"right","col-md-8"],["id","cardBody-mobile",1,"custom-card-body"],["id","itemName",1,"custom-card-title"],["type","number","min","1","max","5",2,"width","40px",3,"value","change"],["id","itemPrice"],[1,"mt-5"],[1,"table"],[1,"td2"],[1,"td2","finalAmount"],[1,"text-center"],[1,"btn","btn-sm","btn-primary","mt-3","mb-3",3,"click"],[1,"fa","fa-shopping-bag","fa-lg","mr-2"]],template:function(r,i){1&r&&(N(0,"div",0),Ne(1,"app-navbar"),dt(2,G7,9,0,"div",1),N(3,"div",2),Ne(4,"div",3),N(5,"div",4),dt(6,W7,19,8,"div",5),F(),Ne(7,"div",3),N(8,"div",4)(9,"div",6),dt(10,K7,27,12,"div",7),F()()()()),2&r&&(ce(2),Ze("ngIf",!i.showButton),ce(4),Ze("ngForOf",i.cart),ce(4),Ze("ngIf",i.showButton))},dependencies:[cl,aa,Cd,ou,sx],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fffff733}.custom-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.custom-card-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-top:20px}.row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;padding:10px 8px}.btn[_ngcontent-%COMP%]{padding:8px 30px;border-radius:30px;margin-top:15px;color:#fff;background-color:#ff6907;border:none;box-shadow:0 2px 2px #0009}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.right[_ngcontent-%COMP%]   #itemName[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.right[_ngcontent-%COMP%]   #itemPrice[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-top:15px}.right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:8px;font-weight:500;font-size:14px}.total-custom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;float:right;right:20px}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}#noItemInCart[_ngcontent-%COMP%]{margin-top:200px;padding:30px;border:1px solid silver}.cart-icon[_ngcontent-%COMP%]{width:100px;height:100px}table[_ngcontent-%COMP%]{display:table}.td2[_ngcontent-%COMP%]{padding:10px 0}.finalAmount[_ngcontent-%COMP%]{padding:10px 0;color:green;font-size:16px}@media only screen and (max-width: 768px){.custom-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:0 auto;margin-bottom:60px!important}.custom-card-image[_ngcontent-%COMP%]{margin:-50px 0 2px;width:120px;height:120px}.btn[_ngcontent-%COMP%]{width:100%}.total-custom-card[_ngcontent-%COMP%]{width:100%;position:relative}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{margin:0 auto}}"]})}return n})(),GO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(W(Yo),W(Qi))},n.\u0275dir=He({type:n}),n})(),El=(()=>{class n extends GO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rr(n)))(r||n)}}(),n.\u0275dir=He({type:n,features:[Ht]}),n})();const vo=new ve("NgValueAccessor"),J7={provide:vo,useExisting:ye(()=>Il),multi:!0},eK=new ve("CompositionEventMode");let Il=(()=>{class n extends GO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X7(){const n=ia()?ia().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Yo),W(Qi),W(eK,8))},n.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&lt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[In([J7]),Ht]}),n})();const tK=!1;function au(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function KO(n){return null!=n&&"number"==typeof n.length}const Wr=new ve("NgValidators"),uu=new ve("NgAsyncValidators"),nK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ha{static min(e){return function ZO(n){return e=>{if(au(e.value)||au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function QO(n){return e=>{if(au(e.value)||au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function YO(n){return au(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function JO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function XO(n){return au(n.value)||nK.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ek(n){return e=>au(e.value)||!KO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tk(n){return e=>KO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return nk(e)}static nullValidator(e){return null}static compose(e){return uk(e)}static composeAsync(e){return lk(e)}}function nk(n){if(!n)return xy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(au(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function xy(n){return null}function rk(n){return null!=n}function ik(n){const e=Af(n)?E(n):n;if(tK&&!Mw(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,t)}return e}function sk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ok(n,e){return e.map(t=>t(n))}function ak(n){return n.map(e=>function rK(n){return!n.validate}(e)?e:t=>e.validate(t))}function uk(n){if(!n)return null;const e=n.filter(rk);return 0==e.length?null:function(t){return sk(ok(t,e))}}function LC(n){return null!=n?uk(ak(n)):null}function lk(n){if(!n)return null;const e=n.filter(rk);return 0==e.length?null:function(t){return function Q7(...n){const e=ps(n),{args:t,keys:r}=Fx(n),i=new pt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let h=0;h<o;h++){let g=!1;At(t[h]).subscribe(pe(s,m=>{g||(g=!0,c--),a[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(c||s.next(r?Lx(r,a):a),s.complete())}))}});return e?i.pipe(Vx(e)):i}(ok(t,e).map(ik)).pipe(De(sk))}}function UC(n){return null!=n?lk(ak(n)):null}function ck(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function dk(n){return n._rawValidators}function hk(n){return n._rawAsyncValidators}function BC(n){return n?Array.isArray(n)?n:[n]:[]}function Ny(n,e){return Array.isArray(n)?n.includes(e):n===e}function fk(n,e){const t=BC(e);return BC(n).forEach(i=>{Ny(t,i)||t.push(i)}),t}function pk(n,e){return BC(e).filter(t=>!Ny(n,t))}class gk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mi extends gk{get formDirective(){return null}get path(){return null}}class lu extends gk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pp=(()=>{class n extends mk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(W(lu,2))},n.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&__("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ht]}),n})(),gp=(()=>{class n extends mk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(W(mi,10))},n.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&__("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ht]}),n})();function _k(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const HC=!1,mp="VALID",ky="INVALID",Rd="PENDING",_p="DISABLED";function zC(n){return(Fy(n)?n.validators:n)||null}function qC(n,e){return(Fy(e)?e.asyncValidators:n)||null}function Fy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function yk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,HC?function aK(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new T(1001,HC?function uK(n,e){return`Cannot find form control ${_k(n,e)}`}(e,t):"")}function vk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new T(1002,HC?function lK(n,e){return`Must supply a value for form control ${_k(n,e)}`}(e,i):"")})}class Vy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mp}get invalid(){return this.status===ky}get pending(){return this.status==Rd}get disabled(){return this.status===_p}get enabled(){return this.status!==_p}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pk(e,this._rawAsyncValidators))}hasValidator(e){return Ny(this._rawValidators,e)}hasAsyncValidator(e){return Ny(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_p,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mp||this.status===Rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_p:mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;const t=ik(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Sn,this.statusChanges=new Sn}_calculateStatus(){return this._allControlsDisabled()?_p:this.errors?ky:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(ky)?ky:mp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cK(n){return Array.isArray(n)?LC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dK(n){return Array.isArray(n)?UC(n):n||null}(this._rawAsyncValidators)}}class Md extends Vy{constructor(e,t,r){super(zC(t),qC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vk(this,!0,e),Object.keys(e).forEach(r=>{yk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Ek extends Md{}const wl=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>yp}),yp="always";function vp(n,e,t=yp){GC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function fK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ik(n,e)})}(n,e),function gK(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ik(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hK(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function By(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GC(n,e){const t=dk(n);null!==e.validator?n.setValidators(ck(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=hk(n);null!==e.asyncValidator?n.setAsyncValidators(ck(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();By(e._rawValidators,i),By(e._rawAsyncValidators,i)}function jy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=dk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=hk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return By(e._rawValidators,r),By(e._rawAsyncValidators,r),t}function Ik(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wk(n,e){GC(n,e)}function KC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ck(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Il?t=s:function yK(n){return Object.getPrototypeOf(n.constructor)===El}(s)?r=s:i=s}),i||r||t||null}const EK={provide:mi,useExisting:ye(()=>$y)},Ep=(()=>Promise.resolve())();let $y=(()=>{class n extends mi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Sn,this.form=new Md({},LC(t),UC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ep.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ep.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ep.then(()=>{const r=this._findContainer(t.path),i=new Md({});wk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ep.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ep.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ck(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(W(Wr,10),W(uu,10),W(wl,8))},n.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([EK]),Ht]}),n})();function Tk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xd=class extends Vy{constructor(e=null,t,r){super(zC(t),qC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({}),n})();const QC=new ve("NgModelWithFormControlWarning"),SK={provide:lu,useExisting:ye(()=>YC)};let YC=(()=>{class n extends lu{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Sn,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=ZC(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Uy(r,this,!1),vp(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}KC(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Uy(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(W(Wr,10),W(uu,10),W(vo,10),W(QC,8),W(wl,8))},n.\u0275dir=He({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[In([SK]),Ht,bi]}),n})();const PK={provide:mi,useExisting:ye(()=>Nd)};let Nd=(()=>{class n extends mi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Sn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Uy(t.control||null,t,!1),function vK(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Ck(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Uy(r||null,t),(n=>n instanceof xd)(i)&&(vp(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);wk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mK(n,e){return jy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GC(this.form,this),this._oldForm&&jy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(W(Wr,10),W(uu,10),W(wl,8))},n.\u0275dir=He({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([PK]),Ht,bi]}),n})();const xK={provide:lu,useExisting:ye(()=>wp)};let wp=(()=>{class n extends lu{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Sn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZC(0,s)}ngOnChanges(t){this._added||this._setUpControl(),KC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ly(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(W(mi,13),W(Wr,10),W(uu,10),W(vo,10),W(QC,8))},n.\u0275dir=He({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[In([xK]),Ht,bi]}),n})(),Cl=(()=>{class n{constructor(){this._validator=xy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,features:[bi]}),n})();const GK={provide:Wr,useExisting:ye(()=>rT),multi:!0};let rT=(()=>{class n extends Cl{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>nk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rr(n)))(r||n)}}(),n.\u0275dir=He({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Mi("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[In([GK]),Ht]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({imports:[Mk]}),n})();class Gk extends Vy{constructor(e,t,r){super(zC(t),qC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vk(this,!1,e),e.forEach((r,i)=>{yk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Wk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let iT=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return Wk(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Md(i,s)}record(t,r=null){const i=this._reduceControls(t);return new Ek(i,r)}control(t,r,i){let s={};return this.useNonNullable?(Wk(r)?s=r:(s.validators=r,s.asyncValidators=i),new xd(t,{...s,nonNullable:!0})):new xd(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new Gk(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof xd||t instanceof Vy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wl,useValue:t.callSetDisabledState??yp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({imports:[qk]}),n})(),zy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:QC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:wl,useValue:t.callSetDisabledState??yp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({imports:[qk]}),n})(),Kk=(()=>{class n{constructor(){}get nativeWindow(){return function WK(){return window}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KK(n,e){1&n&&(N(0,"div",13),Z(1," Invalid Name "),F())}function ZK(n,e){1&n&&(N(0,"div",13),Z(1," Invalid Address "),F())}function QK(n,e){1&n&&(N(0,"div",13),Z(1," Invalid City "),F())}function YK(n,e){1&n&&(N(0,"div",13),Z(1," Invalid State "),F())}function JK(n,e){1&n&&(N(0,"div",13),Z(1," Invalid Zip code "),F())}const XK=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:n7},{path:"fast-food",component:V7},{path:"fruit-juice",component:B7},{path:"beverage",component:H7},{path:"cocktail",component:q7},{path:"cart",component:Z7},{path:"checkout",component:(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.winRef=r,this.router=i,this.toastr=s,this.checkoutForm=t.group({fullName:["",ha.required],address:["",ha.required],city:["",ha.required],state:["",ha.required],zipCode:["",ha.required]})}onSubmit(){this.payWithRazor()}createRzpayOrder(t){console.log(t),this.payWithRazor()}payWithRazor(){const t={key:"rzp_test_pKtL3VyA60NvPP",amount:125500,currency:"INR",name:"Cocktail Club",description:"",id:Math.random().toString(36),prefill:{name:"sai kumar",email:"sai@gmail.com",phone:"9898989898",method:"card"},modal:{escape:!1},notes:{msg:"Thank you for shopping with Cocktail Club"},theme:{color:"#FF6912"}};t.handler=(i,s)=>{t.response=i,console.log(i),console.log(t),this.toastr.success("Order placed successfully","",{positionClass:"toast-top-right",timeOut:3e3}),this.toastr.info("Waiting for Restaurant to accept your order","",{positionClass:"toast-top-right",timeOut:3e3}),this.router.navigate(["/orders"])},t.modal.ondismiss=()=>{console.log("Transaction cancelled."),this.router.navigate(["/cart"])},new this.winRef.nativeWindow.Razorpay(t).open()}static#e=this.\u0275fac=function(r){return new(r||n)(W(iT),W(Kk),W(pr),W(vl))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-checkout"]],decls:29,vars:6,consts:[[1,"containerfull"],[1,"checkout-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Name"],["class","text-danger",4,"ngIf"],["formControlName","address","type","text","placeholder","Address"],["formControlName","city","type","text","placeholder","City"],["formControlName","state","type","text","placeholder","State"],["formControlName","zipCode","type","text","placeholder","Zip Code"],["type","submit",1,"btn"],[1,"text-danger"]],template:function(r,i){1&r&&(Ne(0,"app-navbar"),N(1,"div",0)(2,"div",1)(3,"div",2)(4,"p"),Z(5,"Enter your shipping details"),F()(),N(6,"form",3),lt("ngSubmit",function(){return i.onSubmit()}),N(7,"div",4),Ne(8,"i",5)(9,"input",6),F(),dt(10,KK,2,0,"div",7),N(11,"div",4),Ne(12,"i",5)(13,"input",8),F(),dt(14,ZK,2,0,"div",7),N(15,"div",4),Ne(16,"i",5)(17,"input",9),F(),dt(18,QK,2,0,"div",7),N(19,"div",4),Ne(20,"i",5)(21,"input",10),F(),dt(22,YK,2,0,"div",7),N(23,"div",4),Ne(24,"i",5)(25,"input",11),F(),dt(26,JK,2,0,"div",7),N(27,"button",12),Z(28,"Continue to pay"),F()()()()),2&r&&(ce(6),Ze("formGroup",i.checkoutForm),ce(4),Ze("ngIf",i.checkoutForm.controls.fullName.touched&&i.checkoutForm.controls.fullName.invalid),ce(4),Ze("ngIf",i.checkoutForm.controls.address.touched&&i.checkoutForm.controls.address.invalid),ce(4),Ze("ngIf",i.checkoutForm.controls.city.touched&&i.checkoutForm.controls.city.invalid),ce(4),Ze("ngIf",i.checkoutForm.controls.state.touched&&i.checkoutForm.controls.state.invalid),ce(4),Ze("ngIf",i.checkoutForm.controls.zipCode.touched&&i.checkoutForm.controls.zipCode.invalid))},dependencies:[aa,Ip,Il,pp,gp,Nd,wp,ou],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.checkout-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}p[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 40px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}']})}return n})()},{path:"orders",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-orders"]],decls:33,vars:0,consts:[[1,"container-full"],[1,"main-heading"],[1,"rwd-table"],["data-th","Supplier Code"],["data-th","Supplier Name"],["data-th","Invoice Number"],["data-th","Invoice Date"],["data-th","Due Date"],["data-th","Net Amount"]],template:function(r,i){1&r&&(Ne(0,"app-navbar"),N(1,"div",0)(2,"p",1),Z(3,"Orders"),F(),Ne(4,"br"),N(5,"table",2)(6,"tbody")(7,"tr")(8,"th"),Z(9,"Invoice Id"),F(),N(10,"th"),Z(11,"Date & Time"),F(),N(12,"th"),Z(13,"Order status"),F(),N(14,"th"),Z(15,"Amount"),F(),N(16,"th"),Z(17,"Payment Mode"),F(),N(18,"th"),Z(19,"Net Amount"),F()(),N(20,"tr")(21,"td",3),Z(22," UPS5005 "),F(),N(23,"td",4),Z(24," UPS "),F(),N(25,"td",5),Z(26," ASDF19218 "),F(),N(27,"td",6),Z(28," 06/25/2016 "),F(),N(29,"td",7),Z(30," 12/25/2016 "),F(),N(31,"td",8),Z(32," $8,322.12 "),F()()()()())},dependencies:[ou],styles:['.container-full[_ngcontent-%COMP%]{display:block;text-align:center;padding:10px}.main-heading[_ngcontent-%COMP%]{float:left;margin-bottom:25px}.rwd-table[_ngcontent-%COMP%]{margin:auto;min-width:300px;max-width:100%;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{border-top:none;background:#428bca;color:#fff}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;background-color:#f5f9fc}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd):not(:first-child){background-color:#ebf3f9}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{margin-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{margin-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:120px;display:inline-block;color:#000}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.rwd-table[_ngcontent-%COMP%]{color:#333;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#bfbfbf}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em 1em}@media screen and (max-width: 601px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){border-top:none}}@media screen and (min-width: 600px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:not(:first-child){background-color:#d8e7f3}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}@keyframes _ngcontent-%COMP%_leftRight{0%{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}to{transform:translate(0)}}']})}return n})()}];let eZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[mo.forChild(XK),mo]})}return n})(),tZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[hd,eZ,Hy,zy]})}return n})();const Zk_firebase={apiKey:"AIzaSyBUsQyQzVEpIJ8Ma2xSx1lAe1WHKCQwuGg",authDomain:"cock-tail-club.firebaseapp.com",projectId:"cock-tail-club",storageBucket:"cock-tail-club.appspot.com",messagingSenderId:"980191769451",appId:"1:980191769451:web:02a834b7b5d31fe267522e",measurementId:"G-EHLC69E60D"},Zk_CountryJson=[{name:"India",dial_code:"+91",code:"IN"}];function nZ(n,e){1&n&&(N(0,"div",12),Z(1," Invalid Phone number "),F())}let rZ=(()=>{class n{constructor(t,r,i,s,o){this.formBuilder=t,this.authService=r,this.win=i,this.router=s,this.ngZone=o,this.phoneNumber="",this.OTP="",this.CountryJson=Zk_CountryJson,this.CountryCode="+91",this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}},this.signinForm=t.group({phoneNumber:["9179616052",[ha.required,ha.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]})}ngOnInit(){}markProfileFormTouched(){const t=this.signinForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.signinForm.controls[r].markAsTouched()}onSubmit(t){this.markProfileFormTouched();const r=new yo.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:i=>{}});this.signinForm.value.phoneNumber&&(localStorage.setItem("phoneNumber",JSON.stringify(this.signinForm.value.phoneNumber)),this.authService.signInWithPhoneNumber(r,"+91"+this.signinForm.value.phoneNumber).then(i=>{localStorage.setItem("verificationId",JSON.stringify(i.verificationId)),localStorage.setItem("user",JSON.stringify(this.signinForm.value)),console.log(localStorage.getItem("user")),this.ngZone.run(()=>{this.router.navigate(["/verify-otp"]).then()})}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(iT),W(kC),W(Kk),W(pr),W(Lt))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","eg 9174520052"],["class","text-danger",4,"ngIf"],["id","recaptcha-container"],["type","submit",1,"btn"],["id","termAndConditionsText"],[1,"text-underline"],[1,"text-danger"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),Z(4,"Cocktail Club"),F(),N(5,"p"),Z(6,"Log in or Sign up"),F()(),N(7,"form",3),lt("ngSubmit",function(o){return i.onSubmit(o)}),N(8,"div",4),Ne(9,"i",5)(10,"input",6),F(),dt(11,nZ,2,0,"div",7),Ne(12,"div",8),N(13,"button",9),Z(14,"Continue"),F()(),N(15,"p",10),Z(16,"By continuing, you agree to our "),N(17,"span",11),Z(18,"Terms of service & Privacy policy"),F()()()()),2&r&&(ce(7),Ze("formGroup",i.signinForm),ce(4),Ze("ngIf",i.signinForm.controls.phoneNumber.touched&&i.signinForm.controls.phoneNumber.invalid))},dependencies:[aa,Ip,Il,pp,gp,Nd,wp],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}#termAndConditionsText[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}']})}return n})();Ve(932);var _e,en=Ve(90),Eo=Ve(877),Qk=Ve(859),iZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zs={},sT=sT||{},et=iZ||self;function qy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oT="closure_uid_"+(1e9*Math.random()>>>0),oZ=0;function aZ(n,e,t){return n.call.apply(n.bind,arguments)}function uZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aZ:uZ).apply(null,arguments)}function Gy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function cu(){this.s=this.s,this.o=this.o}cu.prototype.s=!1,cu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sZ(n){Object.prototype.hasOwnProperty.call(n,oT)&&n[oT]||(n[oT]=++oZ)}(this)},cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function aT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Jk(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(qy(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var cZ=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};et.addEventListener("test",t,e),et.removeEventListener("test",t,e)}catch{}return n}();function Tp(n){return/^[\s\xa0]*$/.test(n)}function Wy(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function Io(n){return-1!=Wy().indexOf(n)}function uT(n){return uT[" "](n),n}uT[" "]=function(){};var cT,n,hZ=Io("Opera"),Od=Io("Trident")||Io("MSIE"),Xk=Io("Edge"),lT=Xk||Od,eF=Io("Gecko")&&!(-1!=Wy().toLowerCase().indexOf("webkit")&&!Io("Edge"))&&!(Io("Trident")||Io("MSIE"))&&!Io("Edge"),fZ=-1!=Wy().toLowerCase().indexOf("webkit")&&!Io("Edge");function tF(){var n=et.document;return n?n.documentMode:void 0}e:{var dT="",hT=(n=Wy(),eF?/rv:([^\);]+)(\)|;)/.exec(n):Xk?/Edge\/([\d\.]+)/.exec(n):Od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fZ?/WebKit\/(\S+)/.exec(n):hZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hT&&(dT=hT?hT[1]:""),Od){var fT=tF();if(null!=fT&&fT>parseFloat(dT)){cT=String(fT);break e}}cT=dT}var pZ=et.document&&Od&&(tF()||parseInt(cT,10))||void 0;function bp(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eF){e:{try{uT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bp.$.h.call(this)}}Er(bp,Zr);var gZ={2:"touch",3:"pen",4:"mouse"};bp.prototype.h=function(){bp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dp="closure_listenable_"+(1e6*Math.random()|0),mZ=0;function _Z(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++mZ,this.fa=this.ia=!1}function Ky(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function gT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rF(n){const e={};for(const t in n)e[t]=n[t];return e}const iF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<iF.length;s++)t=iF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zy(n){this.src=n,this.g={},this.h=0}function mT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Yk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ky(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _T(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Zy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=_T(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new _Z(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var yT="closure_lm_"+(1e6*Math.random()|0),vT={};function oF(n,e,t,r,i){if(r&&r.once)return uF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oF(n,e[s],t,r,i);return null}return t=CT(t),n&&n[Dp]?n.O(e,t,Cp(r)?!!r.capture:!!r,i):aF(n,e,t,!1,r,i)}function aF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Cp(i)?!!i.capture:!!i,a=IT(n);if(a||(n[yT]=a=new Zy(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function vZ(){const e=EZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(cF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uF(n,e[s],t,r,i);return null}return t=CT(t),n&&n[Dp]?n.P(e,t,Cp(r)?!!r.capture:!!r,i):aF(n,e,t,!0,r,i)}function lF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lF(n,e[s],t,r,i);else r=Cp(r)?!!r.capture:!!r,t=CT(t),n&&n[Dp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_T(s=n.g[e],t,r,i))&&(Ky(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=IT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_T(e,t,r,i)),(t=-1<n?e[n]:null)&&ET(t))}function ET(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dp])mT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=IT(e))?(mT(t,n),0==t.h&&(t.src=null,e[yT]=null)):Ky(n)}}}function cF(n){return n in vT?vT[n]:vT[n]="on"+n}function EZ(n,e){if(n.fa)n=!0;else{e=new bp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ET(n),n=t.call(r,e)}return n}function IT(n){return(n=n[yT])instanceof Zy?n:null}var wT="__closure_events_fn_"+(1e9*Math.random()>>>0);function CT(n){return"function"==typeof n?n:(n[wT]||(n[wT]=function(e){return n.handleEvent(e)}),n[wT])}function Ir(){cu.call(this),this.i=new Zy(this),this.S=this,this.J=null}function Or(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var i=e;sF(e=new Zr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Qy(o,r,!0,e)&&i}if(i=Qy(o=e.g=n,r,!0,e)&&i,i=Qy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Qy(o=e.g=t[s],r,!1,e)&&i}function Qy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&mT(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Er(Ir,cu),Ir.prototype[Dp]=!0,Ir.prototype.removeEventListener=function(n,e,t,r){lF(this,n,e,t,r)},Ir.prototype.N=function(){if(Ir.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ky(t[r]);delete n.g[e],n.h--}}this.J=null},Ir.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ir.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var TT=et.JSON.stringify;function wZ(){var n=bT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dF=new class IZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new TZ,n=>n.reset());class TZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function DZ(n){et.setTimeout(()=>{throw n},0)}let Ap,Sp=!1,bT=new class CZ{constructor(){this.h=this.g=null}add(e,t){const r=dF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},hF=()=>{const n=et.Promise.resolve(void 0);Ap=()=>{n.then(AZ)}};var AZ=()=>{for(var n;n=wZ();){try{n.h.call(n.g)}catch(t){DZ(t)}var e=dF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sp=!1};function Yy(n,e){Ir.call(this),this.h=n||1,this.g=e||et,this.j=Kr(this.qb,this),this.l=Date.now()}function DT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function AT(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function fF(n){n.g=AT(()=>{n.g=null,n.i&&(n.i=!1,fF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(Yy,Ir),(_e=Yy.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Or(this,"tick"),this.ga&&(DT(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){Yy.$.N.call(this),DT(this),delete this.g};class SZ extends cu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fF(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pp(n){cu.call(this),this.h=n,this.g={}}Er(Pp,cu);var pF=[];function gF(n,e,t,r){Array.isArray(t)||(t&&(pF[0]=t.toString()),t=pF);for(var i=0;i<t.length;i++){var s=oF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function mF(n){gT(n.g,function(e,t){this.g.hasOwnProperty(t)&&ET(e)},n),n.g={}}function Jy(){this.g=!0}function kd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return TT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Pp.prototype.N=function(){Pp.$.N.call(this),mF(this)},Pp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jy.prototype.Ea=function(){this.g=!1},Jy.prototype.info=function(){};var Tl={},_F=null;function Xy(){return _F=_F||new Ir}function yF(n){Zr.call(this,Tl.Ta,n)}function Rp(n){const e=Xy();Or(e,new yF(e))}function vF(n,e){Zr.call(this,Tl.STAT_EVENT,n),this.stat=e}function _i(n){const e=Xy();Or(e,new vF(e,n))}function EF(n,e){Zr.call(this,Tl.Ua,n),this.size=e}function Mp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}Tl.Ta="serverreachability",Er(yF,Zr),Tl.STAT_EVENT="statevent",Er(vF,Zr),Tl.Ua="timingevent",Er(EF,Zr);var ev={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},IF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ST(){}function CF(){}ST.prototype.h=null;var MT,xp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function PT(){Zr.call(this,"d")}function RT(){Zr.call(this,"c")}function tv(){}function Np(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Pp(this),this.P=NZ,this.V=new Yy(n=lT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TF}function TF(){this.i=null,this.g="",this.h=!1}Er(PT,Zr),Er(RT,Zr),Er(tv,ST),tv.prototype.g=function(){return new XMLHttpRequest},tv.prototype.i=function(){return{}},MT=new tv;var NZ=45e3,bF={},xT={};function NT(n,e,t){n.L=1,n.A=sv(fa(e)),n.u=t,n.S=!0,DF(n,null)}function DF(n,e){n.G=Date.now(),Op(n),n.B=fa(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),FF(t.i,"t",r),n.o=0,t=n.l.J,n.h=new TF,n.g=oV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new SZ(Kr(n.Pa,n,n.g),n.O)),gF(n.U,n.g,"readystatechange",n.nb),e=n.I?rF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Rp(),function PZ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var g=h.split("_");o=2<=g.length&&"type"==g[1]?o+(h+"=")+c+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function AF(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function SF(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=OZ(n,t),i==xT){4==e&&(n.s=4,_i(14),r=!1),kd(n.j,n.m,null,"[Incomplete Response]");break}if(i==bF){n.s=4,_i(15),kd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}kd(n.j,n.m,i,null),OT(n,i)}AF(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,_i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jT(e),e.M=!0,_i(11))):(kd(n.j,n.m,t,"[Invalid Chunked Response]"),bl(n),kp(n))}function OZ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?xT:(t=Number(e.substring(t,r)),isNaN(t)?bF:(r+=1)+t>e.length?xT:(e=e.slice(r,r+t),n.o=r+t,e))}function Op(n){n.Y=Date.now()+n.P,PF(n,n.P)}function PF(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Mp(Kr(n.lb,n),e)}function nv(n){n.C&&(et.clearTimeout(n.C),n.C=null)}function kp(n){0==n.l.H||n.J||nV(n.l,n)}function bl(n){nv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,DT(n.V),mF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function OT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||kT(t.i,n)))if(!n.K&&kT(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;dv(t),lv(t)}BT(t),_i(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Mp(Kr(t.ib,t),6e3));if(1>=UF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Al(t,11)}else if((n.K||t.g==n)&&dv(t),!Tp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const g=c[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const C=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;s.g||-1==C.indexOf("spdy")&&-1==C.indexOf("quic")&&-1==C.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(FT(s,s.h),s.h=null))}if(r.F){const D=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,hn(r.I,r.F,D))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=sV(r,r.J?r.pa:null,r.Y),o.K){BF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(nv(a),Op(a)),r.g=o}else eV(r);0<t.j.length&&cv(t)}else"stop"!=c[0]&&"close"!=c[0]||Al(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Al(t,7):UT(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Rp()}catch{}}function RF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function kZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(_e=Np.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==wo(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const h=wo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||lT||this.g&&(this.h.h||this.g.ja()||KF(this.g)))){this.J||4!=h||7==e||Rp(),nv(this);var t=this.g.da();this.ca=t;t:if(AF(this)){var r=KF(this.g);n="";var i=r.length,s=4==wo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bl(this),kp(this);var o="";break t}this.h.i=new et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function RZ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,_i(12),bl(this),kp(this);break e}kd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OT(this,t)}this.S?(SF(this,h,o),lT&&this.i&&3==h&&(gF(this.U,this.V,"tick",this.mb),this.V.start())):(kd(this.j,this.m,o,null),OT(this,o)),4==h&&bl(this),this.i&&!this.J&&(4==h?nV(this.l,this):(this.i=!1,Op(this)))}else(function eQ(n){const e={};n=(n.g&&2<=wo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Tp(n[r]))continue;var t=bZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function yZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,_i(12)):(this.s=0,_i(13)),bl(this),kp(this)}}}catch{}},_e.mb=function(){if(this.g){var n=wo(this.g),e=this.g.ja();this.o<e.length&&(nv(this),SF(this,n,e),this.i&&4!=n&&Op(this))}},_e.cancel=function(){this.J=!0,bl(this)},_e.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function MZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Rp(),_i(17)),bl(this),this.s=2,kp(this)):PF(this,this.Y-n)};var MF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dl){this.h=n.h,rv(this,n.j),this.s=n.s,this.g=n.g,iv(this,n.m),this.l=n.l;var e=n.i,t=new Lp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xF(this,t),this.o=n.o}else n&&(e=String(n).match(MF))?(this.h=!1,rv(this,e[1]||"",!0),this.s=Fp(e[2]||""),this.g=Fp(e[3]||"",!0),iv(this,e[4]),this.l=Fp(e[5]||"",!0),xF(this,e[6]||"",!0),this.o=Fp(e[7]||"")):(this.h=!1,this.i=new Lp(null,this.h))}function fa(n){return new Dl(n)}function rv(n,e,t){n.j=t?Fp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xF(n,e,t){e instanceof Lp?(n.i=e,function HZ(n,e){e&&!n.j&&(du(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OF(this,r),FF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vp(e,jZ)),n.i=new Lp(e,n.h))}function hn(n,e,t){n.i.set(e,t)}function sv(n){return hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,LZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function LZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vp(e,NF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vp(e,NF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vp(t,"/"==t.charAt(0)?BZ:UZ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vp(t,$Z)),n.join("")};var NF=/[#\/\?@]/g,UZ=/[#\?:]/g,BZ=/[#\?]/g,jZ=/[#\?@]/g,$Z=/#/g;function Lp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function du(n){n.g||(n.g=new Map,n.h=0,n.i&&function VZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OF(n,e){du(n),e=Fd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kF(n,e){return du(n),e=Fd(n,e),n.g.has(e)}function FF(n,e,t){OF(n,e),0<t.length&&(n.i=null,n.g.set(Fd(n,e),aT(t)),n.h+=t.length)}function Fd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VF(n){this.l=n||qZ,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Lp.prototype).add=function(n,e){du(this),this.i=null,n=Fd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){du(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_e.ta=function(){du(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},_e.Z=function(n){du(this);let e=[];if("string"==typeof n)kF(this,n)&&(e=e.concat(this.g.get(Fd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return du(this),this.i=null,kF(this,n=Fd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var qZ=10;function LF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UF(n){return n.h?1:n.g?n.g.size:0}function kT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FT(n,e){n.g?n.g.add(e):n.h=e}function BF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return aT(n.i)}VF.prototype.cancel=function(){if(this.i=jF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var GZ=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function WZ(){this.g=new GZ}function KZ(n,e,t){const r=t||"";try{RF(n,function(i,s){let o=i;Cp(i)&&(o=TT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ov(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Up(n){this.l=n.ec||null,this.j=n.ob||!1}function av(n,e){Ir.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=VT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er(Up,ST),Up.prototype.g=function(){return new av(this.l,this.j)},Up.prototype.i=function(n){return function(){return n}}({}),Er(av,Ir);var VT=0;function $F(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Bp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jp(n)}function jp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=av.prototype).open=function(n,e){if(this.readyState!=VT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jp(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=VT},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jp(this)),this.g&&(this.readyState=3,jp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$F(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bp(this):jp(this),3==this.readyState&&$F(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,Bp(this))},_e.Ya=function(n){this.g&&(this.response=n,Bp(this))},_e.ka=function(){this.g&&Bp(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(av.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QZ=et.JSON.parse;function Fn(n){Ir.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HF,this.L=this.M=!1}Er(Fn,Ir);var HF="",YZ=/^https?$/i,JZ=["POST","PUT"];function zF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qF(n),uv(n)}function qF(n){n.F||(n.F=!0,Or(n,"complete"),Or(n,"error"))}function GF(n){if(n.h&&typeof sT<"u"&&(!n.C[1]||4!=wo(n)||2!=n.da()))if(n.v&&4==wo(n))AT(n.La,0,n);else if(Or(n,"readystatechange"),4==wo(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(MF)[1]||null;!i&&et.self&&et.self.location&&(i=et.self.location.protocol.slice(0,-1)),r=!YZ.test(i?i.toLowerCase():"")}t=r}if(t)Or(n,"complete"),Or(n,"success");else{n.m=6;try{var s=2<wo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",qF(n)}}finally{uv(n)}}}function uv(n,e){if(n.g){WF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Or(n,"ready");try{t.onreadystatechange=r}catch{}}}function WF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function wo(n){return n.g?n.g.readyState:0}function KF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZF(n){let e="";return gT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function LT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ZF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hn(n,e,t))}function $p(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QF(n){this.Ga=0,this.j=[],this.l=new Jy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$p("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$p("baseRetryDelayMs",5e3,n),this.hb=$p("retryDelaySeedMs",1e4,n),this.eb=$p("forwardChannelMaxRetries",2,n),this.xa=$p("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VF(n&&n.concurrentRequestLimit),this.Ja=new WZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function UT(n){if(YF(n),3==n.H){var e=n.W++,t=fa(n.I);if(hn(t,"SID",n.K),hn(t,"RID",e),hn(t,"TYPE","terminate"),Hp(n,t),(e=new Np(n,n.l,e)).L=2,e.A=sv(fa(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.A,t=!0),t||(e.g=oV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Op(e)}iV(n)}function lv(n){n.g&&(jT(n),n.g.cancel(),n.g=null)}function YF(n){lv(n),n.u&&(et.clearTimeout(n.u),n.u=null),dv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function cv(n){if(!LF(n.i)&&!n.m){n.m=!0;var e=n.Na;Ap||hF(),Sp||(Ap(),Sp=!0),bT.add(e,n),n.C=0}}function JF(n,e){var t;t=e?e.m:n.W++;const r=fa(n.I);hn(r,"SID",n.K),hn(r,"RID",t),hn(r,"AID",n.V),Hp(n,r),n.o&&n.s&&LT(r,n.o,n.s),t=new Np(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=XF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),FT(n.i,t),NT(t,r,e)}function Hp(n,e){n.na&&gT(n.na,function(t,r){hn(e,r,t)}),n.h&&RF({},function(t,r){hn(e,r,t)})}function XF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Kr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const h=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{KZ(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function eV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ap||hF(),Sp||(Ap(),Sp=!0),bT.add(e,n),n.A=0}}function BT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Mp(Kr(n.Ma,n),rV(n,n.A)),n.A++,0))}function jT(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function tV(n){n.g=new Np(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=fa(n.wa);hn(e,"RID","rpc"),hn(e,"SID",n.K),hn(e,"AID",n.V),hn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&hn(e,"TO",n.qa),hn(e,"TYPE","xmlhttp"),Hp(n,e),n.o&&n.s&&LT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=sv(fa(e)),t.u=null,t.S=!0,DF(t,n)}function dv(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function nV(n,e){var t=null;if(n.g==e){dv(n),jT(n),n.g=null;var r=2}else{if(!kT(n.i,e))return;t=e.F,BF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Or(r=Xy(),new EF(r,t)),cv(n)}else eV(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function tQ(n,e){return!(UF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Mp(Kr(n.Na,n,e),rV(n,n.C)),n.C++,0)))}(n,e)||2==r&&BT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Al(n,5);break;case 4:Al(n,10);break;case 3:Al(n,6);break;default:Al(n,2)}}function rV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Al(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Kr(n.pb,n);t||(t=new Dl("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||rv(t,"https"),sv(t)),function ZZ(n,e){const t=new Jy;if(et.Image){const r=new Image;r.onload=Gy(ov,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gy(ov,t,r,"TestLoadImage: error",!1,e),r.onabort=Gy(ov,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gy(ov,t,r,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _i(2);n.H=0,n.h&&n.h.za(e),iV(n),YF(n)}function iV(n){if(n.H=0,n.ma=[],n.h){const e=jF(n.i);(0!=e.length||0!=n.j.length)&&(Jk(n.ma,e),Jk(n.ma,n.j),n.i.i.length=0,aT(n.j),n.j.length=0),n.h.ya()}}function sV(n,e,t){var r=t instanceof Dl?fa(t):new Dl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),iv(r,r.m);else{var i=et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Dl(null);r&&rv(s,r),e&&(s.g=e),i&&iv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&hn(r,t,e),hn(r,"VER",n.ra),Hp(n,r),r}function oV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fn(n.Ha&&!n.va?new Up({ob:t}):n.va)).Oa(n.J),e}function aV(){}function hv(){if(Od&&!(10<=Number(pZ)))throw Error("Environmental error: no available transport.")}function ns(n,e){Ir.call(this),this.g=new QF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Tp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vd(this)}function uV(n){PT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lV(){RT.call(this),this.status=1}function Vd(n){this.g=n}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $T(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function zt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(_e=Fn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MT.g(),this.C=function wF(n){return n.h||(n.h=n.i())}(this.u?this.u:MT),this.g.onreadystatechange=Kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void zF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=et.FormData&&n instanceof et.FormData,!(0<=Yk(JZ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WF(this),0<this.B&&((this.L=function XZ(n){return Od&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.ua,this)):this.A=AT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){zF(this,s)}},_e.ua=function(){typeof sT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Or(this,"complete"),Or(this,"abort"),uv(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uv(this,!0)),Fn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?GF(this):this.kb())},_e.kb=function(){GF(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<wo(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QZ(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=QF.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Np(this,this.l,n);let s=this.s;if(this.U&&(s?(s=rF(s),sF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XF(this,i,e),hn(t=fa(this.I),"RID",n),hn(t,"CVER",22),this.F&&hn(t,"X-HTTP-Session-Id",this.F),Hp(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(ZF(s)))+"&"+e:this.o&&LT(t,this.o,s)),FT(this.i,i),this.bb&&hn(t,"TYPE","init"),this.P?(hn(t,"$req",e),hn(t,"SID","null"),i.aa=!0,NT(i,t,null)):NT(i,t,e),this.H=2}}else 3==this.H&&(n?JF(this,n):0==this.j.length||LF(this.i)||JF(this))},_e.Ma=function(){if(this.u=null,tV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Mp(Kr(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_i(10),lv(this),tV(this))},_e.ib=function(){null!=this.v&&(this.v=null,lv(this),BT(this),_i(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_i(2)):(this.l.info("Failed to ping google.com"),_i(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=aV.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},hv.prototype.g=function(n,e){return new ns(n,e)},Er(ns,Ir),ns.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_i(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=sV(n,null,n.Y),cv(n)},ns.prototype.close=function(){UT(this.g)},ns.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=TT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&cv(e)},ns.prototype.N=function(){this.g.h=null,delete this.j,UT(this.g),delete this.g,ns.$.N.call(this)},Er(uV,PT),Er(lV,RT),Er(Vd,aV),Vd.prototype.Ba=function(){Or(this.g,"a")},Vd.prototype.Aa=function(n){Or(this.g,new uV(n))},Vd.prototype.za=function(n){Or(this.g,new lV)},Vd.prototype.ya=function(){Or(this.g,"b")},Er(qs,function nQ(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)$T(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){$T(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){$T(this,r),i=0;break}}this.h=i,this.i+=e},qs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var rQ={};function HT(n){return-128<=n&&128>n?function dZ(n,e){var t=rQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zt([0|e],0>e?-1:0)}):new zt([0|n],0>n?-1:0)}function Co(n){if(isNaN(n)||!isFinite(n))return Ld;if(0>n)return kr(Co(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zT;return new zt(e,0)}var zT=4294967296,Ld=HT(0),qT=HT(1),dV=HT(16777216);function pa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ts(n){return-1==n.h}function kr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zt(t,~n.h).add(qT)}function fv(n,e){return n.add(kr(e))}function pv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function zp(n,e){this.g=n,this.h=e}function gv(n,e){if(pa(e))throw Error("division by zero");if(pa(n))return new zp(Ld,Ld);if(Ts(n))return e=gv(kr(n),e),new zp(kr(e.g),kr(e.h));if(Ts(e))return e=gv(n,kr(e)),new zp(kr(e.g),e.h);if(30<n.g.length){if(Ts(n)||Ts(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qT,r=e;0>=r.X(n);)t=hV(t),r=hV(r);var i=Ud(t,1),s=Ud(r,1);for(r=Ud(r,2),t=Ud(t,2);!pa(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Ud(r,1),t=Ud(t,1)}return e=fv(n,i.R(e)),new zp(i,e)}for(i=Ld;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Co(t)).R(e);Ts(o)||0<o.X(n);)o=(s=Co(t-=r)).R(e);pa(s)&&(s=qT),i=i.add(s),n=fv(n,o)}return new zp(i,n)}function hV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zt(t,n.h)}function Ud(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new zt(i,n.h)}(_e=zt.prototype).ea=function(){if(Ts(this))return-kr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zT+r)*e,e*=zT}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(pa(this))return"0";if(Ts(this))return"-"+kr(this).toString(n);for(var e=Co(Math.pow(n,6)),t=this,r="";;){var i=gv(t,e).g,s=((0<(t=fv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(pa(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return Ts(n=fv(this,n))?-1:pa(n)?0:1},_e.abs=function(){return Ts(this)?kr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new zt(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(pa(this)||pa(n))return Ld;if(Ts(this))return Ts(n)?kr(this).R(kr(n)):kr(kr(this).R(n));if(Ts(n))return kr(this.R(kr(n)));if(0>this.X(dV)&&0>n.X(dV))return Co(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,pv(t,2*r+2*i),t[2*r+2*i+1]+=s*u,pv(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,pv(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,pv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zt(t,0)},_e.gb=function(n){return gv(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zt(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zt(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zt(t,this.h^n.h)},hv.prototype.createWebChannel=hv.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,ev.NO_ERROR=0,ev.TIMEOUT=8,ev.HTTP_ERROR=6,IF.COMPLETE="complete",CF.EventType=xp,xp.OPEN="a",xp.CLOSE="b",xp.ERROR="c",xp.MESSAGE="d",Ir.prototype.listen=Ir.prototype.O,Fn.prototype.listenOnce=Fn.prototype.P,Fn.prototype.getLastError=Fn.prototype.Sa,Fn.prototype.getLastErrorCode=Fn.prototype.Ia,Fn.prototype.getStatus=Fn.prototype.da,Fn.prototype.getResponseJson=Fn.prototype.Wa,Fn.prototype.getResponseText=Fn.prototype.ja,Fn.prototype.send=Fn.prototype.ha,Fn.prototype.setWithCredentials=Fn.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,zt.prototype.add=zt.prototype.add,zt.prototype.multiply=zt.prototype.R,zt.prototype.modulo=zt.prototype.gb,zt.prototype.compare=zt.prototype.X,zt.prototype.toNumber=zt.prototype.ea,zt.prototype.toString=zt.prototype.toString,zt.prototype.getBits=zt.prototype.D,zt.fromNumber=Co,zt.fromString=function cV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return kr(cV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Co(Math.pow(e,8)),r=Ld,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Co(Math.pow(e,s)),r=r.R(s).add(Co(o))):r=(r=r.R(t)).add(Co(o))}return r};var iQ=zs.createWebChannelTransport=function(){return new hv},sQ=zs.getStatEventTarget=function(){return Xy()},GT=zs.ErrorCode=ev,oQ=zs.EventType=IF,aQ=zs.Event=Tl,fV=zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mv=(zs.FetchXmlHttpFactory=Up,zs.WebChannel=CF),uQ=zs.XhrIo=Fn,lQ=zs.Md5=qs,Bd=zs.Integer=zt;const pV="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let jd="10.7.0";const hu=new Eo.Yd("@firebase/firestore");function $d(){return hu.logLevel}function ae(n,...e){if(hu.logLevel<=Eo.in.DEBUG){const t=e.map(WT);hu.debug(`Firestore (${jd}): ${n}`,...t)}}function Yn(n,...e){if(hu.logLevel<=Eo.in.ERROR){const t=e.map(WT);hu.error(`Firestore (${jd}): ${n}`,...t)}}function ki(n,...e){if(hu.logLevel<=Eo.in.WARN){const t=e.map(WT);hu.warn(`Firestore (${jd}): ${n}`,...t)}}function WT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function be(n="Unexpected state"){const e=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function Oe(n,e){n||be()}function de(n,e){return n}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class fQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pQ{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,Y.Z)(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe("string"==typeof r.accessToken),new gV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(null===e||"string"==typeof e),new wr(e)}}class gQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new gQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Q{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe("string"==typeof t.token),this.R=t.token,new mV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _V{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function Hd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function yV(n){return n+"\0"}class wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new wn(0,0))}static max(){return new ke(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qp{constructor(e,t,r){void 0===t?t=0:t>e.length&&be(),void 0===r?r=e.length-t:r>e.length-t&&be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class St extends qp{construct(e,t,r){return new St(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new St(t)}static emptyPath(){return new St([])}}const vQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends qp{construct(e,t,r){return new fn(e,t,r)}static isValidIdentifier(e){return vQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(St.fromString(e))}static fromName(e){return new fe(St.fromString(e).popFirst(5))}static empty(){return new fe(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===St.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new St(e.slice()))}}class zd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function KT(n){return n.fields.find(e=>2===e.kind)}function Sl(n){return n.fields.filter(e=>2!==e.kind)}zd.UNKNOWN_ID=-1;class Pl{constructor(e,t){this.fieldPath=e,this.kind=t}}class qd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qd(0,rs.min())}}function vV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new wn(t+1,0):new wn(t,r));return new rs(i,fe.empty(),e)}function EV(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rs(ke.min(),fe.empty(),-1)}static max(){return new rs(ke.max(),fe.empty(),-1)}}function ZT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=fe.comparator(n.documentKey,e.documentKey),0!==t?t:Qe(n.largestBatchId,e.largestBatchId))}const IV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fu(n){return QT.apply(this,arguments)}function QT(){return QT=(0,Y.Z)(function*(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==IV)throw n;ae("LocalStore","Unexpectedly lost primary lease")}),QT.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,r)=>{t(e)})}static reject(e){return new V((t,r)=>{r(e)})}static waitFor(e){return new V((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=V.resolve(!1);for(const r of e)t=t.next(i=>i?V.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new V((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class _v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new gr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Gp(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=YT(r.target.error);this.V.reject(new Gp(e,i))}}static open(e,t,r,i){try{return new _v(t,e.transaction(i,r))}catch(s){throw new Gp(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CQ(t)}}class Gs{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Gs.S((0,en.z$)())&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ae("SimpleDb","Removing database:",e),Rl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,en.hl)())return!1;if(Gs.C())return!0;const e=(0,en.z$)(),t=Gs.S(e),r=0<t&&t<10,i=Gs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Y.Z)(function*(){return t.db||(ae("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Gp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new re(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Gp(e,a))},s.onupgradeneeded=o=>{ae("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ae("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Y.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=_v.open(s.db,e,o?"readonly":"readwrite",r),c=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),V.reject(h))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,h="FirebaseError"!==c.name&&a<3;if(ae("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Rl(this.k.delete())}}class Gp extends re{constructor(e,t){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pu(n){return"IndexedDbTransactionError"===n.name}class CQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ae("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rl(r)}add(e){return ae("SimpleDb","ADD",this.store.name,e,e),Rl(this.store.add(e))}get(e){return Rl(this.store.get(e)).next(t=>(void 0===t&&(t=null),ae("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ae("SimpleDb","DELETE",this.store.name,e),Rl(this.store.delete(e))}count(){return ae("SimpleDb","COUNT",this.store.name),Rl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new V((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){ae("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new V((r,i)=>{t.onerror=s=>{const o=YT(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new wQ(a),c=t(a.primaryKey,a.value,u);if(c instanceof V){const h=c.catch(g=>(u.done(),V.reject(g)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>V.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rl(n){return new V((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=YT(r.target.error);t(i)}})}let CV=!1;function YT(n){const e=Gs.S((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CV||(CV=!0,setTimeout(()=>{throw r},0)),r}}return n}class TQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ae("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Y.Z)(function*(){t.task=null;try{ae("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){pu(r)?ae("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield fu(r)}yield t.ee(6e4)}))}}class bQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return V.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ae("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ae("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=EV(s);ZT(o,r)>0&&(r=o)}),new rs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let is=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Wp(n){return null==n}function Kp(n){return 0===n&&1/n==-1/0}function TV(n){return"number"==typeof n&&Number.isInteger(n)&&!Kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bV(e)),e=DQ(n.get(t),e);return bV(e)}function DQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function bV(n){return n+"\x01\x01"}function To(n){const e=n.length;if(Oe(e>=2),2===e)return Oe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),St.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&be(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:be()}s=o+2}return new St(r)}const DV=["userId","batchId"];function yv(n,e){return[n,Qr(e)]}function AV(n,e,t){return[n,Qr(e),t]}const AQ={},SQ=["prefixPath","collectionGroup","readTime","documentId"],PQ=["prefixPath","collectionGroup","documentId"],RQ=["collectionGroup","readTime","prefixPath","documentId"],MQ=["canonicalId","targetId"],xQ=["targetId","path"],NQ=["path","targetId"],OQ=["collectionId","parent"],kQ=["indexId","uid"],FQ=["uid","sequenceNumber"],VQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LQ=["indexId","uid","orderedDocumentKey"],UQ=["userId","collectionPath","documentId"],BQ=["userId","collectionPath","largestBatchId"],jQ=["userId","collectionGroup","largestBatchId"],SV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$Q=[...SV,"documentOverlays"],PV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RV=PV,HQ=[...RV,"indexConfiguration","indexState","indexEntries"];class JT extends wV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Cr(n,e){const t=de(n);return Gs.M(t.ae,e)}function MV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class on{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vv(this.root,e,this.comparator,!1)}getReverseIterator(){return new vv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vv(this.root,e,this.comparator,!0)}}class vv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Fr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NV(this.data.getIterator())}getIteratorFrom(e){return new NV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class NV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gd(n){return n.hasNext()?n.getNext():void 0}class Fi{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new Wt(fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OV("Invalid base64 string: "+s):s}}(e);return new mr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const qQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(n){if(Oe(!!n),"string"==typeof n){let e=0;const t=qQ.exec(n);if(Oe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ga(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function Ev(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Iv(n){const e=n.mapValue.fields.__previous_value__;return Ev(e)?Iv(e):e}function Zp(n){const e=mu(n.mapValue.fields.__local_write_time__.timestampValue);return new wn(e.seconds,e.nanos)}class GQ{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class _u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wv={nullValue:"NULL_VALUE"};function vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ev(n)?4:LV(n)?9007199254740991:10:be()}function bo(n,e){if(n===e)return!0;const t=vu(n);if(t!==vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zp(n).isEqual(Zp(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mu(i.timestampValue),a=mu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,ga(n.bytesValue).isEqual(ga(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Vn(i.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vn(i.integerValue)===Vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vn(i.doubleValue),a=Vn(s.doubleValue);return o===a?Kp(o)===Kp(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Hd(n.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(MV(o)!==MV(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!bo(o[u],a[u])))return!1;return!0}(n,e);default:return be()}var s}function Qp(n,e){return void 0!==(n.values||[]).find(t=>bo(t,e))}function Eu(n,e){if(n===e)return 0;const t=vu(n),r=vu(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Vn(s.integerValue||s.doubleValue),u=Vn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return kV(n.timestampValue,e.timestampValue);case 4:return kV(Zp(n),Zp(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(s,o){const a=ga(s),u=ga(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Qe(a[c],u[c]);if(0!==h)return h}return Qe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Vn(s.latitude),Vn(o.latitude));return 0!==a?a:Qe(Vn(s.longitude),Vn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=Eu(a[c],u[c]);if(h)return h}return Qe(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===yu.mapValue&&o===yu.mapValue)return 0;if(s===yu.mapValue)return 1;if(o===yu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const m=Qe(u[g],h[g]);if(0!==m)return m;const y=Eu(a[u[g]],c[h[g]]);if(0!==y)return y}return Qe(u.length,h.length)}(n.mapValue,e.mapValue);default:throw be()}}function kV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qe(n,e);const t=mu(n),r=mu(e),i=Qe(t.seconds,r.seconds);return 0!==i?i:Qe(t.nanos,r.nanos)}function Wd(n){return XT(n)}function XT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ga(n.bytesValue).toBase64():"referenceValue"in n?fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=XT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${XT(t.fields[o])}`;return i+"}"}(n.mapValue):be()}function Ml(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eb(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function FV(n){return!!n&&"nullValue"in n}function VV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tv(n){return!!n&&"mapValue"in n}function Jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WQ(n){return"nullValue"in n?wv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ml(_u.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:be()}function KQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ml(_u.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yu:be()}function UV(n,e){const t=Eu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BV(n,e){const t=Eu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jp(t)}setAll(e){let t=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Jp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Tv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Tv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(Jp(this.value))}}function jV(n){const e=[];return gu(n.fields,(t,r)=>{const i=new fn([t]);if(Tv(r)){const s=jV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fi(e)}class pn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,ke.min(),ke.min(),ke.min(),Vr.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,ke.min(),ke.min(),Vr.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,ke.min(),ke.min(),Vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iu{constructor(e,t){this.position=e,this.inclusive=t}}function $V(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?fe.comparator(fe.fromName(o.referenceValue),t.key):Eu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function HV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bo(n.position[t],e.position[t]))return!1;return!0}class Xp{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zV{}class bt extends zV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new QQ(e,t,r):"array-contains"===t?new XQ(e,r):"in"===t?new QV(e,r):"not-in"===t?new eY(e,r):"array-contains-any"===t?new tY(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new YQ(e,r):new JQ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Eu(t,this.value)):null!==t&&vu(this.value)===vu(t)&&this.matchesComparison(Eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends zV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new qt(e,t)}matches(e){return Kd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Kd(n){return"and"===n.op}function tb(n){return"or"===n.op}function nb(n){return qV(n)&&Kd(n)}function qV(n){for(const e of n.filters)if(e instanceof qt)return!1;return!0}function rb(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Wd(n.value);if(nb(n))return n.filters.map(e=>rb(e)).join(",");{const e=n.filters.map(t=>rb(t)).join(",");return`${n.op}(${e})`}}function GV(n,e){return n instanceof bt?(r=n,(i=e)instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&bo(r.value,i.value)):n instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&GV(o,i.filters[a]),!0)}(n,e):void be();var r,i}function WV(n,e){const t=n.filters.concat(e);return qt.create(t,n.op)}function KV(n){return n instanceof bt?`${(t=n).field.canonicalString()} ${t.op} ${Wd(t.value)}`:n instanceof qt?function(t){return t.op.toString()+" {"+t.getFilters().map(KV).join(" ,")+"}"}(n):"Filter";var t}class QQ extends bt{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class YQ extends bt{constructor(e,t){super(e,"in",t),this.keys=ZV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JQ extends bt{constructor(e,t){super(e,"not-in",t),this.keys=ZV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>fe.fromName(r.referenceValue))}class XQ extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&Qp(t.arrayValue,this.value)}}class QV extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qp(this.value.arrayValue,t)}}class eY extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qp(this.value.arrayValue,t)}}class tY extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qp(this.value.arrayValue,r))}}class nY{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function ib(n,e=null,t=[],r=[],i=null,s=null,o=null){return new nY(n,e,t,r,i,s,o)}function xl(n){const e=de(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wd(r)).join(",")),e.ce=t}return e.ce}function eg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HV(n.startAt,e.startAt)&&HV(n.endAt,e.endAt)}function bv(n){return fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dv(n,e){return n.filters.filter(t=>t instanceof bt&&t.field.isEqual(e))}function YV(n,e,t){let r=wv,i=!0;for(const s of Dv(n,e)){let o=wv,a=!0;switch(s.op){case"<":case"<=":o=WQ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=wv}UV({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];UV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function JV(n,e,t){let r=yu,i=!0;for(const s of Dv(n,e)){let o=yu,a=!0;switch(s.op){case">=":case">":o=KQ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=yu}BV({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];BV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class ma{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function XV(n,e,t,r,i,s,o,a){return new ma(n,e,t,r,i,s,o,a)}function Zd(n){return new ma(n)}function eL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sb(n){return null!==n.collectionGroup}function Qd(n){const e=de(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(fn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Xp(s,r))}),t.has(fn.keyField().canonicalString())||e.le.push(new Xp(fn.keyField(),r))}return e.le}function yi(n){const e=de(n);return e.he||(e.he=function tL(n,e){if("F"===n.limitType)return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Xp(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Iu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Iu(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Qd(n))),e.he}function ob(n,e){const t=n.filters.concat([e]);return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Av(n,e,t){return new ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tg(n,e){return eg(yi(n),yi(e))&&n.limitType===e.limitType}function nL(n){return`${xl(yi(n))}|lt:${n.limitType}`}function Yd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>KV(i)).join(", ")}]`),Wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wd(i)).join(",")),`Target(${r})`}(yi(n))}; limitType=${n.limitType})`}function ng(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qd(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=$V(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Qd(r),i)||r.endAt&&!function(o,a,u){const c=$V(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Qd(r),i)));var r,i}function rL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iL(n){return(e,t)=>{let r=!1;for(const i of Qd(n)){const s=rY(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function rY(n,e,t){const r=n.field.isKeyField()?fe.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Eu(u,c):be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xV(this.inner)}size(){return this.innerSize}}const iY=new on(fe.comparator);function Vi(){return iY}const sL=new on(fe.comparator);function rg(...n){let e=sL;for(const t of n)e=e.insert(t.key,t);return e}function oL(n){let e=sL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Do(){return ig()}function aL(){return ig()}function ig(){return new _a(n=>n.toString(),(n,e)=>n.isEqual(e))}const sY=new on(fe.comparator),oY=new Wt(fe.comparator);function ot(...n){let e=oY;for(const t of n)e=e.add(t);return e}const aY=new Wt(Qe);function ab(){return aY}function uL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function lL(n){return{integerValue:""+n}}function cL(n,e){return TV(e)?lL(e):uL(n,e)}class Sv{constructor(){this._=void 0}}function uY(n,e,t){return n instanceof Jd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ev(s)&&(s=Iv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Nl?hL(n,e):n instanceof Ol?fL(n,e):function(i,s){const o=dL(i,s),a=pL(o)+pL(i.Ie);return eb(o)&&eb(i.Ie)?lL(a):uL(i.serializer,a)}(n,e)}function lY(n,e,t){return n instanceof Nl?hL(n,e):n instanceof Ol?fL(n,e):t}function dL(n,e){return n instanceof Xd?eb(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Jd extends Sv{}class Nl extends Sv{constructor(e){super(),this.elements=e}}function hL(n,e){const t=gL(e);for(const r of n.elements)t.some(i=>bo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ol extends Sv{constructor(e){super(),this.elements=e}}function fL(n,e){let t=gL(e);for(const r of n.elements)t=t.filter(i=>!bo(i,r));return{arrayValue:{values:t}}}class Xd extends Sv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function pL(n){return Vn(n.integerValue||n.doubleValue)}function gL(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sg{constructor(e,t){this.field=e,this.transform=t}}class dY{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rv{}function mL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new th(n.key,Cn.none()):new eh(n.key,n.data,Cn.none());{const t=n.data,r=Vr.empty();let i=new Wt(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ya(n.key,r,new Fi(i.toArray()),Cn.none())}}function hY(n,e,t){n instanceof eh?function(i,s,o){const a=i.value.clone(),u=vL(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ya?function(i,s,o){if(!Pv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vL(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(yL(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function og(n,e,t,r){return n instanceof eh?function(s,o,a,u){if(!Pv(s.precondition,o))return a;const c=s.value.clone(),h=EL(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ya?function(s,o,a,u){if(!Pv(s.precondition,o))return a;const c=EL(s.fieldTransforms,u,o),h=o.data;return h.setAll(yL(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,Pv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function fY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=dL(r.transform,i||null);null!=s&&(null===t&&(t=Vr.empty()),t.set(r.field,s))}return t||null}function _L(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Hd(r,i,(s,o)=>function cY(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Nl&&i instanceof Nl||r instanceof Ol&&i instanceof Ol?Hd(r.elements,i.elements,bo):r instanceof Xd&&i instanceof Xd?bo(r.Ie,i.Ie):r instanceof Jd&&i instanceof Jd);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class eh extends Rv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends Rv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vL(n,e,t){const r=new Map;Oe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lY(o,a,t[i]))}return r}function EL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,uY(s,o,e))}return r}class th extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ub extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hY(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=og(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=og(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=mL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&Hd(this.mutations,e.mutations,(t,r)=>_L(t,r))&&Hd(this.baseMutations,e.baseMutations,(t,r)=>_L(t,r))}}class cb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Oe(e.mutations.length===r.length);let i=sY;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cb(e,t,r,i)}}class db{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gY{constructor(e,t){this.count=e,this.unchangedNames=t}}var ar,Pt;function IL(n){switch(n){default:return be();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function wL(n){if(void 0===n)return Yn("GRPC error has no .code"),H.UNKNOWN;switch(n){case ar.OK:return H.OK;case ar.CANCELLED:return H.CANCELLED;case ar.UNKNOWN:return H.UNKNOWN;case ar.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ar.INTERNAL:return H.INTERNAL;case ar.UNAVAILABLE:return H.UNAVAILABLE;case ar.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ar.NOT_FOUND:return H.NOT_FOUND;case ar.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ar.ABORTED:return H.ABORTED;case ar.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ar.DATA_LOSS:return H.DATA_LOSS;default:return be()}}(Pt=ar||(ar={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function CL(){return new TextEncoder}const mY=new Bd([4294967295,4294967295],0);function TL(n){const e=CL().encode(n),t=new lQ;return t.update(e),new Uint8Array(t.digest())}function bL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bd([t,r],0),new Bd([i,s],0)]}class hb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ag(`Invalid padding: ${t}`);if(r<0)throw new ag(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ag(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ag(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Bd.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Bd.fromNumber(r)));return 1===i.compare(mY)&&(i=new Bd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=TL(e),[r,i]=bL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hb(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=TL(e),[r,i]=bL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ug{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ug(ke.min(),i,new on(Qe),Vi(),ot())}}class lg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lg(r,t,ot(),ot(),ot())}}class xv{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class DL{constructor(e,t){this.targetId=e,this.fe=t}}class AL{constructor(e,t,r=mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SL{constructor(){this.ge=0,this.pe=RL(),this.ye=mr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),r=ot();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be()}}),new lg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=RL()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _Y{constructor(e){this.Le=e,this.ke=new Map,this.qe=Vi(),this.Qe=PL(),this.Ke=new on(Qe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(bv(s))if(0===r){const o=new fe(s.path);this.We(t,o,pn.newNoDocument(o,ke.min()))}else Oe(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=ga(r).toUint8Array()}catch(u){if(u instanceof OV)return ki("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new hb(o,i,s)}catch(u){return ki(u instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&bv(a.target)){const u=new fe(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,pn.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ot();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new ug(e,t,this.Ke,this.qe,r);return this.qe=Vi(),this.Qe=PL(),this.Ke=new on(Qe),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new SL,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Wt(Qe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new SL),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function PL(){return new on(fe.comparator)}function RL(){return new on(fe.comparator)}const yY={asc:"ASCENDING",desc:"DESCENDING"},vY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EY={and:"AND",or:"OR"};class IY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fb(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ML(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wY(n,e){return nh(n,e.toTimestamp())}function Jn(n){return Oe(!!n),ke.fromTimestamp(function(t){const r=mu(t);return new wn(r.seconds,r.nanos)}(n))}function pb(n,e){return(r=n,new St(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function xL(n){const e=St.fromString(n);return Oe(jL(e)),e}function cg(n,e){return pb(n.databaseId,e.path)}function Ao(n,e){const t=xL(e);if(t.get(1)!==n.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(OL(t))}function gb(n,e){return pb(n.databaseId,e)}function NL(n){const e=xL(n);return 4===e.length?St.emptyPath():OL(e)}function dg(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OL(n){return Oe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kL(n,e,t){return{name:cg(n,e),fields:t.value.mapValue.fields}}function FL(n,e,t){const r=Ao(n,e.name),i=Jn(e.updateTime),s=e.createTime?Jn(e.createTime):ke.min(),o=new Vr({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function hg(n,e){let t;if(e instanceof eh)t={update:kL(n,e.key,e.value)};else if(e instanceof th)t={delete:cg(n,e.key)};else if(e instanceof ya)t={update:kL(n,e.key,e.data),updateMask:RY(e.fieldMask)};else{if(!(e instanceof ub))return be();t={verify:cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:wY(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:be()),t;var s}function mb(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Cn.updateTime(Jn(s.updateTime)):void 0!==s.exists?Cn.exists(s.exists):Cn.none():Cn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(Oe("REQUEST_TIME"===a.setToServerValue),u=new Jd):"appendMissingElements"in a?u=new Nl(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Ol(a.removeAllFromArray.values||[]):"increment"in a?u=new Xd(o,a.increment):be();const c=fn.fromServerFormat(a.fieldPath);return new sg(c,u)}(n,i)):[];var s;if(e.update){const i=Ao(n,e.update.name),s=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Fi((e.updateMask.fieldPaths||[]).map(h=>fn.fromServerFormat(h)));return new ya(i,s,o,t,r)}return new eh(i,s,t,r)}if(e.delete){const i=Ao(n,e.delete);return new th(i,t)}if(e.verify){const i=Ao(n,e.verify);return new ub(i,t)}return be()}function VL(n,e){return{documents:[gb(n,e.path)]}}function _b(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return BL(qt.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:wu((g=c).field),direction:AY(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=fb(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function LL(n){let e=NL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Oe(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(g){const m=UL(g);return m instanceof qt&&nb(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new Xp(rh((C=m).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Wp(m)?null:m}(t.limit));let u=null;var g;t.startAt&&(u=new Iu((g=t.startAt).values||[],!!g.before));let c=null;return t.endAt&&(c=function(g){return new Iu(g.values||[],!g.before)}(t.endAt)),XV(e,i,o,s,a,"F",u,c)}function UL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rh(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rh(t.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rh(t.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rh(t.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):void 0!==n.fieldFilter?bt.create(rh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return qt.create(t.compositeFilter.filters.map(r=>UL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be();var t}function AY(n){return yY[n]}function SY(n){return vY[n]}function PY(n){return EY[n]}function wu(n){return{fieldPath:n.canonicalString()}}function rh(n){return fn.fromServerFormat(n.fieldPath)}function BL(n){return n instanceof bt?function(t){if("=="===t.op){if(VV(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NAN"}};if(FV(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(VV(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NOT_NAN"}};if(FV(t.value))return{unaryFilter:{field:wu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(t.field),op:SY(t.op),value:t.value}}}(n):n instanceof qt?function(t){const r=t.getFilters().map(i=>BL(i));return 1===r.length?r[0]:{compositeFilter:{op:PY(t.op),filters:r}}}(n):be()}function RY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class va{constructor(e,t,r,i,s=ke.min(),o=ke.min(),a=mr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $L{constructor(e){this.ut=e}}function HL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cg(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:nh(s,o.version.toTimestamp()),createTime:nh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return be();r.unknownDocument={path:t.path.toArray(),version:kl(e.version)}}var s,o;return r}function Nv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(n){const e=new wn(n.seconds,n.nanoseconds);return ke.fromTimestamp(e)}function Vl(n,e){const t=(e.baseMutations||[]).map(s=>mb(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>mb(n.ut,s)),i=wn.fromMillis(e.localWriteTimeMs);return new lb(e.batchId,i,t,r)}function fg(n){const e=Fl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fl(n.lastLimboFreeSnapshotVersion):ke.min();let r;return r=void 0!==n.query.documents?(Oe(1===(s=n.query).documents.length),yi(Zd(NL(s.documents[0])))):function(s){return yi(LL(s))}(n.query),new va(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,mr.fromBase64String(n.resumeToken));var s}function zL(n,e){const t=kl(e.snapshotVersion),r=kl(e.lastLimboFreeSnapshotVersion);let i;i=bv(e.target)?VL(n.ut,e.target):_b(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yb(n){const e=LL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Av(e,e.limit,"L"):e}function vb(n,e){return new db(e.largestBatchId,mb(n.ut,e.overlayMutation))}function qL(n,e){const t=e.path.lastSegment();return[n,Qr(e.path.popLast()),t]}function GL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:kl(r.readTime),documentKey:Qr(r.documentKey.path),largestBatchId:r.largestBatchId}}class xY{getBundleMetadata(e,t){return WL(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Fl(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return WL(e).put({bundleId:(i=t).id,createTime:kl(Jn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return KL(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:yb(s.bundledQuery),readTime:Fl(s.readTime)};var s})}saveNamedQuery(e,t){return KL(e).put({name:(i=t).name,readTime:kl(Jn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WL(n){return Cr(n,"bundles")}function KL(n){return Cr(n,"namedQueries")}class Ov{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Ov(e,t.uid||"")}getOverlay(e,t){return pg(e).get(qL(this.userId,t)).next(r=>r?vb(this.serializer,r):null)}getOverlays(e,t){const r=Do();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new db(t,o);i.push(this.lt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Qr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(pg(e).H("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Do(),s=Qr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return pg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const c=vb(this.serializer,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Do();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pg(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,c,h)=>{const g=vb(this.serializer,c);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return pg(e).put(function(i,s,o){const[a,u,c]=qL(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:hg(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function pg(n){return Cr(n,"documentOverlays")}class Ll{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vn(e.integerValue));else if("doubleValue"in e){const r=Vn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Kp(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ga(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?LV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),fe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function NY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ZL(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=NY(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Ll.St=new Ll;class OY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=ZL(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=ZL(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kY{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class FY{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class gg{constructor(){this.Wt=new OY,this.Gt=new kY(this.Wt),this.zt=new FY(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ul{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ul(this.indexId,this.documentKey,this.arrayValue,r)}}function Cu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QL(n.arrayValue,e.arrayValue),0!==t?t:(t=QL(n.directionalValue,e.directionalValue),0!==t?t:fe.comparator(n.documentKey,e.documentKey)))}function QL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class YL{constructor(e){this.Jt=new Wt((t,r)=>fn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Oe(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=KT(e);if(void 0!==t&&!this.tn(t))return!1;const r=Sl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Wt(fn.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Pl(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Pl(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Pl(r.field,"asc"===r.dir?0:1)));return new zd(zd.UNKNOWN_ID,this.collectionId,t,qd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function JL(n){var e,t;if(Oe(n instanceof bt||n instanceof qt),n instanceof bt){if(n instanceof QV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>bt.create(n.field,"==",s)))||[];return qt.create(i,"or")}return n}const r=n.filters.map(i=>JL(i));return qt.create(r,n.op)}function VY(n){if(0===n.getFilters().length)return[];const e=wb(JL(n));return Oe(XL(e)),Eb(e)||Ib(e)?[e]:e.getFilters()}function Eb(n){return n instanceof bt}function Ib(n){return n instanceof qt&&nb(n)}function XL(n){return Eb(n)||Ib(n)||function(t){if(t instanceof qt&&tb(t)){for(const r of t.getFilters())if(!Eb(r)&&!Ib(r))return!1;return!0}return!1}(n)}function wb(n){if(Oe(n instanceof bt||n instanceof qt),n instanceof bt)return n;if(1===n.filters.length)return wb(n.filters[0]);const e=n.filters.map(r=>wb(r));let t=qt.create(e,n.op);return t=kv(t),XL(t)?t:(Oe(t instanceof qt),Oe(Kd(t)),Oe(t.filters.length>1),t.filters.reduce((r,i)=>Cb(r,i)))}function Cb(n,e){let t;return Oe(n instanceof bt||n instanceof qt),Oe(e instanceof bt||e instanceof qt),t=n instanceof bt?e instanceof bt?qt.create([n,e],"and"):e2(n,e):e instanceof bt?e2(e,n):function(i,s){if(Oe(i.filters.length>0&&s.filters.length>0),Kd(i)&&Kd(s))return WV(i,s.getFilters());const o=tb(i)?i:s,a=tb(i)?s:i,u=o.filters.map(c=>Cb(c,a));return qt.create(u,"or")}(n,e),kv(t)}function e2(n,e){if(Kd(e))return WV(e,n.getFilters());{const t=e.filters.map(r=>Cb(n,r));return qt.create(t,"or")}}function kv(n){if(Oe(n instanceof bt||n instanceof qt),n instanceof bt)return n;const e=n.getFilters();if(1===e.length)return kv(e[0]);if(qV(n))return n;const t=e.map(i=>kv(i)),r=[];return t.forEach(i=>{i instanceof bt?r.push(i):i instanceof qt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:qt.create(r,n.op)}class LY{constructor(){this.on=new Tb}addToCollectionParentIndex(e,t){return this.on.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(rs.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class Tb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wt(St.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(St.comparator)).toArray()}}const Fv=new Uint8Array(0);class UY{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Tb,this.an=new _a(r=>xl(r),(r,i)=>eg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Qr(i)};return t2(e).put(s)}return V.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[yV(t),""],!1,!0);return t2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(To(o.parent))}return r})}addFieldIndex(e,t){const r=mg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=sh(e);return s.next(a=>{o.put(GL(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=mg(e),i=sh(e),s=ih(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=mg(e),r=ih(e),i=sh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return V.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new YL(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=ih(e);let i=!0;const s=new Map;return V.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ot();const a=[];return V.forEach(s,(u,c)=>{var R;ae("IndexedDbIndexManager",`Using index ${R=u,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${xl(t)}`);const h=function(R,Q){const he=KT(Q);if(void 0===he)return null;for(const Pe of Dv(R,he.fieldPath))switch(Pe.op){case"array-contains-any":return Pe.value.arrayValue.values||[];case"array-contains":return[Pe.value]}return null}(c,u),g=function(R,Q){const he=new Map;for(const Pe of Sl(Q))for(const _t of Dv(R,Pe.fieldPath))switch(_t.op){case"==":case"in":he.set(Pe.fieldPath.canonicalString(),_t.value);break;case"not-in":case"!=":return he.set(Pe.fieldPath.canonicalString(),_t.value),Array.from(he.values())}return null}(c,u),m=function(R,Q){const he=[];let Pe=!0;for(const _t of Sl(Q)){const Un=0===_t.kind?YV(R,_t.fieldPath,R.startAt):JV(R,_t.fieldPath,R.startAt);he.push(Un.value),Pe&&(Pe=Un.inclusive)}return new Iu(he,Pe)}(c,u),y=function(R,Q){const he=[];let Pe=!0;for(const _t of Sl(Q)){const Un=0===_t.kind?JV(R,_t.fieldPath,R.endAt):YV(R,_t.fieldPath,R.endAt);he.push(Un.value),Pe&&(Pe=Un.inclusive)}return new Iu(he,Pe)}(c,u),C=this.ln(u,c,m),D=this.ln(u,c,y),A=this.hn(u,c,g),x=this.Pn(u.indexId,h,C,m.inclusive,D,y.inclusive,A);return V.forEach(x,U=>r.j(U,t.limit).next(R=>{R.forEach(Q=>{const he=fe.fromSegments(Q.documentKey);o.has(he)||(o=o.add(he),a.push(he))})}))}).next(()=>a)}return V.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:VY(qt.create(e.filters,"and")).map(r=>ib(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),c=u/(null!=t?t.length:1),h=[];for(let g=0;g<u;++g){const m=t?this.In(t[g/c]):Fv,y=this.Tn(e,m,r[g%c],i),C=this.En(e,m,s[g%c],o),D=a.map(A=>this.Tn(e,m,A,!0));h.push(...this.createRange(y,C,D))}return h}Tn(e,t,r,i){const s=new Ul(e,fe.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Ul(e,fe.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new YL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return V.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let c=new Wt(fn.comparator),h=!1;for(const g of u.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:c=c.add(m.field));for(const g of u.orderBy)g.field.isKeyField()||(c=c.add(g.field));return c.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new gg;for(const i of Sl(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Ll.St.ht(s,o)}return r.Ut()}In(e){const t=new gg;return Ll.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new gg;return Ll.St.ht(Ml(this.databaseId,t),r.jt(function(s){const o=Sl(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new gg);let s=0;for(const o of Sl(e)){const a=r[s++];for(const u of i)if(this.Rn(t,o.fieldPath)&&Yp(a))i=this.Vn(i,o,a);else{const c=u.jt(o.kind);Ll.St.ht(a,c)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new gg;u.seed(a.Ut()),Ll.St.ht(o,u.jt(t.kind)),s.push(u)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof bt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=mg(e),i=sh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,g){const m=g?new qd(g.sequenceNumber,new rs(Fl(g.readTime),new fe(To(g.documentKey)),g.largestBatchId)):qd.empty(),y=h.fields.map(([C,D])=>new Pl(fn.fromServerFormat(C),D));return new zd(h.indexId,h.collectionGroup,y,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Qe(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=mg(e),s=sh(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,u=>s.put(GL(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return V.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,u=>this.gn(e,i,u).next(c=>{const h=this.pn(s,u);return c.isEqual(h)?V.resolve():this.yn(e,s,u,c,h)}))))})}wn(e,t,r,i){return ih(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return ih(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=ih(e);let s=new Wt(Cu);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Ul(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Wt(Cu);const i=this.dn(t,e);if(null==i)return r;const s=KT(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Yp(o))for(const a of o.arrayValue.values||[])r=r.add(new Ul(t.indexId,e.key,this.In(a),i))}else r=r.add(new Ul(t.indexId,e.key,Fv,i));return r}yn(e,t,r,i,s){ae("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,c,h,g,m){const y=u.getIterator(),C=c.getIterator();let D=Gd(y),A=Gd(C);for(;D||A;){let x=!1,U=!1;if(D&&A){const R=h(D,A);R<0?U=!0:R>0&&(x=!0)}else null!=D?U=!0:x=!0;x?(g(A),A=Gd(C)):U?(m(D),D=Gd(y)):(D=Gd(y),A=Gd(C))}}(i,s,Cu,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),V.waitFor(o)}fn(e){let t=1;return sh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Cu(o,a)).filter((o,a,u)=>!a||0!==Cu(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Cu(o,e),u=Cu(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Fv,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Fv,[]]))}return s}bn(e,t){return Cu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(n2)}getMinOffset(e,t){return V.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||be())).next(n2)}}function t2(n){return Cr(n,"collectionParents")}function ih(n){return Cr(n,"indexEntries")}function mg(n){return Cr(n,"indexConfiguration")}function sh(n){return Cr(n,"indexState")}function n2(n){Oe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ZT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new rs(e.readTime,e.documentKey,t)}const r2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function i2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Y({range:o},(h,g,m)=>(a++,m.delete()));s.push(u.next(()=>{Oe(1===a)}));const c=[];for(const h of t.mutations){const g=AV(e,h.key.path,t.batchId);s.push(i.delete(g)),c.push(h.key)}return V.waitFor(s).next(()=>c)}function Vv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be();e=n.noDocument}return JSON.stringify(e).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class Lv{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Oe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Lv(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=oh(e),o=Tu(e);return o.add({}).next(a=>{Oe("number"==typeof a);const u=new lb(a,t,r,i),c=function(y,C,D){const A=D.baseMutations.map(U=>hg(y.ut,U)),x=D.mutations.map(U=>hg(y.ut,U));return{userId:C,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:A,mutations:x}}(this.serializer,this.userId,u),h=[];let g=new Wt((m,y)=>Qe(m.canonicalString(),y.canonicalString()));for(const m of i){const y=AV(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(o.put(c)),h.push(s.put(y,AQ))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),V.waitFor(h).next(()=>u)})}lookupMutationBatch(e,t){return Tu(e).get(t).next(r=>r?(Oe(r.userId===this.userId),Vl(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?V.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Tu(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Oe(a.batchId>=r),s=Vl(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Tu(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).W("userMutationsIndex",t).next(r=>r.map(i=>Vl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=yv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return oh(e).Y({range:i},(o,a,u)=>{const[c,h,g]=o,m=To(h);if(c===this.userId&&t.path.isEqual(m))return Tu(e).get(g).next(y=>{if(!y)throw be();Oe(y.userId===this.userId),s.push(Vl(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Qe);const i=[];return t.forEach(s=>{const o=yv(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=oh(e).Y({range:a},(c,h,g)=>{const[m,y,C]=c,D=To(y);m===this.userId&&s.path.isEqual(D)?r=r.add(C):g.done()});i.push(u)}),V.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=yv(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Wt(Qe);return oh(e).Y({range:o},(u,c,h)=>{const[g,m,y]=u,C=To(m);g===this.userId&&r.isPrefixOf(C)?C.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Tu(e).get(s).next(o=>{if(null===o)throw be();Oe(o.userId===this.userId),r.push(Vl(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return i2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return oh(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=To(s[1]);i.push(u)}else a.done()}).next(()=>{Oe(0===i.length)})})}containsKey(e,t){return s2(e,this.userId,t)}Mn(e){return o2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function s2(n,e,t){const r=yv(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return oh(n).Y({range:s,J:!0},(a,u,c)=>{const[h,g,m]=a;h===e&&g===i&&(o=!0),c.done()}).next(()=>o)}function Tu(n){return Cr(n,"mutations")}function oh(n){return Cr(n,"documentMutations")}function o2(n){return Cr(n,"mutationQueues")}class Bl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Bl(0)}static Nn(){return new Bl(-1)}}class BY{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Bl(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>ke.fromTimestamp(new wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ah(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Oe(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return ah(e).Y((o,a)=>{const u=fg(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,t){return ah(e).Y((r,i)=>{const s=fg(i);t(s)})}Bn(e){return a2(e).get("targetGlobalKey").next(t=>(Oe(null!==t),t))}Ln(e,t){return a2(e).put("targetGlobalKey",t)}kn(e,t){return ah(e).put(zL(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=xl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ah(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const c=fg(a);eg(t,c.target)&&(s=c,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=bu(e);return t.forEach(o=>{const a=Qr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,t,r){const i=bu(e);return V.forEach(t,s=>{const o=Qr(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=bu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=bu(e);let s=ot();return i.Y({range:r,J:!0},(o,a,u)=>{const c=To(o[1]),h=new fe(c);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=Qr(t.path),i=IDBKeyRange.bound([r],[yV(r)],!1,!0);let s=0;return bu(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}_t(e,t){return ah(e).get(t).next(r=>r?fg(r):null)}}function ah(n){return Cr(n,"targets")}function a2(n){return Cr(n,"targetGlobal")}function bu(n){return Cr(n,"targetDocuments")}function u2([n,e],[t,r]){const i=Qe(n,t);return 0===i?Qe(e,r):i}class jY{constructor(e){this.Qn=e,this.buffer=new Wt(u2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();u2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Y.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){pu(r)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fu(r)}yield t.Gn(3e5)}))}}class $Y{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return V.resolve(is._e);const r=new jY(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(r2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(c=Date.now(),$d()<=Eo.in.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(c-u)+`ms\nTotal Duration: ${c-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class HY{constructor(e,t){this.db=e,this.garbageCollector=function c2(n,e){return new $Y(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return Uv(e,r)}removeReference(e,t,r){return Uv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Uv(e,t)}Xn(e,t){return function(i,s){let o=!1;return o2(i).Z(a=>s2(i,a,s).next(u=>(u&&(o=!0),V.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const u=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ke.min()),bu(e).delete([0,Qr(o.path)])))});i.push(u)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Uv(e,t)}Zn(e,t){const r=bu(e);let i,s=is._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:c})=>{0===o?(s!==is._e&&t(new fe(To(i)),s),s=c,i=u):s=is._e}).next(()=>{s!==is._e&&t(new fe(To(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uv(n,e){return bu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qr(e.path),sequenceNumber:i}));var i}class d2{constructor(){this.changes=new _a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jl(e).put(r)}removeEntry(e,t,r){return jl(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Nv(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=pn.newInvalidDocument(t);return jl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_g(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:pn.newInvalidDocument(t)};return jl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_g(t))},(i,s)=>{r={document:this.tr(t,s),size:Vv(s)}}).next(()=>r)}getEntries(e,t){let r=Vi();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Vi(),i=new on(fe.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Vv(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return V.resolve();let i=new Wt(g2);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(_g(i.first()),_g(i.last())),o=i.getIterator();let a=o.getNext();return jl(e).Y({index:"documentKeyIndex",range:s},(u,c,h)=>{const g=fe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&g2(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.U(_g(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Nv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).W(IDBKeyRange.bound(a,u,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let h=Vi();for(const g of c){const m=this.tr(fe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(ng(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Vi();const o=p2(t,r),a=p2(t,rs.max());return jl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,c,h)=>{const g=this.tr(fe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(g.key,g),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new qY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return f2(e).get("remoteDocumentGlobalKey").next(t=>(Oe(!!t),t))}er(e,t){return f2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function MY(n,e){let t;if(e.document)t=FL(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=fe.fromSegments(e.noDocument.path),i=Fl(e.noDocument.readTime);t=pn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const r=fe.fromSegments(e.unknownDocument.path),i=Fl(e.unknownDocument.version);t=pn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new wn(i[0],i[1]);return ke.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ke.min()))return r}return pn.newInvalidDocument(e)}}function h2(n){return new zY(n)}class qY extends d2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new _a(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wt((s,o)=>Qe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=HL(this._r.serializer,o);i=i.add(s.path.popLast());const c=Vv(u);r+=c-a.size,t.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=HL(this._r.serializer,o.convertToNoDocument(ke.min()));t.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),V.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function f2(n){return Cr(n,"remoteDocumentGlobal")}function jl(n){return Cr(n,"remoteDocumentsV14")}function _g(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function p2(n,e){const t=e.documentKey.path.toArray();return[n,Nv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function g2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Qe(t[s],r[s]),i)return i;return i=Qe(t.length,r.length),i||(i=Qe(t[t.length-2],r[r.length-2]),i||Qe(t[t.length-1],r[r.length-1]))}class GY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class m2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&og(r.mutation,i,Fi.empty(),wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ot()){const i=Do();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=rg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ot()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vi();const o=ig(),a=ig();return t.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(void 0===h||h.mutation instanceof ya)?s=s.insert(c.key,c):void 0!==h?(o.set(c.key,h.mutation.getFieldMask()),og(h.mutation,c,h.mutation.getFieldMask(),wn.now())):o.set(c.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),t.forEach((c,h)=>{var g;return a.set(c,new GY(h,null!==(g=o.get(c))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ig();let i=new on((o,a)=>o-a),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let h=r.get(u)||Fi.empty();h=a.applyToLocalView(c,h),r.set(u,h);const g=(i.get(a.batchId)||ot()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,g=aL();h.forEach(m=>{if(!s.has(m)){const y=mL(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return fe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(Do());let a=-1,u=s;return o.next(c=>V.forEach(c,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ot())).next(h=>({batchId:a,changes:oL(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(r=>{let i=rg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=rg();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,u=>{const c=(g=t,m=u.child(s),new ma(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();null===o.get(h)&&(o=o.insert(h,pn.newInvalidDocument(h)))});let a=rg();return o.forEach((u,c)=>{const h=s.get(u);void 0!==h&&og(h.mutation,c,Fi.empty(),wn.now()),ng(t,c)&&(a=a.insert(u,c))}),a})}}class WY{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return V.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Jn(i.createTime)}),V.resolve();var i}getNamedQuery(e,t){return V.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:yb(i.bundledQuery),readTime:Jn(i.readTime)}),V.resolve();var i}}class KY{constructor(){this.overlays=new on(fe.comparator),this.lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Do();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){const i=Do(),s=t.length+1,o=new fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new on((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let h=s.get(c.largestBatchId);null===h&&(h=Do(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Do(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return V.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new db(t,r));let s=this.lr.get(t);void 0===s&&(s=ot(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class bb{constructor(){this.hr=new Wt(Tr.Pr),this.Ir=new Wt(Tr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Tr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Tr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new fe(new St([])),r=new Tr(t,e),i=new Tr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new fe(new St([])),r=new Tr(t,e),i=new Tr(t,e+1);let s=ot();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Tr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Tr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return fe.comparator(e.key,t.key)||Qe(e.gr,t.gr)}static Tr(e,t){return Qe(e.gr,t.gr)||fe.comparator(e.key,t.key)}}class ZY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Wt(Tr.Pr)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new lb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Tr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tr(t,0),i=new Tr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Qe);return t.forEach(i=>{const s=new Tr(i,0),o=new Tr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new Tr(new fe(s),0);let a=new Wt(Qe);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),V.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Oe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return V.forEach(t.mutations,i=>{const s=new Tr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Tr(t,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return V.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QY{constructor(e){this.Cr=e,this.docs=new on(fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Vi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vi();const o=t.path,a=new fe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ZT(EV(h),r)<=0||(i.has(h.key)||ng(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){be()}vr(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YY(this)}getSize(e){return V.resolve(this.size)}}class YY extends d2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class JY{constructor(e){this.persistence=e,this.Fr=new _a(t=>xl(t),eg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new bb,this.targetCount=0,this.Nr=Bl.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),V.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Bl(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.kn(t),V.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),V.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Or.containsKey(t))}}class Db{constructor(e,t){this.Br={},this.overlays={},this.Lr=new is(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new JY(this),this.indexManager=new LY,this.remoteDocumentCache=new QY(r=>this.referenceDelegate.Qr(r)),this.serializer=new $L(t),this.Kr=new WY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new ZY(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);const i=new XY(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class XY extends wV{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Gr=new bb,this.zr=null}static jr(e){return new Bv(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=fe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return V.or([()=>V.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class eJ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new _v("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DV,{unique:!0}),u.createObjectStore("documentMutations"),_2(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),_2(e)),o=o.next(()=>function(u){const c=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,c){return c.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DV,{unique:!0});const g=c.store("mutations"),m=h.map(y=>g.put(y));return V.waitFor(m)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const c=u.createObjectStore("documentOverlays",{keyPath:UQ});c.createIndex("collectionPathOverlayIndex",BQ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",jQ,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const c=u.createObjectStore("remoteDocumentsV14",{keyPath:SQ});c.createIndex("documentKeyIndex",PQ),c.createIndex("collectionGroupIndex",RQ)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:kQ}).createIndex("sequenceNumberIndex",FQ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:VQ}).createIndex("documentKeyIndex",LQ,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=Vv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>V.forEach(a,u=>{Oe(u.userId===s.userId);const c=Vl(this.serializer,u);return i2(e,s.userId,c).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new St(o),c=[0,Qr(u)];s.push(t.get(c).next(h=>h?V.resolve():t.put({targetId:0,path:Qr(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>V.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:OQ});const r=t.store("collectionParents"),i=new Tb,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Qr(u)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new St(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,u],c)=>{const h=To(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=fg(i),o=zL(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(g=o,g.document?new fe(St.fromString(g.document.name).popFirst(5)):g.noDocument?fe.fromSegments(g.noDocument.path):g.unknownDocument?fe.fromSegments(g.unknownDocument.path):be()).path.toArray(),c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(c))}).next(()=>V.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=h2(this.serializer),s=new Db(Bv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var c;let h=null!==(c=a.get(u.userId))&&void 0!==c?c:ot();Vl(this.serializer,u).keys().forEach(g=>h=h.add(g)),a.set(u.userId,h)}),V.forEach(a,(u,c)=>{const h=new wr(c),g=Ov.ct(this.serializer,h),m=s.getIndexManager(h),y=Lv.ct(h,this.serializer,m,s.referenceDelegate);return new m2(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new JT(t,is._e),u).next()})})}}function _2(n){n.createObjectStore("targetDocuments",{keyPath:xQ}).createIndex("documentTargetsIndex",NQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MQ,{unique:!0}),n.createObjectStore("targetGlobal")}const Ab="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sb{constructor(e,t,r,i,s,o,a,u,c,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!Sb.D())throw new re(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HY(this,i),this.Ii=t+"main",this.serializer=new $L(u),this.Ti=new Gs(this.Ii,this.ai,new eJ(this.serializer)),this.qr=new BY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=h2(this.serializer),this.Kr=new xY,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Ab);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new is(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,Y.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Y.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Y.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$v(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(pu(e))return ae("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return yg(e).get("owner").next(t=>V.resolve(this.wi(t)))}Si(e){return $v(e).delete(this.clientId)}bi(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Cr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return V.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?V.resolve(!0):yg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Ab);return!1}}return!(!this.networkEnabled||!this.inForeground)||$v(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ae("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new JT(t,is._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>$v(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Lv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UY(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ov.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ae("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.ai)?HQ:14===u?RV:13===u?PV:12===u?$Q:11===u?SV:void be();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new JT(a,this.Lr?this.Lr.next():is._e),"readwrite-primary"===t?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re(H.FAILED_PRECONDITION,IV);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return yg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(H.FAILED_PRECONDITION,Ab)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yg(e).put("owner",t)}static D(){return Gs.D()}pi(e){const t=yg(e);return t.get("owner").next(r=>this.wi(r)?(ae("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Yn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,en.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ae("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Yn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yg(n){return Cr(n,"owner")}function $v(n){return Cr(n,"clientMetadata")}function Pb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Rb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ot(),i=ot();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rb(e,t.fromCache,r,i)}}class tJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class y2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tJ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?($d()<=Eo.in.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Yd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):($d()<=Eo.in.DEBUG&&ae("QueryEngine","Query:",Yd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?($d()<=Eo.in.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Yd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(t))):V.resolve())}zi(e,t){if(eL(t))return V.resolve(null);let r=yi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Av(t,null,"F"),r=yi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ot(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,o,u.readTime)?this.zi(e,Av(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return eL(t)||i.isEqual(ke.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?V.resolve(null):($d()<=Eo.in.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yd(t)),this.Xi(e,o,t,vV(i,-1)).next(a=>a))})}Yi(e,t){let r=new Wt(iL(e));return t.forEach((i,s)=>{ng(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return $d()<=Eo.in.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.Gi.getDocumentsMatchingQuery(e,t,rs.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class nJ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new on(Qe),this.ns=new _a(s=>xl(s),eg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function v2(n,e,t,r){return new nJ(n,e,t,r)}function E2(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,Y.Z)(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ot();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),Mb.apply(this,arguments)}function I2(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function w2(n,e,t){let r=ot(),i=ot();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vi();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}function sJ(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new va(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function lh(n,e,t){return xb.apply(this,arguments)}function xb(){return xb=(0,Y.Z)(function*(n,e,t){const r=de(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pu(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),xb.apply(this,arguments)}function Hv(n,e,t){const r=de(n);let i=ke.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const g=de(u),m=g.ns.get(h);return void 0!==m?V.resolve(g.ts.get(m)):g.qr.getTargetData(c,h)}(r,o,yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:ke.min(),t?s:ot())).next(a=>(b2(r,rL(e),a),{documents:a,ls:s})))}function C2(n,e){const t=de(n),r=de(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function T2(n,e){const t=de(n),r=t.rs.get(e)||ke.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,vV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(b2(t,e,i),i))}function b2(n,e,t){let r=n.rs.get(e)||ke.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function Nb(){return Nb=(0,Y.Z)(function*(n,e,t,r){const i=de(n);let s=ot(),o=Vi();for(const c of t){const h=e.hs(c.metadata.name);c.document&&(s=s.add(h));const g=e.Ps(c);g.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield uh(i,(h=r,yi(Zd(St.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>w2(c,a,o).next(h=>(a.apply(c),h)).next(h=>i.qr.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.qr.addMatchingKeys(c,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.us,h.cs)).next(()=>h.us)))}),Nb.apply(this,arguments)}function aJ(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,Y.Z)(function*(n,e,t=ot()){const r=yield uh(n,yi(yb(e.bundledQuery))),i=de(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Jn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(mr.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),Ob.apply(this,arguments)}function D2(n,e){return`firestore_clients_${n}_${e}`}function A2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kb(n,e){return`firestore_targets_${n}_${e}`}class zv{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new re(i.error.code,i.error.message))),o?new zv(e,t,i.state,s):(Yn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new re(r.error.code,r.error.message))),s?new vg(e,r.state,i):(Yn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ab();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=TV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new qv(e,s):(Yn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fb(t.clientId,t.onlineState):(Yn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vb{constructor(){this.activeTargetIds=ab()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lb{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new on(Qe),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=D2(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Vb),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(D2(e.persistenceKey,i));if(s){const o=qv.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kb(this.persistenceKey,e));if(r){const i=vg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ae("SharedClientState","READ",e,t),t}setItem(e,t){ae("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ae("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ae("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Yn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Y.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=is._e;if(null!=o)try{const u=JSON.parse(o);Oe("number"==typeof u),a=u}catch(u){Yn("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==is._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new zv(this.currentUser,e,t,r),s=A2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=A2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=kb(this.persistenceKey,e),s=new vg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return qv.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return zv.Ts(new wr(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return vg.Ts(i,t)}Ms(e){return Fb.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ae("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=ab();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class S2{constructor(){this.eo=new Vb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Vb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uJ{ro(e){}shutdown(){}}class P2{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gv=null;function Ub(){return null===Gv?Gv=268435456+Math.round(2147483648*Math.random()):Gv++,"0x"+Gv.toString(16)}const lJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Jr="WebChannelConnection";class dJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=Ub(),u=this.So(t,r);ae("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,u,c,i).then(h=>(ae("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ki("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+jd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${lJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=Ub();return new Promise((o,a)=>{const u=new uQ;u.setWithCredentials(!0),u.listenOnce(oQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case GT.NO_ERROR:const h=u.getResponseJson();ae(Jr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case GT.TIMEOUT:ae(Jr,`RPC '${e}' ${s} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case GT.HTTP_ERROR:const g=u.getStatus();if(ae(Jr,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const C=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(y.status);a(new re(C,y.message))}else a(new re(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ae(Jr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ae(Jr,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=Ub(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iQ(),a=sQ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=s.join("");ae(Jr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=o.createWebChannel(h,u);let m=!1,y=!1;const C=new cJ({co:A=>{y?ae(Jr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(ae(Jr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ae(Jr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},lo:()=>g.close()}),D=(A,x,U)=>{A.listen(x,R=>{try{U(R)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(g,mv.EventType.OPEN,()=>{y||ae(Jr,`RPC '${e}' stream ${i} transport opened.`)}),D(g,mv.EventType.CLOSE,()=>{y||(y=!0,ae(Jr,`RPC '${e}' stream ${i} transport closed`),C.Ro())}),D(g,mv.EventType.ERROR,A=>{y||(y=!0,ki(Jr,`RPC '${e}' stream ${i} transport errored:`,A),C.Ro(new re(H.UNAVAILABLE,"The operation could not be completed")))}),D(g,mv.EventType.MESSAGE,A=>{var x;if(!y){const U=A.data[0];Oe(!!U);const Q=U.error||(null===(x=U[0])||void 0===x?void 0:x.error);if(Q){ae(Jr,`RPC '${e}' stream ${i} received error:`,Q);const he=Q.status;let Pe=function(Ws){const Ss=ar[Ws];if(void 0!==Ss)return wL(Ss)}(he),_t=Q.message;void 0===Pe&&(Pe=H.INTERNAL,_t="Unknown error status: "+he+" with message "+Q.message),y=!0,C.Ro(new re(Pe,_t)),g.close()}else ae(Jr,`RPC '${e}' stream ${i} received:`,U),C.Vo(U)}}),D(a,aQ.STAT_EVENT,A=>{A.stat===fV.PROXY?ae(Jr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===fV.NOPROXY&&ae(Jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ao()},0),C}}function R2(){return typeof window<"u"?window:null}function Wv(){return typeof document<"u"?document:null}function Eg(n){return new IY(n,!0)}class Bb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class M2{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Bb(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Y.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Y.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Y.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Y.Z)(function*(){e.state=0,e.start()}))}o_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hJ extends M2{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function TY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:be(),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Oe(void 0===h||"string"==typeof h),mr.fromBase64String(h||"")):(Oe(void 0===h||h instanceof Uint8Array),mr.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=void 0===c.code?H.UNKNOWN:wL(c.code);return new re(h,c.message||"")}(o);t=new AL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ao(n,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ke.min(),a=new Vr({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,s,o,a);t=new xv(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ao(n,r.document),s=r.readTime?Jn(r.readTime):ke.min(),o=pn.newNoDocument(i,s);t=new xv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ao(n,r.document);t=new xv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return be();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new gY(i,s);t=new DL(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Jn(o.readTime):ke.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=dg(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=bv(u)?{documents:VL(s,u)}:{query:_b(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ML(s,o.resumeToken);const c=fb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=nh(s,o.snapshotVersion.toTimestamp());const c=fb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function DY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=dg(this.serializer),t.removeTarget=e,this.e_(t)}}class fJ extends M2{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function bY(n,e){return n&&n.length>0?(Oe(void 0!==e),n.map(t=>function(i,s){let o=Jn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=Jn(s)),new dY(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.I_(r,t)}return Oe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=dg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hg(this.serializer,r))};this.e_(t)}}class pJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(H.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class mJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yn(t),this.f_=!1):ae("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class _J{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Y.Z)(function*(){var u;Du(o)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Y.Z)(function*(h){const g=de(h);g.C_.add(4),yield ch(g),g.M_.set("Unknown"),g.C_.delete(4),yield Ig(g)}),function c(h){return u.apply(this,arguments)})(o))}))}),this.M_=new mJ(r,i)}}function Ig(n){return $b.apply(this,arguments)}function $b(){return $b=(0,Y.Z)(function*(n){if(Du(n))for(const e of n.v_)yield e(!0)}),$b.apply(this,arguments)}function ch(n){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Y.Z)(function*(n){for(const e of n.v_)yield e(!1)}),Hb.apply(this,arguments)}function Kv(n,e){const t=de(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Gb(t)?qb(t):hh(t).Ho()&&zb(t,e))}function wg(n,e){const t=de(n),r=hh(t);t.D_.delete(e),r.Ho()&&x2(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Du(t)&&t.M_.set("Unknown"))}function zb(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hh(n).u_(e)}function x2(n,e){n.x_.Oe(e),hh(n).c_(e)}function qb(n){n.x_=new _Y({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),hh(n).start(),n.M_.g_()}function Gb(n){return Du(n)&&!hh(n).jo()&&n.D_.size>0}function Du(n){return 0===de(n).C_.size}function N2(n){n.x_=void 0}function yJ(n){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Y.Z)(function*(n){n.D_.forEach((e,t)=>{zb(n,e)})}),Wb.apply(this,arguments)}function vJ(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,Y.Z)(function*(n,e){N2(n),Gb(n)?(n.M_.w_(e),qb(n)):n.M_.set("Unknown")}),Kb.apply(this,arguments)}function EJ(n,e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Y.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof AL&&2===e.state&&e.cause)try{yield(r=(0,Y.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zv(n,r)}else if(e instanceof xv?n.x_.$e(e):e instanceof DL?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(ke.min()))try{const r=yield I2(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(c);h&&s.D_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(mr.EMPTY_BYTE_STRING,h.snapshotVersion)),x2(s,u);const g=new va(h.target,u,c,h.sequenceNumber);zb(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield Zv(n,r)}var r}),Zb.apply(this,arguments)}function Zv(n,e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Y.Z)(function*(n,e,t){if(!pu(e))throw e;n.C_.add(1),yield ch(n),n.M_.set("Offline"),t||(t=()=>I2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Ig(n)}))}),Qb.apply(this,arguments)}function O2(n,e){return e().catch(t=>Zv(n,t,e))}function dh(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,Y.Z)(function*(n){const e=de(n),t=Au(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;IJ(e);)try{const i=yield sJ(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,wJ(e,i)}catch(i){yield Zv(e,i)}k2(e)&&F2(e)}),Yb.apply(this,arguments)}function IJ(n){return Du(n)&&n.b_.length<10}function wJ(n,e){n.b_.push(e);const t=Au(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function k2(n){return Du(n)&&!Au(n).jo()&&n.b_.length>0}function F2(n){Au(n).start()}function CJ(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,Y.Z)(function*(n){Au(n).E_()}),Jb.apply(this,arguments)}function TJ(n){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,Y.Z)(function*(n){const e=Au(n);for(const t of n.b_)e.P_(t.mutations)}),Xb.apply(this,arguments)}function bJ(n,e,t){return eD.apply(this,arguments)}function eD(){return eD=(0,Y.Z)(function*(n,e,t){const r=n.b_.shift(),i=cb.from(r,e,t);yield O2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dh(n)}),eD.apply(this,arguments)}function DJ(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,Y.Z)(function*(n,e){var t;e&&Au(n).h_&&(yield(t=(0,Y.Z)(function*(i,s){if(IL(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();Au(i).Yo(),yield O2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield dh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),k2(n)&&F2(n)}),tD.apply(this,arguments)}function V2(n,e){return nD.apply(this,arguments)}function nD(){return nD=(0,Y.Z)(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Du(t);t.C_.add(3),yield ch(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Ig(t)}),nD.apply(this,arguments)}function rD(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,Y.Z)(function*(n,e){const t=de(n);e?(t.C_.delete(2),yield Ig(t)):e||(t.C_.add(2),yield ch(t),t.M_.set("Unknown"))}),iD.apply(this,arguments)}function hh(n){return n.O_||(n.O_=function(t,r,i){const s=de(t);return s.A_(),new hJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:yJ.bind(null,n),Io:vJ.bind(null,n),a_:EJ.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.O_.Yo(),Gb(n)?qb(n):n.M_.set("Unknown")):(yield n.O_.stop(),N2(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Au(n){return n.N_||(n.N_=function(t,r,i){const s=de(t);return s.A_(),new fJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:CJ.bind(null,n),Io:DJ.bind(null,n),T_:TJ.bind(null,n),I_:bJ.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.N_.Yo(),yield dh(n)):(yield n.N_.stop(),n.b_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class sD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new sD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fh(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),pu(n))return new re(H.UNAVAILABLE,`${e}: ${n}`);throw n}class ph{constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=rg(),this.sortedSet=new on(this.comparator)}static emptySet(e){return new ph(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class L2{constructor(){this.B_=new on(fe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class gh{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new gh(e,t,ph.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class AJ{constructor(){this.k_=void 0,this.listeners=[]}}class SJ{constructor(){this.queries=new _a(e=>nL(e),tg),this.onlineState="Unknown",this.q_=new Set}}function oD(n,e){return aD.apply(this,arguments)}function aD(){return aD=(0,Y.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new AJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=fh(o,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&cD(t)}),aD.apply(this,arguments)}function uD(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,Y.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),lD.apply(this,arguments)}function PJ(n,e){const t=de(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&cD(t)}function RJ(n,e,t){const r=de(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function cD(n){n.q_.forEach(e=>{e.next()})}class dD{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class MJ{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class U2{constructor(e){this.serializer=e}hs(e){return Ao(this.serializer,e)}Ps(e){return e.metadata.exists?FL(this.serializer,e.document,!1):pn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Jn(e)}}class xJ{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=B2(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=St.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new U2(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ot()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,Y.Z)(function*(){const t=yield function oJ(n,e,t,r){return Nb.apply(this,arguments)}(e.localStore,new U2(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield aJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function B2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class j2{constructor(e){this.key=e}}class $2{constructor(e){this.key=e}}class H2{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=iL(e),this.aa=new ph(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new L2,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=ng(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;m&&y?m.data.isEqual(y.data)?C!==D&&(r.track({type:3,doc:y}),A=!0):this.ha(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this._a(y,u)>0||c&&this._a(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(a=!0)),A&&(y?(o=o.add(y),s=D?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,g)=>function(y,C){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return D(y)-D(C)}(h.type,g.type)||this._a(h.doc,g.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==o.length||c?{snapshot:new gh(this.query,e.aa,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new L2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new $2(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new j2(r))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return gh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class NJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OJ{constructor(e){this.key=e,this.Ra=!1}}class kJ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new _a(a=>nL(a),tg),this.fa=new Map,this.ga=new Set,this.pa=new on(fe.comparator),this.ya=new Map,this.wa=new bb,this.Sa={},this.ba=new Map,this.Da=Bl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function FJ(n,e){return hD.apply(this,arguments)}function hD(){return hD=(0,Y.Z)(function*(n,e){const t=kD(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield uh(t.localStore,yi(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield fD(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Kv(t.remoteStore,o)}return i}),hD.apply(this,arguments)}function fD(n,e,t,r,i){return pD.apply(this,arguments)}function pD(){return pD=(0,Y.Z)(function*(n,e,t,r,i){n.va=(g,m,y)=>{return(C=(0,Y.Z)(function*(A,x,U,R){let Q=x.view.ca(U);Q.Zi&&(Q=yield Hv(A.localStore,x.query,!1).then(({documents:Un})=>x.view.ca(Un,Q)));const he=R&&R.targetChanges.get(x.targetId),Pe=R&&null!=R.targetMismatches.get(x.targetId),_t=x.view.applyChanges(Q,A.isPrimaryClient,he,Pe);return TD(A,x.targetId,_t.Ta),_t.snapshot}),function D(A,x,U,R){return C.apply(this,arguments)})(n,g,m,y);var C};const s=yield Hv(n.localStore,e,!0),o=new H2(e,s.ls),a=o.ca(s.documents),u=lg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);TD(n,t,c.Ta);const h=new NJ(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),pD.apply(this,arguments)}function VJ(n,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Y.Z)(function*(n,e){const t=de(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!tg(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),wg(t.remoteStore,r.targetId),mh(t,r.targetId)}).catch(fu))):(mh(t,r.targetId),yield lh(t.localStore,r.targetId,!0))}),gD.apply(this,arguments)}function mD(){return mD=(0,Y.Z)(function*(n,e,t){const r=FD(n);try{const i=yield function(o,a){const u=de(o),c=wn.now(),h=a.reduce((y,C)=>y.add(C.key),ot());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Vi(),D=ot();return u.ss.getEntries(y,h).next(A=>{C=A,C.forEach((x,U)=>{U.isValidDocument()||(D=D.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{g=A;const x=[];for(const U of a){const R=fY(U,g.get(U.key).overlayedDocument);null!=R&&x.push(new ya(U.key,R,jV(R.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,x,a)}).next(A=>{m=A;const x=A.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(y,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:oL(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Sa[o.currentUser.toKey()];c||(c=new on(Qe)),c=c.insert(a,u),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Ea(r,i.changes),yield dh(r.remoteStore)}catch(i){const s=fh(i,"Failed to persist write");t.reject(s)}}),mD.apply(this,arguments)}function z2(n,e){return _D.apply(this,arguments)}function _D(){return _D=(0,Y.Z)(function*(n,e){const t=de(n);try{const r=yield function iJ(n,e){const t=de(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var D,A,x;null!==e.targetMismatches.get(g)?y=y.withResumeToken(mr.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),A=y,x=h,(0===(D=m).resumeToken.approximateByteSize()||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let u=Vi(),c=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(w2(s,o,e.documentUpdates).next(h=>{u=h.us,c=h.cs})),!r.isEqual(ke.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(g=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Oe(o.Ra):i.removedDocuments.size>0&&(Oe(o.Ra),o.Ra=!1))}),yield Ea(t,r,e)}catch(r){yield fu(r)}}),_D.apply(this,arguments)}function q2(n,e,t){const r=de(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=de(o);u.onlineState=a;let c=!1;u.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(c=!0)}),c&&cD(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UJ(n,e,t){return yD.apply(this,arguments)}function yD(){return yD=(0,Y.Z)(function*(n,e,t){const r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new on(fe.comparator);o=o.insert(s,pn.newNoDocument(s,ke.min()));const a=ot().add(s),u=new ug(ke.min(),new Map,new on(Qe),o,a);yield z2(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),bD(r)}else yield lh(r.localStore,e,!1).then(()=>mh(r,e,t)).catch(fu)}),yD.apply(this,arguments)}function BJ(n,e){return vD.apply(this,arguments)}function vD(){return vD=(0,Y.Z)(function*(n,e){const t=de(n),r=e.batch.batchId;try{const i=yield function rJ(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const g=c.batch,m=g.keys();let y=V.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(D=>{const A=c.docVersions.get(C);Oe(null!==A),D.version.compareTo(A)<0&&(g.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),h.addEntry(D)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ot();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);CD(t,r,null),wD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ea(t,i)}catch(i){yield fu(i)}}),vD.apply(this,arguments)}function jJ(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=(0,Y.Z)(function*(n,e,t){const r=de(n);try{const i=yield function(o,a){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(g=>(Oe(null!==g),h=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);CD(r,e,t),wD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ea(r,i)}catch(i){yield fu(i)}}),ED.apply(this,arguments)}function ID(){return ID=(0,Y.Z)(function*(n,e){const t=de(n);Du(t.remoteStore)||ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=de(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=fh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ID.apply(this,arguments)}function wD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function CD(n,e,t){const r=de(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function mh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||G2(n,r)})}function G2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(wg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),bD(n))}function TD(n,e,t){for(const r of t)r instanceof j2?(n.wa.addReference(r.key,e),HJ(n,r)):r instanceof $2?(ae("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||G2(n,r.key)):be()}function HJ(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ae("SyncEngine","New document in limbo: "+t),n.ga.add(r),bD(n))}function bD(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new fe(St.fromString(e)),r=n.Da.next();n.ya.set(r,new OJ(t)),n.pa=n.pa.insert(t,r),Kv(n.remoteStore,new va(yi(Zd(t.path)),r,"TargetPurposeLimboResolution",is._e))}}function Ea(n,e,t){return DD.apply(this,arguments)}function DD(){return DD=(0,Y.Z)(function*(n,e,t){const r=de(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const h=Rb.Qi(u.targetId,c);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Y.Z)(function*(c,h){const g=de(c);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>V.forEach(h,y=>V.forEach(y.ki,C=>g.persistence.referenceDelegate.addReference(m,y.targetId,C)).next(()=>V.forEach(y.qi,C=>g.persistence.referenceDelegate.removeReference(m,y.targetId,C)))))}catch(m){if(!pu(m))throw m;ae("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const C=g.ts.get(y),A=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);g.ts=g.ts.insert(y,A)}}}),function u(c,h){return a.apply(this,arguments)})(r.localStore,s))}),DD.apply(this,arguments)}function zJ(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,Y.Z)(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=yield E2(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new re(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ea(t,r._s)}var s}),AD.apply(this,arguments)}function qJ(n,e){const t=de(n),r=t.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function GJ(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,Y.Z)(function*(n,e){const t=de(n),r=yield Hv(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&TD(t,e.targetId,i.Ta),i}),SD.apply(this,arguments)}function WJ(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,Y.Z)(function*(n,e){const t=de(n);return T2(t.localStore,e).then(r=>Ea(t,r))}),PD.apply(this,arguments)}function KJ(n,e,t,r){return RD.apply(this,arguments)}function RD(){return RD=(0,Y.Z)(function*(n,e,t,r){const i=de(n),s=yield function(a,u){const c=de(a),h=de(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,u).next(m=>m?c.localDocuments.getDocuments(g,m):V.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield dh(i.remoteStore):"acknowledged"===t||"rejected"===t?(CD(i,e,r||null),wD(i,e),u=e,de(de(i.localStore).mutationQueue).Fn(u)):be(),yield Ea(i,s)):ae("SyncEngine","Cannot apply mutation batch with id: "+e)}),RD.apply(this,arguments)}function MD(){return MD=(0,Y.Z)(function*(n,e){const t=de(n);if(kD(t),FD(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield W2(t,r.toArray());t.Ca=!0,yield rD(t.remoteStore,!0);for(const s of i)Kv(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(mh(t,o),lh(t.localStore,o,!0))),wg(t.remoteStore,o)}),yield i,yield W2(t,r),function(o){const a=de(o);a.ya.forEach((u,c)=>{wg(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new on(fe.comparator)}(t),t.Ca=!1,yield rD(t.remoteStore,!1)}}),MD.apply(this,arguments)}function W2(n,e,t){return xD.apply(this,arguments)}function xD(){return xD=(0,Y.Z)(function*(n,e,t){const r=de(n),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield uh(r.localStore,yi(u[0]));for(const c of u){const h=r.ma.get(c),g=yield GJ(r,h);g.snapshot&&s.push(g.snapshot)}}else{const c=yield C2(r.localStore,o);a=yield uh(r.localStore,c),yield fD(r,K2(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),xD.apply(this,arguments)}function K2(n){return XV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function QJ(n){return t=de(n).localStore,de(de(t).persistence).Bi();var t}function YJ(n,e,t,r){return ND.apply(this,arguments)}function ND(){return ND=(0,Y.Z)(function*(n,e,t,r){const i=de(n);if(i.Ca)return void ae("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield T2(i.localStore,rL(s[0])),a=ug.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,mr.EMPTY_BYTE_STRING);yield Ea(i,o,a);break}case"rejected":yield lh(i.localStore,e,!0),mh(i,e,r);break;default:be()}}),ND.apply(this,arguments)}function JJ(n,e,t){return OD.apply(this,arguments)}function OD(){return OD=(0,Y.Z)(function*(n,e,t){const r=kD(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){ae("SyncEngine","Adding an already active target "+i);continue}const s=yield C2(r.localStore,i),o=yield uh(r.localStore,s);yield fD(r,K2(s),o.targetId,!1,o.resumeToken),Kv(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield lh(r.localStore,i,!1).then(()=>{wg(r.remoteStore,i),mh(r,i)}).catch(fu))}}),OD.apply(this,arguments)}function kD(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UJ.bind(null,e),e.Va.a_=PJ.bind(null,e.eventManager),e.Va.Fa=RJ.bind(null,e.eventManager),e}function FD(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jJ.bind(null,e),e}class Cg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Y.Z)(function*(){t.serializer=Eg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return v2(this.persistence,new y2,e.initialUser,this.serializer)}createPersistence(e){return new Db(Bv.jr,this.serializer)}createSharedClientState(e){return new S2}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class VD extends Cg{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Y.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield FD(r.xa.syncEngine),yield dh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return v2(this.persistence,new y2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new l2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new bQ(t,this.persistence);return new TQ(e.asyncQueue,r)}createPersistence(e){const t=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new Sb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,R2(),Wv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new S2}}class Z2 extends VD{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Y.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof Lb&&(r.sharedClientState.syncEngine={Ys:KJ.bind(null,i),Zs:YJ.bind(null,i),Xs:JJ.bind(null,i),Bi:QJ.bind(null,i),Js:WJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Y.Z)(function*(o){yield function ZJ(n,e){return MD.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=R2();if(!Lb.D(t))throw new re(H.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _h{initialize(e,t){var r=this;return(0,Y.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>q2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zJ.bind(null,r.syncEngine),yield rD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SJ}createDatastore(e){const t=Eg(e.databaseInfo.databaseId),r=new dJ(e.databaseInfo);return new pJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>q2(this.syncEngine,t,0),a=P2.D()?new P2:new uJ,new _J(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,c,h){const g=new kJ(i,s,o,a,u,c);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Y.Z)(function*(r){const i=de(r);ae("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield ch(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Q2(n,e=10240){let t=0;return{read:()=>(0,Y.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tX{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new gr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Y.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new MJ(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Y.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,Y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Y.Z)(function*(o,a){const u=de(o),c=dg(u.serializer)+"/documents",h={documents:a.map(C=>cg(u.serializer,C))},g=yield u.Co("BatchGetDocuments",c,h,a.length),m=new Map;g.forEach(C=>{const D=function CY(n,e){return"found"in e?function(r,i){Oe(!!i.found);const s=Ao(r,i.found.name),o=Jn(i.found.updateTime),a=i.found.createTime?Jn(i.found.createTime):ke.min(),u=new Vr({mapValue:{fields:i.found.fields}});return pn.newFoundDocument(s,o,a,u)}(n,e):"missing"in e?function(r,i){Oe(!!i.missing),Oe(!!i.readTime);const s=Ao(r,i.missing),o=Jn(i.readTime);return pn.newNoDocument(s,o)}(n,e):be()}(u.serializer,C);m.set(D.key.toString(),D)});const y=[];return a.forEach(C=>{const D=m.get(C.toString());Oe(!!D),y.push(D)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=fe.fromPath(i);e.mutations.push(new ub(s,e.precondition(s)))}),yield(r=(0,Y.Z)(function*(s,o){const a=de(s),u=dg(a.serializer)+"/documents",c={writes:o.map(h=>hg(a.serializer,h))};yield a.wo("Commit",u,c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be();t=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ke.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ke.min()))throw new re(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rX{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new Bb(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Y.Z)(function*(){const t=new nX(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!Wp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!IL(t)}return!1}}class iX{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=_V.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Y.Z)(function*(a){ae("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Yv(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Y.Z)(function*(s){r.isEqual(s)||(yield E2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LD.apply(this,arguments)}function UD(n,e){return BD.apply(this,arguments)}function BD(){return BD=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jD(n);ae("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>V2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>V2(e.remoteStore,s)),n._onlineComponents=e}),BD.apply(this,arguments)}function Y2(n){return"FirebaseError"===n.name?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function jD(n){return $D.apply(this,arguments)}function $D(){return $D=(0,Y.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Y2(t))throw t;ki("Error using user provided cache. Falling back to memory cache: "+t),yield Yv(n,new Cg)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield Yv(n,new Cg);return n._offlineComponents}),$D.apply(this,arguments)}function Jv(n){return HD.apply(this,arguments)}function HD(){return HD=(0,Y.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield UD(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield UD(n,new _h))),n._onlineComponents}),HD.apply(this,arguments)}function J2(n){return jD(n).then(e=>e.persistence)}function yh(n){return jD(n).then(e=>e.localStore)}function X2(n){return Jv(n).then(e=>e.remoteStore)}function zD(n){return Jv(n).then(e=>e.syncEngine)}function vh(n){return qD.apply(this,arguments)}function qD(){return qD=(0,Y.Z)(function*(n){const e=yield Jv(n),t=e.eventManager;return t.onListen=FJ.bind(null,e.syncEngine),t.onUnlisten=VJ.bind(null,e.syncEngine),t}),qD.apply(this,arguments)}function tU(n,e,t={}){const r=new gr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(s,o,a,u,c){const h=new Qv({next:m=>{o.enqueueAndForget(()=>uD(s,g));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?c.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new dD(Zd(a.path),h,{includeMetadataChanges:!0,J_:!0});return oD(s,g)}(yield vh(n),n.asyncQueue,e,t,r)})),r.promise}function nU(n,e,t={}){const r=new gr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(s,o,a,u,c){const h=new Qv({next:m=>{o.enqueueAndForget(()=>uD(s,g)),m.fromCache&&"server"===u.source?c.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new dD(a,h,{includeMetadataChanges:!0,J_:!0});return oD(s,g)}(yield vh(n),n.asyncQueue,e,t,r)})),r.promise}function rU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iU=new Map;function GD(n,e,t){if(!t)throw new re(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sU(n,e,t,r){if(!0===e&&!0===r)throw new re(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oU(n){if(!fe.isDocumentKey(n))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aU(n){if(fe.isDocumentKey(n))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":be()}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xv(n);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uU(n,e){if(e<=0)throw new re(H.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new hQ;switch(r.type){case"firstParty":return new mQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=iU.get(t);r&&(ae("ComponentProvider","Removing Datastore"),iU.delete(t),r.terminate())}(this),Promise.resolve()}}class Lr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class So extends Lr{constructor(e,t,r){super(e,t,Zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new fe(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function dU(n,e,...t){if(n=(0,en.m9)(n),GD("collection","path",e),n instanceof Tg){const r=St.fromString(e,...t);return aU(r),new So(n,null,r)}{if(!(n instanceof gn||n instanceof So))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...t));return aU(r),new So(n.firestore,null,r)}}function eE(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=_V.newId()),GD("doc","path",e),n instanceof Tg){const r=St.fromString(e,...t);return oU(r),new gn(n,null,new fe(r))}{if(!(n instanceof gn||n instanceof So))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...t));return oU(r),new gn(n.firestore,n instanceof So?n.converter:null,new fe(r))}}function hU(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof gn||n instanceof So)&&(e instanceof gn||e instanceof So)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WD(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Lr&&e instanceof Lr&&n.firestore===e.firestore&&tg(n._query,e._query)&&n.converter===e.converter}class mX{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Bb(this,"async_queue_retry"),this.iu=()=>{const t=Wv();t&&ae("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Wv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Wv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new gr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!pu(t))throw t;ae("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=sD.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return(0,Y.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function KD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class _X{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class an extends Tg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fU(this),this._firestoreClient.terminate()}}function Ln(n){return n._firestoreClient||fU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fU(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GQ(n._databaseId,u,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rU(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;n._firestoreClient=new iX(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pU(n,e,t){const r=new gr;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield Yv(n,t),yield UD(n,e),r.resolve()}catch(i){const s=i;if(!Y2(s))throw s;ki("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function gU(n){if(n._initialized||n._terminated)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(mr.fromBase64String(e))}catch(t){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Po(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ia{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $l{constructor(e){this._methodName=e}}class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}const SX=/^__.*__$/;class PX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new eh(e,this.data,t,this.fieldTransforms)}}class mU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _U(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class nE{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new nE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return sE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(_U(this.Iu)&&SX.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class RX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Eg(e)}pu(e,t,r,i=!1){return new nE({Iu:e,methodName:t,gu:r,path:fn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hl(n){const e=n._freezeSettings(),t=Eg(n._databaseId);return new RX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rE(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);JD("Data must be an object, but it was:",o,r);const a=EU(r,o);let u,c;if(s.merge)u=new Fi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const m=Ag(e,g,t);if(!o.contains(m))throw new re(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wU(h,m)||h.push(m)}u=new Fi(h),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new PX(new Vr(a),u,c)}class Dg extends $l{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}function yU(n,e,t){return new nE({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ZD extends $l{_toFieldTransform(e){return new sg(e.path,new Jd)}isEqual(e){return e instanceof ZD}}class MX extends $l{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=yU(this,e,!0),r=this.yu.map(s=>zl(s,t)),i=new Nl(r);return new sg(e.path,i)}isEqual(e){return this===e}}class xX extends $l{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=yU(this,e,!0),r=this.yu.map(s=>zl(s,t)),i=new Ol(r);return new sg(e.path,i)}isEqual(e){return this===e}}class NX extends $l{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Xd(e.serializer,cL(e.serializer,this.wu));return new sg(e.path,t)}isEqual(e){return this===e}}function QD(n,e,t,r){const i=n.pu(1,e,t);JD("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();gu(r,(u,c)=>{const h=iE(e,u,t);c=(0,en.m9)(c);const g=i.Ru(h);if(c instanceof Dg)s.push(h);else{const m=zl(c,g);null!=m&&(s.push(h),o.set(h,m))}});const a=new Fi(s);return new mU(o,a,i.fieldTransforms)}function YD(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[Ag(e,r,t)],u=[i];if(s.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Ag(e,s[m])),u.push(s[m+1]);const c=[],h=Vr.empty();for(let m=a.length-1;m>=0;--m)if(!wU(c,a[m])){const y=a[m];let C=u[m];C=(0,en.m9)(C);const D=o.Ru(y);if(C instanceof Dg)c.push(y);else{const A=zl(C,D);null!=A&&(c.push(y),h.set(y,A))}}const g=new Fi(c);return new mU(h,g,o.fieldTransforms)}function vU(n,e,t,r=!1){return zl(t,n.pu(r?4:3,e))}function zl(n,e){if(IU(n=(0,en.m9)(n)))return JD("Unsupported field value:",e,n),EU(n,e);if(n instanceof $l)return function(r,i){if(!_U(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=zl(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,en.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return cL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=wn.fromDate(r);return{timestampValue:nh(i.serializer,s)}}if(r instanceof wn){const s=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(i.serializer,s)}}if(r instanceof tE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Po)return{bytesValue:ML(i.serializer,r._byteString)};if(r instanceof gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Xv(r)}`)}(n,e)}function EU(n,e){const t={};return xV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(n,(r,i)=>{const s=zl(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function IU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wn||n instanceof tE||n instanceof Po||n instanceof gn||n instanceof $l)}function JD(n,e,t){if(!IU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Xv(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Ag(n,e,t){if((e=(0,en.m9)(e))instanceof Ia)return e._internalPath;if("string"==typeof e)return iE(n,e);throw sE("Field path arguments must be of type string or ",n,!1,void 0,t)}const OX=new RegExp("[~\\*/\\[\\]]");function iE(n,e,t){if(e.search(OX)>=0)throw sE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ia(...e.split("."))._internalPath}catch{throw sE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new re(H.INVALID_ARGUMENT,a+n+u)}function wU(n,e){return n.some(t=>t.isEqual(e))}class Sg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kX extends Sg{data(){return super.data()}}function oE(n,e){return"string"==typeof e?iE(n,e):e instanceof Ia?e._internalPath:e._delegate._internalPath}function CU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XD{}class Pg extends XD{}function Su(n,e,...t){let r=[];e instanceof XD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof Eh).length,a=s.filter(u=>u instanceof Rg).length;if(o>1||o>0&&a>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Rg extends Pg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rg(e,t,r)}_apply(e){const t=this._parse(e);return AU(e._query,t),new Lr(e.firestore,e.converter,ob(e._query,t))}_parse(e){const t=Hl(e.firestore);return function(s,o,a,u,c,h,g){let m;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){DU(g,h);const y=[];for(const C of g)y.push(bU(u,s,C));m={arrayValue:{values:y}}}else m=bU(u,s,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||DU(g,h),m=vU(a,"where",g,"in"===h||"not-in"===h);return bt.create(c,h,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Eh extends XD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Eh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)AU(o,u),o=ob(o,u)}(e._query,t),new Lr(e.firestore,e.converter,ob(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eA extends Pg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eA(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xp(s,o)}(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ma(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class aE extends Pg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new aE(e,t,r)}_apply(e){return new Lr(e.firestore,e.converter,Av(e._query,this._limit,this._limitType))}}class uE extends Pg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new uE(e,t,r)}_apply(e){const t=TU(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(s=t,new ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class lE extends Pg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lE(e,t,r)}_apply(e){const t=TU(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(s=t,new ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function TU(n,e,t,r){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof Sg)return function(s,o,a,u,c){if(!u)throw new re(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of Qd(s))if(g.field.isKeyField())h.push(Ml(o,u.key));else{const m=u.data.field(g.field);if(Ev(m))throw new re(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new re(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new Iu(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hl(n.firestore);return function(o,a,u,c,h,g){const m=o.explicitOrderBy;if(h.length>m.length)throw new re(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let C=0;C<h.length;C++){const D=h[C];if(m[C].field.isKeyField()){if("string"!=typeof D)throw new re(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof D}`);if(!sb(o)&&-1!==D.indexOf("/"))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${D}' contains a slash.`);const A=o.path.child(St.fromString(D));if(!fe.isDocumentKey(A))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const x=new fe(A);y.push(Ml(a,x))}else{const A=vU(u,c,D);y.push(A)}}return new Iu(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function bU(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&-1!==t.indexOf("/"))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(St.fromString(t));if(!fe.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ml(n,new fe(r))}if(t instanceof gn)return Ml(n,t._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(t)}.`)}function DU(n,e){if(!Array.isArray(n)||0===n.length)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AU(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(H.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tA{convertValue(e,t="none"){switch(vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new tE(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Iv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zp(e));default:return null}}convertTimestamp(e){const t=mu(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=St.fromString(e);Oe(jL(r));const i=new _u(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(t)||Yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function cE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zX extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}class ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends Sg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mg extends wa{data(e={}){return super.data(e)}}class Pu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ql(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Mg(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:GX(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function PU(n,e){return n instanceof wa&&e instanceof wa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pu&&e instanceof Pu&&n._firestore===e._firestore&&WD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ru extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function RU(n,e,t){n=Et(n,gn);const r=Et(n.firestore,an),i=cE(n.converter,e,t);return Ih(r,[rE(Hl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Cn.none())])}function MU(n,e,t,...r){n=Et(n,gn);const i=Et(n.firestore,an),s=Hl(i);let o;return o="string"==typeof(e=(0,en.m9)(e))||e instanceof Ia?YD(s,"updateDoc",n._key,e,t,r):QD(s,"updateDoc",n._key,e),Ih(i,[o.toMutation(n._key,Cn.exists(!0))])}function xU(n,...e){var t,r,i;n=(0,en.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||KD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(KD(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,c,h;if(n instanceof gn)c=Et(n.firestore,an),h=Zd(n._key.path),u={next:g=>{e[o]&&e[o](nA(c,n,g))},error:e[o+1],complete:e[o+2]};else{const g=Et(n,Lr);c=Et(g.firestore,an),h=g._query;const m=new Ru(c);u={next:y=>{e[o]&&e[o](new Pu(c,m,g,y))},error:e[o+1],complete:e[o+2]},CU(n._query)}return function(m,y,C,D){const A=new Qv(D),x=new dD(y,A,C);return m.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return oD(yield vh(m),x)})),()=>{A.Na(),m.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return uD(yield vh(m),x)}))}}(Ln(c),h,a,u)}function Ih(n,e){return function(r,i){const s=new gr;return r.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function LJ(n,e,t){return mD.apply(this,arguments)}(yield zD(r),i,s)})),s.promise}(Ln(n),e)}function nA(n,e,t){const r=t.docs.get(e._key),i=new Ru(n);return new wa(n,i,e._key,r,new ql(t.hasPendingWrites,t.fromCache),e.converter)}const cee={maxAttempts:5};class NU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hl(e)}set(e,t,r){this._verifyNotCommitted();const i=Mu(e,this._firestore),s=cE(i.converter,t,r),o=rE(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Cn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Mu(e,this._firestore);let o;return o="string"==typeof(t=(0,en.m9)(t))||t instanceof Ia?YD(this._dataReader,"WriteBatch.update",s._key,t,r,i):QD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mu(e,this._firestore);return this._mutations=this._mutations.concat(new th(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mu(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new re(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dee extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Hl(t)}get(t){const r=Mu(t,this._firestore),i=new zX(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return be();const o=s[0];if(o.isFoundDocument())return new Sg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Sg(this._firestore,i,r._key,null,r.converter);throw be()})}set(t,r,i){const s=Mu(t,this._firestore),o=cE(s.converter,r,i),a=rE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Mu(t,this._firestore);let a;return a="string"==typeof(r=(0,en.m9)(r))||r instanceof Ia?YD(this._dataReader,"Transaction.update",o._key,r,i,s):QD(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Mu(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mu(e,this._firestore),r=new Ru(this._firestore);return super.get(e).then(i=>new wa(this._firestore,r,t._key,i._document,new ql(!1,!1),t.converter))}}function vee(n,e){if(1&n){const t=Xi();N(0,"input",3,4),lt("paste",function(i){return dr(t),On(Bt(2).handlePaste(i))})("keyup",function(i){const o=dr(t).index;return On(Bt(2).onKeyUp(i,o))})("input",function(i){return dr(t),On(Bt(2).onInput(i))})("keydown",function(i){const o=dr(t).index;return On(Bt(2).onKeyDown(i,o))}),F()}if(2&n){const t=e.$implicit,r=e.index,i=Bt(2);Fw("otp-input ",i.config.inputClass,""),Ze("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[t])("id",i.getBoxId(r))}}function Eee(n,e){if(1&n&&(N(0,"div",1),dt(1,vee,2,9,"input",2),ud(2,"keys"),F()),2&n){const t=Bt();Fw("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),g_("id","c_",t.componentKey,""),Ze("ngStyle",t.config.containerStyles),ce(1),Ze("ngForOf",M1(2,6,null==t.otpForm?null:t.otpForm.controls))}}!function(e,t=!0){jd=bd.SDK_VERSION,(0,bd._registerComponent)(new Qk.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new an(new pQ(r.getProvider("auth-internal")),new _Q(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,bd.registerVersion)(pV,"4.4.0",e),(0,bd.registerVersion)(pV,"4.4.0","esm2017")}();class wh{static ifTab(e){return this.ifKey(e,"Tab")}static ifDelete(e){return this.ifKey(e,"Delete;Del")}static ifBackspace(e){return this.ifKey(e,"Backspace")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,t){return t.split(";").some(i=>i===e.key)}}let iA=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Ar({name:"keys",type:n,pure:!0}),n})(),Iee=(()=>{class n{constructor(t,r){this.keysPipe=t,this.document=r,this.config={length:4},this.onInputChange=new Sn,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new Md({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new xd);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(r=>{var i=this.otpForm.controls[r].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const i=this.getBoxId(r-1),s=this.getBoxId(r);return wh.ifSpacebar(t)?(t.preventDefault(),!1):wh.ifBackspace(t)?(t.target.value?this.clearInput(s,r):(this.clearInput(i,r-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,r){wh.ifTab(t)&&(r-=1);const i=this.getBoxId(r+1),s=this.getBoxId(r-1),o=this.getBoxId(r);return wh.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(i)):wh.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):wh.ifDelete(t)?(t.target.value?this.clearInput(o,r):(this.clearInput(s,r-1),this.setSelected(s)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(i),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let i=this.getControlName(r);this.otpForm.controls[i]?.setValue(null);const s=this.document.getElementById(t);s&&s instanceof HTMLInputElement&&(s.value=null)}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(r)}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((i,s)=>{this.otpForm.get(this.getControlName(s))&&this.otpForm.get(this.getControlName(s)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let s=i.getElementsByClassName("otp-input")[r];s&&s.focus&&s.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let i=this.otpForm.controls[r].value,s=i.length>1,o=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let a=o?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;o&&a==i?o=!1:i=a,t+=i,(s||o)&&this.otpForm.controls[r].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var i=r.getData("Text");t.stopPropagation(),t.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return n.\u0275fac=function(t){return new(t||n)(W(iA),W(Wn))},n.\u0275cmp=$t({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,r){1&t&&dt(0,Eee,3,8,"div",0),2&t&&Ze("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[aa,rx,cl,Il,rT,pp,YC,iA],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({providers:[iA],imports:[[hd,Hy,zy]]}),n})(),wee=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.ngZone=i,this.verificationCode="",this.verificationId="",this.user={phoneNumber:""},this.confirmationResult="",this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}}}ngOnInit(){this.verify=localStorage.getItem("verificationId")||"{}"}onOtpChange(t){this.verificationCode=t}onSubmit(){this.authService.enterVerificationCode(this.verificationCode).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/update-profile"]).then()})}).catch(t=>{})}static#e=this.\u0275fac=function(r){return new(r||n)(W(kC),W(pr),W(Lt))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-verify-otp"]],decls:13,vars:1,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[1,"input"],[3,"config","onInputChange"],["ngOtpInput",""],["type","submit",1,"btn",3,"click"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),Z(4,"Cocktail Club"),F(),N(5,"p"),Z(6,"Enter OTP sent on your mobile number"),F()(),N(7,"form")(8,"div",3)(9,"ng-otp-input",4,5),lt("onInputChange",function(o){return i.onOtpChange(o)}),F()(),N(11,"button",6),lt("click",function(){return i.onSubmit()}),Z(12,"Verify OTP"),F()()()()),2&r&&(ce(9),Ze("config",i.config))},dependencies:[Ip,gp,$y,Iee],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}#termAndConditionsText[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}']})}return n})();function Cee(n,e){1&n&&(N(0,"div",11),Z(1," Invalid name "),F())}function Tee(n,e){1&n&&(N(0,"div",11),Z(1," Invalid email "),F())}const bee=[{path:"signin",component:rZ},{path:"verify-otp",component:wee},{path:"update-profile",component:(()=>{class n{constructor(t,r){this.formBuilder=t,this.router=r,this.user=JSON.parse(localStorage.getItem("user")||"{}"),this.userCart=JSON.parse(localStorage.getItem("cart")||"{}"),this.updateProfileForm=t.group({fullName:[this.user.fullName,ha.required],email:[this.user.email,ha.required]}),console.log(this.userCart)}ngOnInit(){JSON.parse(localStorage.getItem("user")||"{}")}markProfileFormTouched(){const t=this.updateProfileForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.updateProfileForm.controls[r].markAsTouched()}onSubmit(){this.markProfileFormTouched(),localStorage.setItem("user",JSON.stringify(this.updateProfileForm.value)),this.router.navigate(["/checkout"])}static#e=this.\u0275fac=function(r){return new(r||n)(W(iT),W(pr))};static#t=this.\u0275cmp=$t({type:n,selectors:[["app-update-profile"]],decls:18,vars:3,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Full name"],["class","text-danger",4,"ngIf"],[1,"fa","fa-envelope"],["formControlName","email","type","email","placeholder","Email"],["type","submit",1,"btn"],[1,"text-danger"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),Z(4,"Cocktail Club"),F(),N(5,"p"),Z(6,"Update profile to continue"),F()(),N(7,"form",3),lt("ngSubmit",function(){return i.onSubmit()}),N(8,"div",4),Ne(9,"i",5)(10,"input",6),F(),dt(11,Cee,2,0,"div",7),N(12,"div",4),Ne(13,"i",8)(14,"input",9),F(),dt(15,Tee,2,0,"div",7),N(16,"button",10),Z(17,"Update Profile"),F()()()()),2&r&&(ce(7),Ze("formGroup",i.updateProfileForm),ce(4),Ze("ngIf",i.updateProfileForm.controls.fullName.touched&&i.updateProfileForm.controls.fullName.invalid),ce(4),Ze("ngIf",i.updateProfileForm.controls.email.touched&&i.updateProfileForm.controls.email.invalid))},dependencies:[aa,Ip,Il,pp,gp,Nd,wp],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}#termAndConditionsText[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}']})}return n})()}];let Dee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[mo.forChild(bee),mo]})}return n})(),Aee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=rn({imports:[hd,Hy,zy,Dee,VU]})}return n})();function LU(n){return new T(3e3,!1)}function ute(){return typeof window<"u"&&typeof window.document<"u"}function sA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xu(n){switch(n.length){case 0:return new fp;case 1:return n[0];default:return new $O(n)}}function UU(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,c=null;if(r.forEach(h=>{const g=h.get("offset"),m=g==u,y=m&&c||new Map;h.forEach((C,D)=>{let A=D,x=C;if("offset"!==D)switch(A=e.normalizePropertyName(A,o),x){case VC:x=i.get(D);break;case da:x=s.get(D);break;default:x=e.normalizeStyleValue(D,A,x,o)}y.set(A,x)}),m||a.push(y),c=y,u=g}),o.length)throw function Qee(n){return new T(3502,!1)}();return a}function oA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&aA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&aA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&aA(t,"destroy",n)))}}function aA(n,e,t){const s=uA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function uA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ss(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function BU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let lA=(n,e)=>!1,jU=(n,e,t)=>[],$U=null;function cA(n){const e=n.parentNode||n.host;return e===$U?null:e}(sA()||typeof Element<"u")&&(ute()?($U=(()=>document.documentElement)(),lA=(n,e)=>{for(;e;){if(e===n)return!0;e=cA(e)}return!1}):lA=(n,e)=>n.contains(e),jU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gl=null,HU=!1;const zU=lA,qU=jU;let GU=(()=>{class n{validateStyleProperty(t){return function cte(n){Gl||(Gl=function dte(){return typeof document<"u"?document.body:null}()||{},HU=!!Gl.style&&"WebkitAppearance"in Gl.style);let e=!0;return Gl.style&&!function lte(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gl.style,!e&&HU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return zU(t,r)}getParentElement(t){return cA(t)}query(t,r,i){return qU(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new fp(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),dA=(()=>{class n{}return n.NOOP=new GU,n})();const hte=1e3,hA="ng-enter",hE="ng-leave",fE="ng-trigger",pE=".ng-trigger",KU="ng-animating",fA=".ng-animating";function Ca(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pA(parseFloat(e[1]),e[2])}function pA(n,e){return"s"===e?n*hte:n}function gE(n,e,t){return n.hasOwnProperty("duration")?n:function pte(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(LU()),{duration:0,delay:0,easing:""};i=pA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=pA(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function See(){return new T(3100,!1)}()),a=!0),s<0&&(e.push(function Pee(){return new T(3101,!1)}()),a=!0),a&&e.splice(u,0,LU())}return{duration:i,delay:s,easing:o}}(n,e,t)}function xg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ZU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Nu(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function YU(n,e,t){return t?e+":"+t+";":""}function JU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=YU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=YU(0,yte(t),n.style[t]));n.setAttribute("style",e)}function Ro(n,e,t){n.style&&(e.forEach((r,i)=>{const s=mA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),sA()&&JU(n))}function Wl(n,e){n.style&&(e.forEach((t,r)=>{const i=mA(r);n.style[i]=""}),sA()&&JU(n))}function Ng(n){return Array.isArray(n)?1==n.length?n[0]:UO(n):n}const gA=new RegExp("{{\\s*(.+?)\\s*}}","g");function XU(n){let e=[];if("string"==typeof n){let t;for(;t=gA.exec(n);)e.push(t[1]);gA.lastIndex=0}return e}function Og(n,e,t){const r=n.toString(),i=r.replace(gA,(s,o)=>{let a=e[o];return null==a&&(t.push(function Mee(n){return new T(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function mE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _te=/-+([a-z0-9])/g;function mA(n){return n.replace(_te,(...e)=>e[1].toUpperCase())}function yte(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function os(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xee(n){return new T(3004,!1)}()}}function eB(n,e){return window.getComputedStyle(n)[e]}const vE="*";function Tte(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bte(n,e,t){if(":"==n[0]){const u=function Dte(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Gee(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function qee(n){return new T(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(tB(i,o));"<"==s[0]&&!(i==vE&&o==vE)&&e.push(tB(o,i))}(r,t,e)):t.push(n),t}const EE=new Set(["true","1"]),IE=new Set(["false","0"]);function tB(n,e){const t=EE.has(n)||IE.has(n),r=EE.has(e)||IE.has(e);return(i,s)=>{let o=n==vE||n==i,a=e==vE||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?EE.has(n):IE.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?EE.has(e):IE.has(e)),o&&a}}const Ate=new RegExp("s*:selfs*,?","g");function _A(n,e,t,r){return new Ste(n).build(e,t,r)}class Ste{constructor(e){this._driver=e}build(e,t,r){const i=new Mte(t);return this._resetContextStyleTimingState(i),os(this,Ng(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Oee(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function kee(){return new T(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{XU(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(mE(s.values()),t.errors.push(function Fee(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=os(this,Ng(e.animation),t);return{type:1,matchers:Tte(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Kl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>os(this,r,t)),options:Kl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=os(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Kl(e.options)}}visitAnimate(e,t){const r=function Nte(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yA(gE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=yA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=gE(t,e);return yA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:hp({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=hp(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===da?r.push(a):t.errors.push(new T(3002,!1)):r.push(ZU(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(u);let g=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function Lee(n,e,t,r,i){return new T(3010,!1)}()),g=!1),s=h.startTime),g&&c.set(u,{startTime:s,endTime:i}),t.options&&function mte(n,e,t){const r=e.params||{},i=XU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Ree(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Uee(){return new T(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const h=e.steps.map(x=>{const U=this._makeStyleAst(x,t);let R=null!=U.offset?U.offset:function xte(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(U.styles),Q=0;return null!=R&&(s++,Q=U.offset=R),u=u||Q<0||Q>1,a=a||Q<c,c=Q,o.push(Q),U});u&&t.errors.push(function Bee(){return new T(3012,!1)}()),a&&t.errors.push(function jee(){return new T(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function $ee(){return new T(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,C=t.currentTime,D=t.currentAnimateTimings,A=D.duration;return h.forEach((x,U)=>{const R=m>0?U==y?1:m*U:o[U],Q=R*A;t.currentTime=C+D.delay+Q,D.duration=Q,this._validateStyleAst(x,t),x.offset=R,r.styles.push(x)}),r}visitReference(e,t){return{type:8,animation:os(this,Ng(e.animation),t),options:Kl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Kl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Pte(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ate,"")),n=n.replace(/@\*/g,pE).replace(/@\w+/g,t=>pE+"-"+t.slice(1)).replace(/:animating/g,fA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ss(t.collectedStyles,t.currentQuerySelector,new Map);const a=os(this,Ng(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Kl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Hee(){return new T(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gE(e.timings,t.errors,!0);return{type:12,animation:os(this,Ng(e.animation),t),timings:r,options:null}}}class Mte{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kl(n){return n?(n=xg(n)).params&&(n.params=function Rte(n){return n?xg(n):null}(n.params)):n={},n}function yA(n,e,t){return{duration:n,delay:e,easing:t}}function vA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class wE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Fte=new RegExp(":enter","g"),Lte=new RegExp(":leave","g");function EA(n,e,t,r,i,s=new Map,o=new Map,a,u,c=[]){return(new Ute).buildKeyframes(n,e,t,r,i,s,o,a,u,c)}class Ute{buildKeyframes(e,t,r,i,s,o,a,u,c,h=[]){c=c||new wE;const g=new IA(e,t,c,i,s,h,[]);g.options=u;const m=u.delay?Ca(u.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,u),os(this,r,g);const y=g.timelines.filter(C=>C.containsAnimation());if(y.length&&a.size){let C;for(let D=y.length-1;D>=0;D--){const A=y[D];if(A.element===t){C=A;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,g.errors,u)}return y.length?y.map(C=>C.buildKeyframes()):[vA(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ca(Og(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ca(r.duration):null,a=null!=r.delay?Ca(r.delay):null;return 0!==o&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),os(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=CE);const o=Ca(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>os(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ca(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),os(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gE(t.params?Og(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ca(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=CE);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const g=t.createSubContext(e.options,c);s&&g.delayNextStep(s),c===t.element&&(u=g.currentTimeline),os(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=t.currentTimeline;u&&h.delayNextStep(u);const g=h.currentTime;os(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const CE={};class IA{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=CE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new TE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ca(r.duration)),null!=r.delay&&(i.delay=Ca(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Og(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new IA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=CE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Bte(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Fte,"."+this._enterClassName)).replace(Lte,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function zee(n){return new T(3014,!1)}()),a}}class TE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new TE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||da),this._currentKeyframe.set(t,da);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function jte(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,da)}else Nu(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Og(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??da),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=Nu(a,new Map,this._backFill);c.forEach((h,g)=>{h===VC?e.add(g):h===da&&t.add(g)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?mE(e.values()):[],o=t.size?mE(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return vA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Bte extends TE{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Nu(e[0]);u.set("offset",0),s.push(u);const c=Nu(e[0]);c.set("offset",iB(a)),s.push(c);const h=e.length-1;for(let g=1;g<=h;g++){let m=Nu(e[g]);const y=m.get("offset");m.set("offset",iB((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return vA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function iB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wA{}const $te=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hte extends wA{normalizePropertyName(e,t){return mA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if($te.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Nee(n,e){return new T(3005,!1)}())}return o+s}}function sB(n,e,t,r,i,s,o,a,u,c,h,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:h,totalTime:g,errors:m}}const CA={};class oB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function zte(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,c,h){const g=[],m=this.ast.options&&this.ast.options.params||CA,C=this.buildStyles(r,a&&a.params||CA,g),D=u&&u.params||CA,A=this.buildStyles(i,D,g),x=new Set,U=new Map,R=new Map,Q="void"===i,he={params:qte(D,m),delay:this.ast.options?.delay},Pe=h?[]:EA(e,t,this.ast.animation,s,o,C,A,he,c,g);let _t=0;if(Pe.forEach(Ws=>{_t=Math.max(Ws.duration+Ws.delay,_t)}),g.length)return sB(t,this._triggerName,r,i,Q,C,A,[],[],U,R,_t,g);Pe.forEach(Ws=>{const Ss=Ws.element,VB=ss(U,Ss,new Set);Ws.preStyleProps.forEach(Jl=>VB.add(Jl));const Ug=ss(R,Ss,new Set);Ws.postStyleProps.forEach(Jl=>Ug.add(Jl)),Ss!==t&&x.add(Ss)});const Un=mE(x.values());return sB(t,this._triggerName,r,i,Q,C,A,Pe,Un,U,R,_t)}}function qte(n,e){const t=xg(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Gte{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=xg(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Og(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class Kte{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Gte(i.style,i.options&&i.options.params||{},r))}),aB(this.states,"true","1"),aB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new oB(e,i,this.states))}),this.fallbackTransition=function Zte(n,e,t){return new oB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function aB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Qte=new wE;class Yte{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=_A(this._driver,t,r,i);if(r.length)throw function Yee(n){return new T(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=UU(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=EA(this._driver,t,s,hA,hE,new Map,new Map,r,Qte,i),o.forEach(h=>{const g=ss(a,h.element,new Map);h.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function Jee(){return new T(3300,!1)}()),o=[]),i.length)throw function Xee(n){return new T(3504,!1)}();a.forEach((h,g)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(g,y,da))})});const c=xu(o.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ete(n){return new T(3301,!1)}();return t}listen(e,t,r,i){const s=uA(t,"","","");return oA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const uB="ng-animate-queued",TA="ng-animate-disabled",nne=[],lB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bs="__ng_removed";class bA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ane(n){return n??null}(r?e.value:e),r){const s=xg(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const kg="void",DA=new bA(kg);class ine{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ds(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function tte(n,e){return new T(3302,!1)}();if(null==r||0==r.length)throw function nte(n){return new T(3303,!1)}();if(!function une(n){return"start"==n||"done"==n}(r))throw function rte(n,e){return new T(3400,!1)}();const s=ss(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ss(this._engine.statesByElement,e,new Map);return a.has(t)||(Ds(e,fE),Ds(e,fE+"-"+t),a.set(t,DA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ite(n){return new T(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new AA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ds(e,fE),Ds(e,fE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new bA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=DA),c.value!==kg&&u.value===c.value){if(!function dne(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,c.params)){const D=[],A=s.matchStyles(u.value,u.params,D),x=s.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Wl(e,A),Ro(e,x)})}return}const m=ss(this._engine.playersByElement,e,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let y=s.matchTransition(u.value,c.value,e,c.params),C=!1;if(!y){if(!i)return;y=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:c,player:o,isFallbackTransition:C}),C||(Ds(e,uB),o.onStart(()=>{Ch(e,uB)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(o);x>=0&&A.splice(x,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,pE,!0);r.forEach(i=>{if(i[bs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const h=this.trigger(e,c,kg,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&xu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||DA,h=new bA(kg),g=new AA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[bs];(!s||s===lB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ds(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=uA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,oA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class sne{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ine(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(bE(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!bE(t))return;const s=t[bs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ds(e,TA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ch(e,TA))}removeNode(e,t,r,i){if(bE(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[bs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return bE(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,pE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[bs];if(t&&t.setForRemoval){if(e[bs]=lB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(TA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ds(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ste(n){return new T(3402,!1)}()}_flushAnimations(e,t){const r=new wE,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Me=>{h.add(Me);const Ue=this.driver.query(Me,".ng-animate-queued",!0);for(let qe=0;qe<Ue.length;qe++)h.add(Ue[qe])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=hB(m,this.collectedEnterElements),C=new Map;let D=0;y.forEach((Me,Ue)=>{const qe=hA+D++;C.set(Ue,qe),Me.forEach(Nt=>Ds(Nt,qe))});const A=[],x=new Set,U=new Set;for(let Me=0;Me<this.collectedLeaveElements.length;Me++){const Ue=this.collectedLeaveElements[Me],qe=Ue[bs];qe&&qe.setForRemoval&&(A.push(Ue),x.add(Ue),qe.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(Nt=>x.add(Nt)):U.add(Ue))}const R=new Map,Q=hB(m,Array.from(x));Q.forEach((Me,Ue)=>{const qe=hE+D++;R.set(Ue,qe),Me.forEach(Nt=>Ds(Nt,qe))}),e.push(()=>{y.forEach((Me,Ue)=>{const qe=C.get(Ue);Me.forEach(Nt=>Ch(Nt,qe))}),Q.forEach((Me,Ue)=>{const qe=R.get(Ue);Me.forEach(Nt=>Ch(Nt,qe))}),A.forEach(Me=>{this.processLeaveNode(Me)})});const he=[],Pe=[];for(let Me=this._namespaceList.length-1;Me>=0;Me--)this._namespaceList[Me].drainQueuedTransitions(t).forEach(qe=>{const Nt=qe.player,br=qe.element;if(he.push(Nt),this.collectedEnterElements.length){const Xr=br[bs];if(Xr&&Xr.setForMove){if(Xr.previousTriggersValues&&Xr.previousTriggersValues.has(qe.triggerName)){const Xl=Xr.previousTriggersValues.get(qe.triggerName),Ps=this.statesByElement.get(qe.element);if(Ps&&Ps.has(qe.triggerName)){const RE=Ps.get(qe.triggerName);RE.value=Xl,Ps.set(qe.triggerName,RE)}}return void Nt.destroy()}}const Mo=!g||!this.driver.containsElement(g,br),as=R.get(br),Ou=C.get(br),Rn=this._buildInstruction(qe,r,Ou,as,Mo);if(Rn.errors&&Rn.errors.length)return void Pe.push(Rn);if(Mo)return Nt.onStart(()=>Wl(br,Rn.fromStyles)),Nt.onDestroy(()=>Ro(br,Rn.toStyles)),void i.push(Nt);if(qe.isFallbackTransition)return Nt.onStart(()=>Wl(br,Rn.fromStyles)),Nt.onDestroy(()=>Ro(br,Rn.toStyles)),void i.push(Nt);const BB=[];Rn.timelines.forEach(Xr=>{Xr.stretchStartingKeyframe=!0,this.disabledNodes.has(Xr.element)||BB.push(Xr)}),Rn.timelines=BB,r.append(br,Rn.timelines),o.push({instruction:Rn,player:Nt,element:br}),Rn.queriedElements.forEach(Xr=>ss(a,Xr,[]).push(Nt)),Rn.preStyleProps.forEach((Xr,Xl)=>{if(Xr.size){let Ps=u.get(Xl);Ps||u.set(Xl,Ps=new Set),Xr.forEach((RE,UA)=>Ps.add(UA))}}),Rn.postStyleProps.forEach((Xr,Xl)=>{let Ps=c.get(Xl);Ps||c.set(Xl,Ps=new Set),Xr.forEach((RE,UA)=>Ps.add(UA))})});if(Pe.length){const Me=[];Pe.forEach(Ue=>{Me.push(function ote(n,e){return new T(3505,!1)}())}),he.forEach(Ue=>Ue.destroy()),this.reportError(Me)}const _t=new Map,Un=new Map;o.forEach(Me=>{const Ue=Me.element;r.has(Ue)&&(Un.set(Ue,Ue),this._beforeAnimationBuild(Me.player.namespaceId,Me.instruction,_t))}),i.forEach(Me=>{const Ue=Me.element;this._getPreviousPlayers(Ue,!1,Me.namespaceId,Me.triggerName,null).forEach(Nt=>{ss(_t,Ue,[]).push(Nt),Nt.destroy()})});const Ws=A.filter(Me=>pB(Me,u,c)),Ss=new Map;dB(Ss,this.driver,U,c,da).forEach(Me=>{pB(Me,u,c)&&Ws.push(Me)});const Ug=new Map;y.forEach((Me,Ue)=>{dB(Ug,this.driver,new Set(Me),u,VC)}),Ws.forEach(Me=>{const Ue=Ss.get(Me),qe=Ug.get(Me);Ss.set(Me,new Map([...Array.from(Ue?.entries()??[]),...Array.from(qe?.entries()??[])]))});const Jl=[],LB=[],UB={};o.forEach(Me=>{const{element:Ue,player:qe,instruction:Nt}=Me;if(r.has(Ue)){if(h.has(Ue))return qe.onDestroy(()=>Ro(Ue,Nt.toStyles)),qe.disabled=!0,qe.overrideTotalTime(Nt.totalTime),void i.push(qe);let br=UB;if(Un.size>1){let as=Ue;const Ou=[];for(;as=as.parentNode;){const Rn=Un.get(as);if(Rn){br=Rn;break}Ou.push(as)}Ou.forEach(Rn=>Un.set(Rn,br))}const Mo=this._buildAnimation(qe.namespaceId,Nt,_t,s,Ug,Ss);if(qe.setRealPlayer(Mo),br===UB)Jl.push(qe);else{const as=this.playersByElement.get(br);as&&as.length&&(qe.parentPlayer=xu(as)),i.push(qe)}}else Wl(Ue,Nt.fromStyles),qe.onDestroy(()=>Ro(Ue,Nt.toStyles)),LB.push(qe),h.has(Ue)&&i.push(qe)}),LB.forEach(Me=>{const Ue=s.get(Me.element);if(Ue&&Ue.length){const qe=xu(Ue);Me.setRealPlayer(qe)}}),i.forEach(Me=>{Me.parentPlayer?Me.syncPlayerEvents(Me.parentPlayer):Me.destroy()});for(let Me=0;Me<A.length;Me++){const Ue=A[Me],qe=Ue[bs];if(Ch(Ue,hE),qe&&qe.hasAnimation)continue;let Nt=[];if(a.size){let Mo=a.get(Ue);Mo&&Mo.length&&Nt.push(...Mo);let as=this.driver.query(Ue,fA,!0);for(let Ou=0;Ou<as.length;Ou++){let Rn=a.get(as[Ou]);Rn&&Rn.length&&Nt.push(...Rn)}}const br=Nt.filter(Mo=>!Mo.destroyed);br.length?lne(this,Ue,br):this.processLeaveNode(Ue)}return A.length=0,Jl.forEach(Me=>{this.players.push(Me),Me.onDone(()=>{Me.destroy();const Ue=this.players.indexOf(Me);this.players.splice(Ue,1)}),Me.play()}),Jl}elementContainsData(e,t){let r=!1;const i=t[bs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==kg;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,h=c!==s,g=ss(r,c,[]);this._getPreviousPlayers(c,h,o,a,t.toState).forEach(y=>{const C=y.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),y.destroy(),g.push(y)})}Wl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,c=[],h=new Set,g=new Set,m=t.timelines.map(C=>{const D=C.element;h.add(D);const A=D[bs];if(A&&A.removedBeforeQueried)return new fp(C.duration,C.delay);const x=D!==u,U=function cne(n){const e=[];return fB(n,e),e}((r.get(D)||nne).map(_t=>_t.getRealPlayer())).filter(_t=>!!_t.element&&_t.element===D),R=s.get(D),Q=o.get(D),he=UU(0,this._normalizer,0,C.keyframes,R,Q),Pe=this._buildPlayer(C,he,U);if(C.subTimeline&&i&&g.add(D),x){const _t=new AA(e,a,D);_t.setRealPlayer(Pe),c.push(_t)}return Pe});c.forEach(C=>{ss(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function one(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>Ds(C,KU));const y=xu(m);return y.onDestroy(()=>{h.forEach(C=>Ch(C,KU)),Ro(u,t.toStyles)}),g.forEach(C=>{ss(i,C,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fp(e.duration,e.delay)}}class AA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new fp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>oA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ss(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bE(n){return n&&1===n.nodeType}function cB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dB(n,e,t,r,i){const s=[];t.forEach(u=>s.push(cB(u)));const o=[];r.forEach((u,c)=>{const h=new Map;u.forEach(g=>{const m=e.computeStyle(c,g,i);h.set(g,m),(!m||0==m.length)&&(c[bs]=rne,o.push(c))}),n.set(c,h)});let a=0;return t.forEach(u=>cB(u,s[a++])),o}function hB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?r:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);u!==r&&t.get(u).push(a)}),t}function Ds(n,e){n.classList?.add(e)}function Ch(n,e){n.classList?.remove(e)}function lne(n,e,t){xu(t).onDone(()=>n.processLeaveNode(e))}function fB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $O?fB(r.players,e):e.push(r)}}function pB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class DE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new sne(e,t,r),this._timelineEngine=new Yte(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=[],h=_A(this._driver,s,u,c);if(u.length)throw function Zee(n,e){return new T(3404,!1)}();a=function Wte(n,e,t){return new Kte(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=BU(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=BU(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fne=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ro(this._element,this._initialStyles),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wl(this._element,this._endStyles),this._endStyles=null),Ro(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function SA(n){let e=null;return n.forEach((t,r)=>{(function pne(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class gB{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:eB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gne{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return zU(e,t)}getParentElement(e){return cA(e)}query(e,t,r){return qU(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,h=o.filter(y=>y instanceof gB);(function vte(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((C,D)=>c.set(D,C))});let g=function gte(n){return n.length?n[0]instanceof Map?n:n.map(e=>ZU(e)):[]}(t).map(y=>Nu(y));g=function Ete(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,eB(n,a)))}}return e}(e,g,c);const m=function hne(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=SA(e[0]),e.length>1&&(r=SA(e[e.length-1]))):e instanceof Map&&(t=SA(e)),t||r?new fne(n,t,r):null}(e,g);return new gB(e,g,u,m)}}let mne=(()=>{class n extends VO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:qi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?UO(t):t;return mB(this._renderer,null,r,"register",[i]),new _ne(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(le(Ef),le(Wn))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class _ne extends d7{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new yne(this._id,e,t||{},this._renderer)}}class yne{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return mB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const _B="@.disabled";let vne=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new yB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=h=>{Array.isArray(h)?h.forEach(u):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(u),new Ene(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(le(Ef),le(DE),le(Lt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class yB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==_B?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ene extends yB{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_B?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Ine(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function wne(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Cne=(()=>{class n extends DE{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(le(Wn),le(dA),le(wA),le(al))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const vB=[{provide:VO,useClass:mne},{provide:wA,useFactory:function Tne(){return new Hte}},{provide:DE,useClass:Cne},{provide:Ef,useFactory:function bne(n,e,t){return new vne(n,e,t)},deps:[Q_,DE,Lt]}],PA=[{provide:dA,useFactory:()=>new gne},{provide:uM,useValue:"BrowserAnimations"},...vB],EB=[{provide:dA,useClass:GU},{provide:uM,useValue:"NoopAnimations"},...vB];let Dne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?EB:PA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=rn({providers:PA,imports:[Rx]}),n})();function IB(...n){return function Ane(){return DO(1)}()(ca(n,Sy(n)))}function RA(...n){const e=Sy(n);return pi((t,r)=>{(e?IB(n,t,e):IB(n,t)).subscribe(r)})}function MA(){return pi((n,e)=>{let t,r=!1;n.subscribe(Ni(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function xA(n,e){return pi(function Sne(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(Ni(o,h=>{const g=c++;u=a?n(u,h,g):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Rne(n,e){return n===e}function NA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wB(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function CB(){if(!function zQ(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Fg{constructor(e){this._delegate=e}static fromBase64String(e){return CB(),new Fg(Po.fromBase64String(e))}static fromUint8Array(e){return wB(),new Fg(Po.fromUint8Array(e))}toBase64(){return CB(),this._delegate.toBase64()}toUint8Array(){return wB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OA(n){return function Nne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class One{enableIndexedDbPersistence(e,t){return function vX(n,e){gU(n=Et(n,an));const t=Ln(n);if(t._uninitializedComponentsProvider)throw new re(H.FAILED_PRECONDITION,"SDK cache is already specified.");ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new _h;return pU(t,i,new VD(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function EX(n){gU(n=Et(n,an));const e=Ln(n);if(e._uninitializedComponentsProvider)throw new re(H.FAILED_PRECONDITION,"SDK cache is already specified.");ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new _h;return pU(e,r,new Z2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IX(n){if(n._initialized&&!n._terminated)throw new re(H.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(t=(0,Y.Z)(function*(i){if(!Gs.D())return Promise.resolve();const s=i+"main";yield Gs.delete(s)}),function r(i){return t.apply(this,arguments)})(Pb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class TB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _u||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function cU(n,e,t,r={}){var i;const s=(n=Et(n,Tg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=wr.MOCK_USER;else{a=(0,en.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wr(c)}n._authCredentials=new fQ(new gV(a,u))}}(this._delegate,e,t,r)}enableNetwork(){return function CX(n){return function sX(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield J2(n),t=yield X2(n);return e.setNetworkEnabled(!0),function(i){const s=de(i);return s.C_.delete(0),Ig(s)}(t)}))}(Ln(n=Et(n,an)))}(this._delegate)}disableNetwork(){return function TX(n){return function oX(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield J2(n),t=yield X2(n);return e.setNetworkEnabled(!1),(r=(0,Y.Z)(function*(s){const o=de(s);o.C_.add(0),yield ch(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Ln(n=Et(n,an)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wX(n){return function(t){const r=new gr;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function $J(n,e){return ID.apply(this,arguments)}(yield zD(t),r)})),r.promise}(Ln(n=Et(n,an)))}(this._delegate)}onSnapshotsInSync(e){return function tee(n,e){return function lX(n,e){const t=new Qv(e);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield vh(n),s=t,de(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield vh(n),s=t,void de(i).q_.delete(s);var i,s}))}}(Ln(n=Et(n,an)),KD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Th(this,dU(this._delegate,e))}catch(t){throw vi(t,"collection()","Firestore.collection()")}}doc(e){try{return new As(this,eE(this._delegate,e))}catch(t){throw vi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ei(this,function gX(n,e){if(n=Et(n,Tg),GD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lr(n,null,(r=e,new ma(St.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw vi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hee(n,e,t){n=Et(n,an);const r=Object.assign(Object.assign({},cee),t);return function(s){if(s.maxAttempts<1)throw new re(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new gr;return s.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const c=yield function eU(n){return Jv(n).then(e=>e.datastore)}(s);new rX(s.asyncQueue,c,a,o,u).run()})),u.promise}(Ln(n),i=>e(new dee(n,i)),r)}(this._delegate,t=>e(new bB(this,t)))}batch(){return Ln(this._delegate),new DB(new NU(this._delegate,e=>Ih(this._delegate,e)))}loadBundle(e){return function bX(n,e){const t=Ln(n=Et(n,an)),r=new _X;return function cX(n,e,t,r){const i=function(o,a){let u;return u="string"==typeof o?CL().encode(o):o,h=function(h,g){if(h instanceof Uint8Array)return Q2(h,g);if(h instanceof ArrayBuffer)return Q2(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new tX(h,a);var h}(t,Eg(e));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function XJ(n,e,t){const r=de(n);var i;(i=(0,Y.Z)(function*(o,a,u){try{const c=yield a.getMetadata();if(yield function(C,D){const A=de(C),x=Jn(D.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",U=>A.Kr.getBundleMetadata(U,D.id)).then(U=>!!U&&U.createTime.compareTo(x)>=0)}(o.localStore,c))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(C=c).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);u._updateProgress(B2(c));const h=new xJ(c,o.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&u._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield Ea(o,m.ra,void 0),yield function(C,D){const A=de(C);return A.persistence.runTransaction("Save bundle","readwrite",x=>A.Kr.saveBundleMetadata(x,D))}(o.localStore,c),u._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return ki("SyncEngine",`Loading bundle failed with ${c}`),u._failWith(c),Promise.resolve(new Set)}var C}),function s(o,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield zD(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function DX(n,e){return function dX(n,e){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(r,i){const s=de(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield yh(n),e)}))}(Ln(n=Et(n,an)),e).then(t=>t?new Lr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ei(this,t):null)}}class SE extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fg(new Po(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return As.forKey(t,this.firestore,null)}}class bB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}get(e){const t=Ql(e);return this._delegate.get(t).then(r=>new Vg(this._firestore,new wa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ql(e);return r?(NA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ql(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ql(e);return this._delegate.delete(t),this}}class DB{constructor(e){this._delegate=e}set(e,t,r){const i=Ql(e);return r?(NA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ql(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ql(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Mg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Zl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Zl(e,new SE(e),t),i.set(t,s)),s}}Zl.INSTANCES=new WeakMap;class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new As(t,new gn(t._delegate,r,new fe(e)))}static forKey(e,t,r){return new As(t,new gn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Th(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Th(this.firestore,dU(this._delegate,e))}catch(t){throw vi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof gn&&hU(this._delegate,e)}set(e,t){t=NA("DocumentReference.set",t);try{return t?RU(this._delegate,e,t):RU(this._delegate,e)}catch(r){throw vi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MU(this._delegate,e):MU(this._delegate,e,t,...r)}catch(i){throw vi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XX(n){return Ih(Et(n.firestore,an),[new th(n._key,Cn.none())])}(this._delegate)}onSnapshot(...e){const t=AB(e),r=SB(e,i=>new Vg(this.firestore,new wa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function KX(n){n=Et(n,gn);const e=Et(n.firestore,an),t=Ln(e),r=new Ru(e);return function aX(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(r=(0,Y.Z)(function*(s,o,a){try{const u=yield function(h,g){const m=de(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new re(H.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=fh(u,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield yh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wa(e,r,n._key,i,new ql(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ZX(n){n=Et(n,gn);const e=Et(n.firestore,an);return tU(Ln(e),n._key,{source:"server"}).then(t=>nA(e,n,t))}(this._delegate):function WX(n){n=Et(n,gn);const e=Et(n.firestore,an);return tU(Ln(e),n._key).then(t=>nA(e,n,t))}(this._delegate),t.then(r=>new Vg(this.firestore,new wa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?Zl.getInstance(this.firestore,e):null))}}function vi(n,e,t){return n.message=n.message.replace(e,t),n}function AB(n){for(const e of n)if("object"==typeof e&&!OA(e))return e;return{}}function SB(n,e){var t,r;let i;return i=OA(n[0])?n[0]:OA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new As(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PU(this._delegate,e._delegate)}}class Lg extends Vg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function dQ(n,e){n||be()}(void 0!==t),t}}class Ei{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}where(e,t,r){try{return new Ei(this.firestore,Su(this._delegate,function FX(n,e,t){const r=e,i=oE("where",n);return Rg._create(i,r,t)}(e,t,r)))}catch(i){throw vi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ei(this.firestore,Su(this._delegate,function VX(n,e="asc"){const t=e,r=oE("orderBy",n);return eA._create(r,t)}(e,t)))}catch(r){throw vi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ei(this.firestore,Su(this._delegate,function LX(n){return uU("limit",n),aE._create("limit",n,"F")}(e)))}catch(t){throw vi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ei(this.firestore,Su(this._delegate,function UX(n){return uU("limitToLast",n),aE._create("limitToLast",n,"L")}(e)))}catch(t){throw vi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ei(this.firestore,Su(this._delegate,function BX(...n){return uE._create("startAt",n,!0)}(...e)))}catch(t){throw vi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ei(this.firestore,Su(this._delegate,function jX(...n){return uE._create("startAfter",n,!1)}(...e)))}catch(t){throw vi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ei(this.firestore,Su(this._delegate,function $X(...n){return lE._create("endBefore",n,!1)}(...e)))}catch(t){throw vi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ei(this.firestore,Su(this._delegate,function HX(...n){return lE._create("endAt",n,!0)}(...e)))}catch(t){throw vi(t,"endAt()","Query.endAt()")}}isEqual(e){return WD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function YX(n){n=Et(n,Lr);const e=Et(n.firestore,an),t=Ln(e),r=new Ru(e);return function uX(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(r=(0,Y.Z)(function*(s,o,a){try{const u=yield Hv(s,o,!0),c=new H2(o,u.ls),h=c.ca(u.documents),g=c.applyChanges(h,!1);a.resolve(g.snapshot)}catch(u){const c=fh(u,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield yh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Pu(e,r,n,i))}(this._delegate):"server"===e?.source?function JX(n){n=Et(n,Lr);const e=Et(n.firestore,an),t=Ln(e),r=new Ru(e);return nU(t,n._query,{source:"server"}).then(i=>new Pu(e,r,n,i))}(this._delegate):function QX(n){n=Et(n,Lr);const e=Et(n.firestore,an),t=Ln(e),r=new Ru(e);return CU(n._query),nU(t,n._query).then(i=>new Pu(e,r,n,i))}(this._delegate),t.then(r=>new kA(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AB(e),r=SB(e,i=>new kA(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xU(this._delegate,t,r)}withConverter(e){return new Ei(this.firestore,this._delegate.withConverter(e?Zl.getInstance(this.firestore,e):null))}}class Fne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ei(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Fne(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lg(this._firestore,r))})}isEqual(e){return PU(this._delegate,e._delegate)}}class Th extends Ei{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new As(this.firestore,e):null}doc(e){try{return new As(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw vi(t,"doc()","CollectionReference.doc()")}}add(e){return function eee(n,e){const t=Et(n.firestore,an),r=eE(n),i=cE(n.converter,e);return Ih(t,[rE(Hl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new As(this.firestore,t))}isEqual(e){return hU(this._delegate,e._delegate)}withConverter(e){return new Th(this.firestore,this._delegate.withConverter(e?Zl.getInstance(this.firestore,e):null))}}function Ql(n){return Et(n,gn)}class FA{constructor(...e){this._delegate=new Ia(...e)}static documentId(){return new FA(fn.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof Ia&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pee(){return new ZD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yl(e)}static delete(){const e=function fee(){return new Dg("deleteField")}();return e._methodName="FieldValue.delete",new Yl(e)}static arrayUnion(...e){const t=function gee(...n){return new MX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yl(t)}static arrayRemove(...e){const t=function mee(...n){return new xX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yl(t)}static increment(e){const t=function _ee(n){return new NX("increment",n)}(e);return t._methodName="FieldValue.increment",new Yl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Vne={Firestore:TB,GeoPoint:tE,Timestamp:wn,Blob:Fg,Transaction:bB,WriteBatch:DB,DocumentReference:As,DocumentSnapshot:Vg,Query:Ei,QueryDocumentSnapshot:Lg,QuerySnapshot:kA,CollectionReference:Th,FieldPath:FA,FieldValue:Yl,setLogLevel:function kne(n){!function cQ(n){hu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function PB(n,e){return function Bne(n,e=nO){return new gi(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function VA(n,e){return PB(n,e).pipe(Oi(t=>({payload:t,type:"query"})))}!function Une(n){(function Lne(n,e){n.INTERNAL.registerComponent(new Qk.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Vne)))})(n,(e,t)=>new TB(e,t,new One)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(yo.Z);class RB{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=FB(r,t);return new NB(i,s,this.afs)}snapshotChanges(){return function jne(n,e){return PB(n,e).pipe(RA(void 0),MA(),Oi(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return this.snapshotChanges().pipe(Oi(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return ca(this.ref.get(e)).pipe(ts)}}function PE(n,e){return VA(n,e).pipe(RA(void 0),MA(),Oi(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const c=s.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function MB(n,e,t){return PE(n,t).pipe(xA((r,i)=>function $ne(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Hne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function Pne(n,e=cp){return n=n??Rne,pi((t,r)=>{let i,s=!0;t.subscribe(Ni(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Oi(r=>r.map(i=>({type:i.type,payload:i}))))}function LA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function xB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class NB{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=PE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Oi(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(RA(void 0),MA(),Py(([r,i])=>i.length>0||!r),Oi(([,r])=>r),ts)}auditTrail(e){return this.stateChanges(e).pipe(xA((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=xB(e);return MB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe(Oi(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),ts)}get(e){return ca(this.query.get(e)).pipe(ts)}add(e){return this.ref.add(e)}doc(e){return new RB(this.ref.doc(e),this.afs)}}class zne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?PE(this.query,this.afs.schedulers.outsideAngular).pipe(Oi(t=>t.filter(r=>e.indexOf(r.type)>-1)),Py(t=>t.length>0),ts):PE(this.query,this.afs.schedulers.outsideAngular).pipe(ts)}auditTrail(e){return this.stateChanges(e).pipe(xA((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=xB(e);return MB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return VA(this.query,this.afs.schedulers.outsideAngular).pipe(Oi(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),ts)}get(e){return ca(this.query.get(e)).pipe(ts)}}const OB=new ve("angularfire2.enableFirestorePersistence"),kB=new ve("angularfire2.firestore.persistenceSettings"),qne=new ve("angularfire2.firestore.settings"),Gne=new ve("angularfire2.firestore.use-emulator");function FB(n,e=(t=>t)){return{query:e(n),ref:n}}let Wne=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,u,c,h,g,m,y,C,D,A,x,U){this.schedulers=u;const R=RC(t,a,r),Q=h;g&&FO(R,a,m,C,D,A,y,x),[this.firestore,this.persistenceEnabled$]=lO(`${R.name}.firestore`,"AngularFirestore",R.name,()=>{const he=a.runOutsideAngular(()=>R.firestore());if(s&&he.settings(s),Q&&he.useEmulator(...Q),i&&!ax(o)){const Pe=()=>{try{return ca(he.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(_t){return typeof console<"u"&&console.warn(_t),Pd(!1)}};return[he,a.runOutsideAngular(Pe)]}return[he,Pd(!1)]},[s,Q,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=FB(i,r),a=this.schedulers.ngZone.run(()=>s);return new NB(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new zne(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new RB(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(le(by),le(Dy,8),le(OB,8),le(qne,8),le(Uf),le(Lt),le(aO),le(kB,8),le(Gne,8),le(Ry,8),le(RO,8),le(MO,8),le(xO,8),le(NO,8),le(OO,8),le(kO,8),le(sO,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Kne=(()=>{class n{constructor(){yo.Z.registerVersion("angularfire",Ty.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OB,useValue:!0},{provide:kB,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=rn({providers:[Wne]})}return n})(),Zne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n,bootstrap:[F8]});static#n=this.\u0275inj=rn({imports:[Rx,hd,Hy,zy,Aee,U8,tZ,mo,k8,VU,Dne,O7.forRoot(),KW,Kne,mW.initializeApp(Zk_firebase)]})}return n})();H6().bootstrapModule(Zne).catch(n=>console.error(n))},942:(us,Bn,Ve)=>{Ve.d(Bn,{Z:()=>jn});var b=Ve(90),K=Ve(859),O=Ve(881),xe=Ve(877);class Rt{constructor(Ge,We){this._delegate=Ge,this.firebase=We,(0,O._addComponent)(Ge,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ge,We=O._DEFAULT_ENTRY_NAME){var Xn;this._delegate.checkDestroyed();const mn=this._delegate.container.getProvider(Ge);return!mn.isInitialized()&&"EXPLICIT"===(null===(Xn=mn.getComponent())||void 0===Xn?void 0:Xn.instantiationMode)&&mn.initialize(),mn.getImmediate({identifier:We})}_removeServiceInstance(Ge,We=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(We)}_addComponent(Ge){(0,O._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,O._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Tn=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function It(){const ft=function Gt(ft){const Ge={},We={__esModule:!0,initializeApp:function ct(st,oe={}){const yt=O.initializeApp(st,oe);if((0,b.r3)(Ge,yt.name))return Ge[yt.name];const Kt=new ft(yt,We);return Ge[yt.name]=Kt,Kt},app:mn,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ei(st){const oe=st.name,yt=oe.replace("-compat","");if(O._registerComponent(st)&&"PUBLIC"===st.type){const Kt=(_n=mn())=>{if("function"!=typeof _n[yt])throw Tn.create("invalid-app-argument",{appName:oe});return _n[yt]()};void 0!==st.serviceProps&&(0,b.ZB)(Kt,st.serviceProps),We[yt]=Kt,ft.prototype[yt]=function(..._n){return this._getService.bind(this,oe).apply(this,st.multipleInstances?_n:[])}}return"PUBLIC"===st.type?We[yt]:null},removeApp:function Xn(st){delete Ge[st]},useAsService:function Mn(st,oe){return"serverAuth"===oe?null:oe},modularAPIs:O}};function mn(st){if(!(0,b.r3)(Ge,st=st||O._DEFAULT_ENTRY_NAME))throw Tn.create("no-app",{appName:st});return Ge[st]}return We.default=We,Object.defineProperty(We,"apps",{get:function Ft(){return Object.keys(Ge).map(st=>Ge[st])}}),mn.App=ft,We}(Rt);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:It,extendNamespace:function Ge(We){(0,b.ZB)(ft,We)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),ft}(),ue=new xe.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jn=J;!function Dt(ft){(0,O.registerVersion)("@firebase/app-compat","0.2.25",ft)}()},881:(us,Bn,Ve)=>{Ve.r(Bn),Ve.d(Bn,{FirebaseError:()=>xe.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>ji,_addComponent:()=>ri,_addOrOverwriteComponent:()=>ii,_apps:()=>_r,_clearComponents:()=>bn,_components:()=>ni,_getProvider:()=>Vt,_registerComponent:()=>lr,_removeServiceInstance:()=>si,deleteApp:()=>Br,getApp:()=>Hi,getApps:()=>zn,initializeApp:()=>ps,onLog:()=>Ta,registerVersion:()=>oi,setLogLevel:()=>Ks});var b=Ve(861),K=Ve(859),O=Ve(877),xe=Ve(90);const Rt=(q,T)=>T.some(se=>q instanceof se);let un,Tn;const J=new WeakMap,ue=new WeakMap,Re=new WeakMap,Ye=new WeakMap,Dt=new WeakMap;let Ge={get(q,T,se){if(q instanceof IDBTransaction){if("done"===T)return ue.get(q);if("objectStoreNames"===T)return q.objectStoreNames||Re.get(q);if("store"===T)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return ct(q[T])},set:(q,T,se)=>(q[T]=se,!0),has:(q,T)=>q instanceof IDBTransaction&&("done"===T||"store"===T)||T in q};function mn(q){return"function"==typeof q?function Xn(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function It(){return Tn||(Tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...T){return q.apply(Ft(this),T),ct(J.get(this))}:function(...T){return ct(q.apply(Ft(this),T))}:function(T,...se){const te=q.call(Ft(this),T,...se);return Re.set(te,T.sort?T.sort():[T]),ct(te)}}(q):(q instanceof IDBTransaction&&function ft(q){if(ue.has(q))return;const T=new Promise((se,te)=>{const Ie=()=>{q.removeEventListener("complete",gt),q.removeEventListener("error",Mt),q.removeEventListener("abort",Mt)},gt=()=>{se(),Ie()},Mt=()=>{te(q.error||new DOMException("AbortError","AbortError")),Ie()};q.addEventListener("complete",gt),q.addEventListener("error",Mt),q.addEventListener("abort",Mt)});ue.set(q,T)}(q),Rt(q,function Gt(){return un||(un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Ge):q)}function ct(q){if(q instanceof IDBRequest)return function jn(q){const T=new Promise((se,te)=>{const Ie=()=>{q.removeEventListener("success",gt),q.removeEventListener("error",Mt)},gt=()=>{se(ct(q.result)),Ie()},Mt=()=>{te(q.error),Ie()};q.addEventListener("success",gt),q.addEventListener("error",Mt)});return T.then(se=>{se instanceof IDBCursor&&J.set(se,q)}).catch(()=>{}),Dt.set(T,q),T}(q);if(Ye.has(q))return Ye.get(q);const T=mn(q);return T!==q&&(Ye.set(q,T),Dt.set(T,q)),T}const Ft=q=>Dt.get(q),st=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],yt=new Map;function Kt(q,T){if(!(q instanceof IDBDatabase)||T in q||"string"!=typeof T)return;if(yt.get(T))return yt.get(T);const se=T.replace(/FromIndex$/,""),te=T!==se,Ie=oe.includes(se);if(!(se in(te?IDBIndex:IDBObjectStore).prototype)||!Ie&&!st.includes(se))return;const gt=function(){var Mt=(0,b.Z)(function*(Nn,...nn){const yn=this.transaction(Nn,Ie?"readwrite":"readonly");let ec=yn.store;return te&&(ec=ec.index(nn.shift())),(yield Promise.all([ec[se](...nn),Ie&&yn.done]))[0]});return function(nn){return Mt.apply(this,arguments)}}();return yt.set(T,gt),gt}!function We(q){Ge=q(Ge)}(q=>({...q,get:(T,se,te)=>Kt(T,se)||q.get(T,se,te),has:(T,se)=>!!Kt(T,se)||q.has(T,se)}));class _n{constructor(T){this.container=T}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function xn(q){return"VERSION"===q.getComponent()?.type}(se)){const te=se.getImmediate();return`${te.library}/${te.version}`}return null}).filter(se=>se).join(" ")}}const Li="@firebase/app",pt=new O.Yd("@firebase/app"),ji="[DEFAULT]",$i={[Li]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_r=new Map,ni=new Map;function ri(q,T){try{q.container.addComponent(T)}catch(se){pt.debug(`Component ${T.name} failed to register with FirebaseApp ${q.name}`,se)}}function ii(q,T){q.container.addOrOverwriteComponent(T)}function lr(q){const T=q.name;if(ni.has(T))return pt.debug(`There were multiple attempts to register component ${T}.`),!1;ni.set(T,q);for(const se of _r.values())ri(se,q);return!0}function Vt(q,T){const se=q.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),q.container.getProvider(T)}function si(q,T,se=ji){Vt(q,T).clearInstance(se)}function bn(){ni.clear()}const cn=new xe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(T,se,te){this._isDeleted=!1,this._options=Object.assign({},T),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=te,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(T){this.checkDestroyed(),this._automaticDataCollectionEnabled=T}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(T){this._isDeleted=T}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const fs="10.7.1";function ps(q,T={}){let se=q;"object"!=typeof T&&(T={name:T});const te=Object.assign({name:ji,automaticDataCollectionEnabled:!1},T),Ie=te.name;if("string"!=typeof Ie||!Ie)throw cn.create("bad-app-name",{appName:String(Ie)});if(se||(se=(0,xe.aH)()),!se)throw cn.create("no-options");const gt=_r.get(Ie);if(gt){if((0,xe.vZ)(se,gt.options)&&(0,xe.vZ)(te,gt.config))return gt;throw cn.create("duplicate-app",{appName:Ie})}const Mt=new K.H0(Ie);for(const nn of ni.values())Mt.addComponent(nn);const Nn=new Dn(se,te,Mt);return _r.set(Ie,Nn),Nn}function Hi(q=ji){const T=_r.get(q);if(!T&&q===ji&&(0,xe.aH)())return ps();if(!T)throw cn.create("no-app",{appName:q});return T}function zn(){return Array.from(_r.values())}function Br(q){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(q){const T=q.name;_r.has(T)&&(_r.delete(T),yield Promise.all(q.container.getProviders().map(se=>se.delete())),q.isDeleted=!0)})).apply(this,arguments)}function oi(q,T,se){var te;let Ie=null!==(te=$i[q])&&void 0!==te?te:q;se&&(Ie+=`-${se}`);const gt=Ie.match(/\s|\//),Mt=T.match(/\s|\//);if(gt||Mt){const Nn=[`Unable to register library "${Ie}" with version "${T}":`];return gt&&Nn.push(`library name "${Ie}" contains illegal characters (whitespace or "/")`),gt&&Mt&&Nn.push("and"),Mt&&Nn.push(`version name "${T}" contains illegal characters (whitespace or "/")`),void pt.warn(Nn.join(" "))}lr(new K.wA(`${Ie}-version`,()=>({library:Ie,version:T}),"VERSION"))}function Ta(q,T){if(null!==q&&"function"!=typeof q)throw cn.create("invalid-log-argument");(0,O.Am)(q,T)}function Ks(q){(0,O.Ub)(q)}const xo="firebase-heartbeat-database",gs=1,P="firebase-heartbeat-store";let S=null;function E(){return S||(S=function ei(q,T,{blocked:se,upgrade:te,blocking:Ie,terminated:gt}={}){const Mt=indexedDB.open(q,T),Nn=ct(Mt);return te&&Mt.addEventListener("upgradeneeded",nn=>{te(ct(Mt.result),nn.oldVersion,nn.newVersion,ct(Mt.transaction),nn)}),se&&Mt.addEventListener("blocked",nn=>se(nn.oldVersion,nn.newVersion,nn)),Nn.then(nn=>{gt&&nn.addEventListener("close",()=>gt()),Ie&&nn.addEventListener("versionchange",yn=>Ie(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),Nn}(xo,gs,{upgrade:(q,T)=>{0===T&&q.createObjectStore(P)}}).catch(q=>{throw cn.create("idb-open",{originalErrorMessage:q.message})})),S}function v(){return(v=(0,b.Z)(function*(q){try{return yield(yield E()).transaction(P).objectStore(P).get(Te(q))}catch(T){if(T instanceof xe.ZR)pt.warn(T.message);else{const se=cn.create("idb-get",{originalErrorMessage:T?.message});pt.warn(se.message)}}})).apply(this,arguments)}function k(q,T){return L.apply(this,arguments)}function L(){return(L=(0,b.Z)(function*(q,T){try{const te=(yield E()).transaction(P,"readwrite");yield te.objectStore(P).put(T,Te(q)),yield te.done}catch(se){if(se instanceof xe.ZR)pt.warn(se.message);else{const te=cn.create("idb-set",{originalErrorMessage:se?.message});pt.warn(te.message)}}})).apply(this,arguments)}function Te(q){return`${q.name}!${q.options.appId}`}class Ct{constructor(T){this.container=T,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new Je(se),this._heartbeatsCachePromise=this._storage.read().then(te=>(this._heartbeatsCache=te,te))}triggerHeartbeat(){var T=this;return(0,b.Z)(function*(){var se,te;const gt=T.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=ye();if((null!=(null===(se=T._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||(T._heartbeatsCache=yield T._heartbeatsCachePromise,null!=(null===(te=T._heartbeatsCache)||void 0===te?void 0:te.heartbeats)))&&T._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!T._heartbeatsCache.heartbeats.some(Nn=>Nn.date===Mt))return T._heartbeatsCache.heartbeats.push({date:Mt,agent:gt}),T._heartbeatsCache.heartbeats=T._heartbeatsCache.heartbeats.filter(Nn=>{const nn=new Date(Nn.date).valueOf();return Date.now()-nn<=2592e6}),T._storage.overwrite(T._heartbeatsCache)})()}getHeartbeatsHeader(){var T=this;return(0,b.Z)(function*(){var se;if(null===T._heartbeatsCache&&(yield T._heartbeatsCachePromise),null==(null===(se=T._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||0===T._heartbeatsCache.heartbeats.length)return"";const te=ye(),{heartbeatsToSend:Ie,unsentEntries:gt}=function ge(q,T=1024){const se=[];let te=q.slice();for(const Ie of q){const gt=se.find(Mt=>Mt.agent===Ie.agent);if(gt){if(gt.dates.push(Ie.date),er(se)>T){gt.dates.pop();break}}else if(se.push({agent:Ie.agent,dates:[Ie.date]}),er(se)>T){se.pop();break}te=te.slice(1)}return{heartbeatsToSend:se,unsentEntries:te}}(T._heartbeatsCache.heartbeats),Mt=(0,xe.L)(JSON.stringify({version:2,heartbeats:Ie}));return T._heartbeatsCache.lastSentHeartbeatDate=te,gt.length>0?(T._heartbeatsCache.heartbeats=gt,yield T._storage.overwrite(T._heartbeatsCache)):(T._heartbeatsCache.heartbeats=[],T._storage.overwrite(T._heartbeatsCache)),Mt})()}}function ye(){return(new Date).toISOString().substring(0,10)}class Je{constructor(T){this.app=T,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,xe.hl)()&&(0,xe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var T=this;return(0,b.Z)(function*(){if(yield T._canUseIndexedDBPromise){const te=yield function w(q){return v.apply(this,arguments)}(T.app);return te?.heartbeats?te:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(T){var se=this;return(0,b.Z)(function*(){var te;if(yield se._canUseIndexedDBPromise){const gt=yield se.read();return k(se.app,{lastSentHeartbeatDate:null!==(te=T.lastSentHeartbeatDate)&&void 0!==te?te:gt.lastSentHeartbeatDate,heartbeats:T.heartbeats})}})()}add(T){var se=this;return(0,b.Z)(function*(){var te;if(yield se._canUseIndexedDBPromise){const gt=yield se.read();return k(se.app,{lastSentHeartbeatDate:null!==(te=T.lastSentHeartbeatDate)&&void 0!==te?te:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...T.heartbeats]})}})()}}function er(q){return(0,xe.L)(JSON.stringify({version:2,heartbeats:q})).length}!function ba(q){lr(new K.wA("platform-logger",T=>new _n(T),"PRIVATE")),lr(new K.wA("heartbeat",T=>new Ct(T),"PRIVATE")),oi(Li,"0.9.25",q),oi(Li,"0.9.25","esm2017"),oi("fire-js","")}("")},859:(us,Bn,Ve)=>{Ve.d(Bn,{H0:()=>Gt,wA:()=>O});var b=Ve(861),K=Ve(90);class O{constructor(J,ue,Re){this.name=J,this.instanceFactory=ue,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const xe="[DEFAULT]";class Rt{constructor(J,ue){this.name=J,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ue=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ue)){const Re=new K.BH;if(this.instancesDeferred.set(ue,Re),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:ue});Ye&&Re.resolve(Ye)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(J){var ue;const Re=this.normalizeInstanceIdentifier(J?.identifier),Ye=null!==(ue=J?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Dt){if(Ye)return null;throw Dt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Tn(It){return"EAGER"===It.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:xe})}catch{}for(const[ue,Re]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(ue);try{const Dt=this.getOrInitializeService({instanceIdentifier:Ye});Re.resolve(Dt)}catch{}}}}clearInstance(J=xe){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,b.Z)(function*(){const ue=Array.from(J.instances.values());yield Promise.all([...ue.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ue.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=xe){return this.instances.has(J)}getOptions(J=xe){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ue={}}=J,Re=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:Re,options:ue});for(const[Dt,jn]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Dt)&&jn.resolve(Ye);return Ye}onInit(J,ue){var Re;const Ye=this.normalizeInstanceIdentifier(ue),Dt=null!==(Re=this.onInitCallbacks.get(Ye))&&void 0!==Re?Re:new Set;Dt.add(J),this.onInitCallbacks.set(Ye,Dt);const jn=this.instances.get(Ye);return jn&&J(jn,Ye),()=>{Dt.delete(J)}}invokeOnInitCallbacks(J,ue){const Re=this.onInitCallbacks.get(ue);if(Re)for(const Ye of Re)try{Ye(J,ue)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ue={}}){let Re=this.instances.get(J);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(It=J,It===xe?void 0:It),options:ue}),this.instances.set(J,Re),this.instancesOptions.set(J,ue),this.invokeOnInitCallbacks(Re,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Re)}catch{}var It;return Re||null}normalizeInstanceIdentifier(J=xe){return this.component?this.component.multipleInstances?J:xe:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gt{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ue=this.getProvider(J.name);if(ue.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ue.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ue=new Rt(J,this);return this.providers.set(J,ue),ue}getProviders(){return Array.from(this.providers.values())}}},877:(us,Bn,Ve)=>{Ve.d(Bn,{Am:()=>It,Ub:()=>Gt,Yd:()=>Tn,in:()=>K});const b=[];var K=(()=>{return(J=K||(K={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",K;var J})();const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},xe=K.INFO,Rt={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},un=(J,ue,...Re)=>{if(ue<J.logLevel)return;const Ye=(new Date).toISOString(),Dt=Rt[ue];if(!Dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Dt](`[${Ye}]  ${J.name}:`,...Re)};class Tn{constructor(ue){this.name=ue,this._logLevel=xe,this._logHandler=un,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in K))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?O[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...ue),this._logHandler(this,K.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...ue),this._logHandler(this,K.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,K.INFO,...ue),this._logHandler(this,K.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,K.WARN,...ue),this._logHandler(this,K.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...ue),this._logHandler(this,K.ERROR,...ue)}}function Gt(J){b.forEach(ue=>{ue.setLogLevel(J)})}function It(J,ue){for(const Re of b){let Ye=null;ue&&ue.level&&(Ye=O[ue.level]),Re.userLogHandler=null===J?null:(Dt,jn,...ft)=>{const Ge=ft.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");jn>=(Ye??Dt.logLevel)&&J({level:K[jn].toLowerCase(),message:Ge,args:ft,type:Dt.name})}}}},568:(us,Bn,Ve)=>{Ve.r(Bn);var b=Ve(861),K=Ve(942),O=Ve(932),xe=Ve(90),Tn=(Ve(881),Ve(877),Ve(859));function Gt(){return window}const It=2e3;function ue(){return ue=(0,b.Z)(function*(E,w,v){var k;const{BuildInfo:L}=Gt();(0,O.au)(w.sessionId,"AuthEvent did not contain a session ID");const Te=yield function We(E){return Xn.apply(this,arguments)}(w.sessionId),me={};return(0,O.av)()?me.ibi=L.packageName:(0,O.aw)()?me.apn=L.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),L.displayName&&(me.appDisplayName=L.displayName),me.sessionId=Te,(0,O.ay)(E,v,w.type,void 0,null!==(k=w.eventId)&&void 0!==k?k:void 0,me)}),ue.apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(E){const{BuildInfo:w}=Gt(),v={};(0,O.av)()?v.iosBundleId=w.packageName:(0,O.aw)()?v.androidPackageName=w.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),yield(0,O.az)(E,v)})).apply(this,arguments)}function ft(){return(ft=(0,b.Z)(function*(E,w,v){const{cordova:k}=Gt();let L=()=>{};try{yield new Promise((Te,me)=>{let Be=null;function Ct(){var Je;Te();const er=null===(Je=k.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof er&&er(),"function"==typeof v?.close&&v.close()}function ye(){Be||(Be=window.setTimeout(()=>{me((0,O.aB)(E,"redirect-cancelled-by-user"))},It))}function ge(){"visible"===document?.visibilityState&&ye()}w.addPassiveListener(Ct),document.addEventListener("resume",ye,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",ge,!1),L=()=>{w.removePassiveListener(Ct),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",ge,!1),Be&&window.clearTimeout(Be)}})}finally{L()}})).apply(this,arguments)}function Xn(){return(Xn=(0,b.Z)(function*(E){const w=function mn(E){if((0,O.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const w=new ArrayBuffer(E.length),v=new Uint8Array(w);for(let k=0;k<E.length;k++)v[k]=E.charCodeAt(k);return v}(E),v=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(v)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ct=20;class Ft extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(w)),super.onEvent(w)}initialized(){var w=this;return(0,b.Z)(function*(){yield w.initPromise})()}}function st(E){return oe.apply(this,arguments)}function oe(){return(oe=(0,b.Z)(function*(E){const w=yield _n()._get(xn(E));return w&&(yield _n()._remove(xn(E))),w})).apply(this,arguments)}function Kt(){const E=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<ct;v++){const k=Math.floor(Math.random()*w.length);E.push(w.charAt(k))}return E.join("")}function _n(){return(0,O.aE)(O.b)}function xn(E){return(0,O.aF)("authEvent",E.config.apiKey,E.name)}function pt(E){if(!E?.includes("?"))return{};const[w,...v]=E.split("?");return(0,xe.zd)(v.join("?"))}const j=class ls{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(w){var v=this;return(0,b.Z)(function*(){const k=w._key();let L=v.eventManagers.get(k);return L||(L=new Ft(w),v.eventManagers.set(k,L),v.attachCallbackListeners(w,L)),L})()}_openPopup(w){(0,O.ax)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,v,k,L){var Te=this;return(0,b.Z)(function*(){!function Ge(E){var w,v,k,L,Te,me,Be,Ct,ye,ge;const Je=Gt();(0,O.aC)("function"==typeof(null===(w=Je?.universalLinks)||void 0===w?void 0:w.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(v=Je?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(Te=null===(L=null===(k=Je?.cordova)||void 0===k?void 0:k.plugins)||void 0===L?void 0:L.browsertab)||void 0===Te?void 0:Te.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(Ct=null===(Be=null===(me=Je?.cordova)||void 0===me?void 0:me.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===Ct?void 0:Ct.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(ge=null===(ye=Je?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===ge?void 0:ge.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const me=yield Te._initialize(w);yield me.initialized(),me.resetRedirect(),(0,O.aI)(),yield Te._originValidation(w);const Be=function ei(E,w,v=null){return{type:w,eventId:v,urlResponse:null,sessionId:Kt(),postBody:null,tenantId:E.tenantId,error:(0,O.aB)(E,"no-auth-event")}}(w,k,L);yield function Mn(E,w){return _n()._set(xn(E),w)}(w,Be);const Ct=yield function J(E,w,v){return ue.apply(this,arguments)}(w,Be,v),ye=yield function Dt(E){const{cordova:w}=Gt();return new Promise(v=>{w.plugins.browsertab.isAvailable(k=>{let L=null;k?w.plugins.browsertab.openUrl(E):L=w.InAppBrowser.open(E,(0,O.aA)()?"_blank":"_system","location=yes"),v(L)})})}(Ct);return function jn(E,w,v){return ft.apply(this,arguments)}(w,me,ye)})()}_isIframeWebStorageSupported(w,v){throw new Error("Method not implemented.")}_originValidation(w){const v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Re(E){return Ye.apply(this,arguments)}(w)),this.originValidationPromises[v]}attachCallbackListeners(w,v){const{universalLinks:k,handleOpenURL:L,BuildInfo:Te}=Gt(),me=setTimeout((0,b.Z)(function*(){yield st(w),v.onEvent(z())}),500),Be=function(){var ge=(0,b.Z)(function*(Je){clearTimeout(me);const er=yield st(w);let ba=null;er&&Je?.url&&(ba=function yt(E,w){var v,k;const L=function Ui(E){const w=pt(E),v=w.link?decodeURIComponent(w.link):void 0,k=pt(v).link,L=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return pt(L).link||L||k||v||E}(w);if(L.includes("/__/auth/callback")){const Te=pt(L),me=Te.firebaseError?function Li(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(Te.firebaseError)):null,Be=null===(k=null===(v=me?.code)||void 0===v?void 0:v.split("auth/"))||void 0===k?void 0:k[1],Ct=Be?(0,O.aB)(Be):null;return Ct?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Ct,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:L,postBody:null}}return null}(er,Je.url)),v.onEvent(ba||z())});return function(er){return ge.apply(this,arguments)}}();typeof k<"u"&&"function"==typeof k.subscribe&&k.subscribe(null,Be);const Ct=L,ye=`${Te.packageName.toLowerCase()}://`;Gt().handleOpenURL=function(){var ge=(0,b.Z)(function*(Je){if(Je.toLowerCase().startsWith(ye)&&Be({url:Je}),"function"==typeof Ct)try{Ct(Je)}catch(er){console.error(er)}});return function(Je){return ge.apply(this,arguments)}}()}};function z(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}const ee=1e3;function pe(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function De(E=(0,xe.z$)()){return!("file:"!==pe()&&"ionic:"!==pe()&&"capacitor:"!==pe()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const E=self.localStorage,w=O.aN();if(E)return E.setItem(w,"1"),E.removeItem(w),!function jt(E=(0,xe.z$)()){return function wt(){return(0,xe.w1)()&&11===document?.documentMode}()||function tn(E=(0,xe.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,xe.hl)()}catch{return $n()&&(0,xe.hl)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hn(){return(function ut(){return"http:"===pe()||"https:"===pe()}()||(0,xe.ru)()||De())&&!function Se(){return(0,xe.b$)()||(0,xe.UG)()}()&&ln()&&!$n()}function ur(){return De()&&typeof document<"u"}function Bi(){return(Bi=(0,b.Z)(function*(){return!!ur()&&new Promise(E=>{const w=setTimeout(()=>{E(!1)},ee);document.addEventListener("deviceready",()=>{clearTimeout(w),E(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},ds=O.aC,hs="persistence";function $i(E){return _r.apply(this,arguments)}function _r(){return(_r=(0,b.Z)(function*(E){yield E._initializationPromise;const w=ri(),v=O.aF(hs,E.config.apiKey,E.name);w&&w.setItem(v,E._getPersistence())})).apply(this,arguments)}function ri(){var E;try{return(null===(E=function cs(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const ii=O.aC;class lr{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE(j),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(w){var v=this;return(0,b.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,v,k,L){var Te=this;return(0,b.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openPopup(w,v,k,L)})()}_openRedirect(w,v,k,L){var Te=this;return(0,b.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openRedirect(w,v,k,L)})()}_isIframeWebStorageSupported(w,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,v)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ii(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,b.Z)(function*(){if(w.underlyingResolver)return;const v=yield function Ur(){return Bi.apply(this,arguments)}();w.underlyingResolver=v?w.cordovaResolver:w.browserResolver})()}}function Vt(E){return E.unwrap()}function bn(E){return cn(E)}function cn(E){const{_tokenResponse:w}=E instanceof xe.ZR?E.customData:E;if(!w)return null;if(!(E instanceof xe.ZR)&&"temporaryProof"in w&&"phoneNumber"in w)return O.P.credentialFromResult(E);const v=w.providerId;if(!v||v===O.p.PASSWORD)return null;let k;switch(v){case O.p.GOOGLE:k=O.X;break;case O.p.FACEBOOK:k=O.W;break;case O.p.GITHUB:k=O.Y;break;case O.p.TWITTER:k=O.$;break;default:const{oauthIdToken:L,oauthAccessToken:Te,oauthTokenSecret:me,pendingToken:Be,nonce:Ct}=w;return Te||me||L||Be?Be?v.startsWith("saml.")?O.aQ._create(v,Be):O.N._fromParams({providerId:v,signInMethod:v,pendingToken:Be,idToken:L,accessToken:Te}):new O.Z(v).credential({idToken:L,accessToken:Te,rawNonce:Ct}):null}return E instanceof xe.ZR?k.credentialFromError(E):k.credentialFromResult(E)}function Dn(E,w){return w.catch(v=>{throw v instanceof xe.ZR&&function ku(E,w){var v;const k=null===(v=w.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new Hi(E,O.as(E,w));else if(k){const L=cn(w),Te=w;L&&(Te.credential=L,Te.tenantId=k.tenantId||void 0,Te.email=k.email||void 0,Te.phoneNumber=k.phoneNumber||void 0)}}(E,v),v}).then(v=>{const L=v.user;return{operationType:v.operationType,credential:bn(v),additionalUserInfo:O.aq(v),user:zn.getOrCreate(L)}})}function fs(E,w){return ps.apply(this,arguments)}function ps(){return(ps=(0,b.Z)(function*(E,w){const v=yield w;return{verificationId:v.verificationId,confirm:k=>Dn(E,v.confirm(k))}})).apply(this,arguments)}class Hi{constructor(w,v){this.resolver=v,this.auth=function si(E){return E.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return Dn(Vt(this.auth),this.resolver.resolveSignIn(w))}}class zn{constructor(w){this._delegate=w,this.multiFactor=O.at(w)}static getOrCreate(w){return zn.USER_MAP.has(w)||zn.USER_MAP.set(w,new zn(w)),zn.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var v=this;return(0,b.Z)(function*(){return Dn(v.auth,O.a2(v._delegate,w))})()}linkWithPhoneNumber(w,v){var k=this;return(0,b.Z)(function*(){return fs(k.auth,O.l(k._delegate,w,v))})()}linkWithPopup(w){var v=this;return(0,b.Z)(function*(){return Dn(v.auth,O.d(v._delegate,w,lr))})()}linkWithRedirect(w){var v=this;return(0,b.Z)(function*(){return yield $i(O.aJ(v.auth)),O.g(v._delegate,w,lr)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var v=this;return(0,b.Z)(function*(){return Dn(v.auth,O.a3(v._delegate,w))})()}reauthenticateWithPhoneNumber(w,v){return fs(this.auth,O.r(this._delegate,w,v))}reauthenticateWithPopup(w){return Dn(this.auth,O.e(this._delegate,w,lr))}reauthenticateWithRedirect(w){var v=this;return(0,b.Z)(function*(){return yield $i(O.aJ(v.auth)),O.h(v._delegate,w,lr)})()}sendEmailVerification(w){return O.ag(this._delegate,w)}unlink(w){var v=this;return(0,b.Z)(function*(){return yield O.ap(v._delegate,w),v})()}updateEmail(w){return O.al(this._delegate,w)}updatePassword(w){return O.am(this._delegate,w)}updatePhoneNumber(w){return O.u(this._delegate,w)}updateProfile(w){return O.ak(this._delegate,w)}verifyBeforeUpdateEmail(w,v){return O.ah(this._delegate,w,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const Br=O.aC;let zi=(()=>{class E{constructor(v,k){if(this.app=v,k.isInitialized())return this._delegate=k.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=v.options;Br(L,"invalid-api-key",{appName:v.name}),Br(L,"invalid-api-key",{appName:v.name});const Te=typeof window<"u"?lr:void 0;this._delegate=k.initialize({options:{persistence:Ta(L,v.name),popupRedirectResolver:Te}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,k){O.K(this._delegate,v,k)}applyActionCode(v){return O.a7(this._delegate,v)}checkActionCode(v){return O.a8(this._delegate,v)}confirmPasswordReset(v,k){return O.a6(this._delegate,v,k)}createUserWithEmailAndPassword(v,k){var L=this;return(0,b.Z)(function*(){return Dn(L._delegate,O.aa(L._delegate,v,k))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return O.af(this._delegate,v)}isSignInWithEmailLink(v){return O.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,b.Z)(function*(){Br(Hn(),v._delegate,"operation-not-supported-in-this-environment");const k=yield O.j(v._delegate,lr);return k?Dn(v._delegate,Promise.resolve(k)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function G(E,w){(0,O.aJ)(E)._logFramework(w)}(this._delegate,v)}onAuthStateChanged(v,k,L){const{next:Te,error:me,complete:Be}=oi(v,k,L);return this._delegate.onAuthStateChanged(Te,me,Be)}onIdTokenChanged(v,k,L){const{next:Te,error:me,complete:Be}=oi(v,k,L);return this._delegate.onIdTokenChanged(Te,me,Be)}sendSignInLinkToEmail(v,k){return O.ac(this._delegate,v,k)}sendPasswordResetEmail(v,k){return O.a5(this._delegate,v,k||void 0)}setPersistence(v){var k=this;return(0,b.Z)(function*(){let L;switch(function ji(E,w){ds(Object.values(At).includes(w),E,"invalid-persistence-type"),(0,xe.b$)()?ds(w!==At.SESSION,E,"unsupported-persistence-type"):(0,xe.UG)()?ds(w===At.NONE,E,"unsupported-persistence-type"):$n()?ds(w===At.NONE||w===At.LOCAL&&(0,xe.hl)(),E,"unsupported-persistence-type"):ds(w===At.NONE||ln(),E,"unsupported-persistence-type")}(k._delegate,v),v){case At.SESSION:L=O.a;break;case At.LOCAL:L=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case At.NONE:L=O.U;break;default:return O.ax("argument-error",{appName:k._delegate.name})}return k._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Dn(this._delegate,O.a0(this._delegate))}signInWithCredential(v){return Dn(this._delegate,O.a1(this._delegate,v))}signInWithCustomToken(v){return Dn(this._delegate,O.a4(this._delegate,v))}signInWithEmailAndPassword(v,k){return Dn(this._delegate,O.ab(this._delegate,v,k))}signInWithEmailLink(v,k){return Dn(this._delegate,O.ae(this._delegate,v,k))}signInWithPhoneNumber(v,k){return fs(this._delegate,O.s(this._delegate,v,k))}signInWithPopup(v){var k=this;return(0,b.Z)(function*(){return Br(Hn(),k._delegate,"operation-not-supported-in-this-environment"),Dn(k._delegate,O.c(k._delegate,v,lr))})()}signInWithRedirect(v){var k=this;return(0,b.Z)(function*(){return Br(Hn(),k._delegate,"operation-not-supported-in-this-environment"),yield $i(k._delegate),O.f(k._delegate,v,lr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return O.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=At,E})();function oi(E,w,v){let k=E;"function"!=typeof E&&({next:k,error:w,complete:v}=E);const L=k;return{next:me=>L(me&&zn.getOrCreate(me)),error:w,complete:v}}function Ta(E,w){const v=function ni(E,w){const v=ri();if(!v)return[];const k=O.aF(hs,E,w);switch(v.getItem(k)){case At.NONE:return[O.U];case At.LOCAL:return[O.i,O.a];case At.SESSION:return[O.a];default:return[]}}(E,w);if(typeof self<"u"&&!v.includes(O.i)&&v.push(O.i),typeof window<"u")for(const k of[O.b,O.a])v.includes(k)||v.push(k);return v.includes(O.U)||v.push(O.U),v}class Ks{constructor(){this.providerId="phone",this._delegate=new O.P(Vt(K.Z.auth()))}static credential(w,v){return O.P.credential(w,v)}verifyPhoneNumber(w,v){return this._delegate.verifyPhoneNumber(w,v)}unwrap(){return this._delegate}}Ks.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Ks.PROVIDER_ID=O.P.PROVIDER_ID;const xo=O.aC;class gs{constructor(w,v,k=K.Z.app()){var L;xo(null===(L=k.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:k.name}),this._delegate=new O.R(k.auth(),w,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function S(E){E.INTERNAL.registerComponent(new Tn.wA("auth-compat",w=>{const v=w.getProvider("app-compat").getImmediate(),k=w.getProvider("auth");return new zi(v,k)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:Ks,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:gs,TwitterAuthProvider:O.$,Auth:zi,AuthCredential:O.L,Error:xe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.1")}(K.Z)},861:(us,Bn,Ve)=>{function b(O,xe,Rt,un,Tn,Gt,It){try{var J=O[Gt](It),ue=J.value}catch(Re){return void Rt(Re)}J.done?xe(ue):Promise.resolve(ue).then(un,Tn)}function K(O){return function(){var xe=this,Rt=arguments;return new Promise(function(un,Tn){var Gt=O.apply(xe,Rt);function It(ue){b(Gt,un,Tn,It,J,"next",ue)}function J(ue){b(Gt,un,Tn,It,J,"throw",ue)}It(void 0)})}}Ve.d(Bn,{Z:()=>K})},582:(us,Bn,Ve)=>{function xe(j,z){var G={};for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&z.indexOf(B)<0&&(G[B]=j[B]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(B=Object.getOwnPropertySymbols(j);X<B.length;X++)z.indexOf(B[X])<0&&Object.prototype.propertyIsEnumerable.call(j,B[X])&&(G[B[X]]=j[B[X]])}return G}function Re(j,z,G,B){return new(G||(G=Promise))(function(ee,pe){function ut(wt){try{Se(B.next(wt))}catch(tn){pe(tn)}}function De(wt){try{Se(B.throw(wt))}catch(tn){pe(tn)}}function Se(wt){wt.done?ee(wt.value):function X(ee){return ee instanceof G?ee:new G(function(pe){pe(ee)})}(wt.value).then(ut,De)}Se((B=B.apply(j,z||[])).next())})}function ct(j){return this instanceof ct?(this.v=j,this):new ct(j)}function Ft(j,z,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,B=G.apply(j,z||[]),ee=[];return X={},pe("next"),pe("throw"),pe("return"),X[Symbol.asyncIterator]=function(){return this},X;function pe(jt){B[jt]&&(X[jt]=function(ln){return new Promise(function($n,Hn){ee.push([jt,ln,$n,Hn])>1||ut(jt,ln)})})}function ut(jt,ln){try{!function De(jt){jt.value instanceof ct?Promise.resolve(jt.value.v).then(Se,wt):tn(ee[0][2],jt)}(B[jt](ln))}catch($n){tn(ee[0][3],$n)}}function Se(jt){ut("next",jt)}function wt(jt){ut("throw",jt)}function tn(jt,ln){jt(ln),ee.shift(),ee.length&&ut(ee[0][0],ee[0][1])}}function Mn(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,z=j[Symbol.asyncIterator];return z?z.call(j):(j=function ft(j){var z="function"==typeof Symbol&&Symbol.iterator,G=z&&j[z],B=0;if(G)return G.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&B>=j.length&&(j=void 0),{value:j&&j[B++],done:!j}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),G={},B("next"),B("throw"),B("return"),G[Symbol.asyncIterator]=function(){return this},G);function B(ee){G[ee]=j[ee]&&function(pe){return new Promise(function(ut,De){!function X(ee,pe,ut,De){Promise.resolve(De).then(function(Se){ee({value:Se,done:ut})},pe)}(ut,De,(pe=j[ee](pe)).done,pe.value)})}}}Ve.d(Bn,{FC:()=>Ft,KL:()=>Mn,_T:()=>xe,mG:()=>Re,qq:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},us=>{us(us.s=875)}]);