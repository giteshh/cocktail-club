"use strict";(self.webpackChunkcocktail_club=self.webpackChunkcocktail_club||[]).push([[179],{932:(Es,qn,Ue)=>{Ue.d(qn,{$:()=>gi,A:()=>le,G:()=>Pt,K:()=>rm,L:()=>Ba,N:()=>As,P:()=>cf,R:()=>wI,U:()=>ve,V:()=>$h,W:()=>lm,X:()=>We,Y:()=>Nr,Z:()=>Yc,_:()=>zs,a:()=>Am,a0:()=>be,a1:()=>Qn,a2:()=>Yo,a3:()=>za,a4:()=>qh,a5:()=>os,a6:()=>Xc,a7:()=>as,a8:()=>tI,a9:()=>nI,aA:()=>Te,aB:()=>Bt,aC:()=>ce,aD:()=>RI,aE:()=>U,aF:()=>ze,aG:()=>ff,aH:()=>na,aI:()=>Hm,aJ:()=>Cn,aN:()=>mi,aQ:()=>xn,aa:()=>lA,ab:()=>dA,ac:()=>hA,ad:()=>fA,ae:()=>pA,af:()=>mA,ag:()=>ym,ah:()=>_A,ak:()=>ki,al:()=>rI,am:()=>iI,ap:()=>Cr,aq:()=>oI,as:()=>cI,at:()=>tn,au:()=>Qt,av:()=>ne,aw:()=>K,ax:()=>ft,ay:()=>Hl,az:()=>ic,b:()=>Tl,c:()=>uf,d:()=>SI,e:()=>lf,f:()=>hf,g:()=>nc,h:()=>jl,i:()=>sf,j:()=>rc,k:()=>uu,l:()=>Lm,m:()=>$I,p:()=>Kt,r:()=>ru,s:()=>TA,u:()=>TI});var D=Ue(861),Q=Ue(90),F=Ue(881),Oe=Ue(877),Nt=Ue(582),dn=Ue(859);const Kt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pt=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gn=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Oe.Yd("@firebase/auth");function En(f,...u){Ye.logLevel<=Oe.in.ERROR&&Ye.error(`Auth (${F.SDK_VERSION}): ${f}`,...u)}function ft(f,...u){throw ct(f,...u)}function Bt(f,...u){return ct(f,...u)}function ai(f,u,d){const p=Object.assign(Object.assign({},Gn()),{[u]:d});return new Q.LL("auth","Firebase",p).create(u,{appName:f.name})}function Fn(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&ft(f,"argument-error"),ai(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(f,...u){if("string"!=typeof f){const d=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return mt.create(f,...u)}function ce(f,u,...d){if(!f)throw ct(u,...d)}function It(f){const u="INTERNAL ASSERTION FAILED: "+f;throw En(u),new Error(u)}function Qt(f,u){f||It(u)}function In(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Ln(){return"http:"===Yi()||"https:"===Yi()}function Yi(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ci{constructor(u,d){this.shortDelay=u,this.longDelay=d,Qt(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function Ji(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ln()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Is(f,u){Qt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class H{static initialize(u,d,p){this.fetchImpl=u,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new ci(3e4,6e4);function j(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ee(f,u,d,p){return te.apply(this,arguments)}function te(){return(te=(0,D.Z)(function*(f,u,d,p,_={}){return me(f,_,(0,D.Z)(function*(){let I={},O={};p&&("GET"===u?O=p:I={body:JSON.stringify(p)});const z=(0,Q.xO)(Object.assign({key:f.config.apiKey},O)).slice(1),oe=yield f._getAdditionalHeaders();return oe["Content-Type"]="application/json",f.languageCode&&(oe["X-Firebase-Locale"]=f.languageCode),H.fetch()(bt(f,f.config.apiHost,d,z),Object.assign({method:u,headers:oe,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function me(f,u,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,D.Z)(function*(f,u,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},W),u);try{const _=new zt(f),I=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const O=yield I.json();if("needConfirmation"in O)throw hn(f,"account-exists-with-different-credential",O);if(I.ok&&!("errorMessage"in O))return O;{const z=I.ok?O.errorMessage:O.error.message,[oe,Pe]=z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===oe)throw hn(f,"credential-already-in-use",O);if("EMAIL_EXISTS"===oe)throw hn(f,"email-already-in-use",O);if("USER_DISABLED"===oe)throw hn(f,"user-disabled",O);const Be=p[oe]||oe.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw ai(f,Be,Pe);ft(f,Be)}}catch(_){if(_ instanceof Q.ZR)throw _;ft(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ce(f,u,d,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,D.Z)(function*(f,u,d,p,_={}){const I=yield ee(f,u,d,p,_);return"mfaPendingCredential"in I&&ft(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function bt(f,u,d,p){const _=`${u}${d}?${p}`;return f.config.emulator?Is(f.config,_):`${f.config.apiScheme}://${_}`}function on(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Bt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(f,u,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Bt(f,u,p);return _.customData._tokenResponse=d,_}function Wn(f){return void 0!==f&&void 0!==f.getResponse}function Kn(f){return void 0!==f&&void 0!==f.enterprise}class gr{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return on(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Xi(){return(Xi=(0,D.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ws(f,u){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,D.Z)(function*(f,u){return ee(f,"GET","/v2/recaptchaConfig",j(f,u))})).apply(this,arguments)}function Ts(){return(Ts=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ui(){return(ui=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function li(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ut(){return(Ut=(0,D.Z)(function*(f,u=!1){const d=(0,Q.m9)(f),p=yield d.getIdToken(u),_=Pn(p);ce(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const I="object"==typeof _.firebase?_.firebase:void 0,O=I?.sign_in_provider;return{claims:_,token:p,authTime:li(hi(_.auth_time)),issuedAtTime:li(hi(_.iat)),expirationTime:li(hi(_.exp)),signInProvider:O||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function hi(f){return 1e3*Number(f)}function Pn(f){const[u,d,p]=f.split(".");if(void 0===u||void 0===d||void 0===p)return En("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,Q.tV)(d);return _?JSON.parse(_):(En("Failed to decode base64 JWT payload"),null)}catch(_){return En("Caught error parsing JWT payload as JSON",_?.toString()),null}}function fn(f,u){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,D.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(p){throw p instanceof Q.ZR&&function bs({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Ss{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,D.Z)(function*(){yield d.iteration()}),p)}iteration(){var u=this;return(0,D.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class ns{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=li(this.lastLoginAt),this.creationTime=li(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(f){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,D.Z)(function*(f){var u;const d=f.auth,p=yield f.getIdToken(),_=yield fn(f,function wr(f,u){return ui.apply(this,arguments)}(d,{idToken:p}));ce(_?.users.length,d,"internal-error");const I=_.users[0];f._notifyReloadListener(I);const O=null!==(u=I.providerUserInfo)&&void 0!==u&&u.length?function so(f){return f.map(u=>{var{providerId:d}=u,p=(0,Nt._T)(u,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(I.providerUserInfo):[],z=function Fa(f,u){return[...f.filter(p=>!u.some(_=>_.providerId===p.providerId)),...u]}(f.providerData,O),Be=!!f.isAnonymous&&!(f.email&&I.passwordHash||z?.length),Dt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:z,metadata:new ns(I.createdAt,I.lastLoginAt),isAnonymous:Be};Object.assign(f,Dt)}),Wr.apply(this,arguments)}function fi(){return(fi=(0,D.Z)(function*(f){const u=(0,Q.m9)(f);yield Zn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Ds(){return(Ds=(0,D.Z)(function*(f,u){const d=yield me(f,{},(0,D.Z)(function*(){const p=(0,Q.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:I}=f.config,O=bt(f,_,"/v1/token",`key=${I}`),z=yield f._getAdditionalHeaders();return z["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(O,{method:"POST",headers:z,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function R(){return(R=(0,D.Z)(function*(f,u){return ee(f,"POST","/v2/accounts:revokeToken",j(f,u))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ce(u.idToken,"internal-error"),ce(typeof u.idToken<"u","internal-error"),ce(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Wc(f){const u=Pn(f);return ce(u,"internal-error"),ce(typeof u.exp<"u","internal-error"),ce(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var p=this;return(0,D.Z)(function*(){return ce(!p.accessToken||p.refreshToken,u,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var p=this;return(0,D.Z)(function*(){const{accessToken:_,refreshToken:I,expiresIn:O}=yield function qo(f,u){return Ds.apply(this,arguments)}(u,d);p.updateTokensAndExpiration(_,I,Number(O))})()}updateTokensAndExpiration(u,d,p){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,d){const{refreshToken:p,accessToken:_,expirationTime:I}=d,O=new E;return p&&(ce("string"==typeof p,"internal-error",{appName:u}),O.refreshToken=p),_&&(ce("string"==typeof _,"internal-error",{appName:u}),O.accessToken=_),I&&(ce("number"==typeof I,"internal-error",{appName:u}),O.expirationTime=I),O}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return It("not implemented")}}function C(f,u){ce("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:p,stsTokenManager:_}=u,I=(0,Nt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new ns(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,D.Z)(function*(){const p=yield fn(d,d.stsTokenManager.getToken(d.auth,u));return ce(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(u){return function mr(f){return Ut.apply(this,arguments)}(this,u)}reload(){return function rs(f){return fi.apply(this,arguments)}(this)}_assign(u){this!==u&&(ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var p=this;return(0,D.Z)(function*(){let _=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Zn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,D.Z)(function*(){const d=yield u.getIdToken();return yield fn(u,function Cs(f,u){return Ts.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var p,_,I,O,z,oe,Pe,Be;const Dt=null!==(p=d.displayName)&&void 0!==p?p:void 0,yi=null!==(_=d.email)&&void 0!==_?_:void 0,aa=null!==(I=d.phoneNumber)&&void 0!==I?I:void 0,Gl=null!==(O=d.photoURL)&&void 0!==O?O:void 0,wf=null!==(z=d.tenantId)&&void 0!==z?z:void 0,du=null!==(oe=d._redirectEventId)&&void 0!==oe?oe:void 0,Cf=null!==(Pe=d.createdAt)&&void 0!==Pe?Pe:void 0,Tf=null!==(Be=d.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:Wl,emailVerified:Vr,isAnonymous:n_,providerData:bf,stsTokenManager:r_}=d;ce(Wl&&r_,u,"internal-error");const i_=E.fromJSON(this.name,r_);ce("string"==typeof Wl,u,"internal-error"),C(Dt,u.name),C(yi,u.name),ce("boolean"==typeof Vr,u,"internal-error"),ce("boolean"==typeof n_,u,"internal-error"),C(aa,u.name),C(Gl,u.name),C(wf,u.name),C(du,u.name),C(Cf,u.name),C(Tf,u.name);const hu=new v({uid:Wl,auth:u,email:yi,emailVerified:Vr,displayName:Dt,isAnonymous:n_,photoURL:Gl,phoneNumber:aa,tenantId:wf,stsTokenManager:i_,createdAt:Cf,lastLoginAt:Tf});return bf&&Array.isArray(bf)&&(hu.providerData=bf.map(KI=>Object.assign({},KI))),du&&(hu._redirectEventId=du),hu}static _fromIdTokenResponse(u,d,p=!1){return(0,D.Z)(function*(){const _=new E;_.updateFromServerResponse(d);const I=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:p});return yield Zn(I),I})()}}const L=new Map;function U(f){Qt(f instanceof Function,"Expected a class definition");let u=L.get(f);return u?(Qt(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,L.set(f,u),u)}const ve=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,D.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,D.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,D.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function ze(f,u,d){return`firebase:${f}:${u}:${d}`}class St{constructor(u,d,p){this.persistence=u,this.auth=d,this.userKey=p;const{config:_,name:I}=this.auth;this.fullUserKey=ze(this.userKey,_.apiKey,I),this.fullPersistenceKey=ze("persistence",_.apiKey,I),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,D.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,D.Z)(function*(){if(d.persistence===u)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,p="authUser"){return(0,D.Z)(function*(){if(!d.length)return new St(U(ve),u,p);const _=(yield Promise.all(d.map(function(){var Pe=(0,D.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let I=_[0]||U(ve);const O=ze(p,u.config.apiKey,u.name);let z=null;for(const Pe of d)try{const Be=yield Pe._get(O);if(Be){const Dt=v._fromJSON(u,Be);Pe!==I&&(z=Dt),I=Pe;break}}catch{}const oe=_.filter(Pe=>Pe._shouldAllowMigration);return I._shouldAllowMigration&&oe.length?(I=oe[0],z&&(yield I._set(O,z.toJSON())),yield Promise.all(d.map(function(){var Pe=(0,D.Z)(function*(Be){if(Be!==I)try{yield Be._remove(O)}catch{}});return function(Be){return Pe.apply(this,arguments)}}())),new St(I,u,p)):new St(I,u,p)})()}}function Ie(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(La(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(_e(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(S(u))return"Blackberry";if(ae(u))return"Webos";if(nt(u))return"Safari";if((u.includes("chrome/")||ar(u))&&!u.includes("edge/"))return"Chrome";if(K(u))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function _e(f=(0,Q.z$)()){return/firefox\//i.test(f)}function nt(f=(0,Q.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ar(f=(0,Q.z$)()){return/crios\//i.test(f)}function La(f=(0,Q.z$)()){return/iemobile/i.test(f)}function K(f=(0,Q.z$)()){return/android/i.test(f)}function S(f=(0,Q.z$)()){return/blackberry/i.test(f)}function ae(f=(0,Q.z$)()){return/webos/i.test(f)}function ne(f=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Te(f=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function Vn(f=(0,Q.z$)()){return ne(f)||K(f)||ae(f)||S(f)||/windows phone/i.test(f)||La(f)}function wn(f,u=[]){let d;switch(f){case"Browser":d=Ie((0,Q.z$)());break;case"Worker":d=`${Ie((0,Q.z$)())}-${f}`;break;default:d=f}const p=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${F.SDK_VERSION}/${p}`}class ll{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const p=I=>new Promise((O,z)=>{try{O(u(I))}catch(oe){z(oe)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,D.Z)(function*(){if(d.auth.currentUser===u)return;const p=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const I of p)try{I()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Yg(){return(Yg=(0,D.Z)(function*(f,u={}){return ee(f,"GET","/v2/passwordPolicy",j(f,u))})).apply(this,arguments)}class sA{constructor(u){var d,p,_,I;const O=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=O.minPasswordLength)&&void 0!==d?d:6,O.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=O.maxPasswordLength),void 0!==O.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=O.containsLowercaseCharacter),void 0!==O.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=O.containsUppercaseCharacter),void 0!==O.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=O.containsNumericCharacter),void 0!==O.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=O.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(I=u.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,p,_,I,O,z;const oe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,oe),this.validatePasswordCharacterOptions(u,oe),oe.isValid&&(oe.isValid=null===(d=oe.meetsMinPasswordLength)||void 0===d||d),oe.isValid&&(oe.isValid=null===(p=oe.meetsMaxPasswordLength)||void 0===p||p),oe.isValid&&(oe.isValid=null===(_=oe.containsLowercaseLetter)||void 0===_||_),oe.isValid&&(oe.isValid=null===(I=oe.containsUppercaseLetter)||void 0===I||I),oe.isValid&&(oe.isValid=null===(O=oe.containsNumericCharacter)||void 0===O||O),oe.isValid&&(oe.isValid=null===(z=oe.containsNonAlphanumericCharacter)||void 0===z||z),oe}validatePasswordLengthOptions(u,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=u.length>=p),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)p=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,d,p,_,I){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=I))}}class oA{constructor(u,d,p,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var p=this;return d&&(this._popupRedirectResolver=U(d)),this._initializationPromise=this.queue((0,D.Z)(function*(){var _,I;if(!p._deleted&&(p.persistenceManager=yield St.create(p,u),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(I=p.currentUser)||void 0===I?void 0:I.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,D.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,D.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let I=_,O=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const z=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,oe=I?._redirectEventId,Pe=yield d.tryRedirectSignIn(u);(!z||z===oe)&&Pe?.user&&(I=Pe.user,O=!0)}if(!I)return d.directlySetCurrentUser(null);if(!I._redirectEventId){if(O)try{yield d.beforeStateQueue.runMiddleware(I)}catch(z){I=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(z))}return I?d.reloadAndSetCurrentUserOrClear(I):d.directlySetCurrentUser(null)}return ce(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===I._redirectEventId?d.directlySetCurrentUser(I):d.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(u){var d=this;return(0,D.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,D.Z)(function*(){try{yield Zn(u)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,D.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,D.Z)(function*(){const p=u?(0,Q.m9)(u):null;return p&&ce(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(u,d=!1){var p=this;return(0,D.Z)(function*(){if(!p._deleted)return u&&ce(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,D.Z)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,D.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,D.Z)(function*(){yield d.assertedPersistence.setPersistence(U(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,D.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,D.Z)(function*(){const d=yield function qE(f){return Yg.apply(this,arguments)}(u),p=new sA(d);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Q.LL("auth","Firebase",u())}onAuthStateChanged(u,d,p){return this.registerStateListener(this.authStateSubscription,u,d,p)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,p){return this.registerStateListener(this.idTokenSubscription,u,d,p)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,D.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function x(f,u){return R.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var p=this;return(0,D.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,D.Z)(function*(){if(!d.redirectPersistenceManager){const p=u&&U(u)||d._popupRedirectResolver;ce(p,d,"argument-error"),d.redirectPersistenceManager=yield St.create(d,[U(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,D.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,D.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,D.Z)(function*(){if(u===d.currentUser)return d.queue((0,D.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,p,_){if(this._deleted)return()=>{};const I="function"==typeof d?d:d.next.bind(d);let O=!1;const z=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(z,this,"internal-error"),z.then(()=>{O||I(this.currentUser)}),"function"==typeof d){const oe=u.addObserver(d,p,_);return()=>{O=!0,oe()}}{const oe=u.addObserver(d);return()=>{O=!0,oe()}}}directlySetCurrentUser(u){var d=this;return(0,D.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,D.Z)(function*(){var d;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const I=yield u._getAppCheckToken();return I&&(p["X-Firebase-AppCheck"]=I),p})()}_getAppCheckToken(){var u=this;return(0,D.Z)(function*(){var d;const p=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function or(f,...u){Ye.logLevel<=Oe.in.WARN&&Ye.warn(`Auth (${F.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Cn(f){return(0,Q.m9)(f)}class GE{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Q.ne)(d=>this.observer=d)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jg(f){return new Promise((u,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=u,p.onerror=_=>{const I=Bt("internal-error");I.customData=_,d(I)},p.type="text/javascript",p.charset="UTF-8",function WE(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(p)})}function Xg(f){return`__${f}${Math.floor(1e6*Math.random())}`}const Lt="NO_RECAPTCHA";class KE{constructor(u){this.type="recaptcha-enterprise",this.auth=Cn(u)}verify(u="verify",d=!1){var p=this;return(0,D.Z)(function*(){function I(){return I=(0,D.Z)(function*(z){if(!d){if(null==z.tenantId&&null!=z._agentRecaptchaConfig)return z._agentRecaptchaConfig.siteKey;if(null!=z.tenantId&&void 0!==z._tenantRecaptchaConfigs[z.tenantId])return z._tenantRecaptchaConfigs[z.tenantId].siteKey}return new Promise(function(){var oe=(0,D.Z)(function*(Pe,Be){ws(z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dt=>{if(void 0!==Dt.recaptchaKey){const yi=new gr(Dt);return null==z.tenantId?z._agentRecaptchaConfig=yi:z._tenantRecaptchaConfigs[z.tenantId]=yi,Pe(yi.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(Dt=>{Be(Dt)})});return function(Pe,Be){return oe.apply(this,arguments)}}())}),I.apply(this,arguments)}function O(z,oe,Pe){const Be=window.grecaptcha;Kn(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(z,{action:u}).then(Dt=>{oe(Dt)}).catch(()=>{oe(Lt)})}):Pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((z,oe)=>{(function _(z){return I.apply(this,arguments)})(p.auth).then(Pe=>{if(!d&&Kn(window.grecaptcha))O(Pe,z,oe);else{if(typeof window>"u")return void oe(new Error("RecaptchaVerifier is only supported in browser"));Jg("https://www.google.com/recaptcha/enterprise.js?render="+Pe).then(()=>{O(Pe,z,oe)}).catch(Be=>{oe(Be)})}}).catch(Pe=>{oe(Pe)})})})()}}function ZE(f,u,d){return em.apply(this,arguments)}function em(){return(em=(0,D.Z)(function*(f,u,d,p=!1){const _=new KE(f);let I;try{I=yield _.verify(d)}catch{I=yield _.verify(d,!0)}const O=Object.assign({},u);return Object.assign(O,p?{captchaResp:I}:{captchaResponse:I}),Object.assign(O,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(O,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),O})).apply(this,arguments)}function ye(f,u,d,p){return tm.apply(this,arguments)}function tm(){return tm=(0,D.Z)(function*(f,u,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield ZE(f,u,d,"getOobCode"===d);return p(f,I)}return p(f,u).catch(function(){var I=(0,D.Z)(function*(O){if("auth/missing-recaptcha-token"===O.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const z=yield ZE(f,u,d,"getOobCode"===d);return p(f,z)}return Promise.reject(O)});return function(O){return I.apply(this,arguments)}}())}),tm.apply(this,arguments)}function rm(f,u,d){const p=Cn(f);ce(p._canInitEmulator,p,"emulator-config-failed"),ce(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,I=kh(u),{host:O,port:z}=function dl(f){const u=kh(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const I=_[1];return{host:I,port:hl(p.substr(I.length+1))}}{const[I,O]=p.split(":");return{host:I,port:hl(O)}}}(u);p.config.emulator={url:`${I}//${O}${null===z?"":`:${z}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:O,port:z,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function im(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function kh(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function hl(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Ba{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return It("not implemented")}_getIdTokenResponse(u){return It("not implemented")}_linkToIdToken(u,d){return It("not implemented")}_getReauthenticationResolver(u){return It("not implemented")}}function je(f,u){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:resetPassword",j(f,u))})).apply(this,arguments)}function Kr(){return(Kr=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function sm(f,u){return om.apply(this,arguments)}function om(){return(om=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function am(){return(am=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",j(f,u))})).apply(this,arguments)}function cA(f,u){return cm.apply(this,arguments)}function cm(){return(cm=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithPassword",j(f,u))})).apply(this,arguments)}function ao(f,u){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendOobCode",j(f,u))})).apply(this,arguments)}function Fh(){return(Fh=(0,D.Z)(function*(f,u){return ao(f,u)})).apply(this,arguments)}function JE(f,u){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,D.Z)(function*(f,u){return ao(f,u)})).apply(this,arguments)}function um(f,u){return Go.apply(this,arguments)}function Go(){return(Go=(0,D.Z)(function*(f,u){return ao(f,u)})).apply(this,arguments)}function Vh(){return(Vh=(0,D.Z)(function*(f,u){return ao(f,u)})).apply(this,arguments)}function pl(){return(pl=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",j(f,u))})).apply(this,arguments)}function ja(){return(ja=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",j(f,u))})).apply(this,arguments)}class Wo extends Ba{constructor(u,d,p,_=null){super("password",p),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new Wo(u,d,"password")}static _fromEmailAndCode(u,d,p=null){return new Wo(u,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,D.Z)(function*(){switch(d.signInMethod){case"password":return ye(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cA);case"emailLink":return function re(f,u){return pl.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:ft(u,"internal-error")}})()}_linkToIdToken(u,d){var p=this;return(0,D.Z)(function*(){switch(p.signInMethod){case"password":return ye(u,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sm);case"emailLink":return function Xe(f,u){return ja.apply(this,arguments)}(u,{idToken:d,email:p._email,oobCode:p._password});default:ft(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function pi(f,u){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithIdp",j(f,u))})).apply(this,arguments)}class As extends Ba{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new As(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):ft("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_}=d,I=(0,Nt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const O=new As(p,_);return O.idToken=I.idToken||void 0,O.accessToken=I.accessToken||void 0,O.secret=I.secret,O.nonce=I.nonce,O.pendingToken=I.pendingToken||null,O}_getIdTokenResponse(u){return pi(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,pi(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,pi(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,Q.xO)(d)}return u}}function Mi(){return(Mi=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendVerificationCode",j(f,u))})).apply(this,arguments)}function ss(){return(ss=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,u))})).apply(this,arguments)}function $a(){return($a=(0,D.Z)(function*(f,u){const d=yield Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,u));if(d.temporaryProof)throw hn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Uh={USER_NOT_FOUND:"user-not-found"};function gl(){return(gl=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Uh)})).apply(this,arguments)}class Mr extends Ba{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Mr({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Mr({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function is(f,u){return ss.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function kt(f,u){return $a.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function jh(f,u){return gl.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}=u;return p||d||_||I?new Mr({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}):null}}class yt{constructor(u){var d,p,_,I,O,z;const oe=(0,Q.zd)((0,Q.pd)(u)),Pe=null!==(d=oe.apiKey)&&void 0!==d?d:null,Be=null!==(p=oe.oobCode)&&void 0!==p?p:null,Dt=function Qc(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=oe.mode)&&void 0!==_?_:null);ce(Pe&&Be&&Dt,"argument-error"),this.apiKey=Pe,this.operation=Dt,this.code=Be,this.continueUrl=null!==(I=oe.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(O=oe.languageCode)&&void 0!==O?O:null,this.tenantId=null!==(z=oe.tenantId)&&void 0!==z?z:null}static parseLink(u){const d=function eI(f){const u=(0,Q.zd)((0,Q.pd)(f)).link,d=u?(0,Q.zd)((0,Q.pd)(u)).deep_link_id:null,p=(0,Q.zd)((0,Q.pd)(f)).deep_link_id;return(p?(0,Q.zd)((0,Q.pd)(p)).link:null)||p||d||u||f}(u);try{return new yt(d)}catch{return null}}}let $h=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Wo._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=yt.parseLink(p);return ce(_,"argument-error"),Wo._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Hs{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class jt extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Yc extends jt{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ce("providerId"in d&&"signInMethod"in d,"argument-error"),As._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ce(u.idToken||u.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Yc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Yc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:I,nonce:O,providerId:z}=u;if(!p&&!_&&!d&&!I||!z)return null;try{return new Yc(z)._credential({idToken:d,accessToken:p,nonce:O,pendingToken:I})}catch{return null}}}let lm=(()=>{class f extends jt{constructor(){super("facebook.com")}static credential(d){return As._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),We=(()=>{class f extends jt{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return As._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Nr=(()=>{class f extends jt{constructor(){super("github.com")}static credential(d){return As._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class xn extends Ba{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return pi(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,pi(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,pi(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_,pendingToken:I}=d;return p&&_&&I&&p===_?new xn(p,I):null}static _create(u,d){return new xn(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends Hs{constructor(u){ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return zs.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return zs.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=xn.fromJSON(u);return ce(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:p}=u;if(!d||!p)return null;try{return xn._create(p,d)}catch{return null}}}let gi=(()=>{class f extends jt{constructor(){super("twitter.com")}static credential(d,p){return As._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Hh(f,u){return ml.apply(this,arguments)}function ml(){return(ml=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signUp",j(f,u))})).apply(this,arguments)}class Or{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,p,_=!1){return(0,D.Z)(function*(){const I=yield v._fromIdTokenResponse(u,p,_),O=Ps(p);return new Or({user:I,providerId:O,_tokenResponse:p,operationType:d})})()}static _forOperation(u,d,p){return(0,D.Z)(function*(){yield u._updateTokensIfNecessary(p,!0);const _=Ps(p);return new Or({user:u,providerId:_,_tokenResponse:p,operationType:d})})()}}function Ps(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function be(f){return rt.apply(this,arguments)}function rt(){return(rt=(0,D.Z)(function*(f){var u;const d=Cn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Or({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Hh(d,{returnSecureToken:!0}),_=yield Or._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Xt extends Q.ZR{constructor(u,d,p,_){var I;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Xt.prototype),this.customData={appName:u.name,tenantId:null!==(I=u.tenantId)&&void 0!==I?I:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,d,p,_){return new Xt(u,d,p,_)}}function Ni(f,u,d,p){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Xt._fromErrorAndOperation(f,I,u,p):I})}function co(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function Cr(f,u){return uo.apply(this,arguments)}function uo(){return uo=(0,D.Z)(function*(f,u){const d=(0,Q.m9)(f);yield Ko(!0,d,u);const{providerUserInfo:p}=yield function es(f,u){return ts.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=co(p||[]);return d.providerData=d.providerData.filter(I=>_.has(I.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),uo.apply(this,arguments)}function pn(f,u){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,D.Z)(function*(f,u,d=!1){const p=yield fn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return Or._forOperation(f,"link",p)})).apply(this,arguments)}function Ko(f,u,d){return st.apply(this,arguments)}function st(){return(st=(0,D.Z)(function*(f,u,d){yield Zn(u);const _=!1===f?"provider-already-linked":"no-such-provider";ce(co(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function _l(f,u){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,D.Z)(function*(f,u,d=!1){const{auth:p}=f,_="reauthenticate";try{const I=yield fn(f,Ni(p,_,u,f),d);ce(I.idToken,p,"internal-error");const O=Pn(I.idToken);ce(O,p,"internal-error");const{sub:z}=O;return ce(f.uid===z,p,"user-mismatch"),Or._forOperation(f,_,I)}catch(I){throw"auth/user-not-found"===I?.code&&ft(p,"user-mismatch"),I}})).apply(this,arguments)}function zh(f,u){return lo.apply(this,arguments)}function lo(){return(lo=(0,D.Z)(function*(f,u,d=!1){const p="signIn",_=yield Ni(f,p,u),I=yield Or._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Qn(f,u){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,D.Z)(function*(f,u){return zh(Cn(f),u)})).apply(this,arguments)}function Yo(f,u){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,D.Z)(function*(f,u){const d=(0,Q.m9)(f);return yield Ko(!1,d,u.providerId),pn(d,u)})).apply(this,arguments)}function za(f,u){return yl.apply(this,arguments)}function yl(){return(yl=(0,D.Z)(function*(f,u){return _l((0,Q.m9)(f),u)})).apply(this,arguments)}function dm(){return(dm=(0,D.Z)(function*(f,u){return Ce(f,"POST","/v1/accounts:signInWithCustomToken",j(f,u))})).apply(this,arguments)}function qh(f,u){return vl.apply(this,arguments)}function vl(){return vl=(0,D.Z)(function*(f,u){const d=Cn(f),p=yield function en(f,u){return dm.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield Or._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),vl.apply(this,arguments)}class ho{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?qa._fromServerResponse(u,d):"totpInfo"in d?fo._fromServerResponse(u,d):ft(u,"internal-error")}}class qa extends ho{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new qa(d)}}class fo extends ho{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new fo(d)}}function cr(f,u,d){var p;ce((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ce(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ce(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ce(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function hm(f){return kr.apply(this,arguments)}function kr(){return(kr=(0,D.Z)(function*(f){const u=Cn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function os(f,u,d){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,D.Z)(function*(f,u,d){const p=Cn(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&cr(p,_,d),yield ye(p,_,"getOobCode",JE)})).apply(this,arguments)}function Xc(f,u,d){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,D.Z)(function*(f,u,d){yield je((0,Q.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var p=(0,D.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&hm(f),_});return function(_){return p.apply(this,arguments)}}())}),Ga.apply(this,arguments)}function as(f,u){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,D.Z)(function*(f,u){yield function Jt(f,u){return am.apply(this,arguments)}((0,Q.m9)(f),{oobCode:u})}),Gh.apply(this,arguments)}function tI(f,u){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,D.Z)(function*(f,u){const d=(0,Q.m9)(f),p=yield je(d,{oobCode:u}),_=p.requestType;switch(ce(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(p.mfaInfo,d,"internal-error");default:ce(p.email,d,"internal-error")}let I=null;return p.mfaInfo&&(I=ho._fromServerResponse(Cn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:I},operation:_}})).apply(this,arguments)}function nI(f,u){return fm.apply(this,arguments)}function fm(){return(fm=(0,D.Z)(function*(f,u){const{data:d}=yield tI((0,Q.m9)(f),u);return d.email})).apply(this,arguments)}function lA(f,u,d){return pm.apply(this,arguments)}function pm(){return(pm=(0,D.Z)(function*(f,u,d){const p=Cn(f),O=yield ye(p,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hh).catch(oe=>{throw"auth/password-does-not-meet-requirements"===oe.code&&hm(f),oe}),z=yield Or._fromIdTokenResponse(p,"signIn",O);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}function dA(f,u,d){return Qn((0,Q.m9)(f),$h.credential(u,d)).catch(function(){var p=(0,D.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&hm(f),_});return function(_){return p.apply(this,arguments)}}())}function hA(f,u,d){return gm.apply(this,arguments)}function gm(){return(gm=(0,D.Z)(function*(f,u,d){const p=Cn(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function I(O,z){ce(z.handleCodeInApp,p,"argument-error"),z&&cr(p,O,z)})(_,d),yield ye(p,_,"getOobCode",um)})).apply(this,arguments)}function fA(f,u){return"EMAIL_SIGNIN"===yt.parseLink(u)?.operation}function pA(f,u,d){return mm.apply(this,arguments)}function mm(){return(mm=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f),_=$h.credentialWithLink(u,d||In());return ce(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Qn(p,_)})).apply(this,arguments)}function _m(){return(_m=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:createAuthUri",j(f,u))})).apply(this,arguments)}function mA(f,u){return El.apply(this,arguments)}function El(){return El=(0,D.Z)(function*(f,u){const p={identifier:u,continueUri:Ln()?In():"http://localhost"},{signinMethods:_}=yield function gA(f,u){return _m.apply(this,arguments)}((0,Q.m9)(f),p);return _||[]}),El.apply(this,arguments)}function ym(f,u){return vm.apply(this,arguments)}function vm(){return vm=(0,D.Z)(function*(f,u){const d=(0,Q.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&cr(d.auth,_,u);const{email:I}=yield function fl(f,u){return Fh.apply(this,arguments)}(d.auth,_);I!==f.email&&(yield f.reload())}),vm.apply(this,arguments)}function _A(f,u,d){return Em.apply(this,arguments)}function Em(){return Em=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&cr(p.auth,I,d);const{email:O}=yield function Ua(f,u){return Vh.apply(this,arguments)}(p.auth,I);O!==f.email&&(yield f.reload())}),Em.apply(this,arguments)}function Kh(){return(Kh=(0,D.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ki(f,u){return Il.apply(this,arguments)}function Il(){return Il=(0,D.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const p=(0,Q.m9)(f),I={idToken:yield p.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},O=yield fn(p,function Jo(f,u){return Kh.apply(this,arguments)}(p.auth,I));p.displayName=O.displayName||null,p.photoURL=O.photoUrl||null;const z=p.providerData.find(({providerId:oe})=>"password"===oe);z&&(z.displayName=p.displayName,z.photoURL=p.photoURL),yield p._updateTokensIfNecessary(O)}),Il.apply(this,arguments)}function rI(f,u){return Zh((0,Q.m9)(f),u,null)}function iI(f,u){return Zh((0,Q.m9)(f),null,u)}function Zh(f,u,d){return wl.apply(this,arguments)}function wl(){return wl=(0,D.Z)(function*(f,u,d){const{auth:p}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(I.email=u),d&&(I.password=d);const O=yield fn(f,function YE(f,u){return Kr.apply(this,arguments)}(p,I));yield f._updateTokensIfNecessary(O,!0)}),wl.apply(this,arguments)}class po{constructor(u,d,p={}){this.isNewUser=u,this.providerId=d,this.profile=p}}class Im extends po{constructor(u,d,p,_){super(u,d,p),this.username=_}}class Fi extends po{constructor(u,d){super(u,"facebook.com",d)}}class wm extends Im{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Cm extends po{constructor(u,d){super(u,"google.com",d)}}class _r extends Im{constructor(u,d,p){super(u,"twitter.com",d,p)}}function oI(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function sI(f){var u,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const O=null===(d=null===(u=Pn(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(O)return new po(I,"anonymous"!==O&&"custom"!==O?O:null)}if(!p)return null;switch(p){case"facebook.com":return new Fi(I,_);case"github.com":return new wm(I,_);case"google.com":return new Cm(I,_);case"twitter.com":return new _r(I,_,f.screenName||null);case"custom":case"anonymous":return new po(I,null);default:return new po(I,p,_)}}(d)}class go{constructor(u,d,p){this.type=u,this.credential=d,this.user=p}static _fromIdtoken(u,d){return new go("enroll",u,d)}static _fromMfaPendingCredential(u){return new go("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,p;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return go._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return go._fromIdtoken(u.multiFactorSession.idToken)}return null}}class bm{constructor(u,d,p){this.session=u,this.hints=d,this.signInResolver=p}static _fromError(u,d){const p=Cn(u),_=d.customData._serverResponse,I=(_.mfaInfo||[]).map(z=>ho._fromServerResponse(p,z));ce(_.mfaPendingCredential,p,"internal-error");const O=go._fromMfaPendingCredential(_.mfaPendingCredential);return new bm(O,I,function(){var z=(0,D.Z)(function*(oe){const Pe=yield oe._process(p,O);delete _.mfaInfo,delete _.mfaPendingCredential;const Be=Object.assign(Object.assign({},_),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(d.operationType){case"signIn":const Dt=yield Or._fromIdTokenResponse(p,d.operationType,Be);return yield p._updateCurrentUser(Dt.user),Dt;case"reauthenticate":return ce(d.user,p,"internal-error"),Or._forOperation(d.user,d.operationType,Be);default:ft(p,"internal-error")}});return function(oe){return z.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,D.Z)(function*(){return d.signInResolver(u)})()}}function cI(f,u){var d;const p=(0,Q.m9)(f),_=u;return ce(u.customData.operationType,p,"argument-error"),ce(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),bm._fromError(p,_)}class ie{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>ho._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new ie(u)}getSession(){var u=this;return(0,D.Z)(function*(){return go._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var p=this;return(0,D.Z)(function*(){const _=u,I=yield p.getSession(),O=yield fn(p.user,_._process(p.user.auth,I,d));return yield p.user._updateTokensIfNecessary(O),p.user.reload()})()}unenroll(u){var d=this;return(0,D.Z)(function*(){const p="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const I=yield fn(d.user,function fI(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",j(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:O})=>O!==p),yield d.user._updateTokensIfNecessary(I),yield d.user.reload()}catch(I){throw I}})()}}const vt=new WeakMap;function tn(f){const u=(0,Q.m9)(f);return vt.has(u)||vt.set(u,ie._fromUser(u)),vt.get(u)}const $t="__sak";class ur{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem($t,"1"),this.storage.removeItem($t),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tl=(()=>{class f extends ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sm(){const f=(0,Q.z$)();return nt(f)||ne(f)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),I=this.localCache[p];_!==I&&d(p,I,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((z,oe,Pe)=>{this.notifyListeners(z,Pe)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const z=this.storage.getItem(_);if(d.newValue!==z)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const I=()=>{const z=this.storage.getItem(_);!p&&this.localCache[_]===z||this.notifyListeners(_,z)},O=this.storage.getItem(_);!function Ot(){return(0,Q.w1)()&&10===document.documentMode}()||O===d.newValue||d.newValue===d.oldValue?I():setTimeout(I,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,I=this;return(0,D.Z)(function*(){yield _().call(I,d,p),I.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,D.Z)(function*(){const I=yield p().call(_,d);return _.localCache[d]=JSON.stringify(I),I})()}_remove(d){var p=()=>super._remove,_=this;return(0,D.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Am=(()=>{class f extends ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Fr=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(I=>I.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,D.Z)(function*(){const _=d,{eventId:I,eventType:O,data:z}=_.data,oe=p.handlersMap[O];if(!oe?.size)return;_.ports[0].postMessage({status:"ack",eventId:I,eventType:O});const Pe=Array.from(oe).map(function(){var Dt=(0,D.Z)(function*(yi){return yi(_.origin,z)});return function(yi){return Dt.apply(this,arguments)}}()),Be=yield function Pm(f){return Promise.all(f.map(function(){var u=(0,D.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return u.apply(this,arguments)}}()))}(Pe);_.ports[0].postMessage({status:"done",eventId:I,eventType:O,response:Be})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function mi(f="",u=10){let d="";for(let p=0;p<u;p++)d+=Math.floor(10*Math.random());return f+d}class Rm{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,p=50){var _=this;return(0,D.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let O,z;return new Promise((oe,Pe)=>{const Be=mi("",20);I.port1.start();const Dt=setTimeout(()=>{Pe(new Error("unsupported_event"))},p);z={messageChannel:I,onMessage(yi){const aa=yi;if(aa.data.eventId===Be)switch(aa.data.status){case"ack":clearTimeout(Dt),O=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),oe(aa.data.response);break;default:clearTimeout(Dt),clearTimeout(O),Pe(new Error("invalid_response"))}}},_.handlers.add(z),I.port1.addEventListener("message",z.onMessage),_.target.postMessage({eventType:u,eventId:Be,data:d},[I.port2])}).finally(()=>{z&&_.removeMessageHandler(z)})})()}}function nn(){return window}function Jh(){return typeof nn().WorkerGlobalScope<"u"&&"function"==typeof nn().importScripts}function Xh(){return(Xh=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bl="firebaseLocalStorageDb",Mm=1,Ka="firebaseLocalStorage",Nm="fbase_key";class Za{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Qa(f,u){return f.transaction([Ka],u?"readwrite":"readonly").objectStore(Ka)}function Sl(){const f=indexedDB.open(bl,Mm);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Ka,{keyPath:Nm})}catch(_){d(_)}}),f.addEventListener("success",(0,D.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Ka)?u(p):(p.close(),yield function Om(){const f=indexedDB.deleteDatabase(bl);return new Za(f).toPromise()}(),u(yield Sl()))}))})}function tf(f,u,d){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,D.Z)(function*(f,u,d){const p=Qa(f,!0).put({[Nm]:u,value:d});return new Za(p).toPromise()})).apply(this,arguments)}function rf(){return(rf=(0,D.Z)(function*(f,u){const d=Qa(f,!1).get(u),p=yield new Za(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function km(f,u){const d=Qa(f,!0).delete(u);return new Za(d).toPromise()}const sf=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,D.Z)(function*(){return d.db||(d.db=yield Sl()),d.db})()}_withRetries(d){var p=this;return(0,D.Z)(function*(){let _=0;for(;;)try{const I=yield p._openDb();return yield d(I)}catch(I){if(_++>3)throw I;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,D.Z)(function*(){return Jh()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,D.Z)(function*(){d.receiver=Fr._getInstance(function ef(){return Jh()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,D.Z)(function*(_,I){return{keyProcessed:(yield d._poll()).includes(I.key)}});return function(_,I){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,D.Z)(function*(_,I){return["keyChanged"]});return function(_,I){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,D.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function xm(){return Xh.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Rm(d.activeServiceWorker);const I=yield d.sender._send("ping",{},800);I&&null!==(p=I[0])&&void 0!==p&&p.fulfilled&&null!==(_=I[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,D.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function pI(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Sl();return yield tf(d,$t,"1"),yield km(d,$t),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,D.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,D.Z)(function*(){return _._withPendingWrite((0,D.Z)(function*(){return yield _._withRetries(I=>tf(I,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,D.Z)(function*(){const _=yield p._withRetries(I=>function nf(f,u){return rf.apply(this,arguments)}(I,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,D.Z)(function*(){return p._withPendingWrite((0,D.Z)(function*(){return yield p._withRetries(_=>km(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,D.Z)(function*(){const p=yield d._withRetries(O=>{const z=Qa(O,!1).getAll();return new Za(z).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],I=new Set;if(0!==p.length)for(const{fbase_key:O,value:z}of p)I.add(O),JSON.stringify(d.localCache[O])!==JSON.stringify(z)&&(d.notifyListeners(O,z),_.push(O));for(const O of Object.keys(d.localCache))d.localCache[O]&&!I.has(O)&&(d.notifyListeners(O,null),_.push(O));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ta=1e12;class Al{constructor(u){this.auth=u,this.counter=ta,this._widgets=new Map}render(u,d){const p=this.counter;return this._widgets.set(p,new Pl(u,this.auth.name,d||{})),this.counter++,p}reset(u){var d;const p=u||ta;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(u){var d;return(null===(d=this._widgets.get(u||ta))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,D.Z)(function*(){var p;return null===(p=d._widgets.get(u||ta))||void 0===p||p.execute(),""})()}}class Pl{constructor(u,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;ce(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function af(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)u.push(d.charAt(Math.floor(Math.random()*d.length)));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rl=Xg("rcb"),EI=new ci(3e4,6e4);class tu{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=nn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ce(function II(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Wn(nn().grecaptcha)?Promise.resolve(nn().grecaptcha):new Promise((p,_)=>{const I=nn().setTimeout(()=>{_(Bt(u,"network-request-failed"))},EI.get());nn()[Rl]=()=>{nn().clearTimeout(I),delete nn()[Rl];const z=nn().grecaptcha;if(!z||!Wn(z))return void _(Bt(u,"internal-error"));const oe=z.render;z.render=(Pe,Be)=>{const Dt=oe(Pe,Be);return this.counter++,Dt},this.hostLanguage=d,p(z)},Jg(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Rl,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(I),_(Bt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=nn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wA{load(u){return(0,D.Z)(function*(){return new Al(u)})()}clearedOneInstance(){}}const xl="recaptcha",CA={theme:"light",type:"image"};class wI{constructor(u,d,p=Object.assign({},CA)){this.parameters=p,this.type=xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(u),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ce(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wA:new tu,this.validateStartingState()}verify(){var u=this;return(0,D.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(d)||new Promise(I=>{const O=z=>{z&&(u.tokenChangeListeners.delete(O),I(z))};u.tokenChangeListeners.add(O),u.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof u)u(d);else if("string"==typeof u){const p=nn()[u];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,D.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,D.Z)(function*(){ce(Ln()&&!Jh(),u.auth,"internal-error"),yield function CI(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Gr(f){return Xi.apply(this,arguments)}(u.auth);ce(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fm{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Mr._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function TA(f,u,d){return nu.apply(this,arguments)}function nu(){return(nu=(0,D.Z)(function*(f,u,d){const p=Cn(f),_=yield iu(p,u,(0,Q.m9)(d));return new Fm(_,I=>Qn(p,I))})).apply(this,arguments)}function Lm(f,u,d){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f);yield Ko(!1,p,"phone");const _=yield iu(p.auth,u,(0,Q.m9)(d));return new Fm(_,I=>Yo(p,I))})).apply(this,arguments)}function ru(f,u,d){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f),_=yield iu(p.auth,u,(0,Q.m9)(d));return new Fm(_,I=>za(p,I))})).apply(this,arguments)}function iu(f,u,d){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,D.Z)(function*(f,u,d){var p;const _=yield d.verify();try{let I;if(ce("string"==typeof _,f,"argument-error"),ce(d.type===xl,f,"argument-error"),I="string"==typeof u?{phoneNumber:u}:u,"session"in I){const O=I.session;if("phoneNumber"in I)return ce("enroll"===O.type,f,"internal-error"),(yield function uI(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",j(f,u))}(f,{idToken:O.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ce("signin"===O.type,f,"internal-error");const z=(null===(p=I.multiFactorHint)||void 0===p?void 0:p.uid)||I.multiFactorUid;return ce(z,f,"missing-multi-factor-info"),(yield function gI(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:start",j(f,u))}(f,{mfaPendingCredential:O.credential,mfaEnrollmentId:z,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:O}=yield function $s(f,u){return Mi.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:_});return O}}finally{d._reset()}}),Ja.apply(this,arguments)}function TI(f,u){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,D.Z)(function*(f,u){yield pn((0,Q.m9)(f),u)})).apply(this,arguments)}let cf=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Cn(d)}verifyPhoneNumber(d,p){return iu(this.auth,d,(0,Q.m9)(p))}static credential(d,p){return Mr._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Mr._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function xs(f,u){return u?U(u):(ce(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Vm extends Ba{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return pi(u,this._buildIdpRequest())}_linkToIdToken(u,d){return pi(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return pi(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Bm(f){return zh(f.auth,new Vm(f),f.bypassAuthState)}function Um(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),_l(d,new Vm(f),f.bypassAuthState)}function bI(f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,D.Z)(function*(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),pn(d,new Vm(f),f.bypassAuthState)})).apply(this,arguments)}class jm{constructor(u,d,p,_,I=!1){this.auth=u,this.resolver=p,this.user=_,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,D.Z)(function*(p,_){u.pendingPromise={resolve:p,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(I){u.reject(I)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,D.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:I,tenantId:O,error:z,type:oe}=u;if(z)return void d.reject(z);const Pe={auth:d.auth,requestUri:p,sessionId:_,tenantId:O||void 0,postBody:I||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(oe)(Pe))}catch(Be){d.reject(Be)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Bm;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return Um;default:ft(this.auth,"internal-error")}}resolve(u){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ol=new ci(2e3,1e4);function uf(f,u,d){return kl.apply(this,arguments)}function kl(){return(kl=(0,D.Z)(function*(f,u,d){const p=Cn(f);Fn(f,u,Hs);const _=xs(p,d);return new Ll(p,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function lf(f,u,d){return su.apply(this,arguments)}function su(){return(su=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f);Fn(p.auth,u,Hs);const _=xs(p.auth,d);return new Ll(p.auth,"reauthViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}function SI(f,u,d){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f);Fn(p.auth,u,Hs);const _=xs(p.auth,d);return new Ll(p.auth,"linkViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}let Ll=(()=>{class f extends jm{constructor(d,p,_,I,O){super(d,p,I,O),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,D.Z)(function*(){const p=yield d.execute();return ce(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,D.Z)(function*(){Qt(1===d.filter.length,"Popup operations only handle one event");const p=mi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Bt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Ol.get())};d()}}return f.currentPopupAction=null,f})();const $m="pendingRedirect",ec=new Map;class DI extends jm{constructor(u,d,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,D.Z)(function*(){let p=ec.get(d.auth._key());if(!p){try{const I=(yield function Vl(f,u){return Gs.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;p=()=>Promise.resolve(I)}catch(_){p=()=>Promise.reject(_)}ec.set(d.auth._key(),p)}return d.bypassAuthState||ec.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,p=this;return(0,D.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(p,u);if("unknown"!==u.type){if(u.eventId){const _=yield p.auth._redirectUserForId(u.eventId);if(_)return p.user=_,d().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function Gs(){return(Gs=(0,D.Z)(function*(f,u){const d=lr(u),p=zm(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function df(f,u){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,D.Z)(function*(f,u){return zm(f)._set(lr(u),"true")})).apply(this,arguments)}function Hm(){ec.clear()}function na(f,u){ec.set(f._key(),u)}function zm(f){return U(f._redirectPersistence)}function lr(f){return ze($m,f.config.apiKey,f.name)}function hf(f,u,d){return function AI(f,u,d){return Ul.apply(this,arguments)}(f,u,d)}function Ul(){return(Ul=(0,D.Z)(function*(f,u,d){const p=Cn(f);Fn(f,u,Hs),yield p._initializationPromise;const _=xs(p,d);return yield df(_,p),_._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function jl(f,u,d){return function tc(f,u,d){return mo.apply(this,arguments)}(f,u,d)}function mo(){return(mo=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f);Fn(p.auth,u,Hs),yield p.auth._initializationPromise;const _=xs(p.auth,d);yield df(_,p.auth);const I=yield PI(p);return _._openRedirect(p.auth,u,"reauthViaRedirect",I)})).apply(this,arguments)}function nc(f,u,d){return function qm(f,u,d){return ou.apply(this,arguments)}(f,u,d)}function ou(){return(ou=(0,D.Z)(function*(f,u,d){const p=(0,Q.m9)(f);Fn(p.auth,u,Hs),yield p.auth._initializationPromise;const _=xs(p.auth,d);yield Ko(!1,p,u.providerId),yield df(_,p.auth);const I=yield PI(p);return _._openRedirect(p.auth,u,"linkViaRedirect",I)})).apply(this,arguments)}function rc(f,u){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,D.Z)(function*(f,u){return yield Cn(f)._initializationPromise,ff(f,u,!1)})).apply(this,arguments)}function ff(f,u){return ge.apply(this,arguments)}function ge(){return(ge=(0,D.Z)(function*(f,u,d=!1){const p=Cn(f),_=xs(p,u),O=yield new DI(p,_,d).execute();return O&&!d&&(delete O.user._redirectEventId,yield p._persistUserIfCurrent(O.user),yield p._setRedirectUser(null,u)),O})).apply(this,arguments)}function PI(f){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,D.Z)(function*(f){const u=mi(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class RI{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(d=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function SA(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var p;if(u.error&&!MI(u)){const _=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Bt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const p=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xI(u))}saveEventToCache(u){this.cachedEventUids.add(xI(u)),this.lastProcessedEventTime=Date.now()}}function xI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function MI({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function ic(f){return Km.apply(this,arguments)}function Km(){return(Km=(0,D.Z)(function*(f,u={}){return ee(f,"GET","/v1/projects",u)})).apply(this,arguments)}const DA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^https?/;function ra(){return(ra=(0,D.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield ic(f);for(const d of u)try{if(NI(d))return}catch{}ft(f,"unauthorized-domain")})).apply(this,arguments)}function NI(f){const u=In(),{protocol:d,hostname:p}=new URL(u);if(f.startsWith("chrome-extension://")){const O=new URL(f);return""===O.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&O.hostname===p}if(!Yn.test(d))return!1;if(DA.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Bi=new ci(3e4,6e4);function _o(){const f=nn().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let ia=null;const OI=new ci(5e3,15e3),AA="__/auth/iframe",kI="emulator/auth/iframe",PA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_i=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gf(f){const u=f.config;ce(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?Is(u,kI):`https://${f.config.authDomain}/${AA}`,p={apiKey:u.apiKey,appName:f.name,v:F.SDK_VERSION},_=_i.get(f.config.apiHost);_&&(p.eid=_);const I=f._getFrameworks();return I.length&&(p.fw=I.join(",")),`${d}?${(0,Q.xO)(p).slice(1)}`}function Qm(){return Qm=(0,D.Z)(function*(f){const u=yield function au(f){return ia=ia||function Zm(f){return new Promise((u,d)=>{var p,_,I;function O(){_o(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{_o(),d(Bt(f,"network-request-failed"))},timeout:Bi.get()})}if(null!==(_=null===(p=nn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(I=nn().gapi)||void 0===I||!I.load){const z=Xg("iframefcb");return nn()[z]=()=>{gapi.load?O():d(Bt(f,"network-request-failed"))},Jg(`https://apis.google.com/js/api.js?onload=${z}`).catch(oe=>d(oe))}O()}}).catch(u=>{throw ia=null,u})}(f),ia}(f),d=nn().gapi;return ce(d,f,"internal-error"),u.open({where:document.body,url:gf(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PA,dontclear:!0},p=>new Promise(function(){var _=(0,D.Z)(function*(I,O){yield p.restyle({setHideOnLeave:!1});const z=Bt(f,"network-request-failed"),oe=nn().setTimeout(()=>{O(z)},OI.get());function Pe(){nn().clearTimeout(oe),I(p)}p.ping(Pe).then(Pe,()=>{O(z)})});return function(I,O){return _.apply(this,arguments)}}()))}),Qm.apply(this,arguments)}const Ym={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FI=500,LI=600,VI="_blank",BI="http://localhost";class Jm{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $l="__/auth/handler",_f="emulator/auth/handler",oc=encodeURIComponent("fac");function Hl(f,u,d,p,_,I){return sa.apply(this,arguments)}function sa(){return(sa=(0,D.Z)(function*(f,u,d,p,_,I){ce(f.config.authDomain,f,"auth-domain-config-required"),ce(f.config.apiKey,f,"invalid-api-key");const O={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:F.SDK_VERSION,eventId:_};if(u instanceof Hs){u.setDefaultLanguage(f.languageCode),O.providerId=u.providerId||"",(0,Q.xb)(u.getCustomParameters())||(O.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Be,Dt]of Object.entries(I||{}))O[Be]=Dt}if(u instanceof jt){const Be=u.getScopes().filter(Dt=>""!==Dt);Be.length>0&&(O.scopes=Be.join(","))}f.tenantId&&(O.tid=f.tenantId);const z=O;for(const Be of Object.keys(z))void 0===z[Be]&&delete z[Be];const oe=yield f._getAppCheckToken(),Pe=oe?`#${oc}=${encodeURIComponent(oe)}`:"";return`${function jI({config:f}){return f.emulator?Is(f,_f):`https://${f.authDomain}/${$l}`}(f)}?${(0,Q.xO)(z).slice(1)}${Pe}`})).apply(this,arguments)}const zl="webStorageSupport",uu=class cu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Am,this._completeRedirectFn=ff,this._overrideRedirectResult=na}_openPopup(u,d,p,_){var I=this;return(0,D.Z)(function*(){var O;Qt(null===(O=I.eventManagers[u._key()])||void 0===O?void 0:O.manager,"_initialize() not called before _openPopup()");const z=yield Hl(u,d,p,In(),_);return function UI(f,u,d,p=FI,_=LI){const I=Math.max((window.screen.availHeight-_)/2,0).toString(),O=Math.max((window.screen.availWidth-p)/2,0).toString();let z="";const oe=Object.assign(Object.assign({},Ym),{width:p.toString(),height:_.toString(),top:I,left:O}),Pe=(0,Q.z$)().toLowerCase();d&&(z=ar(Pe)?VI:d),_e(Pe)&&(u=u||BI,oe.scrollbars="yes");const Be=Object.entries(oe).reduce((yi,[aa,Gl])=>`${yi}${aa}=${Gl},`,"");if(function _t(f=(0,Q.z$)()){var u;return ne(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Pe)&&"_self"!==z)return function mf(f,u){const d=document.createElement("a");d.href=f,d.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(u||"",z),new Jm(null);const Dt=window.open(u||"",z,Be);ce(Dt,f,"popup-blocked");try{Dt.focus()}catch{}return new Jm(Dt)}(u,z,mi())})()}_openRedirect(u,d,p,_){var I=this;return(0,D.Z)(function*(){return yield I._originValidation(u),function qs(f){nn().location.href=f}(yield Hl(u,d,p,In(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:I}=this.eventManagers[d];return _?Promise.resolve(_):(Qt(I,"If manager is not set, promise should be"),I)}const p=this.initAndGetManager(u);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(u){var d=this;return(0,D.Z)(function*(){const p=yield function sc(f){return Qm.apply(this,arguments)}(u),_=new RI(u);return p.register("authEvent",I=>(ce(I?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=p,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(zl,{type:zl},_=>{var I;const O=null===(I=_?.[0])||void 0===I?void 0:I[zl];void 0!==O&&d(!!O),ft(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function pf(f){return ra.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Vn()||nt()||ne()}};class Xm{constructor(u){this.factorId=u}_process(u,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,p);case"signin":return this._finalizeSignIn(u,d.credential);default:return It("unexpected MultiFactorSessionType")}}}class yf extends Xm{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new yf(u)}_finalizeEnroll(u,d,p){return function lI(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",j(f,u))}(u,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function mI(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",j(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $I=(()=>{class f{constructor(){}static assertion(d){return yf._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Ef="@firebase/auth";class RA{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,D.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Q.Pz)("authIdTokenMaxAge"),function zI(f){(0,F._registerComponent)(new dn.wA("auth",(u,{options:d})=>{const p=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),I=u.getProvider("app-check-internal"),{apiKey:O,authDomain:z}=p.options;ce(O&&!O.includes(":"),"invalid-api-key",{appName:p.name});const oe={apiKey:O,authDomain:z,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(f)},Pe=new oA(p,_,I,oe);return function nm(f,u){const d=u?.persistence||[],p=(Array.isArray(d)?d:[d]).map(U);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(p,u?.popupRedirectResolver)}(Pe,d),Pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,p)=>{u.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new dn.wA("auth-internal",u=>{const d=Cn(u.getProvider("auth").getImmediate());return new RA(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Ef,"1.5.1",function HI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,F.registerVersion)(Ef,"1.5.1","esm2017")}("Browser")},90:(Es,qn,Ue)=>{Ue.d(qn,{BH:()=>ai,G6:()=>Is,L:()=>Tt,LL:()=>te,Pz:()=>Bt,Sg:()=>Fn,UG:()=>It,ZB:()=>Me,ZR:()=>ee,aH:()=>ft,b$:()=>Ln,eu:()=>W,hl:()=>H,jU:()=>Qt,m9:()=>Ds,ne:()=>ui,pd:()=>ts,r3:()=>Kn,ru:()=>In,tV:()=>X,uI:()=>ce,vZ:()=>ws,w1:()=>Ji,xO:()=>Ts,xb:()=>Gr,z$:()=>ct,zd:()=>es});const Oe=function(x){const R=[];let E=0;for(let C=0;C<x.length;C++){let v=x.charCodeAt(C);v<128?R[E++]=v:v<2048?(R[E++]=v>>6|192,R[E++]=63&v|128):55296==(64512&v)&&C+1<x.length&&56320==(64512&x.charCodeAt(C+1))?(v=65536+((1023&v)<<10)+(1023&x.charCodeAt(++C)),R[E++]=v>>18|240,R[E++]=v>>12&63|128,R[E++]=v>>6&63|128,R[E++]=63&v|128):(R[E++]=v>>12|224,R[E++]=v>>6&63|128,R[E++]=63&v|128)}return R},dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,R){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let v=0;v<x.length;v+=3){const L=x[v],U=v+1<x.length,Se=U?x[v+1]:0,ve=v+2<x.length,ze=ve?x[v+2]:0;let _e=(15&Se)<<2|ze>>6,nt=63&ze;ve||(nt=64,U||(_e=64)),C.push(E[L>>2],E[(3&L)<<4|Se>>4],E[_e],E[nt])}return C.join("")},encodeString(x,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(x):this.encodeByteArray(Oe(x),R)},decodeString(x,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(x):function(x){const R=[];let E=0,C=0;for(;E<x.length;){const v=x[E++];if(v<128)R[C++]=String.fromCharCode(v);else if(v>191&&v<224){const L=x[E++];R[C++]=String.fromCharCode((31&v)<<6|63&L)}else if(v>239&&v<365){const ve=((7&v)<<18|(63&x[E++])<<12|(63&x[E++])<<6|63&x[E++])-65536;R[C++]=String.fromCharCode(55296+(ve>>10)),R[C++]=String.fromCharCode(56320+(1023&ve))}else{const L=x[E++],U=x[E++];R[C++]=String.fromCharCode((15&v)<<12|(63&L)<<6|63&U)}}return R.join("")}(this.decodeStringToByteArray(x,R))},decodeStringToByteArray(x,R){this.init_();const E=R?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let v=0;v<x.length;){const L=E[x.charAt(v++)],Se=v<x.length?E[x.charAt(v)]:0;++v;const ze=v<x.length?E[x.charAt(v)]:64;++v;const Ie=v<x.length?E[x.charAt(v)]:64;if(++v,null==L||null==Se||null==ze||null==Ie)throw new An;C.push(L<<2|Se>>4),64!==ze&&(C.push(Se<<4&240|ze>>2),64!==Ie&&C.push(ze<<6&192|Ie))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class An extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tt=function(x){return function(x){const R=Oe(x);return dn.encodeByteArray(R,!0)}(x).replace(/\./g,"")},X=function(x){try{return dn.decodeString(x,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function Me(x,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return R}for(const E in R)!R.hasOwnProperty(E)||!tt(E)||(x[E]=Me(x[E],R[E]));return x}function tt(x){return"__proto__"!==x}const Ye=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const x=process.env.__FIREBASE_DEFAULTS__;return x?JSON.parse(x):void 0})()||(()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=x&&X(x[1]);return R&&JSON.parse(R)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},ft=()=>{var x;return null===(x=Ye())||void 0===x?void 0:x.config},Bt=x=>{var R;return null===(R=Ye())||void 0===R?void 0:R[`_${x}`]};class ai{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,E)=>{this.resolve=R,this.reject=E})}wrapCallback(R){return(E,C)=>{E?this.reject(E):this.resolve(C),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(E):R(E,C))}}}function Fn(x,R){if(x.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=R||"demo-project",v=x.iat||0,L=x.sub||x.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:v,exp:v+3600,auth_time:v,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},x);return[Tt(JSON.stringify({alg:"none",type:"JWT"})),Tt(JSON.stringify(U)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function It(){var x;const R=null===(x=Ye())||void 0===x?void 0:x.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qt(){return"object"==typeof self&&self.self===self}function In(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function Ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ji(){const x=ct();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function Is(){return!It()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((x,R)=>{try{let E=!0;const C="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(C);v.onsuccess=()=>{v.result.close(),E||self.indexedDB.deleteDatabase(C),x(!0)},v.onupgradeneeded=()=>{E=!1},v.onerror=()=>{var L;R((null===(L=v.error)||void 0===L?void 0:L.message)||"")}}catch(E){R(E)}})}class ee extends Error{constructor(R,E,C){super(E),this.code=R,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(R,E,C){this.service=R,this.serviceName=E,this.errors=C}create(R,...E){const C=E[0]||{},v=`${this.service}/${R}`,L=this.errors[R],U=L?function me(x,R){return x.replace(ht,(E,C)=>{const v=R[C];return null!=v?String(v):`<${C}?>`})}(L,C):"Error";return new ee(v,`${this.serviceName}: ${U} (${v}).`,C)}}const ht=/\{\$([^}]+)}/g;function Kn(x,R){return Object.prototype.hasOwnProperty.call(x,R)}function Gr(x){for(const R in x)if(Object.prototype.hasOwnProperty.call(x,R))return!1;return!0}function ws(x,R){if(x===R)return!0;const E=Object.keys(x),C=Object.keys(R);for(const v of E){if(!C.includes(v))return!1;const L=x[v],U=R[v];if(Rt(L)&&Rt(U)){if(!ws(L,U))return!1}else if(L!==U)return!1}for(const v of C)if(!E.includes(v))return!1;return!0}function Rt(x){return null!==x&&"object"==typeof x}function Ts(x){const R=[];for(const[E,C]of Object.entries(x))Array.isArray(C)?C.forEach(v=>{R.push(encodeURIComponent(E)+"="+encodeURIComponent(v))}):R.push(encodeURIComponent(E)+"="+encodeURIComponent(C));return R.length?"&"+R.join("&"):""}function es(x){const R={};return x.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[v,L]=C.split("=");R[decodeURIComponent(v)]=decodeURIComponent(L)}}),R}function ts(x){const R=x.indexOf("?");if(!R)return"";const E=x.indexOf("#",R);return x.substring(R,E>0?E:void 0)}function ui(x,R){const E=new li(x,R);return E.subscribe.bind(E)}class li{constructor(R,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{R(this)}).catch(C=>{this.error(C)})}next(R){this.forEachObserver(E=>{E.next(R)})}error(R){this.forEachObserver(E=>{E.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,E,C){let v;if(void 0===R&&void 0===E&&void 0===C)throw new Error("Missing Observer.");v=function mr(x,R){if("object"!=typeof x||null===x)return!1;for(const E of R)if(E in x&&"function"==typeof x[E])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:E,complete:C},void 0===v.next&&(v.next=Ut),void 0===v.error&&(v.error=Ut),void 0===v.complete&&(v.complete=Ut);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),L}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,R)}sendOne(R,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{E(this.observers[R])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function Ds(x){return x&&x._delegate?x._delegate:x}},624:(Es,qn,Ue)=>{function D(n){return"function"==typeof n}function Q(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const F=Q(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Oe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(s){e=s instanceof F?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Kt(s)}catch(o){e=e??[],o instanceof F?e=[...e,...o.errors]:e.push(o)}}if(e)throw new F(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Kt(e);else{if(e instanceof Nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oe(t,e)}remove(e){const{_finalizers:t}=this;t&&Oe(t,e),e instanceof Nt&&e._removeParent(this)}}Nt.EMPTY=(()=>{const n=new Nt;return n.closed=!0,n})();const dn=Nt.EMPTY;function An(n){return n instanceof Nt||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function Kt(n){D(n)?n():n.unsubscribe()}const Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function le(n){X.setTimeout(()=>{const{onUnhandledError:e}=Tt;if(!e)throw n;e(n)})}function Me(){}const tt=mt("C",void 0,void 0);function mt(n,e,t){return{kind:n,value:e,error:t}}let Qe=null;function Ye(n){if(Tt.useDeprecatedSynchronousErrorHandling){const e=!Qe;if(e&&(Qe={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Qe;if(Qe=null,t)throw r}}else n()}class En extends Nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,An(e)&&e.add(this)):this.destination=Qt}static create(e,t,r){return new Fn(e,t,r)}next(e){this.isStopped?It(function Gn(n){return mt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?It(function Pt(n){return mt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?It(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function Bt(n,e){return ft.call(n,e)}class ai{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ct(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ct(r)}else ct(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ct(t)}}}class Fn extends En{constructor(e,t,r){let i;if(super(),D(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Tt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bt(e.next,s),error:e.error&&Bt(e.error,s),complete:e.complete&&Bt(e.complete,s)}):i=e}this.destination=new ai(i)}}function ct(n){Tt.useDeprecatedSynchronousErrorHandling?function or(n){Tt.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=n)}(n):le(n)}function It(n,e){const{onStoppedNotification:t}=Tt;t&&X.setTimeout(()=>t(n,e))}const Qt={closed:!0,next:Me,error:function ce(n){throw n},complete:Me},In="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ln(n){return n}function Ji(n){return 0===n.length?Ln:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function H(n){return n&&n instanceof En||function Is(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&An(n)}(t)?t:new Fn(t,r,i);return Ye(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ci(r))((i,s)=>{const o=new Fn({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[In](){return this}pipe(...t){return Ji(t)(this)}toPromise(t){return new(t=ci(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ci(n){var e;return null!==(e=n??Tt.Promise)&&void 0!==e?e:Promise}const W=Q(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new j(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new W}next(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?dn:(this.currentObservers=null,s.push(t),new Nt(()=>{this.currentObservers=null,Oe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new j(e,t),n})();class j extends Z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:dn}}function ee(n){return D(n?.lift)}function te(n){return e=>{if(ee(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new ht(n,e,t,r,i)}class ht extends En{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(n,e){return te((t,r)=>{let i=0;t.subscribe(me(r,s=>{r.next(n.call(e,s,i++))}))})}var Re=Ue(582);const bt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function on(n){return D(n?.then)}function zt(n){return D(n[In])}function hn(n){return Symbol.asyncIterator&&D(n?.[Symbol.asyncIterator])}function Wn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gr=function Kn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Gr(n){return D(n?.[gr])}function Xi(n){return(0,Re.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Re.qq)(t.read());if(i)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(r)}}finally{t.releaseLock()}})}function ws(n){return D(n?.getReader)}function Rt(n){if(n instanceof pt)return n;if(null!=n){if(zt(n))return function Cs(n){return new pt(e=>{const t=n[In]();if(D(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(bt(n))return function Ts(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(on(n))return function es(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,le)})}(n);if(hn(n))return wr(n);if(Gr(n))return function ts(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ws(n))return function ui(n){return wr(Xi(n))}(n)}throw Wn(n)}function wr(n){return new pt(e=>{(function li(n,e){var t,r,i,s;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(t=(0,Re.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function di(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ut(n,e,t=1/0){return D(e)?Ut((r,i)=>Ce((s,o)=>e(r,s,i,o))(Rt(n(r,i))),t):("number"==typeof e&&(t=e),te((r,i)=>function mr(n,e,t,r,i,s,o,a){const c=[];let l=0,h=0,g=!1;const m=()=>{g&&!c.length&&!l&&e.complete()},y=b=>l<r?w(b):c.push(b),w=b=>{s&&e.next(b),l++;let P=!1;Rt(t(b,h++)).subscribe(me(e,N=>{i?.(N),s?y(N):e.next(N)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){const N=c.shift();o?di(e,o,()=>w(N)):w(N)}m()}catch(N){e.error(N)}}))};return n.subscribe(me(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function hi(n=1/0){return Ut(Ln,n)}const Pn=new pt(n=>n.complete());function bs(n){return n[n.length-1]}function Ss(n){return D(bs(n))?n.pop():void 0}function ns(n){return function Rn(n){return n&&D(n.schedule)}(bs(n))?n.pop():void 0}function Wr(n,e=0){return te((t,r)=>{t.subscribe(me(r,i=>di(r,n,()=>r.next(i),e),()=>di(r,n,()=>r.complete(),e),i=>di(r,n,()=>r.error(i),e)))})}function rs(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ds(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{di(t,e,()=>{const r=n[Symbol.asyncIterator]();di(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function E(n,e){return e?function R(n,e){if(null!=n){if(zt(n))return function fi(n,e){return Rt(n).pipe(rs(e),Wr(e))}(n,e);if(bt(n))return function so(n,e){return new pt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(on(n))return function Fa(n,e){return Rt(n).pipe(rs(e),Wr(e))}(n,e);if(hn(n))return Ds(n,e);if(Gr(n))return function qo(n,e){return new pt(t=>{let r;return di(t,e,()=>{r=n[gr](),di(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>D(r?.return)&&r.return()})}(n,e);if(ws(n))return function x(n,e){return Ds(Xi(n),e)}(n,e)}throw Wn(n)}(n,e):Rt(n)}function L(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Fn({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function U(n){for(let e in n)if(n[e]===U)return e;throw Error("Could not find renamed property on target object.")}function Se(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ze(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const St=U({__forward_ref__:U});function Ie(n){return n.__forward_ref__=Ie,n.toString=function(){return ve(this())},n}function _e(n){return nt(n)?n():n}function nt(n){return"function"==typeof n&&n.hasOwnProperty(St)&&n.__forward_ref__===Ie}function ar(n){return n&&!!n.\u0275providers}const K="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(ae(e,t)),this.code=e}}function ae(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function an(n,e){throw new S(-201,!1)}function xi(n,e){null==n&&function Lt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Va(n){return nm(n,dl)||nm(n,im)}function nm(n,e){return n.hasOwnProperty(e)?n[e]:null}function kh(n){return n&&(n.hasOwnProperty(hl)||n.hasOwnProperty(Ba))?n[hl]:null}const dl=U({\u0275prov:U}),hl=U({\u0275inj:U}),im=U({ngInjectableDef:U}),Ba=U({ngInjectorDef:U});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let Kc;function Kr(n){const e=Kc;return Kc=n,e}function sm(n,e,t){const r=Va(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&je.Optional?null:void 0!==e?e:void an(ve(n))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ao={},Zc="__NG_DI_FLAG__",fl="ngTempTokenPath",Fh="ngTokenPath",JE=/\n/gm,Lh="\u0275",um="__source";let Go;function Ua(n){const e=Go;return Go=n,e}function Vh(n,e=je.Default){if(void 0===Go)throw new S(-203,!1);return null===Go?sm(n,void 0,e):Go.get(n,e&je.Optional?null:void 0,e)}function re(n,e=je.Default){return(function YE(){return Kc}()||Vh)(_e(n),e)}function Xe(n,e=je.Default){return re(n,ja(e))}function ja(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wo(n){const e=[];for(let t=0;t<n.length;t++){const r=_e(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=je.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Bh(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(re(i,s))}else e.push(re(r))}return e}function pi(n,e){return n[Zc]=e,n.prototype[Zc]=e,n}function Bh(n){return n[Zc]}function $s(n){return{toString:n}.toString()}var Mi=(()=>((Mi=Mi||{})[Mi.OnPush=0]="OnPush",Mi[Mi.Default=1]="Default",Mi))(),is=(()=>{return(n=is||(is={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",is;var n})();const ss={},kt=[],$a=U({\u0275cmp:U}),Uh=U({\u0275dir:U}),jh=U({\u0275pipe:U}),gl=U({\u0275mod:U}),Mr=U({\u0275fac:U}),Qc=U({__NG_ELEMENT_ID__:U});let eI=0;function yt(n){return $s(()=>{const e=Hh(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Mi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||is.Emulated,id:"c"+eI++,styles:n.styles||kt,_:null,schemas:n.schemas||null,tView:null};ml(t);const r=n.dependencies;return t.directiveDefs=Or(r,!1),t.pipeDefs=Or(r,!0),t})}function $h(n){return Vt(n)||xn(n)}function Hs(n){return null!==n}function jt(n){return $s(()=>({type:n.type,bootstrap:n.bootstrap||kt,declarations:n.declarations||kt,imports:n.imports||kt,exports:n.exports||kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lm(n,e){if(null==n)return ss;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function We(n){return $s(()=>{const e=Hh(n);return ml(e),e})}function Nr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Vt(n){return n[$a]||null}function xn(n){return n[Uh]||null}function Zr(n){return n[jh]||null}function gi(n,e){const t=n[gl]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}function Hh(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lm(n.inputs,e),outputs:lm(n.outputs)}}function ml(n){n.features?.forEach(e=>e(n))}function Or(n,e){if(!n)return null;const t=e?Zr:$h;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Hs)}const Ps=0,be=1,rt=2,Xt=3,Ni=4,co=5,Cr=6,uo=7,pn=8,Ha=9,Ko=10,st=11,_l=12,Zo=13,zh=14,lo=15,Qn=16,Qo=17,Yo=18,Oi=19,za=20,yl=21,en=22,qh=1,vl=2,ho=7,qa=8,fo=9,cr=10;function kr(n){return Array.isArray(n)&&"object"==typeof n[qh]}function os(n){return Array.isArray(n)&&!0===n[qh]}function Jc(n){return 0!=(4&n.flags)}function Xc(n){return n.componentOffset>-1}function Ga(n){return 1==(1&n.flags)}function as(n){return!!n.template}function Gh(n){return 0!=(256&n[rt])}function Jo(n,e){return n.hasOwnProperty(Mr)?n[Mr]:null}class Kh{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ki(){return Il}function Il(n){return n.type.prototype.ngOnChanges&&(n.setInput=iI),rI}function rI(){const n=wl(this),e=n?.current;if(e){const t=n.previous;if(t===ss)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iI(n,e,t,r){const i=this.declaredInputs[t],s=wl(n)||function sI(n,e){return n[Zh]=e}(n,{previous:ss,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Kh(c&&c.currentValue,e,a===ss),n[r]=e}ki.ngInherit=!0;const Zh="__ngSimpleChanges__";function wl(n){return n[Zh]||null}const Fi=function(n,e,t){},wm="svg";function _r(n){for(;Array.isArray(n);)n=n[Ps];return n}function Qh(n,e){return _r(e[n])}function Li(n,e){return _r(e[n.index])}function Cl(n,e){return n.data[e]}function Wa(n,e){return n[e]}function Qr(n,e){const t=e[n];return kr(t)?t:t[Ps]}function Yh(n){return 64==(64&n[rt])}function Xo(n,e){return null==e?null:n[e]}function aI(n){n[Yo]=0}function Tm(n,e){n[co]+=e;let t=n,r=n[Xt];for(;null!==r&&(1===e&&1===t[co]||-1===e&&0===t[co]);)r[co]+=e,t=r,r=r[Xt]}const Je={lFrame:Sl(null),bindingsEnabled:!0};function dI(){return Je.bindingsEnabled}function ie(){return Je.lFrame.lView}function vt(){return Je.lFrame.tView}function tn(n){return Je.lFrame.contextLView=n,n[pn]}function $t(n){return Je.lFrame.contextLView=null,n}function ur(){let n=Sm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sm(){return Je.lFrame.currentTNode}function Rs(n,e){const t=Je.lFrame;t.currentTNode=n,t.isParent=e}function Dm(){return Je.lFrame.isParent}function Tl(){Je.lFrame.isParent=!1}function Fr(){const n=Je.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function nn(){return Je.lFrame.bindingIndex++}function qs(n){const e=Je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Xh(n,e){const t=Je.lFrame;t.bindingIndex=t.bindingRootIndex=n,ef(e)}function ef(n){Je.lFrame.currentDirectiveIndex=n}function bl(n){const e=Je.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Ka(n){Je.lFrame.currentQueryIndex=n}function Nm(n){const e=n[be];return 2===e.type?e.declTNode:1===e.type?n[Cr]:null}function Za(n,e,t){if(t&je.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&je.Host||(i=Nm(s),null===i||(s=s[lo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Je.lFrame=Om();return r.currentTNode=e,r.lView=n,!0}function Qa(n){const e=Om(),t=n[be];Je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Om(){const n=Je.lFrame,e=null===n?null:n.child;return null===e?Sl(n):e}function Sl(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function tf(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dl=tf;function nf(){const n=tf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lr(){return Je.lFrame.selectedIndex}function ea(n){Je.lFrame.selectedIndex=n}function Tn(){const n=Je.lFrame;return Cl(n.tView,n.selectedIndex)}function ta(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks??(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=h&&(n.destroyHooks??(n.destroyHooks=[])).push(t,h)}}function Al(n,e,t){Rl(n,e,3,t)}function Pl(n,e,t,r){(3&n[rt])===t&&Rl(n,e,t,r)}function af(n,e){let t=n[rt];(3&t)===e&&(t&=2047,t+=1,n[rt]=t)}function Rl(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Yo]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Yo]+=65536),(a<s||-1==s)&&(EI(n,t,e,c),n[Yo]=(4294901760&n[Yo])+c+2),c++}function EI(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[rt]>>11<n[Yo]>>16&&(3&n[rt])===e){n[rt]+=2048,Fi(4,a,s);try{s.call(a)}finally{Fi(5,a,s)}}}else{Fi(4,a,s);try{s.call(a)}finally{Fi(5,a,s)}}}const Ya=-1;class tu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Ml(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Lm(n){return 3===n||4===n||6===n}function Ml(n){return 64===n.charCodeAt(0)}function ru(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Nl(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Nl(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function iu(n){return n!==Ya}function Ja(n){return 32767&n}function Xa(n,e){let t=function TI(n){return n>>16}(n),r=e;for(;t>0;)r=r[lo],t--;return r}let cf=!0;function xs(n){const e=cf;return cf=n,e}const Bm=255,Um=5;let bI=0;const Vi={};function Ol(n,e){const t=kl(n,e);if(-1!==t)return t;const r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,uf(r.data,n),uf(e,null),uf(r.blueprint,null));const i=lf(n,e),s=n.injectorIndex;if(iu(i)){const o=Ja(i),a=Xa(i,e),c=a[be].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function uf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kl(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Ul(i),null===r)return Ya;if(t++,i=i[lo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ya}function su(n,e,t){!function jm(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Qc)&&(r=t[Qc]),null==r&&(r=t[Qc]=bI++);const i=r&Bm;e.data[n+(i>>Um)]|=1<<i}(n,e,t)}function Fl(n,e,t){if(t&je.Optional||void 0!==n)return n;an()}function Ll(n,e,t,r){if(t&je.Optional&&void 0===r&&(r=null),!(t&(je.Self|je.Host))){const i=n[Ha],s=Kr(void 0);try{return i?i.get(e,r,t&je.Optional):sm(e,r,t&je.Optional)}finally{Kr(s)}}return Fl(r,0,t)}function $m(n,e,t,r=je.Default,i){if(null!==n){if(1024&e[rt]){const o=function AI(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[rt]&&!(256&o[rt]);){const a=ec(s,o,t,r|je.Self,Vi);if(a!==Vi)return a;let c=s.parent;if(!c){const l=o[yl];if(l){const h=l.get(t,Vi,r);if(h!==Vi)return h}c=Ul(o),o=o[lo]}s=c}return i}(n,e,t,r,Vi);if(o!==Vi)return o}const s=ec(n,e,t,r,Vi);if(s!==Vi)return s}return Ll(e,t,r,i)}function ec(n,e,t,r,i){const s=function df(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Qc)?n[Qc]:void 0;return"number"==typeof e?e>=0?e&Bm:zm:e}(t);if("function"==typeof s){if(!Za(e,n,r))return r&je.Host?Fl(i,0,r):Ll(e,t,r,i);try{const o=s(r);if(null!=o||r&je.Optional)return o;an()}finally{Dl()}}else if("number"==typeof s){let o=null,a=kl(n,e),c=Ya,l=r&je.Host?e[Qn][Cr]:null;for((-1===a||r&je.SkipSelf)&&(c=-1===a?lf(n,e):e[a+8],c!==Ya&&Hm(r,!1)?(o=e[be],a=Ja(c),e=Xa(c,e)):a=-1);-1!==a;){const h=e[be];if(Bl(s,a,h.data)){const g=DI(a,e,t,o,r,l);if(g!==Vi)return g}c=e[a+8],c!==Ya&&Hm(r,e[be].data[a+8]===l)&&Bl(s,a,e)?(o=h,a=Ja(c),e=Xa(c,e)):a=-1}}return i}function DI(n,e,t,r,i,s){const o=e[be],a=o.data[n+8],h=function Vl(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,h=s>>20,m=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<m;y++){const w=o[y];if(y<c&&t===w||y>=c&&w.type===t)return y}if(i){const y=o[c];if(y&&as(y)&&y.type===t)return c}return null}(a,o,t,null==r?Xc(a)&&cf:r!=o&&0!=(3&a.type),i&je.Host&&s===a);return null!==h?Gs(e,o,h,a):Vi}function Gs(n,e,t,r){let i=n[t];const s=e.data;if(function II(n){return n instanceof tu}(i)){const o=i;o.resolving&&function _t(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(s[t]));const a=xs(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Kr(o.injectImpl):null;Za(n,r,je.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function vI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Il(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&Kr(c),xs(a),o.resolving=!1,Dl()}}return i}function Bl(n,e,t){return!!(t[e+(n>>Um)]&1<<n)}function Hm(n,e){return!(n&je.Self||n&je.Host&&e)}class na{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $m(this._tNode,this._lView,e,ja(r),t)}}function zm(){return new na(ur(),ie())}function lr(n){return $s(()=>{const e=n.prototype.constructor,t=e[Mr]||hf(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Mr]||hf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hf(n){return nt(n)?()=>{const e=hf(_e(n));return e&&e()}:Jo(n)}function Ul(n){const e=n[be],t=e.type;return 2===t?e.declTNode:1===t?n[Cr]:null}const mo="__parameters__";function rc(n,e,t){return $s(()=>{const r=function ou(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,h){const g=c.hasOwnProperty(mo)?c[mo]:Object.defineProperty(c,mo,{value:[]})[mo];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ge{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(n,e){n.forEach(t=>Array.isArray(t)?_o(t,e):e(t))}function Zm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ia(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _i(n,e,t){let r=sc(n,e);return r>=0?n[1|r]=t:(r=~r,function kI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function gf(n,e){const t=sc(n,e);if(t>=0)return n[1|t]}function sc(n,e){return function Ym(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const oc=pi(rc("Optional"),8),sa=pi(rc("SkipSelf"),4);var Vr=(()=>((Vr=Vr||{})[Vr.Important=1]="Important",Vr[Vr.DashCase=2]="DashCase",Vr))();const hu=new Map;let KI=0;const QI="__ngContext__";function Yr(n,e){kr(e)?(n[QI]=e[za],function S3(n){hu.set(n[za],n)}(e)):n[QI]=e}let YI;function JI(n,e){return YI(n,e)}function Df(n){const e=n[Xt];return os(e)?e[Xt]:e}function XI(n){return VA(n[Zo])}function ew(n){return VA(n[Ni])}function VA(n){for(;null!==n&&!os(n);)n=n[Ni];return n}function Kl(n,e,t,r,i){if(null!=r){let s,o=!1;os(r)?s=r:kr(r)&&(o=!0,r=r[Ps]);const a=_r(r);0===n&&null!==t?null==i?zA(e,t,a):fu(e,t,a,i||null,!0):1===n&&null!==t?fu(e,t,a,i||null,!0):2===n?function aw(n,e,t){const r=s_(n,e);r&&function G3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Z3(n,e,t,r,i){const s=t[ho];s!==_r(t)&&Kl(e,n,r,s,i);for(let a=cr;a<t.length;a++){const c=t[a];Af(c[be],c,n,e,r,s)}}(e,n,s,t,i)}}function nw(n,e,t){return n.createElement(e,t)}function UA(n,e){const t=n[fo],r=t.indexOf(e),i=e[Xt];512&e[rt]&&(e[rt]&=-513,Tm(i,-1)),t.splice(r,1)}function rw(n,e){if(n.length<=cr)return;const t=cr+e,r=n[t];if(r){const i=r[Qo];null!==i&&i!==n&&UA(i,r),e>0&&(n[t-1][Ni]=r[Ni]);const s=ia(n,cr+e);!function V3(n,e){Af(n,e,e[st],2,null,null),e[Ps]=null,e[Cr]=null}(r[be],r);const o=s[Oi];null!==o&&o.detachView(s[be]),r[Xt]=null,r[Ni]=null,r[rt]&=-65}return r}function jA(n,e){if(!(128&e[rt])){const t=e[st];t.destroyNode&&Af(n,e,t,3,null,null),function j3(n){let e=n[Zo];if(!e)return iw(n[be],n);for(;e;){let t=null;if(kr(e))t=e[Zo];else{const r=e[cr];r&&(t=r)}if(!t){for(;e&&!e[Ni]&&e!==n;)kr(e)&&iw(e[be],e),e=e[Xt];null===e&&(e=n),kr(e)&&iw(e[be],e),t=e&&e[Ni]}e=t}}(e)}}function iw(n,e){if(!(128&e[rt])){e[rt]&=-65,e[rt]|=128,function q3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof tu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Fi(4,a,c);try{c.call(a)}finally{Fi(5,a,c)}}else{Fi(4,i,s);try{s.call(i)}finally{Fi(5,i,s)}}}}}(n,e),function z3(n,e){const t=n.cleanup,r=e[uo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[uo]=null}}(n,e),1===e[be].type&&e[st].destroy();const t=e[Qo];if(null!==t&&os(e[Xt])){t!==e[Xt]&&UA(t,e);const r=e[Oi];null!==r&&r.detachView(n)}!function D3(n){hu.delete(n[za])}(e)}}function $A(n,e,t){return function HA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ps];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===is.None||s===is.Emulated)return null}return Li(r,t)}}(n,e.parent,t)}function fu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zA(n,e,t){n.appendChild(e,t)}function qA(n,e,t,r,i){null!==r?fu(n,e,t,r,i):zA(n,e,t)}function s_(n,e){return n.parentNode(e)}let sw,c_,lw,u_,KA=function WA(n,e,t){return 40&n.type?Li(n,t):null};function o_(n,e,t,r){const i=$A(n,r,e),s=e[st],a=function GA(n,e,t){return KA(n,e,t)}(r.parent||e[Cr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)qA(s,i,t[c],a,!1);else qA(s,i,t,a,!1);void 0!==sw&&sw(s,r,e,t,i)}function a_(n,e){if(null!==e){const t=e.type;if(3&t)return Li(e,n);if(4&t)return ow(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return a_(n,r);{const i=n[e.index];return os(i)?ow(-1,i):_r(i)}}if(32&t)return JI(e,n)()||_r(n[e.index]);{const r=QA(n,e);return null!==r?Array.isArray(r)?r[0]:a_(Df(n[Qn]),r):a_(n,e.next)}}return null}function QA(n,e){return null!==e?n[Qn][Cr].projection[e.projection]:null}function ow(n,e){const t=cr+n+1;if(t<e.length){const r=e[t],i=r[be].firstChild;if(null!==i)return a_(r,i)}return e[ho]}function cw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&Yr(_r(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)cw(n,e,t.child,r,i,s,!1),Kl(e,n,i,a,s);else if(32&c){const l=JI(t,r);let h;for(;h=l();)Kl(e,n,i,h,s);Kl(e,n,i,a,s)}else 16&c?YA(n,e,r,t,i,s):Kl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Af(n,e,t,r,i,s){cw(t,r,n.firstChild,e,i,s,!1)}function YA(n,e,t,r,i,s){const o=t[Qn],c=o[Cr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Kl(e,n,i,c[l],s);else cw(n,e,c,o[Xt],i,s,!0)}function JA(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XA(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&nu(n,e,r),null!==i&&JA(n,e,i),null!==s&&function Y3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Zl(n){return function uw(){if(void 0===c_&&(c_=null,Jt.trustedTypes))try{c_=Jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return c_}()?.createHTML(n)||n}function dw(){if(void 0===u_&&(u_=null,Jt.trustedTypes))try{u_=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return u_}function t1(n){return dw()?.createHTML(n)||n}function r1(n){return dw()?.createScriptURL(n)||n}class pu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${K})`}}class nj extends pu{getTypeName(){return"HTML"}}class rj extends pu{getTypeName(){return"Style"}}class ij extends pu{getTypeName(){return"Script"}}class sj extends pu{getTypeName(){return"URL"}}class oj extends pu{getTypeName(){return"ResourceURL"}}function cs(n){return n instanceof pu?n.changingThisBreaksApplicationSecurity:n}function yo(n,e){const t=function aj(n){return n instanceof pu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${K})`)}return t===e}class fj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Zl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class pj{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Zl(e),t}}const mj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function l_(n){return(n=String(n)).match(mj)?n:"unsafe:"+n}function ca(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Pf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const s1=ca("area,br,col,hr,img,wbr"),o1=ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a1=ca("rp,rt"),hw=Pf(s1,Pf(o1,ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pf(a1,ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pf(a1,o1)),fw=ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),c1=Pf(fw,ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_j=ca("script,style,template");class yj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!hw.hasOwnProperty(t))return this.sanitizedSomething=!0,!_j.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!c1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;fw[a]&&(c=l_(c)),this.buf.push(" ",o,'="',u1(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();hw.hasOwnProperty(t)&&!s1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(u1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const vj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ej=/([^\#-~ |!])/g;function u1(n){return n.replace(/&/g,"&amp;").replace(vj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ej,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let d_;function l1(n,e){let t=null;try{d_=d_||function i1(n){const e=new pj(n);return function gj(){try{return!!(new window.DOMParser).parseFromString(Zl(""),"text/html")}catch{return!1}}()?new fj(e):e}(n);let r=e?String(e):"";t=d_.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=d_.getInertBodyElement(r)}while(r!==s);return Zl((new yj).sanitizeChildren(pw(t)||t))}finally{if(t){const r=pw(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pw(n){return"content"in n&&function Ij(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rn=(()=>((rn=rn||{})[rn.NONE=0]="NONE",rn[rn.HTML=1]="HTML",rn[rn.STYLE=2]="STYLE",rn[rn.SCRIPT=3]="SCRIPT",rn[rn.URL=4]="URL",rn[rn.RESOURCE_URL=5]="RESOURCE_URL",rn))();function gw(n){const e=Rf();return e?t1(e.sanitize(rn.HTML,n)||""):yo(n,"HTML")?t1(cs(n)):l1(function e1(){return void 0!==lw?lw:typeof document<"u"?document:void 0}(),ne(n))}function Br(n){const e=Rf();return e?e.sanitize(rn.URL,n)||"":yo(n,"URL")?cs(n):l_(ne(n))}function d1(n){const e=Rf();if(e)return r1(e.sanitize(rn.RESOURCE_URL,n)||"");if(yo(n,"ResourceURL"))return r1(cs(n));throw new S(904,!1)}function Rf(){const n=ie();return n&&n[_l]}const h_=new ge("ENVIRONMENT_INITIALIZER"),f1=new ge("INJECTOR",-1),p1=new ge("INJECTOR_DEF_TYPES");class g1{get(e,t=ao){if(t===ao){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}}function m1(n){return{\u0275providers:n}}function Dj(...n){return{\u0275providers:_1(0,n),\u0275fromNgModule:!0}}function _1(n,...e){const t=[],r=new Set;let i;return _o(e,s=>{const o=s;mw(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&y1(i,t),t}function y1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];_w(i,s=>{e.push(s)})}}function mw(n,e,t,r){if(!(n=_e(n)))return!1;let i=null,s=kh(n);const o=!s&&Vt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=kh(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)mw(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{_o(s.imports,h=>{mw(h,e,t,r)&&(l||(l=[]),l.push(h))})}finally{}void 0!==l&&y1(l,e)}if(!a){const l=Jo(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:kt},{provide:p1,useValue:i,multi:!0},{provide:h_,useValue:()=>re(i),multi:!0})}const c=s.providers;null==c||a||_w(c,h=>{e.push(h)})}}return i!==n&&void 0!==n.providers}function _w(n,e){for(let t of n)ar(t)&&(t=t.\u0275providers),Array.isArray(t)?_w(t,e):e(t)}const Aj=U({provide:String,useValue:U});function yw(n){return null!==n&&"object"==typeof n&&Aj in n}function gu(n){return"function"==typeof n}const vw=new ge("Set Injector scope."),f_={},Rj={};let Ew;function p_(){return void 0===Ew&&(Ew=new g1),Ew}class vo{}class I1 extends vo{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ww(e,o=>this.processProvider(o)),this.records.set(f1,Ql(void 0,this)),i.has("environment")&&this.records.set(vo,Ql(void 0,this));const s=this.records.get(vw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(p1.multi,kt,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ua(this),r=Kr(void 0);try{return e()}finally{Ua(t),Kr(r)}}get(e,t=ao,r=je.Default){this.assertNotDestroyed(),r=ja(r);const i=Ua(this),s=Kr(void 0);try{if(!(r&je.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function kj(n){return"function"==typeof n||"object"==typeof n&&n instanceof ge}(e)&&Va(e);a=c&&this.injectableDefInScope(c)?Ql(Iw(e),f_):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&je.Self?p_():this.parent).get(e,t=r&je.Optional&&t===ao?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[fl]=o[fl]||[]).unshift(ve(e)),i)throw o;return function XE(n,e,t,r){const i=n[fl];throw e[um]&&i.unshift(e[um]),n.message=function As(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Lh?n.slice(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(JE,"\n  ")}`}("\n"+n.message,i,t,r),n[Fh]=i,n[fl]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Kr(s),Ua(i)}}resolveInjectorInitializers(){const e=Ua(this),t=Kr(void 0);try{const r=this.get(h_.multi,kt,je.Self);for(const i of r)i()}finally{Ua(e),Kr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=gu(e=_e(e))?e:_e(e&&e.provide);const r=function Mj(n){return yw(n)?Ql(void 0,n.useValue):Ql(w1(n),f_)}(e);if(gu(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ql(void 0,f_,!0),i.factory=()=>Wo(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===f_&&(t.value=Rj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Oj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_e(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Iw(n){const e=Va(n),t=null!==e?e.factory:Jo(n);if(null!==t)return t;if(n instanceof ge)throw new S(204,!1);if(n instanceof Function)return function xj(n){const e=n.length;if(e>0)throw function au(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function rm(n){return n&&(n[dl]||n[im])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function w1(n,e,t){let r;if(gu(n)){const i=_e(n);return Jo(i)||Iw(i)}if(yw(n))r=()=>_e(n.useValue);else if(function E1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Wo(n.deps||[]));else if(function v1(n){return!(!n||!n.useExisting)}(n))r=()=>re(_e(n.useExisting));else{const i=_e(n&&(n.useClass||n.provide));if(!function Nj(n){return!!n.deps}(n))return Jo(i)||Iw(i);r=()=>new i(...Wo(n.deps))}return r}function Ql(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ww(n,e){for(const t of n)Array.isArray(t)?ww(t,e):t&&ar(t)?ww(t.\u0275providers,e):e(t)}class Fj{}class C1{}class Vj{resolveComponentFactory(e){throw function Lj(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Yl=(()=>{class n{}return n.NULL=new Vj,n})();function Bj(){return Jl(ur(),ie())}function Jl(n,e){return new us(Li(n,e))}let us=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Bj,n})();class xf{}let ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jj(){const n=ie(),t=Qr(ur().index,n);return(kr(t)?t:n)[st]}(),n})(),$j=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>null}),n})();class Xl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const b1=new Xl("15.2.10"),Cw={},Tw="ngOriginalError";function bw(n){return n[Tw]}class ed{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&bw(e);for(;t&&bw(t);)t=bw(t);return t||null}}function la(n){return n instanceof Function?n():n}function D1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const A1="ng-template";function Xj(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==D1(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function P1(n){return 4===n.type&&n.value!==A1}function e4(n,e,t){return e===(4!==n.type||t?n.value:A1)}function t4(n,e,t){let r=4;const i=n.attrs||[],s=function i4(n){for(let e=0;e<n.length;e++)if(Lm(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!e4(n,c,t)||""===c&&1===e.length){if(Ws(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Xj(n.attrs,l,t)){if(Ws(r))return!1;o=!0}continue}const g=n4(8&r?"class":c,i,P1(n),t);if(-1===g){if(Ws(r))return!1;o=!0;continue}if(""!==l){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==D1(y,l,0)||2&r&&l!==m){if(Ws(r))return!1;o=!0}}}}else{if(!o&&!Ws(r)&&!Ws(c))return!1;if(o&&Ws(c))continue;o=!1,r=c|1&r}}return Ws(r)||o}function Ws(n){return 0==(1&n)}function n4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function R1(n,e,t=!1){for(let r=0;r<e.length;r++)if(t4(n,e[r],t))return!0;return!1}function x1(n,e){return n?":not("+e.trim()+")":e}function a4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ws(o)&&(e+=x1(s,i),i=""),r=o,s=s||!Ws(r);t++}return""!==i&&(e+=x1(s,i)),e}const ot={};function G(n){M1(vt(),ie(),Lr()+n,!1)}function M1(n,e,t,r){if(!r)if(3==(3&e[rt])){const s=n.preOrderCheckHooks;null!==s&&Al(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Pl(e,s,0,t)}ea(t)}function F1(n,e=null,t=null,r){const i=L1(n,e,t,r);return i.resolveInjectorInitializers(),i}function L1(n,e=null,t=null,r,i=new Set){const s=[t||kt,Dj(n)];return r=r||("object"==typeof n?void 0:ve(n)),new I1(s,e||p_(),r||null,i)}let ls=(()=>{class n{static create(t,r){if(Array.isArray(t))return F1({name:""},r,t,"");{const i=t.name??"";return F1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ao,n.NULL=new g1,n.\u0275prov=ye({token:n,providedIn:"any",factory:()=>re(f1)}),n.__NG_ELEMENT_ID__=-1,n})();function $(n,e=je.Default){const t=ie();return null===t?re(n,e):$m(ur(),t,_e(n),e)}function q1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Ka(t[r]),o.contentQueries(2,e[s],s)}}}function m_(n,e,t,r,i,s,o,a,c,l,h){const g=e.blueprint.slice();return g[Ps]=i,g[rt]=76|r,(null!==h||n&&1024&n[rt])&&(g[rt]|=1024),aI(g),g[Xt]=g[lo]=n,g[pn]=t,g[Ko]=o||n&&n[Ko],g[st]=a||n&&n[st],g[_l]=c||n&&n[_l]||null,g[Ha]=l||n&&n[Ha]||null,g[Cr]=s,g[za]=function b3(){return KI++}(),g[yl]=h,g[Qn]=2==e.type?n[Qn]:g,g}function rd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Rw(n,e,t,r,i){const s=Sm(),o=Dm(),c=n.data[e]=function N4(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function Jh(){return Je.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function eu(){const n=Je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Rs(s,!0),s}function Mf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xw(n,e,t){Qa(e);try{const r=n.viewQuery;null!==r&&Uw(1,r,t);const i=n.template;null!==i&&G1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&q1(n,e),n.staticViewQueries&&Uw(2,n.viewQuery,t);const s=n.components;null!==s&&function R4(n,e){for(let t=0;t<e.length;t++)X4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[rt]&=-5,nf()}}function __(n,e,t,r){const i=e[rt];if(128!=(128&i)){Qa(e);try{aI(e),function Rm(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&G1(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Al(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Pl(e,l,0,null),af(e,0)}if(function Y4(n){for(let e=XI(n);null!==e;e=ew(e)){if(!e[vl])continue;const t=e[fo];for(let r=0;r<t.length;r++){const i=t[r];512&i[rt]||Tm(i[Xt],1),i[rt]|=512}}}(e),function Q4(n){for(let e=XI(n);null!==e;e=ew(e))for(let t=cr;t<e.length;t++){const r=e[t],i=r[be];Yh(r)&&__(i,r,i.template,r[pn])}}(e),null!==n.contentQueries&&q1(n,e),o){const l=n.contentCheckHooks;null!==l&&Al(e,l)}else{const l=n.contentHooks;null!==l&&Pl(e,l,1),af(e,1)}!function A4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ea(~i);else{const s=i,o=t[++r],a=t[++r];Xh(o,s),a(2,e[s])}}}finally{ea(-1)}}(n,e);const a=n.components;null!==a&&function P4(n,e){for(let t=0;t<e.length;t++)J4(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&Uw(2,c,r),o){const l=n.viewCheckHooks;null!==l&&Al(e,l)}else{const l=n.viewHooks;null!==l&&Pl(e,l,2),af(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[rt]&=-41,512&e[rt]&&(e[rt]&=-513,Tm(e[Xt],-1))}finally{nf()}}}function G1(n,e,t,r,i){const s=Lr(),o=2&r;try{ea(-1),o&&e.length>en&&M1(n,e,en,!1),Fi(o?2:0,i),t(r,i)}finally{ea(s),Fi(o?3:1,i)}}function Mw(n,e,t){if(Jc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Nw(n,e,t){dI()&&(function U4(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Xc(t)&&function W4(n,e,t){const r=Li(e,n),i=W1(t),s=n[Ko],o=y_(n,m_(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ol(t,e),Yr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=Gs(e,n,a,t);Yr(l,e),null!==o&&K4(0,a-i,l,c,0,o),as(c)&&(Qr(t.index,e)[pn]=Gs(e,n,a,t))}}(n,e,t,Li(t,e)),64==(64&t.flags)&&J1(n,e,t))}function Ow(n,e,t=Li){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function W1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=kw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function kw(n,e,t,r,i,s,o,a,c,l){const h=en+r,g=h+i,m=function x4(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ot);return t}(h,g),y="function"==typeof l?l():l;return m[be]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1}}function Z1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?Q1(t,e,i,s):r.hasOwnProperty(i)&&Q1(t,e,r[i],s)}return t}function Q1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ds(n,e,t,r,i,s,o,a){const c=Li(e,t);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(jw(n,t,h,r,i),Xc(e)&&function F4(n,e){const t=Qr(e,n);16&t[rt]||(t[rt]|=32)}(t,e.index)):3&e.type&&(r=function k4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Fw(n,e,t,r){if(dI()){const i=null===r?null:{"":-1},s=function $4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(R1(e,o.selectors,!1))if(r||(r=[]),as(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Lw(n,e,a.length)}else r.unshift(o),Lw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Y1(n,e,t,o,i,a),i&&function H4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=ru(t.mergedAttrs,t.attrs)}function Y1(n,e,t,r,i,s){for(let l=0;l<r.length;l++)su(Ol(t,e),n,r[l].type);!function q4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=Mf(n,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];t.mergedAttrs=ru(t.mergedAttrs,h.hostAttrs),G4(n,t,e,c,h),z4(c,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function O4(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const g=s[h],m=t?t.get(g):null,w=m?m.outputs:null;c=Z1(g.inputs,h,c,m?m.inputs:null),l=Z1(g.outputs,h,l,w);const b=null===c||null===o||P1(e)?null:Z4(c,h,o);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function J1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function pI(){return Je.lFrame.currentDirectiveIndex}();try{ea(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];ef(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&j4(c,l)}}finally{ea(-1),ef(o)}}function j4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Lw(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function z4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;as(e)&&(t[""]=n)}}function G4(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Jo(i.type)),o=new tu(s,as(i),$);n.blueprint[r]=o,t[r]=o,function V4(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function B4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Mf(n,t,i.hostVars,ot),i)}function Eo(n,e,t,r,i,s){const o=Li(n,e);!function Vw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ne(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[st],o,s,n.value,t,r,i)}function K4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const l=o[c++],h=o[c++],g=o[c++];null!==a?r.setInput(t,g,l,h):t[h]=g}}}function Z4(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function X1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function J4(n,e){const t=Qr(e,n);if(Yh(t)){const r=t[be];48&t[rt]?__(r,t,r.template,t[pn]):t[co]>0&&Bw(t)}}function Bw(n){for(let r=XI(n);null!==r;r=ew(r))for(let i=cr;i<r.length;i++){const s=r[i];if(Yh(s))if(512&s[rt]){const o=s[be];__(o,s,o.template,s[pn])}else s[co]>0&&Bw(s)}const t=n[be].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Qr(t[r],n);Yh(i)&&i[co]>0&&Bw(i)}}function X4(n,e){const t=Qr(e,n),r=t[be];(function e$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),xw(r,t,t[pn])}function y_(n,e){return n[Zo]?n[zh][Ni]=e:n[Zo]=e,n[zh]=e,e}function v_(n){for(;n;){n[rt]|=32;const e=Df(n);if(Gh(n)&&!e)return n;n=e}return null}function E_(n,e,t,r=!0){const i=e[Ko];i.begin&&i.begin();try{__(n,e,n.template,t)}catch(o){throw r&&rP(e,o),o}finally{i.end&&i.end()}}function Uw(n,e,t){Ka(0),e(n,t)}function eP(n){return n[uo]||(n[uo]=[])}function tP(n){return n.cleanup||(n.cleanup=[])}function rP(n,e){const t=n[Ha],r=t?t.get(ed,null):null;r&&r.handleError(e)}function jw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],l=n.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function I_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ze(i,a):2==s&&(r=ze(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function w_(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(_r(s)),os(s))for(let a=cr;a<s.length;a++){const c=s[a],l=c[be].firstChild;null!==l&&w_(c[be],c,l,r)}const o=t.type;if(8&o)w_(n,e,t.child,r);else if(32&o){const a=JI(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=QA(e,t);if(Array.isArray(a))r.push(...a);else{const c=Df(e[Qn]);w_(c[be],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Nf{get rootNodes(){const e=this._lView,t=e[be];return w_(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return 128==(128&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xt];if(os(e)){const t=e[qa],r=t?t.indexOf(this):-1;r>-1&&(rw(e,r),ia(t,r))}this._attachedToViewContainer=!1}jA(this._lView[be],this._lView)}onDestroy(e){!function K1(n,e,t,r){const i=eP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&tP(n).push(r,i.length-1))}(this._lView[be],this._lView,null,e)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-65}reattach(){this._lView[rt]|=64}detectChanges(){E_(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function U3(n,e){Af(n,e,e[st],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class t$ extends Nf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;E_(e[be],e,e[pn],!1)}checkNoChanges(){}get context(){return null}}class iP extends Yl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Vt(e);return new Of(t,this.ngModule)}}function sP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class r${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ja(r);const i=this.injector.get(e,Cw,r);return i!==Cw||t===Cw?i:this.parentInjector.get(e,t,r)}}class Of extends C1{get inputs(){return sP(this.componentDef.inputs)}get outputs(){return sP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function c4(n){return n.map(a4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof vo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new r$(e,s):e,a=o.get(xf,null);if(null===a)throw new S(407,!1);const c=o.get($j,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function M4(n,e,t){return n.selectRootElement(e,t===is.ShadowDom)}(l,r,this.componentDef.encapsulation):nw(l,h,function n$(n){const e=n.toLowerCase();return"svg"===e?wm:"math"===e?"math":null}(h)),m=this.componentDef.onPush?288:272,y=kw(0,null,null,1,0,null,null,null,null,null),w=m_(null,y,null,m,null,null,a,l,c,o,null);let b,P;Qa(w);try{const N=this.componentDef;let B,M=null;N.findHostDirectiveDefs?(B=[],M=new Map,N.findHostDirectiveDefs(N,B,M),B.push(N)):B=[N];const Y=function s$(n,e){const t=n[be],r=en;return n[r]=e,rd(t,r,2,"#host",null)}(w,g),fe=function o$(n,e,t,r,i,s,o,a){const c=i[be];!function a$(n,e,t,r){for(const i of n)e.mergedAttrs=ru(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(I_(e,e.mergedAttrs,!0),null!==t&&XA(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),h=m_(i,W1(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return c.firstCreatePass&&Lw(c,n,r.length-1),y_(i,h),i[n.index]=h}(Y,g,N,B,w,a,l);P=Cl(y,en),g&&function u$(n,e,t,r){if(r)nu(n,t,["ng-version",b1.full]);else{const{attrs:i,classes:s}=function u4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ws(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&nu(n,t,i),s&&s.length>0&&JA(n,t,s.join(" "))}}(l,N,g,r),void 0!==t&&function l$(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(P,this.ngContentSelectors,t),b=function c$(n,e,t,r,i,s){const o=ur(),a=i[be],c=Li(o,i);Y1(a,i,o,t,null,r);for(let h=0;h<t.length;h++)Yr(Gs(i,a,o.directiveStart+h,o),i);J1(a,i,o),c&&Yr(c,i);const l=Gs(i,a,o.directiveStart+o.componentOffset,o);if(n[pn]=i[pn]=l,null!==s)for(const h of s)h(l,e);return Mw(a,o,n),l}(fe,N,B,M,w,[d$]),xw(y,w,null)}finally{nf()}return new i$(this.componentType,b,Jl(P,w),w,P)}}class i$ extends Fj{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new t$(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;jw(s[be],s,i,e,t),v_(Qr(this._tNode.index,s))}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function d$(){const n=ur();ta(ie()[be],n)}function qt(n){let e=function oP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(as(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=$w(n.inputs),o.declaredInputs=$w(n.declaredInputs),o.outputs=$w(n.outputs);const a=i.hostBindings;a&&g$(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&f$(n,c),l&&p$(n,l),Se(n.inputs,i.inputs),Se(n.declaredInputs,i.declaredInputs),Se(n.outputs,i.outputs),as(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===qt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function h$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ru(i.hostAttrs,t=ru(t,i.hostAttrs))}}(r)}function $w(n){return n===ss?{}:n===kt?[]:n}function f$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function p$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function g$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function C_(n){return!!Hw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Hw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Io(n,e,t){return n[e]=t}function Jr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function mu(n,e,t,r){const i=Jr(n,e,t);return Jr(n,e+1,r)||i}function ji(n,e,t,r){const i=ie();return Jr(i,nn(),e)&&(vt(),Eo(Tn(),i,n,e,t,r)),ji}function sd(n,e,t,r){return Jr(n,nn(),t)?e+ne(t)+r:ot}function Ve(n,e,t,r,i,s,o,a){const c=ie(),l=vt(),h=n+en,g=l.firstCreatePass?function b$(n,e,t,r,i,s,o,a,c){const l=e.consts,h=rd(e,n,4,o||null,Xo(l,a));Fw(e,t,h,Xo(l,c)),ta(e,h);const g=h.tView=kw(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,t,r,i,s,o):l.data[h];Rs(g,!1);const m=c[st].createComment("");o_(l,c,m,g),Yr(m,c),y_(c,c[h]=X1(m,c,m,g)),Ga(g)&&Nw(l,c,g),null!=o&&Ow(c,g,a)}function De(n,e,t){const r=ie();return Jr(r,nn(),e)&&ds(vt(),Tn(),r,n,e,r[st],t,!1),De}function zw(n,e,t,r,i){const o=i?"class":"style";jw(n,t,e.inputs[o],o,r)}function T(n,e,t,r){const i=ie(),s=vt(),o=en+n,a=i[st],c=s.firstCreatePass?function A$(n,e,t,r,i,s){const o=e.consts,c=rd(e,n,2,r,Xo(o,i));return Fw(e,t,c,Xo(o,s)),null!==c.attrs&&I_(c,c.attrs,!1),null!==c.mergedAttrs&&I_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=i[o]=nw(a,e,function yI(){return Je.lFrame.currentNamespace}()),h=Ga(c);return Rs(c,!0),XA(a,l,c),32!=(32&c.flags)&&o_(s,i,l,c),0===function cI(){return Je.lFrame.elementDepthCount}()&&Yr(l,i),function uI(){Je.lFrame.elementDepthCount++}(),h&&(Nw(s,i,c),Mw(s,c,i)),null!==r&&Ow(i,c),T}function A(){let n=ur();Dm()?Tl():(n=n.parent,Rs(n,!1));const e=n;!function lI(){Je.lFrame.elementDepthCount--}();const t=vt();return t.firstCreatePass&&(ta(t,n),Jc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function wI(n){return 0!=(8&n.flags)}(e)&&zw(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function CI(n){return 0!=(16&n.flags)}(e)&&zw(t,e,ie(),e.stylesWithoutHost,!1),A}function de(n,e,t,r){return T(n,e,t,r),A(),de}function Ff(n,e,t){const r=ie(),i=vt(),s=n+en,o=i.firstCreatePass?function P$(n,e,t,r,i){const s=e.consts,o=Xo(s,r),a=rd(e,n,8,"ng-container",o);return null!==o&&I_(a,o,!0),Fw(e,t,a,Xo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Rs(o,!0);const a=r[s]=r[st].createComment("");return o_(i,r,a,o),Yr(a,r),Ga(o)&&(Nw(i,r,o),Mw(i,o,r)),null!=t&&Ow(r,o),Ff}function Lf(){let n=ur();const e=vt();return Dm()?Tl():(n=n.parent,Rs(n,!1)),e.firstCreatePass&&(ta(e,n),Jc(n)&&e.queries.elementEnd(n)),Lf}function Jn(){return ie()}function Vf(n){return!!n&&"function"==typeof n.then}const qw=function EP(n){return!!n&&"function"==typeof n.subscribe};function Fe(n,e,t,r){const i=ie(),s=vt(),o=ur();return function wP(n,e,t,r,i,s,o){const a=Ga(r),l=n.firstCreatePass&&tP(n),h=e[pn],g=eP(e);let m=!0;if(3&r.type||o){const b=Li(r,e),P=o?o(b):b,N=g.length,B=o?Y=>o(_r(Y[r.index])):r.index;let M=null;if(!o&&a&&(M=function R$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[uo],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,m=!1;else{s=TP(r,e,h,s,!1);const Y=t.listen(P,i,s);g.push(s,Y),l&&l.push(i,B,N,N+1)}}else s=TP(r,e,h,s,!1);const y=r.outputs;let w;if(m&&null!==y&&(w=y[i])){const b=w.length;if(b)for(let P=0;P<b;P+=2){const fe=e[w[P]][w[P+1]].subscribe(s),xe=g.length;g.push(s,fe),l&&l.push(i,r.index,xe,-(xe+1))}}}(s,i,i[st],o,n,e,r),Fe}function CP(n,e,t,r){try{return Fi(6,e,t),!1!==t(r)}catch(i){return rP(n,i),!1}finally{Fi(7,e,t)}}function TP(n,e,t,r,i){return function s(o){if(o===Function)return r;v_(n.componentOffset>-1?Qr(n.index,e):e);let c=CP(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=CP(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function lt(n=1){return function rf(n){return(Je.lFrame.contextLView=function km(n,e){for(;n>0;)e=e[lo],n--;return e}(n,Je.lFrame.contextLView))[pn]}(n)}function Tr(n,e,t){return b_(n,"",e,"",t),Tr}function b_(n,e,t,r,i){const s=ie(),o=sd(s,e,t,r);return o!==ot&&ds(vt(),Tn(),s,n,o,s[st],i,!1),b_}function S_(n,e){return n<<17|e<<2}function ac(n){return n>>17&32767}function Gw(n){return 2|n}function _u(n){return(131068&n)>>2}function Ww(n,e){return-131069&n|e<<2}function Kw(n){return 1|n}function NP(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ac(s):_u(s),c=!1;for(;0!==a&&(!1===c||o);){const h=n[a+1];B$(n[a],e)&&(c=!0,n[a+1]=r?Kw(h):Gw(h)),a=r?ac(h):_u(h)}c&&(n[t+1]=r?Gw(s):Kw(s))}function B$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sc(n,e)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OP(n){return n.substring(yr.key,yr.keyEnd)}function kP(n,e){const t=yr.textEnd;return t===e?-1:(e=yr.keyEnd=function H$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,yr.key=e,t),fd(n,e,t))}function fd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function pd(n,e,t){return Ks(n,e,t,!1),pd}function D_(n,e){return Ks(n,e,null,!0),D_}function ha(n){Zs(J$,Co,n,!0)}function Co(n,e){for(let t=function j$(n){return function LP(n){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=n.length}(n),kP(n,fd(n,0,yr.textEnd))}(e);t>=0;t=kP(e,t))_i(n,OP(e),!0)}function Ks(n,e,t,r){const i=ie(),s=vt(),o=qs(2);s.firstUpdatePass&&jP(s,n,o,r),e!==ot&&Jr(i,o,e)&&HP(s,s.data[Lr()],i,i[st],n,i[o+1]=function eH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ve(cs(n)))),n}(e,t),r,o)}function Zs(n,e,t,r){const i=vt(),s=qs(2);i.firstUpdatePass&&jP(i,null,s,r);const o=ie();if(t!==ot&&Jr(o,s,t)){const a=i.data[Lr()];if(qP(a,r)&&!UP(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ze(c,t||"")),zw(i,a,o,t,r)}else!function X$(n,e,t,r,i,s,o,a){i===ot&&(i=kt);let c=0,l=0,h=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==h||null!==g;){const m=c<i.length?i[c+1]:void 0,y=l<s.length?s[l+1]:void 0;let b,w=null;h===g?(c+=2,l+=2,m!==y&&(w=g,b=y)):null===g||null!==h&&h<g?(c+=2,w=h):(l+=2,w=g,b=y),null!==w&&HP(n,e,t,r,w,b,o,a),h=c<i.length?i[c]:null,g=l<s.length?s[l]:null}}(i,a,o,o[st],o[s+1],o[s+1]=function Y$(n,e,t){if(null==t||""===t)return kt;const r=[],i=cs(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function UP(n,e){return e>=n.expandoStartIndex}function jP(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Lr()],o=UP(n,t);qP(s,r)&&null===e&&!o&&(e=!1),e=function W$(n,e,t,r){const i=bl(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Bf(t=Zw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Zw(i,n,e,t,r),null===s){let c=function K$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==_u(r))return n[ac(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Zw(null,n,e,c[1],r),c=Bf(c,e.attrs,r),function Z$(n,e,t,r){n[ac(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function Q$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Bf(r,n[s].hostAttrs,t);return Bf(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function L$(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ac(o),c=_u(o);n[r]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||sc(t,h)>0)&&(l=!0)):h=t,i)if(0!==c){const m=ac(n[a+1]);n[r+1]=S_(m,a),0!==m&&(n[m+1]=Ww(n[m+1],r)),n[a+1]=function k$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=S_(a,0),0!==a&&(n[a+1]=Ww(n[a+1],r)),a=r;else n[r+1]=S_(c,0),0===a?a=r:n[c+1]=Ww(n[c+1],r),c=r;l&&(n[r+1]=Gw(n[r+1])),NP(n,h,r,!0),NP(n,h,r,!1),function V$(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&sc(s,e)>=0&&(t[r+1]=Kw(t[r+1]))}(e,h,n,r,s),o=S_(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Zw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Bf(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Bf(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_i(n,o,!!t||e[++s]))}return void 0===n?null:n}function J$(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&_i(n,r,t)}function HP(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],h=function F$(n){return 1==(1&n)}(l)?zP(c,e,t,i,_u(l),o):void 0;A_(h)||(A_(s)||function O$(n){return 2==(2&n)}(l)&&(s=zP(c,null,t,i,a,o)),function Q3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Vr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vr.Important),n.setStyle(t,r,i,s))}}(r,o,Qh(Lr(),t),i,s))}function zP(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),h=l?c[1]:c,g=null===h;let m=t[i+1];m===ot&&(m=g?kt:void 0);let y=g?gf(m,r):h===r?m:void 0;if(l&&!A_(y)&&(y=gf(c,r)),A_(y)&&(a=y,o))return a;const w=n[i+1];i=o?ac(w):_u(w)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=gf(c,r))}return a}function A_(n){return void 0!==n}function qP(n,e){return 0!=(n.flags&(e?8:16))}function k(n,e=""){const t=ie(),r=vt(),i=n+en,s=r.firstCreatePass?rd(r,i,1,e,null):r.data[i],o=t[i]=function tw(n,e){return n.createText(e)}(t[st],e);o_(r,t,o,s),Rs(s,!1)}function $e(n){return br("",n,""),$e}function br(n,e,t){const r=ie(),i=sd(r,n,e,t);return i!==ot&&function da(n,e,t){const r=Qh(e,n);!function BA(n,e,t){n.setValue(e,t)}(n[st],r,t)}(r,Lr(),i),br}function Qw(n,e,t){Zs(_i,Co,sd(ie(),n,e,t),!0)}function Yw(n,e,t){const r=ie();if(Jr(r,nn(),e)){const s=vt(),o=Tn();ds(s,o,r,n,e,function nP(n,e,t){return(null===n||as(n))&&(t=function oI(n){for(;Array.isArray(n);){if("object"==typeof n[qh])return n;n=n[Ps]}return null}(t[e.index])),t[st]}(bl(s.data),o,r),t,!0)}return Yw}const yu=void 0;var vH=["en",[["a","p"],["AM","PM"],yu],[["AM","PM"],yu,yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yu,"{1} 'at' {0}",yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yH(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let gd={};function vi(n){const e=function EH(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=dR(e);if(t)return t;const r=e.split("-")[0];if(t=dR(r),t)return t;if("en"===r)return vH;throw new S(701,!1)}function dR(n){return n in gd||(gd[n]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[n]),gd[n]}var we=(()=>((we=we||{})[we.LocaleId=0]="LocaleId",we[we.DayPeriodsFormat=1]="DayPeriodsFormat",we[we.DayPeriodsStandalone=2]="DayPeriodsStandalone",we[we.DaysFormat=3]="DaysFormat",we[we.DaysStandalone=4]="DaysStandalone",we[we.MonthsFormat=5]="MonthsFormat",we[we.MonthsStandalone=6]="MonthsStandalone",we[we.Eras=7]="Eras",we[we.FirstDayOfWeek=8]="FirstDayOfWeek",we[we.WeekendRange=9]="WeekendRange",we[we.DateFormat=10]="DateFormat",we[we.TimeFormat=11]="TimeFormat",we[we.DateTimeFormat=12]="DateTimeFormat",we[we.NumberSymbols=13]="NumberSymbols",we[we.NumberFormats=14]="NumberFormats",we[we.CurrencyCode=15]="CurrencyCode",we[we.CurrencySymbol=16]="CurrencySymbol",we[we.CurrencyName=17]="CurrencyName",we[we.Currencies=18]="Currencies",we[we.Directionality=19]="Directionality",we[we.PluralCase=20]="PluralCase",we[we.ExtraData=21]="ExtraData",we))();const md="en-US";let hR=md;function e0(n,e,t,r,i){if(n=_e(n),Array.isArray(n))for(let s=0;s<n.length;s++)e0(n[s],e,t,r,i);else{const s=vt(),o=ie();let a=gu(n)?n:_e(n.provide),c=w1(n);const l=ur(),h=1048575&l.providerIndexes,g=l.directiveStart,m=l.providerIndexes>>20;if(gu(n)||!n.multi){const y=new tu(c,i,$),w=n0(a,e,i?h:h+m,g);-1===w?(su(Ol(l,o),s,a),t0(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(y),o.push(y)):(t[w]=y,o[w]=y)}else{const y=n0(a,e,h+m,g),w=n0(a,e,h,h+m),P=w>=0&&t[w];if(i&&!P||!i&&!(y>=0&&t[y])){su(Ol(l,o),s,a);const N=function _9(n,e,t,r,i){const s=new tu(n,t,$);return s.multi=[],s.index=e,s.componentProviders=0,LR(s,i,r&&!t),s}(i?m9:g9,t.length,i,r,c);!i&&P&&(t[w].providerFactory=N),t0(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(N),o.push(N)}else t0(s,n,y>-1?y:w,LR(t[i?w:y],c,!i&&r));!i&&r&&P&&t[w].componentProviders++}}}function t0(n,e,t,r){const i=gu(e),s=function Pj(n){return!!n.useClass}(e);if(i||s){const c=(s?_e(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(t);-1===h?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function LR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function n0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function g9(n,e,t,r){return r0(this.multi,[])}function m9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Gs(t,t[be],this.providerFactory.index,r);s=a.slice(0,o),r0(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],r0(i,s);return s}function r0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function bn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function p9(n,e,t){const r=vt();if(r.firstCreatePass){const i=as(n);e0(t,r.data,r.blueprint,i,!0),e0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class _d{}class VR{}class BR extends _d{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iP(this);const r=gi(e);this._bootstrapComponents=la(r.bootstrap),this._r3Injector=L1(e,t,[{provide:_d,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class s0 extends VR{constructor(e){super(),this.moduleType=e}create(e){return new BR(this.moduleType,e)}}class v9 extends _d{constructor(e,t,r){super(),this.componentFactoryResolver=new iP(this),this.instance=null;const i=new I1([...e,{provide:_d,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],t||p_(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function N_(n,e,t=null){return new v9(n,e,t).injector}let E9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=_1(0,t.type),i=r.length>0?N_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n(re(vo))}),n})();function O_(n){n.getStandaloneInjector=e=>e.get(E9).getOrCreateStandaloneInjector(n)}function GR(n,e,t,r,i,s){return function ZR(n,e,t,r,i,s,o,a){const c=e+t;return function T_(n,e,t,r,i){const s=mu(n,e,t,r);return Jr(n,e+2,i)||s}(n,c,i,s,o)?Io(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):qf(n,c+3)}(ie(),Fr(),n,e,t,r,i,s)}function qf(n,e){const t=n[e];return t===ot?void 0:t}function QR(n,e,t,r,i,s,o,a,c){const l=e+t;return function Ms(n,e,t,r,i,s){const o=mu(n,e,t,r);return mu(n,e+2,i,s)||o}(n,l,i,s,o,a)?Io(n,l+4,c?r.call(c,i,s,o,a):r(i,s,o,a)):qf(n,l+4)}function gn(n,e){const t=vt();let r;const i=n+en;t.firstCreatePass?(r=function V9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Jo(r.type)),o=Kr($);try{const a=xs(!1),c=s();return xs(a),function S$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ie(),i,c),c}finally{Kr(o)}}function JR(n,e,t){const r=n+en,i=ie(),s=Wa(i,r);return Gf(i,r)?function WR(n,e,t,r,i,s){const o=e+t;return Jr(n,o,i)?Io(n,o+1,s?r.call(s,i):r(i)):qf(n,o+1)}(i,Fr(),e,s.transform,t,s):s.transform(t)}function Mn(n,e,t,r){const i=n+en,s=ie(),o=Wa(s,i);return Gf(s,i)?function KR(n,e,t,r,i,s,o){const a=e+t;return mu(n,a,i,s)?Io(n,a+2,o?r.call(o,i,s):r(i,s)):qf(n,a+2)}(s,Fr(),e,o.transform,t,r,o):o.transform(t,r)}function Gf(n,e){return n[be].data[e].pure}function a0(n){return e=>{setTimeout(n,void 0,e)}}const Nn=class j9 extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=a0(s),i&&(i=a0(i)),o&&(o=a0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Nt&&e.add(a),a}};let fa=(()=>{class n{}return n.__NG_ELEMENT_ID__=q9,n})();const H9=fa,z9=class extends H9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=m_(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Qo]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Oi];return null!==o&&(i[Oi]=o.createEmbeddedView(r)),xw(r,i,e),new Nf(i)}};function q9(){return function k_(n,e){return 4&n.type?new z9(e,n,Jl(n,e)):null}(ur(),ie())}let Qs=(()=>{class n{}return n.__NG_ELEMENT_ID__=G9,n})();function G9(){return function nx(n,e){let t;const r=e[n.index];if(os(r))t=r;else{let i;if(8&n.type)i=_r(r);else{const s=e[st];i=s.createComment("");const o=Li(n,e);fu(s,s_(s,o),i,function W3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=X1(r,e,i,n),y_(e,t)}return new ex(t,n,e)}(ur(),ie())}const W9=Qs,ex=class extends W9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const e=lf(this._hostTNode,this._hostLView);if(iu(e)){const t=Xa(e,this._hostLView),r=Ja(e);return new na(t[be].data[r+8],t)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function ra(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Of(Vt(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?l:this.parentInjector).get(vo,null);m&&(s=m)}const h=c.create(l,i,void 0,s);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,i=r[be];if(function EA(n){return os(n[Xt])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const g=r[Xt],m=new ex(g,g[Cr],g[Xt]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function $3(n,e,t,r){const i=cr+r,s=t.length;r>0&&(t[i-1][Ni]=e),r<s-cr?(e[Ni]=t[i],Zm(t,cr+r,e)):(t.push(e),e[Ni]=null),e[Xt]=t;const o=e[Qo];null!==o&&t!==o&&function H3(n,e){const t=n[fo];e[Qn]!==e[Xt][Xt][Qn]&&(n[vl]=!0),null===t?n[fo]=[e]:t.push(e)}(o,e);const a=e[Oi];null!==a&&a.insertView(n),e[rt]|=64}(i,r,o,s);const a=ow(s,o),c=r[st],l=s_(c,o[ho]);return null!==l&&function B3(n,e,t,r,i,s){r[Ps]=i,r[Cr]=e,Af(n,r,t,1,i,s)}(i,o[Cr],c,r,l,a),e.attachToViewContainerRef(),Zm(u0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=rw(this._lContainer,t);r&&(ia(u0(this._lContainer),t),jA(r[be],r))}detach(e){const t=this._adjustIndex(e,-1),r=rw(this._lContainer,t);return r&&null!=ia(u0(this._lContainer),t)?new Nf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tx(n){return n[qa]}function u0(n){return n[qa]||(n[qa]=[])}function L_(...n){}const V_=new ge("Application Initializer");let B_=(()=>{class n{constructor(t){this.appInits=t,this.resolve=L_,this.reject=L_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vf(s))t.push(s);else if(qw(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(re(V_,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kf=new ge("AppId",{providedIn:"root",factory:function Ax(){return`${E0()}${E0()}${E0()}`}});function E0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Px=new ge("Platform Initializer"),Ed=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rx=new ge("AnimationModuleType");let Iz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pa=new ge("LocaleId",{providedIn:"root",factory:()=>Xe(pa,je.Optional|je.SkipSelf)||function wz(){return typeof $localize<"u"&&$localize.locale||md}()}),Cz=new ge("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Tz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let xx=(()=>{class n{compileModuleSync(t){return new s0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=la(gi(t).declarations).reduce((o,a)=>{const c=Vt(a);return c&&o.push(new Of(c)),o},[]);return new Tz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dz=(()=>Promise.resolve(0))();function I0(n){typeof Zone>"u"?Dz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ht{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nn(!1),this.onMicrotaskEmpty=new Nn(!1),this.onStable=new Nn(!1),this.onError=new Nn(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Az(){let n=Jt.requestAnimationFrame,e=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xz(n){const e=()=>{!function Rz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C0(n),n.isCheckStableRunning=!0,w0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return Ox(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),kx(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return Ox(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),kx(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,C0(n),w0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ht.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Ht.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Pz,L_,L_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Pz={};function w0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ox(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kx(n){n._nesting--,w0(n)}class Mz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nn,this.onMicrotaskEmpty=new Nn,this.onStable=new Nn,this.onError=new Nn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Fx=new ge(""),U_=new ge("");let S0,T0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S0||(function Nz(n){S0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ht.assertNotInAngularZone(),I0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(re(Ht),re(b0),re(U_))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),b0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return S0?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ga=!1;let cc=null;const Lx=new ge("AllowMultipleToken"),D0=new ge("PlatformDestroyListeners"),Vx=new ge("appBootstrapListener");class Bx{constructor(e,t){this.name=e,this.token=t}}function jx(n,e,t=[]){const r=`Platform: ${e}`,i=new ge(r);return(s=[])=>{let o=A0();if(!o||o.injector.get(Lx,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function Fz(n){if(cc&&!cc.get(Lx,!1))throw new S(400,!1);cc=n;const e=n.get(Hx);(function Ux(n){const e=n.get(Px,null);e&&e.forEach(t=>t())})(n)}(function $x(n=[],e){return ls.create({name:e,providers:[{provide:vw,useValue:"platform"},{provide:D0,useValue:new Set([()=>cc=null])},...n]})}(a,r))}return function Vz(n){const e=A0();if(!e)throw new S(401,!1);return e}()}}function A0(){return cc?.get(Hx)??null}let Hx=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function qx(n,e){let t;return t="noop"===n?new Mz:("zone.js"===n?void 0:n)||new Ht(e),t}(r?.ngZone,function zx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ht,useValue:i}];return i.run(()=>{const o=ls.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),c=a.injector.get(ed,null);if(!c)throw new S(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:h=>{c.handleError(h)}});a.onDestroy(()=>{j_(this._modules,a),l.unsubscribe()})}),function Gx(n,e,t){try{const r=t();return Vf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(B_);return l.runInitializers(),l.donePromise.then(()=>(function fR(n){xi(n,"Expected localeId to be defined"),"string"==typeof n&&(hR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(pa,md)||md),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Wx({},r);return function Oz(n,e,t){const r=new s0(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(D0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(re(ls))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Wx(n,e){return Array.isArray(e)?e.reduce(Wx,n):{...n,...e}}let vu=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new pt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new pt(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ht.assertNotInAngularZone(),I0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function C(...n){const e=ns(n),t=function Zn(n,e){return"number"==typeof bs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rt(r[0]):hi(t)(E(r,e)):Pn}(s,o.pipe(function v(n={}){const{connector:e=(()=>new Z),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=c=void 0,h=g=!1},w=()=>{const b=o;y(),b?.unsubscribe()};return te((b,P)=>{l++,!g&&!h&&m();const N=c=c??e();P.add(()=>{l--,0===l&&!g&&!h&&(a=L(w,i))}),N.subscribe(P),!o&&l>0&&(o=new Fn({next:B=>N.next(B),error:B=>{g=!0,m(),a=L(y,t,B),N.error(B)},complete:()=>{h=!0,m(),a=L(y,r),N.complete()}}),Rt(b).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof C1;if(!this._injector.get(B_).done){!i&&function zs(n){const e=Vt(n)||xn(n)||Zr(n);return null!==e&&e.standalone}(t);throw new S(405,ga)}let o;o=i?t:this._injector.get(Yl).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function kz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(_d),l=o.create(ls.NULL,[],r||o.selector,a),h=l.location.nativeElement,g=l.injector.get(Fx,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),j_(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;j_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Vx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>j_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(re(Ht),re(vo),re(ed))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let $_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Uz,n})();function Uz(n){return function jz(n,e,t){if(Xc(n)&&!t){const r=Qr(n.index,e);return new Nf(r,r)}return 47&n.type?new Nf(e[Qn],e):null}(ur(),ie(),16==(16&n))}class Xx{constructor(){}supports(e){return C_(e)}create(e){return new Wz(e)}}const Gz=(n,e)=>e;class Wz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<tM(r,i,s)?t:r,a=tM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){const y=m<s.length?s[m]:s[m]=0,w=y+m;h<=w&&w<l&&(s[m]=y+1)}s[o.previousIndex]=h-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!C_(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function w$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Kz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new eM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Kz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class eM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Zz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class nM{constructor(){}supports(e){return e instanceof Map||Hw(e)}create(){return new Qz}}class Qz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Hw(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Yz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Yz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rM(){return new q_([new Xx])}let q_=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rM()),deps:[[n,new sa,new oc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:rM}),n})();function iM(){return new Zf([new nM])}let Zf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||iM()),deps:[[n,new sa,new oc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:iM}),n})();const eq=jx(null,"core",[]);let tq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(re(vu))},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({}),n})();function Id(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let N0=null;function ma(){return N0}class iq{}const Un=new ge("DocumentToken");let O0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return function sq(){return re(sM)}()},providedIn:"platform"}),n})();const oq=new ge("Location Initialized");let sM=(()=>{class n extends O0{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ma().getBaseHref(this._doc)}onPopState(t){const r=ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){oM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){oM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:function(){return function aq(){return new sM(re(Un))}()},providedIn:"platform"}),n})();function oM(){return!!window.history.pushState}function k0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function aM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _a(n){return n&&"?"!==n[0]?"?"+n:n}let Iu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return Xe(uM)},providedIn:"root"}),n})();const cM=new ge("appBaseHref");let uM=(()=>{class n extends Iu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xe(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return k0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_a(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_a(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_a(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(re(O0),re(cM,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cq=(()=>{class n extends Iu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=k0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_a(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_a(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(re(O0),re(cM,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),F0=(()=>{class n{constructor(t){this._subject=new Nn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function dq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(aM(lM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_a(r))}normalize(t){return n.stripTrailingSlash(function lq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_a(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_a(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_a,n.joinWithSlash=k0,n.stripTrailingSlash=aM,n.\u0275fac=function(t){return new(t||n)(re(Iu))},n.\u0275prov=ye({token:n,factory:function(){return function uq(){return new F0(re(Iu))}()},providedIn:"root"}),n})();function lM(n){return n.replace(/\/index.html$/,"")}const dM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $i=(()=>(($i=$i||{})[$i.Decimal=0]="Decimal",$i[$i.Percent=1]="Percent",$i[$i.Currency=2]="Currency",$i[$i.Scientific=3]="Scientific",$i))(),Xn=(()=>((Xn=Xn||{})[Xn.Format=0]="Format",Xn[Xn.Standalone=1]="Standalone",Xn))(),wt=(()=>((wt=wt||{})[wt.Narrow=0]="Narrow",wt[wt.Abbreviated=1]="Abbreviated",wt[wt.Wide=2]="Wide",wt[wt.Short=3]="Short",wt))(),On=(()=>((On=On||{})[On.Short=0]="Short",On[On.Medium=1]="Medium",On[On.Long=2]="Long",On[On.Full=3]="Full",On))(),Ge=(()=>((Ge=Ge||{})[Ge.Decimal=0]="Decimal",Ge[Ge.Group=1]="Group",Ge[Ge.List=2]="List",Ge[Ge.PercentSign=3]="PercentSign",Ge[Ge.PlusSign=4]="PlusSign",Ge[Ge.MinusSign=5]="MinusSign",Ge[Ge.Exponential=6]="Exponential",Ge[Ge.SuperscriptingExponent=7]="SuperscriptingExponent",Ge[Ge.PerMille=8]="PerMille",Ge[Ge.Infinity=9]="Infinity",Ge[Ge.NaN=10]="NaN",Ge[Ge.TimeSeparator=11]="TimeSeparator",Ge[Ge.CurrencyDecimal=12]="CurrencyDecimal",Ge[Ge.CurrencyGroup=13]="CurrencyGroup",Ge))();function G_(n,e){return Os(vi(n)[we.DateFormat],e)}function W_(n,e){return Os(vi(n)[we.TimeFormat],e)}function K_(n,e){return Os(vi(n)[we.DateTimeFormat],e)}function Ns(n,e){const t=vi(n),r=t[we.NumberSymbols][e];if(typeof r>"u"){if(e===Ge.CurrencyDecimal)return t[we.NumberSymbols][Ge.Decimal];if(e===Ge.CurrencyGroup)return t[we.NumberSymbols][Ge.Group]}return r}function hM(n){if(!n[we.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[we.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Os(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function V0(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wq=2,Tq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qf={},bq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vr=(()=>((vr=vr||{})[vr.Short=0]="Short",vr[vr.ShortGMT=1]="ShortGMT",vr[vr.Long=2]="Long",vr[vr.Extended=3]="Extended",vr))(),Ke=(()=>((Ke=Ke||{})[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke))(),dt=(()=>((dt=dt||{})[dt.DayPeriods=0]="DayPeriods",dt[dt.Days=1]="Days",dt[dt.Months=2]="Months",dt[dt.Eras=3]="Eras",dt))();function Sq(n,e,t,r){let i=function kq(n){if(gM(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Z_(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Tq))return function Fq(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,c,l),e}(r)}const e=new Date(n);if(!gM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ya(t,e)||e;let a,o=[];for(;e;){if(a=bq.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const h=o.pop();if(!h)break;e=h}}let c=i.getTimezoneOffset();r&&(c=pM(r,c),i=function Oq(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Nq(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(pM(e,i)-i))}(i,r,!0));let l="";return o.forEach(h=>{const g=function Mq(n){if(U0[n])return U0[n];let e;switch(n){case"G":case"GG":case"GGG":e=cn(dt.Eras,wt.Abbreviated);break;case"GGGG":e=cn(dt.Eras,wt.Wide);break;case"GGGGG":e=cn(dt.Eras,wt.Narrow);break;case"y":e=hr(Ke.FullYear,1,0,!1,!0);break;case"yy":e=hr(Ke.FullYear,2,0,!0,!0);break;case"yyy":e=hr(Ke.FullYear,3,0,!1,!0);break;case"yyyy":e=hr(Ke.FullYear,4,0,!1,!0);break;case"Y":e=X_(1);break;case"YY":e=X_(2,!0);break;case"YYY":e=X_(3);break;case"YYYY":e=X_(4);break;case"M":case"L":e=hr(Ke.Month,1,1);break;case"MM":case"LL":e=hr(Ke.Month,2,1);break;case"MMM":e=cn(dt.Months,wt.Abbreviated);break;case"MMMM":e=cn(dt.Months,wt.Wide);break;case"MMMMM":e=cn(dt.Months,wt.Narrow);break;case"LLL":e=cn(dt.Months,wt.Abbreviated,Xn.Standalone);break;case"LLLL":e=cn(dt.Months,wt.Wide,Xn.Standalone);break;case"LLLLL":e=cn(dt.Months,wt.Narrow,Xn.Standalone);break;case"w":e=B0(1);break;case"ww":e=B0(2);break;case"W":e=B0(1,!0);break;case"d":e=hr(Ke.Date,1);break;case"dd":e=hr(Ke.Date,2);break;case"c":case"cc":e=hr(Ke.Day,1);break;case"ccc":e=cn(dt.Days,wt.Abbreviated,Xn.Standalone);break;case"cccc":e=cn(dt.Days,wt.Wide,Xn.Standalone);break;case"ccccc":e=cn(dt.Days,wt.Narrow,Xn.Standalone);break;case"cccccc":e=cn(dt.Days,wt.Short,Xn.Standalone);break;case"E":case"EE":case"EEE":e=cn(dt.Days,wt.Abbreviated);break;case"EEEE":e=cn(dt.Days,wt.Wide);break;case"EEEEE":e=cn(dt.Days,wt.Narrow);break;case"EEEEEE":e=cn(dt.Days,wt.Short);break;case"a":case"aa":case"aaa":e=cn(dt.DayPeriods,wt.Abbreviated);break;case"aaaa":e=cn(dt.DayPeriods,wt.Wide);break;case"aaaaa":e=cn(dt.DayPeriods,wt.Narrow);break;case"b":case"bb":case"bbb":e=cn(dt.DayPeriods,wt.Abbreviated,Xn.Standalone,!0);break;case"bbbb":e=cn(dt.DayPeriods,wt.Wide,Xn.Standalone,!0);break;case"bbbbb":e=cn(dt.DayPeriods,wt.Narrow,Xn.Standalone,!0);break;case"B":case"BB":case"BBB":e=cn(dt.DayPeriods,wt.Abbreviated,Xn.Format,!0);break;case"BBBB":e=cn(dt.DayPeriods,wt.Wide,Xn.Format,!0);break;case"BBBBB":e=cn(dt.DayPeriods,wt.Narrow,Xn.Format,!0);break;case"h":e=hr(Ke.Hours,1,-12);break;case"hh":e=hr(Ke.Hours,2,-12);break;case"H":e=hr(Ke.Hours,1);break;case"HH":e=hr(Ke.Hours,2);break;case"m":e=hr(Ke.Minutes,1);break;case"mm":e=hr(Ke.Minutes,2);break;case"s":e=hr(Ke.Seconds,1);break;case"ss":e=hr(Ke.Seconds,2);break;case"S":e=hr(Ke.FractionalSeconds,1);break;case"SS":e=hr(Ke.FractionalSeconds,2);break;case"SSS":e=hr(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y_(vr.Short);break;case"ZZZZZ":e=Y_(vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y_(vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y_(vr.Long);break;default:return null}return U0[n]=e,e}(h);l+=g?g(i,t,c):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Z_(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ya(n,e){const t=function hq(n){return vi(n)[we.LocaleId]}(n);if(Qf[t]=Qf[t]||{},Qf[t][e])return Qf[t][e];let r="";switch(e){case"shortDate":r=G_(n,On.Short);break;case"mediumDate":r=G_(n,On.Medium);break;case"longDate":r=G_(n,On.Long);break;case"fullDate":r=G_(n,On.Full);break;case"shortTime":r=W_(n,On.Short);break;case"mediumTime":r=W_(n,On.Medium);break;case"longTime":r=W_(n,On.Long);break;case"fullTime":r=W_(n,On.Full);break;case"short":const i=ya(n,"shortTime"),s=ya(n,"shortDate");r=Q_(K_(n,On.Short),[i,s]);break;case"medium":const o=ya(n,"mediumTime"),a=ya(n,"mediumDate");r=Q_(K_(n,On.Medium),[o,a]);break;case"long":const c=ya(n,"longTime"),l=ya(n,"longDate");r=Q_(K_(n,On.Long),[c,l]);break;case"full":const h=ya(n,"fullTime"),g=ya(n,"fullDate");r=Q_(K_(n,On.Full),[h,g])}return r&&(Qf[t][e]=r),r}function Q_(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Js(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function hr(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function Aq(n,e){switch(n){case Ke.FullYear:return e.getFullYear();case Ke.Month:return e.getMonth();case Ke.Date:return e.getDate();case Ke.Hours:return e.getHours();case Ke.Minutes:return e.getMinutes();case Ke.Seconds:return e.getSeconds();case Ke.FractionalSeconds:return e.getMilliseconds();case Ke.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Ke.Hours)0===a&&-12===t&&(a=12);else if(n===Ke.FractionalSeconds)return function Dq(n,e){return Js(n,3).substring(0,e)}(a,e);const c=Ns(o,Ge.MinusSign);return Js(a,e,c,r,i)}}function cn(n,e,t=Xn.Format,r=!1){return function(i,s){return function Pq(n,e,t,r,i,s){switch(t){case dt.Months:return function gq(n,e,t){const r=vi(n),s=Os([r[we.MonthsFormat],r[we.MonthsStandalone]],e);return Os(s,t)}(e,i,r)[n.getMonth()];case dt.Days:return function pq(n,e,t){const r=vi(n),s=Os([r[we.DaysFormat],r[we.DaysStandalone]],e);return Os(s,t)}(e,i,r)[n.getDay()];case dt.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function vq(n){const e=vi(n);return hM(e),(e[we.ExtraData][2]||[]).map(r=>"string"==typeof r?V0(r):[V0(r[0]),V0(r[1])])}(e),h=function Eq(n,e,t){const r=vi(n);hM(r);const s=Os([r[we.ExtraData][0],r[we.ExtraData][1]],e)||[];return Os(s,t)||[]}(e,i,r),g=l.findIndex(m=>{if(Array.isArray(m)){const[y,w]=m,b=o>=y.hours&&a>=y.minutes,P=o<w.hours||o===w.hours&&a<w.minutes;if(y.hours<w.hours){if(b&&P)return!0}else if(b||P)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==g)return h[g]}return function fq(n,e,t){const r=vi(n),s=Os([r[we.DayPeriodsFormat],r[we.DayPeriodsStandalone]],e);return Os(s,t)}(e,i,r)[o<12?0:1];case dt.Eras:return function mq(n,e){return Os(vi(n)[we.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Y_(n){return function(e,t,r){const i=-1*r,s=Ns(t,Ge.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case vr.Short:return(i>=0?"+":"")+Js(o,2,s)+Js(Math.abs(i%60),2,s);case vr.ShortGMT:return"GMT"+(i>=0?"+":"")+Js(o,1,s);case vr.Long:return"GMT"+(i>=0?"+":"")+Js(o,2,s)+":"+Js(Math.abs(i%60),2,s);case vr.Extended:return 0===r?"Z":(i>=0?"+":"")+Js(o,2,s)+":"+Js(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Rq=0,J_=4;function fM(n){return Z_(n.getFullYear(),n.getMonth(),n.getDate()+(J_-n.getDay()))}function B0(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=fM(t),o=function xq(n){const e=Z_(n,Rq,1).getDay();return Z_(n,0,1+(e<=J_?J_:J_+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Js(i,n,Ns(r,Ge.MinusSign))}}function X_(n,e=!1){return function(t,r){return Js(fM(t).getFullYear(),n,Ns(r,Ge.MinusSign),e)}}const U0={};function pM(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function gM(n){return n instanceof Date&&!isNaN(n.valueOf())}const Lq=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mM=22,ey=".",Yf="0",Vq=";",Bq=",",j0="#",_M="\xa4";function jq(n,e,t,r,i){const o=function H0(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Vq),i=r[0],s=r[1],o=-1!==i.indexOf(ey)?i.split(ey):[i.substring(0,i.lastIndexOf(Yf)+1),i.substring(i.lastIndexOf(Yf)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(j0));for(let h=0;h<c.length;h++){const g=c.charAt(h);g===Yf?t.minFrac=t.maxFrac=h+1:g===j0?t.maxFrac=h+1:t.posSuf+=g}const l=a.split(Bq);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const h=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(j0);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function L0(n,e){return vi(n)[we.NumberFormats][e]}(e,$i.Currency),Ns(e,Ge.MinusSign));return o.minFrac=function Cq(n){let e;const t=dM[n];return t&&(e=t[2]),"number"==typeof e?e:wq}(r),o.maxFrac=o.minFrac,function $0(n,e,t,r,i,s,o=!1){let a="",c=!1;if(isFinite(n)){let l=function qq(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(ey))>-1&&(e=e.replace(ey,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Yf;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Yf;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>mM&&(r=r.splice(0,mM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(l=function zq(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(l));let h=e.minInt,g=e.minFrac,m=e.maxFrac;if(s){const B=s.match(Lq);if(null===B)throw new Error(`${s} is not a valid digit info`);const M=B[1],Y=B[3],fe=B[5];null!=M&&(h=z0(M)),null!=Y&&(g=z0(Y)),null!=fe?m=z0(fe):null!=Y&&g>m&&(m=g)}!function Gq(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let g=o;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let g=1;g<o;g++)r[g]=0}if(a>=5)if(o-1<0){for(let g=0;g>o;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+n.integerLen,h=r.reduceRight(function(g,m,y,w){return w[y]=(m+=g)<10?m:m-10,c&&(0===w[y]&&y>=l?w.pop():c=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}(l,g,m);let y=l.digits,w=l.integerLen;const b=l.exponent;let P=[];for(c=y.every(B=>!B);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?P=y.splice(w,y.length):(P=y,y=[0]);const N=[];for(y.length>=e.lgSize&&N.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)N.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&N.unshift(y.join("")),a=N.join(Ns(t,r)),P.length&&(a+=Ns(t,i)+P.join("")),b&&(a+=Ns(t,Ge.Exponential)+"+"+b)}else a=Ns(t,Ge.Infinity);return a=n<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,Ge.CurrencyGroup,Ge.CurrencyDecimal,i).replace(_M,t).replace(_M,"").trim()}function z0(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function vM(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Qq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Qq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),CM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{CM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)($(Qs),$(fa),$(q_))},n.\u0275dir=We({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function CM(n,e){n.context.$implicit=e.item}let To=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Jq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)($(Qs),$(fa))},n.\u0275dir=We({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jq{constructor(){this.$implicit=null,this.ngIf=null}}function TM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ve(e)}'.`)}let Z0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Vr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)($(us),$(Zf),$(ua))},n.\u0275dir=We({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Xs(n,e){return new S(2100,!1)}const h5=new ge("DATE_PIPE_DEFAULT_TIMEZONE"),f5=new ge("DATE_PIPE_DEFAULT_OPTIONS");let SM=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return Sq(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Xs()}}}return n.\u0275fac=function(t){return new(t||n)($(pa,16),$(h5,24),$(f5,24))},n.\u0275pipe=Nr({name:"date",type:n,pure:!0,standalone:!0}),n})(),wi=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function Q0(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function Iq(n,e,t="en"){const r=function _q(n){return vi(n)[we.Currencies]}(t)[n]||dM[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return jq(function Y0(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(c){throw Xs()}}}return n.\u0275fac=function(t){return new(t||n)($(pa,16),$(Cz,16))},n.\u0275pipe=Nr({name:"currency",type:n,pure:!0,standalone:!0}),n})();let wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({}),n})();const w5="server";function PM(n){return n===w5}let b5=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new S5(re(Un),window)}),n})();class S5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function D5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=RM(this.window.history)||RM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function RM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xM{}class e6 extends iq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eC extends e6{static makeCurrent(){!function rq(n){N0||(N0=n)}(new eC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function t6(){return Xf=Xf||document.querySelector("base"),Xf?Xf.getAttribute("href"):null}();return null==t?null:function n6(n){ry=ry||document.createElement("a"),ry.setAttribute("href",n);const e=ry.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vM(document.cookie,e)}}let ry,Xf=null;const FM=new ge("TRANSITION_ID"),i6=[{provide:V_,useFactory:function r6(n,e,t){return()=>{t.get(B_).donePromise.then(()=>{const r=ma(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FM,Un,ls],multi:!0}];let o6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const iy=new ge("EventManagerPlugins");let sy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(re(iy),re(Ht))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class LM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ma().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let VM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),ep=(()=>{class n extends VM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const tC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nC=/%COMP%/g,jM=new ge("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $M(n,e){return e.flat(100).map(t=>t.replace(nC,n))}function HM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let oy=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new rC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof GM?i.applyToHost(t):i instanceof iC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case is.Emulated:s=new GM(o,a,r,this.appId,c);break;case is.ShadowDom:return new f6(o,a,t,r);default:s=new iC(o,a,r,c)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(re(sy),re(ep),re(Kf),re(jM))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class rC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(tC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=tC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=tC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(t,r,i&Vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,HM(r)):this.eventManager.addEventListener(e,t,HM(r))}}function qM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class f6 extends rC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$M(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iC extends rC{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=$M(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class GM extends iC{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function l6(n){return"_ngcontent-%COMP%".replace(nC,n)}(o),this.hostAttr=function d6(n){return"_nghost-%COMP%".replace(nC,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let p6=(()=>{class n extends LM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const WM=["alt","control","meta","shift"],g6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _6=(()=>{class n extends LM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ma().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WM.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=g6[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WM.forEach(o=>{o!==i&&(0,m6[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const ZM=[{provide:Ed,useValue:"browser"},{provide:Px,useValue:function y6(){eC.makeCurrent()},multi:!0},{provide:Un,useFactory:function E6(){return function tj(n){lw=n}(document),document},deps:[]}],I6=jx(eq,"browser",ZM),QM=new ge(""),YM=[{provide:U_,useClass:class s6{addToWindow(e){Jt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Jt.getAllAngularRootElements=()=>e.getAllRootElements(),Jt.frameworkStabilizers||(Jt.frameworkStabilizers=[]),Jt.frameworkStabilizers.push(r=>{const i=Jt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ma().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Fx,useClass:T0,deps:[Ht,b0,U_]},{provide:T0,useClass:T0,deps:[Ht,b0,U_]}],JM=[{provide:vw,useValue:"root"},{provide:ed,useFactory:function v6(){return new ed},deps:[]},{provide:iy,useClass:p6,multi:!0,deps:[Un,Ht,Ed]},{provide:iy,useClass:_6,multi:!0,deps:[Un]},{provide:oy,useClass:oy,deps:[sy,ep,Kf,jM]},{provide:xf,useExisting:oy},{provide:VM,useExisting:ep},{provide:ep,useClass:ep,deps:[Un]},{provide:sy,useClass:sy,deps:[iy,Ht]},{provide:xM,useClass:o6,deps:[]},[]];let XM=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Kf,useValue:t.appId},{provide:FM,useExisting:Kf},i6]}}}return n.\u0275fac=function(t){return new(t||n)(re(QM,12))},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({providers:[...JM,...YM],imports:[wd,tq]}),n})(),eN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:function(t){let r=null;return r=t?new t:function C6(){return new eN(re(Un))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let rN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(t){let r=null;return r=t?new(t||n):re(iN),r},providedIn:"root"}),n})(),iN=(()=>{class n extends rN{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case rn.NONE:return r;case rn.HTML:return yo(r,"HTML")?cs(r):l1(this._doc,String(r)).toString();case rn.STYLE:return yo(r,"Style")?cs(r):r;case rn.SCRIPT:if(yo(r,"Script"))return cs(r);throw new Error("unsafe value used in a script context");case rn.URL:return yo(r,"URL")?cs(r):l_(String(r));case rn.RESOURCE_URL:if(yo(r,"ResourceURL"))return cs(r);throw new Error(`unsafe value used in a resource URL context (see ${K})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${K})`)}}bypassSecurityTrustHtml(t){return function cj(n){return new nj(n)}(t)}bypassSecurityTrustStyle(t){return function uj(n){return new rj(n)}(t)}bypassSecurityTrustScript(t){return function lj(n){return new ij(n)}(t)}bypassSecurityTrustUrl(t){return function dj(n){return new sj(n)}(t)}bypassSecurityTrustResourceUrl(t){return function hj(n){return new oj(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(re(Un))},n.\u0275prov=ye({token:n,factory:function(t){let r=null;return r=t?new t:function A6(n){return new iN(n.get(Un))}(re(ls)),r},providedIn:"root"}),n})();function qe(...n){return E(n,ns(n))}class eo extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ay=Q(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:P6}=Array,{getPrototypeOf:R6,prototype:x6,keys:M6}=Object;function sN(n){if(1===n.length){const e=n[0];if(P6(e))return{args:e,keys:null};if(function N6(n){return n&&"object"==typeof n&&R6(n)===x6}(e)){const t=M6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:O6}=Array;function oN(n){return Ce(e=>function k6(n,e){return O6(e)?n(...e):n(e)}(n,e))}function aN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cN(...n){const e=ns(n),t=Ss(n),{args:r,keys:i}=sN(n);if(0===r.length)return E([],e);const s=new pt(function F6(n,e,t=Ln){return r=>{uN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)uN(e,()=>{const l=E(n[c],e);let h=!1;l.subscribe(me(r,g=>{s[c]=g,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>aN(i,o):Ln));return t?s.pipe(oN(t)):s}function uN(n,e,t){n?di(t,n,e):e()}function aC(...n){return function L6(){return hi(1)}()(E(n,ns(n)))}function lN(n){return new pt(e=>{Rt(n()).subscribe(e)})}function tp(n,e){const t=D(n)?n:()=>n,r=i=>i.error(t());return new pt(e?i=>e.schedule(r,0,i):r)}function cC(){return te((n,e)=>{let t=null;n._refCount++;const r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dN extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ee(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nt;const t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nt.EMPTY)}return e}refCount(){return cC()(this)}}function bo(n,e){return te((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(me(r,c=>{i?.unsubscribe();let l=0;const h=s++;Rt(n(c,h)).subscribe(i=me(r,g=>r.next(e?e(c,g,h,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cd(n){return n<=0?()=>Pn:te((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function va(n,e){return te((t,r)=>{let i=0;t.subscribe(me(r,s=>n.call(e,s,i++)&&r.next(s)))})}function cy(n){return te((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hN(n=B6){return te((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B6(){return new ay}function lc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?va((i,s)=>n(i,s,r)):Ln,Cd(1),t?cy(e):hN(()=>new ay))}function dc(n,e){return D(e)?Ut(n,e,1):Ut(n,1)}function Xr(n,e,t){const r=D(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(me(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ln}function hc(n){return te((e,t)=>{let s,r=null,i=!1;r=e.subscribe(me(t,void 0,void 0,o=>{s=Rt(n(o,hc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fN(n,e){return te(function U6(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(me(o,h=>{const g=l++;c=a?n(c,h,g):(a=!0,h),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function uC(n){return n<=0?()=>Pn:te((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?va((i,s)=>n(i,s,r)):Ln,uC(1),t?cy(e):hN(()=>new ay))}function lC(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const at="primary",np=Symbol("RouteTitle");class H6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Td(n){return new H6(n)}function z6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function So(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gN(n[i],e[i]))return!1;return!0}function gN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function mN(n){return Array.prototype.concat.apply([],n)}function _N(n){return n.length>0?n[n.length-1]:null}function Ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fc(n){return qw(n)?n:Vf(n)?E(Promise.resolve(n)):qe(n)}const uy=!1,G6={exact:function EN(n,e,t){if(!wu(n.segments,e.segments)||!ly(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!EN(n.children[r],e.children[r],t))return!1;return!0},subset:IN},yN={exact:function W6(n,e){return So(n,e)},subset:function K6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gN(n[t],e[t]))},ignored:()=>!0};function vN(n,e,t){return G6[t.paths](n.root,e.root,t.matrixParams)&&yN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IN(n,e,t){return wN(n,e,e.segments,t)}function wN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wu(i,t)||e.hasChildren()||!ly(i,t,r))}if(n.segments.length===t.length){if(!wu(n.segments,t)||!ly(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!IN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(wu(n.segments,i)&&ly(n.segments,i,r)&&n.children[at])&&wN(n.children[at],e,s,r)}}function ly(n,e,t){return e.every((r,i)=>yN[t](n[i].parameters,r.parameters))}class pc{constructor(e=new gt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Td(this.queryParams)),this._queryParamMap}toString(){return Y6.serialize(this)}}class gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ur(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dy(this)}}class rp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Td(this.parameters)),this._parameterMap}toString(){return bN(this)}}function wu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return new dC},providedIn:"root"}),n})();class dC{parse(e){const t=new o8(e);return new pc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sp(e.root,!0)}`,r=function e8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${hy(t)}=${hy(i)}`).join("&"):`${hy(t)}=${hy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function J6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Y6=new dC;function dy(n){return n.segments.map(e=>bN(e)).join("/")}function sp(n,e){if(!n.hasChildren())return dy(n);if(e){const t=n.children[at]?sp(n.children[at],!1):"",r=[];return Ur(n.children,(i,s)=>{s!==at&&r.push(`${s}:${sp(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q6(n,e){let t=[];return Ur(n.children,(r,i)=>{i===at&&(t=t.concat(e(r,i)))}),Ur(n.children,(r,i)=>{i!==at&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===at?[sp(n.children[at],!1)]:[`${i}:${sp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${dy(n)}/${t[0]}`:`${dy(n)}/(${t.join("//")})`}}function CN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hy(n){return CN(n).replace(/%3B/gi,";")}function hC(n){return CN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fy(n){return decodeURIComponent(n)}function TN(n){return fy(n.replace(/\+/g,"%20"))}function bN(n){return`${hC(n.path)}${function X6(n){return Object.keys(n).map(e=>`;${hC(e)}=${hC(n[e])}`).join("")}(n.parameters)}`}const t8=/^[^\/()?;=#]+/;function py(n){const e=n.match(t8);return e?e[0]:""}const n8=/^[^=?&#]+/,i8=/^[^&#]+/;class o8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[at]=new gt(e,t)),r}parseSegment(){const e=py(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,uy);return this.capture(e),new rp(fy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=py(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=py(this.remaining);i&&(r=i,this.capture(r))}e[fy(t)]=fy(r)}parseQueryParam(e){const t=function r8(n){const e=n.match(n8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function s8(n){const e=n.match(i8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=TN(t),s=TN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=py(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,uy);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=at);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[at]:new gt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,uy)}}function fC(n){return n.segments.length>0?new gt([],{[at]:n}):n}function gy(n){const e={};for(const r of Object.keys(n.children)){const s=gy(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function a8(n){if(1===n.numberOfChildren&&n.children[at]){const e=n.children[at];return new gt(n.segments.concat(e.segments),e.children)}return n}(new gt(n.segments,e))}function Cu(n){return n instanceof pc}const pC=!1;function c8(n,e,t,r,i){if(0===t.length)return bd(e.root,e.root,e.root,r,i);const s=function RN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ur(s.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PN(t,e,r)}(t);return s.toRoot()?bd(e.root,e.root,new gt([],{}),r,i):function o(c){const l=function l8(n,e,t,r){if(n.isAbsolute)return new Sd(e.root,!0,0);if(-1===r)return new Sd(t,t===e.root,0);return function xN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,pC&&"Invalid number of '../'");i=r.segments.length}return new Sd(r,!1,i-s)}(t,r+(op(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),h=l.processChildren?Dd(l.segmentGroup,l.index,s.commands):gC(l.segmentGroup,l.index,s.commands);return bd(e.root,l.segmentGroup,h,r,i)}(n.snapshot?._lastPathIndex)}function op(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ap(n){return"object"==typeof n&&null!=n&&n.outlets}function bd(n,e,t,r,i){let o,s={};r&&Ur(r,(c,l)=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),o=n===e?t:AN(n,e,t);const a=fC(gy(o));return new pc(a,s,i)}function AN(n,e,t){const r={};return Ur(n.children,(i,s)=>{r[s]=i===e?t:AN(i,e,t)}),new gt(n.segments,r)}class PN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&op(r[0]))throw new S(4003,pC&&"Root segment cannot have matrix parameters");const i=r.find(ap);if(i&&i!==_N(r))throw new S(4004,pC&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gC(n,e,t){if(n||(n=new gt([],{})),0===n.segments.length&&n.hasChildren())return Dd(n,e,t);const r=function h8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(ap(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!NN(c,l,o))return s;r+=2}else{if(!NN(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new gt(n.segments.slice(0,r.pathIndex),{});return s.children[at]=new gt(n.segments.slice(r.pathIndex),n.children),Dd(s,0,i)}return r.match&&0===i.length?new gt(n.segments,{}):r.match&&!n.hasChildren()?mC(n,e,t):r.match?Dd(n,0,i):mC(n,e,t)}function Dd(n,e,t){if(0===t.length)return new gt(n.segments,{});{const r=function d8(n){return ap(n[0])?n[0].outlets:{[at]:n}}(t),i={};if(!r[at]&&n.children[at]&&1===n.numberOfChildren&&0===n.children[at].segments.length){const s=Dd(n.children[at],e,t);return new gt(n.segments,s.children)}return Ur(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=gC(n.children[o],e,s))}),Ur(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new gt(n.segments,i)}}function mC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ap(s)){const c=f8(s.outlets);return new gt(r,c)}if(0===i&&op(t[0])){r.push(new rp(n.segments[e].path,MN(t[0]))),i++;continue}const o=ap(s)?s.outlets[at]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&op(a)?(r.push(new rp(o,MN(a))),i+=2):(r.push(new rp(o,{})),i++)}return new gt(r,{})}function f8(n){const e={};return Ur(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=mC(new gt([],{}),0,t))}),e}function MN(n){const e={};return Ur(n,(t,r)=>e[r]=`${t}`),e}function NN(n,e,t){return n==t.path&&So(e,t.parameters)}const cp="imperative";class Do{constructor(e,t){this.id=e,this.url=t}}class _C extends Do{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tu extends Do{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class my extends Do{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _y extends Do{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class yC extends Do{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class p8 extends Do{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g8 extends Do{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m8 extends Do{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _8 extends Do{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends Do{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class E8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ON{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let D8=(()=>{class n{createUrlTree(t,r,i,s,o,a){return c8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(e){return D8.\u0275fac(e)},providedIn:"root"}),n})();class kN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=vC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=EC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EC(e,this._root).map(t=>t.value)}}function vC(n,e){if(n===e.value)return e;for(const t of e.children){const r=vC(n,t);if(r)return r}return null}function EC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=EC(n,t);if(r.length)return r.unshift(e),r}return[]}class Ea{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ad(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FN extends kN{constructor(e,t){super(e),this.snapshot=t,IC(this,e)}toString(){return this.snapshot.toString()}}function LN(n,e){const t=function R8(n,e){const o=new yy([],{},{},"",{},at,e,null,n.root,-1,{});return new BN("",new Ea(o,[]))}(n,e),r=new eo([new rp("",{})]),i=new eo({}),s=new eo({}),o=new eo({}),a=new eo(""),c=new Pd(r,i,o,a,s,at,e,t.root);return c.snapshot=t.root,new FN(new Ea(c,[]),t)}class Pd{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Ce(l=>l[np]))??qe(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>Td(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>Td(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function x8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yy{get title(){return this.data?.[np]}constructor(e,t,r,i,s,o,a,c,l,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=h,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Td(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Td(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BN extends kN{constructor(e,t){super(t),this.url=e,IC(this,t)}toString(){return UN(this._root)}}function IC(n,e){e.value._routerState=n,e.children.forEach(t=>IC(n,t))}function UN(n){const e=n.children.length>0?` { ${n.children.map(UN).join(", ")} } `:"";return`${n.value}${e}`}function wC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,So(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),So(e.params,t.params)||n.params.next(t.params),function q6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!So(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),So(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function CC(n,e){const t=So(n.params,e.params)&&function Z6(n,e){return wu(n,e)&&n.every((t,r)=>So(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||CC(n.parent,e.parent))}function up(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function N8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return up(n,r,i);return up(n,r)})}(n,e,t);return new Ea(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>up(n,a)),o}}const r=function O8(n){return new Pd(new eo(n.url),new eo(n.params),new eo(n.queryParams),new eo(n.fragment),new eo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>up(n,s));return new Ea(r,i)}}const TC="ngNavigationCancelingError";function jN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$N(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $N(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[TC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HN(n){return zN(n)&&Cu(n.url)}function zN(n){return n&&n[TC]}class k8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lp,this.attachRef=null}}let lp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new k8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vy=!1;let Ey=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new Nn,this.deactivateEvents=new Nn,this.attachEvents=new Nn,this.detachEvents=new Nn,this.parentContexts=Xe(lp),this.location=Xe(Qs),this.changeDetector=Xe($_),this.environmentInjector=Xe(vo)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,vy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,vy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,vy);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,vy);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new F8(t,a,i.injector);if(r&&function L8(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=We({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ki]}),n})();class F8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Pd?this.route:e===lp?this.childContexts:this.parent.get(e,t)}}let bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[O_],decls:1,vars:0,template:function(t,r){1&t&&de(0,"router-outlet")},dependencies:[Ey],encapsulation:2}),n})();function qN(n,e){return n.providers&&!n._injector&&(n._injector=N_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function DC(n){const e=n.children&&n.children.map(DC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=bC),t}function ks(n){return n.outlet||at}function GN(n,e){const t=n.filter(r=>ks(r)===e);return t.push(...n.filter(r=>ks(r)!==e)),t}function dp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $8{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ad(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ur(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ad(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ad(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ad(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new T8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new w8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(wC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),wC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=dp(i.snapshot),c=a?.get(Yl)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class WN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Iy{constructor(e,t){this.component=e,this.route=t}}function H8(n,e,t){const r=n._root;return hp(r,e?e._root:null,t,[r.value])}function Rd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function QE(n){return null!==Va(n)}(n)?e.get(n):n:r}function hp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ad(e);return n.children.forEach(o=>{(function q8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function G8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(n.url,e.url)||!So(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CC(n,e)||!So(n.queryParams,e.queryParams);default:return!CC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new WN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),hp(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Iy(a.outlet.component,o))}else o&&fp(e,a,i),i.canActivateChecks.push(new WN(r)),hp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Ur(s,(o,a)=>fp(o,t.getContext(a),i)),i}function fp(n,e,t){const r=Ad(n),i=n.value;Ur(r,(s,o)=>{fp(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Iy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pp(n){return"function"==typeof n}function AC(n){return n instanceof ay||"EmptyError"===n?.name}const wy=Symbol("INITIAL_VALUE");function xd(){return bo(n=>cN(n.map(e=>e.pipe(Cd(1),function V6(...n){const e=ns(n);return te((t,r)=>{(e?aC(n,t,e):aC(n,t)).subscribe(r)})}(wy)))).pipe(Ce(e=>{for(const t of e)if(!0!==t){if(t===wy)return wy;if(!1===t||t instanceof pc)return t}return!0}),va(e=>e!==wy),Cd(1)))}function KN(n){return function Yi(...n){return Ji(n)}(Xr(e=>{if(Cu(e))throw jN(0,e)}),Ce(e=>!0===e))}const PC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZN(n,e,t,r,i){const s=RC(n,e,t);return s.matched?function uG(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?qe(i.map(o=>{const a=Rd(o,n);return fc(function J8(n){return n&&pp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(xd(),KN()):qe(!0)}(r=qN(e,r),e,t).pipe(Ce(o=>!0===o?s:{...PC})):qe(s)}function RC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||z6)(t,n,e);if(!i)return{...PC};const s={};Ur(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Cy(n,e,t,r){if(t.length>0&&function hG(n,e,t){return t.some(r=>Ty(n,e,r)&&ks(r)!==at)}(n,t,r)){const s=new gt(e,function dG(n,e,t,r){const i={};i[at]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ks(s)!==at){const o=new gt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ks(s)]=o}return i}(n,e,r,new gt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function fG(n,e,t){return t.some(r=>Ty(n,e,r))}(n,t,r)){const s=new gt(n.segments,function lG(n,e,t,r,i){const s={};for(const o of r)if(Ty(n,t,o)&&!i[ks(o)]){const a=new gt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ks(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new gt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ty(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QN(n,e,t,r){return!!(ks(n)===r||r!==at&&Ty(e,t,n))&&("**"===n.path||RC(e,n,t).matched)}function YN(n,e,t){return 0===e.length&&!n.children[t]}const by=!1;class Sy{constructor(e){this.segmentGroup=e||null}}class JN{constructor(e){this.urlTree=e}}function gp(n){return tp(new Sy(n))}function XN(n){return tp(new JN(n))}class _G{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Cy(this.urlTree.root,[],[],this.config).segmentGroup,t=new gt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,at).pipe(Ce(s=>this.createUrlTree(gy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hc(s=>{if(s instanceof JN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sy?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,at).pipe(Ce(i=>this.createUrlTree(gy(i),e.queryParams,e.fragment))).pipe(hc(i=>{throw i instanceof Sy?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,by)}createUrlTree(e,t,r){const i=fC(e);return new pc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ce(s=>new gt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return E(i).pipe(dc(s=>{const o=r.children[s],a=GN(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ce(c=>({segment:c,outlet:s})))}),fN((s,o)=>(s[o.outlet]=o.segment,s),{}),pN())}expandSegment(e,t,r,i,s,o){return E(r).pipe(dc(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(hc(l=>{if(l instanceof Sy)return qe(null);throw l}))),lc(a=>!!a),hc((a,c)=>{if(AC(a))return YN(t,i,s)?qe(new gt([],{})):gp(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return QN(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):gp(t):gp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XN(s):this.lineralizeSegments(r,s).pipe(Ut(o=>{const a=new gt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=RC(t,i,s);if(!a)return gp(t);const g=this.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?XN(g):this.lineralizeSegments(i,g).pipe(Ut(m=>this.expandSegment(e,t,r,m.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=qN(r,e),r.loadChildren?(r._loadedRoutes?qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new gt(i,{})))):qe(new gt(i,{}))):ZN(t,r,i,e).pipe(bo(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ut(h=>{const g=h.injector??e,m=h.routes,{segmentGroup:y,slicedSegments:w}=Cy(t,a,c,m),b=new gt(y.segments,y.children);if(0===w.length&&b.hasChildren())return this.expandChildren(g,m,b).pipe(Ce(M=>new gt(a,M)));if(0===m.length&&0===w.length)return qe(new gt(a,{}));const P=ks(r)===s;return this.expandSegment(g,b,m,w,P?at:s,!0).pipe(Ce(B=>new gt(a.concat(B.segments),B.children)))})):gp(t)))}getChildConfig(e,t,r){return t.children?qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function cG(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?qe(!0):qe(i.map(o=>{const a=Rd(o,n);return fc(function K8(n){return n&&pp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(xd(),KN())}(e,t,r).pipe(Ut(i=>i?this.configLoader.loadChildren(e,t).pipe(Xr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function gG(n){return tp($N(by,3))}())):qe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qe(r);if(i.numberOfChildren>1||!i.children[at])return e.redirectTo,tp(new S(4e3,by));i=i.children[at]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new pc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ur(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Ur(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new gt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,by);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vG{}class wG{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Cy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,at).pipe(Ce(t=>{if(null===t)return null;const r=new yy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ea(r,t),s=new BN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=VN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return E(Object.keys(r.children)).pipe(dc(i=>{const s=r.children[i],o=GN(t,i);return this.processSegmentGroup(e,o,s,i)}),fN((i,s)=>i&&s?(i.push(...s),i):null),function j6(n,e=!1){return te((t,r)=>{let i=0;t.subscribe(me(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),cy(null),pN(),Ce(i=>{if(null===i)return null;const s=tO(i);return function CG(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return E(t).pipe(dc(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),lc(o=>!!o),hc(o=>{if(AC(o))return YN(r,i,s)?qe([]):qe(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!QN(t,r,i,s))return qe(null);let o;if("**"===t.path){const a=i.length>0?_N(i).parameters:{},c=rO(r)+i.length;o=qe({snapshot:new yy(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iO(t),ks(t),t.component??t._loadedComponent??null,t,nO(r),c,sO(t)),consumedSegments:[],remainingSegments:[]})}else o=ZN(r,t,i,e).pipe(Ce(({matched:a,consumedSegments:c,remainingSegments:l,parameters:h})=>{if(!a)return null;const g=rO(r)+c.length;return{snapshot:new yy(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iO(t),ks(t),t.component??t._loadedComponent??null,t,nO(r),g,sO(t)),consumedSegments:c,remainingSegments:l}}));return o.pipe(bo(a=>{if(null===a)return qe(null);const{snapshot:c,consumedSegments:l,remainingSegments:h}=a;e=t._injector??e;const g=t._loadedInjector??e,m=function TG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:w}=Cy(r,l,h,m.filter(P=>void 0===P.redirectTo));if(0===w.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(Ce(P=>null===P?null:[new Ea(c,P)]));if(0===m.length&&0===w.length)return qe([new Ea(c,[])]);const b=ks(t)===s;return this.processSegment(g,m,y,w,b?at:s).pipe(Ce(P=>null===P?null:[new Ea(c,P)]))}))}}function bG(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tO(n){const e=[],t=new Set;for(const r of n){if(!bG(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=tO(r.children);e.push(new Ea(r.value,i))}return e.filter(r=>!t.has(r))}function nO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function iO(n){return n.data||{}}function sO(n){return n.resolve||{}}function oO(n){return"string"==typeof n.title||null===n.title}function xC(n){return bo(e=>{const t=n(e);return t?E(t).pipe(Ce(()=>e)):qe(e)})}const Md=new ge("ROUTES");let MC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Xe(xx)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fc(t.loadComponent()).pipe(Ce(cO),Xr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),lC(()=>{this.componentLoaders.delete(t)})),i=new dN(r,()=>new Z).pipe(cC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,h=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=mN(c.get(Md,[],je.Self|je.Optional)));return{routes:l.map(DC),injector:c}}),lC(()=>{this.childrenLoaders.delete(r)})),o=new dN(s,()=>new Z).pipe(cC());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return fc(t()).pipe(Ce(cO),Ut(r=>r instanceof VR||Array.isArray(r)?qe(r):E(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cO(n){return function NG(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ay=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.configLoader=Xe(MC),this.environmentInjector=Xe(vo),this.urlSerializer=Xe(ip),this.rootContexts=Xe(lp),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new E8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new v8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new eo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cp,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(va(r=>0!==r.id),Ce(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),bo(r=>{let i=!1,s=!1;return qe(r).pipe(Xr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bo(o=>{const a=t.browserUrlTree.toString(),c=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new _y(o.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Pn}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return uO(o.source)&&(t.browserUrlTree=o.extractedUrl),qe(o).pipe(bo(h=>{const g=this.transitions?.getValue();return this.events.next(new _C(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Pn:Promise.resolve(h)}),function yG(n,e,t,r){return bo(i=>function mG(n,e,t,r,i){return new _G(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ce(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Xr(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function DG(n,e,t,r,i){return Ut(s=>function IG(n,e,t,r,i,s,o="emptyOnly"){return new wG(n,e,t,r,i,o,s).recognize().pipe(bo(a=>null===a?function EG(n){return new pt(e=>e.error(n))}(new vG):qe(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(Ce(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Xr(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const m=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(m,h)}t.browserUrlTree=h.urlAfterRedirects}const g=new p8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:y,extras:w}=o,b=new _C(h,this.urlSerializer.serialize(g),m,y);this.events.next(b);const P=LN(g,this.rootComponentType).snapshot;return qe(r={...o,targetSnapshot:P,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new _y(o.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Pn}}),Xr(o=>{const a=new g8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ce(o=>r={...o,guards:H8(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function eG(n,e){return Ut(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?qe({...t,guardsResult:!0}):function tG(n,e,t,r){return E(n).pipe(Ut(i=>function aG(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(a=>{const c=dp(e)??i,l=Rd(a,c);return fc(function Y8(n){return n&&pp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(lc())})).pipe(xd()):qe(!0)}(i.component,i.route,t,e,r)),lc(i=>!0!==i,!0))}(o,r,i,n).pipe(Ut(a=>a&&function W8(n){return"boolean"==typeof n}(a)?function nG(n,e,t,r){return E(e).pipe(dc(i=>aC(function iG(n,e){return null!==n&&e&&e(new I8(n)),qe(!0)}(i.route.parent,r),function rG(n,e){return null!==n&&e&&e(new C8(n)),qe(!0)}(i.route,r),function oG(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function z8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lN(()=>qe(o.guards.map(c=>{const l=dp(o.node)??t,h=Rd(c,l);return fc(function Q8(n){return n&&pp(n.canActivateChild)}(h)?h.canActivateChild(r,n):l.runInContext(()=>h(r,n))).pipe(lc())})).pipe(xd())));return qe(s).pipe(xd())}(n,i.path,t),function sG(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return qe(!0);const i=r.map(s=>lN(()=>{const o=dp(e)??t,a=Rd(s,o);return fc(function Z8(n){return n&&pp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(lc())}));return qe(i).pipe(xd())}(n,i.route,t))),lc(i=>!0!==i,!0))}(r,s,n,e):qe(a)),Ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Xr(o=>{if(r.guardsResult=o.guardsResult,Cu(o.guardsResult))throw jN(0,o.guardsResult);const a=new m8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),va(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),xC(o=>{if(o.guards.canActivateChecks.length)return qe(o).pipe(Xr(a=>{const c=new _8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),bo(a=>{let c=!1;return qe(a).pipe(function AG(n,e){return Ut(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return qe(t);let s=0;return E(i).pipe(dc(o=>function PG(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!oO(i)&&(s[np]=i.title),function RG(n,e,t,r){const i=function xG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return qe({});const s={};return E(i).pipe(Ut(o=>function MG(n,e,t,r){const i=dp(e)??r,s=Rd(n,i);return fc(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(lc(),Xr(a=>{s[o]=a}))),uC(1),function $6(n){return Ce(()=>n)}(s),hc(o=>AC(o)?Pn:tp(o)))}(s,n,e,r).pipe(Ce(o=>(n._resolvedData=o,n.data=VN(n,t).resolve,i&&oO(i)&&(n.data[np]=i.title),null)))}(o.route,r,n,e)),Xr(()=>s++),uC(1),Ut(o=>s===i.length?qe(t):Pn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Xr({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Xr(a=>{const c=new y8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),xC(o=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Xr(h=>{c.component=h}),Ce(()=>{})));for(const h of c.children)l.push(...a(h));return l};return cN(a(o.targetSnapshot.root)).pipe(cy(),Cd(1))}),xC(()=>this.afterPreactivation()),Ce(o=>{const a=function M8(n,e,t){const r=up(n,e._root,t?t._root:void 0);return new FN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Xr(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Ce(r=>(new $8(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Cd(1),Xr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Tu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),lC(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hc(o=>{if(s=!0,zN(o)){HN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new my(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HN(o)){const c=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||uO(r.source)};t.scheduleNavigation(c,cp,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new yC(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(c){r.reject(c)}}return Pn}))}))}cancelNavigationTransition(t,r,i){const s=new my(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uO(n){return n!==cp}let lO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===at);return r}getResolvedTitleForRoute(t){return t.data[np]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return Xe(OG)},providedIn:"root"}),n})(),OG=(()=>{class n extends lO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(re(eN))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return Xe(LG)},providedIn:"root"}),n})();class FG{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let LG=(()=>{class n extends FG{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Py=new ge("",{providedIn:"root",factory:()=>({})});let BG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:function(){return Xe(UG)},providedIn:"root"}),n})(),UG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jG(n){throw n}function $G(n,e,t){return e.parse("/")}const HG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Xe(Iz),this.isNgZoneEnabled=!1,this.options=Xe(Py,{optional:!0})||{},this.errorHandler=this.options.errorHandler||jG,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$G,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Xe(BG),this.routeReuseStrategy=Xe(kG),this.urlCreationStrategy=Xe(P8),this.titleStrategy=Xe(lO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=mN(Xe(Md,{optional:!0})??[]),this.navigationTransitions=Xe(Ay),this.urlSerializer=Xe(ip),this.location=Xe(F0),this.isNgZoneEnabled=Xe(Ht)instanceof Ht&&Ht.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(DC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Cu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,cp,null,r)}navigate(t,r={skipLocationChange:!1}){return function qG(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HG}:!1===r?{...zG}:r,Cu(t))return vN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return vN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l,h;return o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((g,m)=>{a=g,c=m}),h="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ao=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Z;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Tu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Id(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Id(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Id(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function h1(n,e,t){return function Sj(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?d1:Br}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)($(tr),$(Pd),function jl(n){return function SI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Lm(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(ur(),n)}("tabindex"),$(ua),$(us),$(Iu))},n.\u0275dir=We({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Fe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&ji("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ki]}),n})();class dO{}let KG=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(va(t=>t instanceof Tu),dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=N_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return E(i).pipe(hi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):qe(null);const s=i.pipe(Ut(o=>null===o?qe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?E([s,this.loader.loadComponent(r)]).pipe(hi()):s})}}return n.\u0275fac=function(t){return new(t||n)(re(tr),re(xx),re(vo),re(dO),re(MC))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OC=new ge("");let hO=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _C?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ON&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ON(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function z1(){throw new Error("invalid")}()},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();var hs=(()=>((hs=hs||{})[hs.COMPLETE=0]="COMPLETE",hs[hs.FAILED=1]="FAILED",hs[hs.REDIRECTING=2]="REDIRECTING",hs))();const Nd=!1;function gc(n,e){return{\u0275kind:n,\u0275providers:e}}const kC=new ge("",{providedIn:"root",factory:()=>!1});function pO(){const n=Xe(ls);return e=>{const t=n.get(vu);if(e!==t.components[0])return;const r=n.get(tr),i=n.get(gO);1===n.get(FC)&&r.initialNavigation(),n.get(mO,null,je.Optional)?.setUpPreloading(),n.get(OC,null,je.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gO=new ge(Nd?"bootstrap done indicator":"",{factory:()=>new Z}),FC=new ge(Nd?"initial navigation":"",{providedIn:"root",factory:()=>1});function XG(){let n=[];return n=Nd?[{provide:h_,multi:!0,useFactory:()=>{const e=Xe(tr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function b8(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],gc(1,n)}const mO=new ge(Nd?"router preloader":"");function eW(n){return gc(0,[{provide:mO,useExisting:KG},{provide:dO,useExisting:n}])}const mp=!1,_O=new ge(mp?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),tW=[F0,{provide:ip,useClass:dC},tr,lp,{provide:Pd,useFactory:function fO(n){return n.routerState.root},deps:[tr]},MC,mp?{provide:kC,useValue:!0}:[]];function nW(){return new Bx("Router",tr)}let Po=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tW,mp&&r?.enableTracing?XG().\u0275providers:[],{provide:Md,multi:!0,useValue:t},{provide:_O,useFactory:oW,deps:[[tr,new oc,new sa]]},{provide:Py,useValue:r||{}},r?.useHash?{provide:Iu,useClass:cq}:{provide:Iu,useClass:uM},{provide:OC,useFactory:()=>{const n=Xe(b5),e=Xe(Ht),t=Xe(Py),r=Xe(Ay),i=Xe(ip);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hO(i,r,n,e,t)}},r?.preloadingStrategy?eW(r.preloadingStrategy).\u0275providers:[],{provide:Bx,multi:!0,useFactory:nW},r?.initialNavigation?aW(r):[],[{provide:yO,useFactory:pO},{provide:Vx,multi:!0,useExisting:yO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Md,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(re(_O,8))},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({imports:[bC]}),n})();function oW(n){if(mp&&n)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aW(n){return["disabled"===n.initialNavigation?gc(3,[{provide:V_,multi:!0,useFactory:()=>{const e=Xe(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:FC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gc(2,[{provide:FC,useValue:0},{provide:V_,multi:!0,deps:[ls],useFactory:e=>{const t=e.get(oq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(tr),s=e.get(gO);(function ZG(n,e){n.events.pipe(va(t=>t instanceof Tu||t instanceof my||t instanceof yC||t instanceof _y),Ce(t=>t instanceof Tu||t instanceof _y?hs.COMPLETE:t instanceof my&&(0===t.code||1===t.code)?hs.REDIRECTING:hs.FAILED),va(t=>t!==hs.REDIRECTING),Cd(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Ay).afterPreactivation=()=>(r(!0),s.closed?qe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const yO=new ge(mp?"Router Initializer":"");let uW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,consts:[[1,"container"],["routerLink","/home","src","../../../../assets/images/404page.png"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"img",1),A())},dependencies:[Ao],styles:[".container[_ngcontent-%COMP%]{height:90vh;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:50%;cursor:pointer}@media only screen and (max-width: 992px){img[_ngcontent-%COMP%]{width:100%}}"]})}return n})(),lW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-customer"]],decls:1,vars:0,template:function(r,i){1&r&&de(0,"router-outlet")},dependencies:[Ey]})}return n})(),dW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,i){1&r&&(T(0,"p"),k(1,"dashboard works!"),A())}})}return n})(),vO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(r,i){1&r&&de(0,"app-dashboard")},dependencies:[dW]})}return n})();var J=Ue(861),Hi=Ue(942);Hi.Z.registerVersion("firebase","10.7.1","app-compat"),Ue(568);var Od=Ue(881);function nr(n){return"function"==typeof n}function LC(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(0,Od.registerVersion)("firebase","10.7.1","app");const VC=LC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ry(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ro{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(nr(r))try{r()}catch(s){e=s instanceof VC?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{wO(s)}catch(o){e=e??[],o instanceof VC?e=[...e,...o.errors]:e.push(o)}}if(e)throw new VC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wO(e);else{if(e instanceof Ro){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ry(t,e)}remove(e){const{_finalizers:t}=this;t&&Ry(t,e),e instanceof Ro&&e._removeParent(this)}}Ro.EMPTY=(()=>{const n=new Ro;return n.closed=!0,n})();const EO=Ro.EMPTY;function IO(n){return n instanceof Ro||n&&"closed"in n&&nr(n.remove)&&nr(n.add)&&nr(n.unsubscribe)}function wO(n){nr(n)?n():n.unsubscribe()}class mW extends Ro{constructor(e,t){super()}schedule(e,t=0){return this}}const xy={setInterval(n,e,...t){const{delegate:r}=xy;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=xy;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class CO extends mW{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return xy.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&xy.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ry(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class _W extends CO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}const BC={now:()=>(BC.delegate||Date).now(),delegate:void 0};class _p{constructor(e,t=_p.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}_p.now=BC.now;class TO extends _p{constructor(e,t=_p.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}class yW extends TO{}const vW=new yW(_W),bO=new TO(CO);function Ci(n){return e=>{if(function EW(n){return nr(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}const bu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},My={setTimeout(n,e,...t){const{delegate:r}=My;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=My;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function SO(n){My.setTimeout(()=>{const{onUnhandledError:e}=bu;if(!e)throw n;e(n)})}function DO(){}const IW=(()=>UC("C",void 0,void 0))();function UC(n,e,t){return{kind:n,value:e,error:t}}let Su=null;function Ny(n){if(bu.useDeprecatedSynchronousErrorHandling){const e=!Su;if(e&&(Su={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Su;if(Su=null,t)throw r}}else n()}class jC extends Ro{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,IO(e)&&e.add(this)):this.destination=AW}static create(e,t,r){return new yp(e,t,r)}next(e){this.isStopped?HC(function CW(n){return UC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?HC(function wW(n){return UC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?HC(IW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bW=Function.prototype.bind;function $C(n,e){return bW.call(n,e)}class SW{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Oy(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Oy(r)}else Oy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oy(t)}}}class yp extends jC{constructor(e,t,r){let i;if(super(),nr(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&bu.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$C(e.next,s),error:e.error&&$C(e.error,s),complete:e.complete&&$C(e.complete,s)}):i=e}this.destination=new SW(i)}}function Oy(n){bu.useDeprecatedSynchronousErrorHandling?function TW(n){bu.useDeprecatedSynchronousErrorHandling&&Su&&(Su.errorThrown=!0,Su.error=n)}(n):SO(n)}function HC(n,e){const{onStoppedNotification:t}=bu;t&&My.setTimeout(()=>t(n,e))}const AW={closed:!0,next:DO,error:function DW(n){throw n},complete:DO};function zi(n,e,t,r,i){return new PW(n,e,t,r,i)}class PW extends jC{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vp(n){return n}function kd(n,e=0){return Ci((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function mc(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Du(n,e=0){return Ci((t,r)=>{t.subscribe(zi(r,i=>mc(r,n,()=>r.next(i),e),()=>mc(r,n,()=>r.complete(),e),i=>mc(r,n,()=>r.error(i),e)))})}const ky=new Xl("ANGULARFIRE2_VERSION");class AO{constructor(){return((n,e)=>{const t=(0,Od.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(MW)}}const MW="app-check";function Fd(){}class PO{zone;delegate;constructor(e,t=vW){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class NW{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fd,{},Fd,Fd)),t.pipe(function RW(n,e,t){const r=nr(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ci((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(zi(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):vp}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let RO=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new PO(Zone.current)),this.insideAngular=t.run(()=>new PO(Zone.current,bO)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(re(Ht))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fs(n){return function kW(n){return function(t){return(t=t.lift(new NW(n.ngZone))).pipe(kd(n.outsideAngular),Du(n.insideAngular))}}(function Ld(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}const LW=["ngOnDestroy"];class xO{constructor(e){return e}}const Fy=new ge("angularfire2.app.options"),Ly=new ge("angularfire2.app.name");function zC(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Hi.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Hi.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;UW("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xO(o)}const UW=(n,...e)=>{},jW={provide:xO,useFactory:zC,deps:[Fy,Ht,[new oc,Ly]]};let $W=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Fy,useValue:t},{provide:Ly,useValue:r}]}}constructor(t){Hi.Z.registerVersion("angularfire",ky.full,"core"),Hi.Z.registerVersion("angularfire",ky.full,"app-compat"),Hi.Z.registerVersion("angular",b1.full,t.toString())}static \u0275fac=function(r){return new(r||n)(re(Ed))};static \u0275mod=jt({type:n});static \u0275inj=Yt({providers:[jW]})}return n})();function MO(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function HW(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(NO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${zW?" You may need to reload as Firebase is not HMR aware.":""}`),NO("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const zW=typeof module<"u"&&!!module.hot,NO=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const qC=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();let Ti=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function GW(n){return n&&n instanceof jC||function qW(n){return n&&nr(n.next)&&nr(n.error)&&nr(n.complete)}(n)&&IO(n)}(t)?t:new yp(t,r,i);return Ny(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=kO(r))((i,s)=>{const o=new yp({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[qC](){return this}pipe(...t){return function OO(n){return 0===n.length?vp:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=kO(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function kO(n){var e;return null!==(e=n??bu.Promise)&&void 0!==e?e:Promise}const WW=LC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vy=(()=>{class n extends Ti{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new FO(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new WW}next(t){Ny(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ny(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ny(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?EO:(this.currentObservers=null,s.push(t),new Ro(()=>{this.currentObservers=null,Ry(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ti;return t.source=this,t}}return n.create=(e,t)=>new FO(e,t),n})();class FO extends Vy{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:EO}}function GC(n){return n[n.length-1]}function By(n){return function KW(n){return n&&nr(n.schedule)}(GC(n))?n.pop():void 0}const LO=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function VO(n){return nr(n?.then)}function BO(n){return nr(n[qC])}function UO(n){return Symbol.asyncIterator&&nr(n?.[Symbol.asyncIterator])}function jO(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const $O=QW();function HO(n){return nr(n?.[$O])}function zO(n){return(0,Re.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Re.qq)(t.read());if(i)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(r)}}finally{t.releaseLock()}})}function qO(n){return nr(n?.getReader)}function Ia(n){if(n instanceof Ti)return n;if(null!=n){if(BO(n))return function YW(n){return new Ti(e=>{const t=n[qC]();if(nr(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(LO(n))return function JW(n){return new Ti(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(VO(n))return function XW(n){return new Ti(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,SO)})}(n);if(UO(n))return GO(n);if(HO(n))return function e7(n){return new Ti(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(qO(n))return function t7(n){return GO(zO(n))}(n)}throw jO(n)}function GO(n){return new Ti(e=>{(function n7(n,e){var t,r,i,s;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(t=(0,Re.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function WO(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ti(t=>{mc(t,e,()=>{const r=n[Symbol.asyncIterator]();mc(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wa(n,e){return e?function c7(n,e){if(null!=n){if(BO(n))return function r7(n,e){return Ia(n).pipe(kd(e),Du(e))}(n,e);if(LO(n))return function s7(n,e){return new Ti(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(VO(n))return function i7(n,e){return Ia(n).pipe(kd(e),Du(e))}(n,e);if(UO(n))return WO(n,e);if(HO(n))return function o7(n,e){return new Ti(t=>{let r;return mc(t,e,()=>{r=n[$O](),mc(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>nr(r?.return)&&r.return()})}(n,e);if(qO(n))return function a7(n,e){return WO(zO(n),e)}(n,e)}throw jO(n)}(n,e):Ia(n)}function Vd(...n){return wa(n,By(n))}function qi(n,e){return Ci((t,r)=>{let i=0;t.subscribe(zi(r,s=>{r.next(n.call(e,s,i++))}))})}function KO(n,e,t=1/0){return nr(e)?KO((r,i)=>qi((s,o)=>e(r,s,i,o))(Ia(n(r,i))),t):("number"==typeof e&&(t=e),Ci((r,i)=>function u7(n,e,t,r,i,s,o,a){const c=[];let l=0,h=0,g=!1;const m=()=>{g&&!c.length&&!l&&e.complete()},y=b=>l<r?w(b):c.push(b),w=b=>{s&&e.next(b),l++;let P=!1;Ia(t(b,h++)).subscribe(zi(e,N=>{i?.(N),s?y(N):e.next(N)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){const N=c.shift();o?mc(e,o,()=>w(N)):w(N)}m()}catch(N){e.error(N)}}))};return n.subscribe(zi(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function ZO(n=1/0){return KO(vp,n)}const WC=new Ti(n=>n.complete());function _c(n,e){return Ci((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(zi(r,c=>{i?.unsubscribe();let l=0;const h=s++;Ia(n(c,h)).subscribe(i=zi(r,g=>r.next(e?e(c,g,h,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class h7 extends Vy{constructor(e=1/0,t=1/0,r=BC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function KC(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new yp({next:()=>{r.unsubscribe(),n()}});return Ia(e(...t)).subscribe(r)}function QO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function f7(n={}){const{connector:e=(()=>new Vy),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=c=void 0,h=g=!1},w=()=>{const b=o;y(),b?.unsubscribe()};return Ci((b,P)=>{l++,!g&&!h&&m();const N=c=c??e();P.add(()=>{l--,0===l&&!g&&!h&&(a=KC(w,i))}),N.subscribe(P),!o&&l>0&&(o=new yp({next:B=>N.next(B),error:B=>{g=!0,m(),a=KC(y,t,B),N.error(B)},complete:()=>{h=!0,m(),a=KC(y,r),N.complete()}}),Ia(b).subscribe(o))})(s)}}({connector:()=>new h7(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const YO=LC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Uy(n,e){return Ci((t,r)=>{let i=0;t.subscribe(zi(r,s=>n.call(e,s,i++)&&r.next(s)))})}function m7(n=_7){return Ci((e,t)=>{let r=!1;e.subscribe(zi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _7(){return new YO}function JO(n,e){return nr(e)?_c(()=>n,e):_c(()=>n)}const XO=new ge("angularfire2.auth.use-emulator"),ek=new ge("angularfire2.auth.settings"),tk=new ge("angularfire2.auth.tenant-id"),nk=new ge("angularfire2.auth.langugage-code"),rk=new ge("angularfire2.auth.use-device-language"),ik=new ge("angularfire.auth.persistence"),sk=(n,e,t,r,i,s,o,a)=>MO(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[l,h]of Object.entries(o))c.settings[l]=h;return a&&c.setPersistence(a),c},[t,r,i,s,o,a]);let jy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,c,l,h,g,m,y){const w=new Vy,b=Vd(void 0).pipe(Du(o.outsideAngular),_c(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ue.bind(Ue,568)))),qi(()=>zC(t,s,r)),qi(P=>sk(P,s,a,l,h,g,c,m)),QO({bufferSize:1,refCount:!1}));if(PM(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Vd(null);else{b.pipe(function y7(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Uy((i,s)=>n(i,s,r)):vp,function p7(n){return n<=0?()=>WC:Ci((e,t)=>{let r=0;e.subscribe(zi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}(1),t?function g7(n){return Ci((e,t)=>{let r=!1;e.subscribe(zi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}(e):m7(()=>new YO))}()).subscribe();const P=b.pipe(_c(M=>M.getRedirectResult().then(Y=>Y,()=>null)),fs,QO({bufferSize:1,refCount:!1})),N=b.pipe(_c(M=>new Ti(Y=>({unsubscribe:s.runOutsideAngular(()=>M.onAuthStateChanged(fe=>Y.next(fe),fe=>Y.error(fe),()=>Y.complete()))})))),B=b.pipe(_c(M=>new Ti(Y=>({unsubscribe:s.runOutsideAngular(()=>M.onIdTokenChanged(fe=>Y.next(fe),fe=>Y.error(fe),()=>Y.complete()))}))));this.authState=P.pipe(JO(N),kd(o.outsideAngular),Du(o.insideAngular)),this.user=P.pipe(JO(B),kd(o.outsideAngular),Du(o.insideAngular)),this.idToken=this.user.pipe(_c(M=>M?wa(M.getIdToken()):Vd(null))),this.idTokenResult=this.user.pipe(_c(M=>M?wa(M.getIdTokenResult()):Vd(null))),this.credential=function d7(...n){const e=By(n),t=function ZW(n,e){return"number"==typeof GC(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ia(r[0]):ZO(t)(wa(r,e)):WC}(P,w,this.authState.pipe(Uy(M=>!M))).pipe(qi(M=>M?.user?M:null),kd(o.outsideAngular),Du(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(LW.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(h=>{const g=h?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,g),g})})})}))(this,b,s,{spy:{apply:(P,N,B)=>{(P.startsWith("signIn")||P.startsWith("createUser"))&&B.then(M=>w.next(M))}}})}static \u0275fac=function(r){return new(r||n)(re(Fy),re(Ly,8),re(Ed),re(Ht),re(RO),re(XO,8),re(ek,8),re(tk,8),re(nk,8),re(rk,8),re(ik,8),re(AO,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),E7=(()=>{class n{constructor(){Hi.Z.registerVersion("angularfire",ky.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Yt({providers:[jy]})}return n})(),Ep=(()=>{class n{constructor(t,r){this.fireAuth=t,this.router=r}signInWithPhoneNumber(t,r){return new Promise((i,s)=>{this.fireAuth.signInWithPhoneNumber(r,t).then(o=>{this.confirmationResult=o,i(o)}).catch(o=>{s("SMS not sent")})})}enterVerificationCode(t){return new Promise((r,i)=>{this.confirmationResult?.confirm(t).then(function(){var s=(0,J.Z)(function*(o){r(o.user)});return function(o){return s.apply(this,arguments)}}()).catch(s=>{i(s.message)})})}doSignOut(){localStorage.removeItem("verificationId"),this.userLogInStatus=!1,Hi.Z.auth().signOut(),this.router.navigate(["/signin"])}userStatus(){return this.userLogInStatus=!!localStorage.getItem("verificationId")}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("verificationId")??"")}static#e=this.\u0275fac=function(r){return new(r||n)(re(jy),re(tr))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ok=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.userLoggedInStatus=this.authService.userStatus()}canActivate(t,r){return this.userLoggedInStatus?(this.router.navigate(["/home"]),!0):(this.router.navigate(["/signin"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(re(Ep),re(tr))};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I7=[{path:"",redirectTo:"public",pathMatch:"full"},{path:"public",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-public"]],decls:2,vars:0,template:function(r,i){1&r&&(T(0,"p"),k(1,"public works!"),A())}})}return n})(),canActivate:[ok]},{path:"customer",component:lW,canActivate:[ok]},{path:"admin",component:vO},{path:"**",component:uW}];let w7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[Po.forRoot(I7),Po]})}return n})();var Pu=(()=>{return(n=Pu||(Pu={})).SlideLeft="slide-left",n.SlideRight="slide-right",n.FadeOut="fade-out",Pu;var n})();const C7=function(n,e,t){return{left:n,opacity:e,transition:t}};function T7(n,e){if(1&n&&(T(0,"div",1),de(1,"div",2),T(2,"div",3)(3,"div",4),function sf(){Je.lFrame.currentNamespace=wm}(),T(4,"svg",5)(5,"defs")(6,"style"),k(7," .cls-1 { fill: #FAF8FF; stroke:none; stroke-width: 2px; font-size: 387px; font-family: Gabriola; stroke-dasharray: 1360; animation-iteration-count: 1; animation: csvg 3s cubic-bezier(0, 0.23, 1, .1); } @keyframes csvg { 0% { stroke: #fff; stroke-width: 2px; opacity: 0; fill: none; stroke-dasharray: 0; } 30% { stroke: #fff; stroke-width: 2px; opacity: 10; fill: none; /* stroke-dasharray: 1360; */ } 80% { stroke: #fff; stroke-width: 2px; fill: rgba(255, 255, 255, 0); } 100% { opacity: 10; fill: #FFE7FF; stroke-dasharray: 1360; outline: none; stroke: none; } } "),A()(),T(8,"text",6)(9,"tspan",7),k(10,"Cocktail Club"),A()()()()()()),2&n){const t=lt();De("ngStyle",GR(1,C7,t.windowWidth,t.opacityChange,t.splashTransition))}}let ak=(()=>{class n{constructor(){this.opacityChange=1,this.showSplash=!0,this.animationDuration=.5,this.duration=1,this.animationType=Pu.FadeOut}ngOnInit(){setTimeout(()=>{let t="";switch(this.animationType){case Pu.SlideLeft:this.windowWidth="-"+window.innerWidth+"px",t="left "+this.animationDuration+"s";break;case Pu.SlideRight:this.windowWidth=window.innerWidth+"px",t="left "+this.animationDuration+"s";break;case Pu.FadeOut:t="opacity "+this.animationDuration+"s",this.opacityChange=0}this.splashTransition=t,setTimeout(()=>{this.showSplash=!this.showSplash},1e3*this.animationDuration)},1e3*this.duration)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-splash-screen"]],inputs:{animationDuration:"animationDuration",duration:"duration",animationType:"animationType"},decls:1,vars:1,consts:[["class","splash-screen-container",3,"ngStyle",4,"ngIf"],[1,"splash-screen-container",3,"ngStyle"],[1,"logo"],[1,"label"],[1,"wrapper"],["xmlns","http://www.w3.org/2000/svg","width","1200","height","200","viewBox","0 0 1300 399"],["id","id","data-name","Nihil Babu","transform","translate(6 271)",1,"cls-1"],["x","0","y","0"]],template:function(r,i){1&r&&Ve(0,T7,11,5,"div",0),2&r&&De("ngIf",i.showSplash)},dependencies:[To,Z0],styles:[".splash-screen-container[_ngcontent-%COMP%]{background-color:#fff;position:fixed;inset:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:100;opacity:1}.logo[_ngcontent-%COMP%]{background:url(cocktail.47a9e83bd1238442.gif) no-repeat,center;max-width:100%;background-size:contain;width:100px;height:100px}.wrapper[_ngcontent-%COMP%]{position:absolute;top:35%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 992px){.logo[_ngcontent-%COMP%]{width:50px;height:50px}.label[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600}}"]})}return n})(),b7=(()=>{class n{constructor(){this.title="cocktail-club"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:3,vars:3,consts:[[1,"container-fluid"],[3,"animationType","duration","animationDuration"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-splash-screen",1)(2,"router-outlet"),A()),2&r&&(G(1),De("animationType","fade-out")("duration",2)("animationDuration",.5))},dependencies:[ak,Ey],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']})}return n})();const S7=[{path:"dashboard",component:vO}];let D7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[Po.forChild(S7),Po]})}return n})(),A7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[wd,D7,Po]})}return n})(),Gi=(()=>{class n{constructor(){}getCart(){return JSON.parse(localStorage.getItem("cart"))}addToCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.push(t),localStorage.setItem("cart",JSON.stringify(r))}removeFromCart(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.splice(t,1),localStorage.setItem("cart",JSON.stringify(r))}addQtyToCart(t,r){let i=[];localStorage.getItem("cart")&&(i=JSON.parse(localStorage.getItem("cart"))||[]),i[t].quantity=r}addToOrders(t){let r=[];localStorage.getItem("cart")&&(r=JSON.parse(localStorage.getItem("cart"))||[]),r.push(t),localStorage.setItem("orders",JSON.stringify(r))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P7(n,e){if(1&n){const t=Jn();T(0,"ul",30)(1,"li",31)(2,"b"),k(3),A()(),T(4,"li")(5,"a",32),k(6,"Edit Profile"),A()(),T(7,"li")(8,"a",33),k(9,"My Orders"),A()(),T(10,"li")(11,"a",34),Fe("click",function(){return tn(t),$t(lt().logOut())}),k(12,"Logout"),A()()()}if(2&n){const t=lt();G(3),br("Hi ",t.fullName,"")}}function R7(n,e){1&n&&(T(0,"ul",30)(1,"li")(2,"a",35),k(3,"Sign in/Sign up"),A()()())}function x7(n,e){1&n&&(T(0,"a",36),de(1,"img",37),A())}function M7(n,e){1&n&&(T(0,"a",38),k(1," Home "),A())}function N7(n,e){1&n&&(T(0,"a",39),k(1," Cocktails "),A())}function O7(n,e){1&n&&(T(0,"a",40),k(1," Juices "),A())}function k7(n,e){1&n&&(T(0,"a",41),k(1," Beverages "),A())}function F7(n,e){1&n&&(T(0,"a",42),k(1," Fast Food "),A())}function L7(n,e){1&n&&(T(0,"a",43),k(1," Beers "),A())}function V7(n,e){1&n&&(T(0,"a",44),k(1," Alcohol "),A())}function B7(n,e){1&n&&(T(0,"a",45),k(1," Cigarettes "),A())}function U7(n,e){1&n&&(T(0,"a",46),k(1," Snacks "),A())}function j7(n,e){1&n&&(T(0,"a",47),k(1," Cold Drink "),A())}function $7(n,e){1&n&&(T(0,"a",48),k(1," Party Essentials "),A())}function H7(n,e){1&n&&(T(0,"a",49),k(1," Rent Party Speaker "),A())}let Wi=(()=>{class n{constructor(t,r,i){this.router=t,this.authService=r,this.appService=i,this.userLoggedIn=this.authService.userStatus(),this.fullName=JSON.parse(localStorage.getItem("fullName")||"{}"),this.quantity=Number(localStorage.getItem("quantity")),console.log(this.quantity),console.log(this.userLoggedIn)}shouldDisplayLink(t){return this.router.url!==t}logOut(){this.authService.doSignOut()}static#e=this.\u0275fac=function(r){return new(r||n)($(tr),$(Ep),$(Gi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-navbar"]],decls:38,vars:16,consts:[[1,"navbar","navbar-expand-lg","sticky-top"],[1,"container-fluid"],[1,"sec-1"],["routerLink","/home",1,"navbar-brand"],["src","../../../../assets/images/navbar/cocktail.gif","alt","logo"],[1,"sec-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"dropdown","nav-item"],["type","button","data-bs-toggle","dropdown",1,"btn","dropdown-toggle","border-0","nav-link"],["src","../../../../assets/images/navbar/profile.png","alt","profile",1,"user-profile-picture"],["class","dropdown-menu dropdown-menu-center",4,"ngIf"],["class","nav-link","routerLink","../cart",4,"ngIf"],["id","lblCartCount",1,"badge","badge-warning"],["id","category-links"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],["class","nav-link","routerLink","../home",4,"ngIf"],["class","nav-link","routerLink","../cocktail",4,"ngIf"],["class","nav-link","routerLink","../fruit-juice",4,"ngIf"],["class","nav-link","routerLink","../beverage",4,"ngIf"],["class","nav-link","routerLink","../fast-food",4,"ngIf"],["class","nav-link","routerLink","../beers",4,"ngIf"],["class","nav-link","routerLink","../alcohol",4,"ngIf"],["class","nav-link","routerLink","../cigarettes",4,"ngIf"],["class","nav-link","routerLink","../snacks",4,"ngIf"],["class","nav-link","routerLink","../cold-drink",4,"ngIf"],["class","nav-link","routerLink","../party-essentials",4,"ngIf"],["class","nav-link","routerLink","../rent-speaker",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-center"],[1,"dropdown-item"],["href","#","routerLink","/update-profile",1,"dropdown-item"],["href","#","routerLink","/orders",1,"dropdown-item"],["href","#",1,"dropdown-item",3,"click"],["href","#","routerLink","/signin",1,"dropdown-item"],["routerLink","../cart",1,"nav-link"],["src","../../../../assets/images/navbar/cart.png","alt","cart",1,"nav-icons"],["routerLink","../home",1,"nav-link"],["routerLink","../cocktail",1,"nav-link"],["routerLink","../fruit-juice",1,"nav-link"],["routerLink","../beverage",1,"nav-link"],["routerLink","../fast-food",1,"nav-link"],["routerLink","../beers",1,"nav-link"],["routerLink","../alcohol",1,"nav-link"],["routerLink","../cigarettes",1,"nav-link"],["routerLink","../snacks",1,"nav-link"],["routerLink","../cold-drink",1,"nav-link"],["routerLink","../party-essentials",1,"nav-link"],["routerLink","../rent-speaker",1,"nav-link"]],template:function(r,i){1&r&&(T(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),de(4,"img",4),T(5,"h4"),k(6,"Cocktail Club"),A()()(),T(7,"div",5)(8,"button",6),de(9,"span",7),A(),T(10,"div",8)(11,"div",9)(12,"div",10)(13,"button",11),de(14,"img",12),A(),Ve(15,P7,13,1,"ul",13),Ve(16,R7,4,0,"ul",13),A(),Ve(17,x7,2,0,"a",14),T(18,"span",15),k(19),A()()()()(),T(20,"div",16)(21,"div")(22,"button",6),de(23,"span",7),A(),T(24,"div",17)(25,"div",9),Ve(26,M7,2,0,"a",18),Ve(27,N7,2,0,"a",19),Ve(28,O7,2,0,"a",20),Ve(29,k7,2,0,"a",21),Ve(30,F7,2,0,"a",22),Ve(31,L7,2,0,"a",23),Ve(32,V7,2,0,"a",24),Ve(33,B7,2,0,"a",25),Ve(34,U7,2,0,"a",26),Ve(35,j7,2,0,"a",27),Ve(36,$7,2,0,"a",28),Ve(37,H7,2,0,"a",29),A()()()()()),2&r&&(G(15),De("ngIf",i.userLoggedIn),G(1),De("ngIf",!i.userLoggedIn),G(1),De("ngIf",i.shouldDisplayLink("/cart")),G(2),$e(i.quantity),G(7),De("ngIf",i.shouldDisplayLink("/home")),G(1),De("ngIf",i.shouldDisplayLink("/cocktail")),G(1),De("ngIf",i.shouldDisplayLink("/fruit-juice")),G(1),De("ngIf",i.shouldDisplayLink("/beverage")),G(1),De("ngIf",i.shouldDisplayLink("/fast-food")),G(1),De("ngIf",i.shouldDisplayLink("/beers")),G(1),De("ngIf",i.shouldDisplayLink("/alcohol")),G(1),De("ngIf",i.shouldDisplayLink("/cigarettes")),G(1),De("ngIf",i.shouldDisplayLink("/snacks")),G(1),De("ngIf",i.shouldDisplayLink("/cold-drink")),G(1),De("ngIf",i.shouldDisplayLink("/party-essentials")),G(1),De("ngIf",i.shouldDisplayLink("/rent-speaker")))},dependencies:[To,Ao],styles:[".navbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}nav[_ngcontent-%COMP%]{padding:0}.container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#fffff733}.nav-link[_ngcontent-%COMP%]{color:#ff6907;font-weight:500;font-size:16px;letter-spacing:1px}.nav-link[_ngcontent-%COMP%]:hover{font-weight:600}.nav-icons[_ngcontent-%COMP%]{width:100%;height:25px;padding:0 10px}.navbar-brand[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:100%}.navbar-brand[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-weight:bolder;font-size:32px;letter-spacing:2px;color:#ff6907;padding-top:10px}#onMobileCartIcon[_ngcontent-%COMP%]{display:none}.user-profile-picture[_ngcontent-%COMP%]{width:35px;height:35px}.dropdown-menu.dropdown-menu-center[_ngcontent-%COMP%]{left:40%!important;right:auto!important;transform:translate(-50%)!important}.dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dropdown-item[_ngcontent-%COMP%]{font-size:14px;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dropdown-divider[_ngcontent-%COMP%]{border:none;height:2px;background-color:#000;margin:.5rem 0;opacity:.5}#lblCartCount[_ngcontent-%COMP%]{font-weight:700;font-size:12px;height:20px;width:20px;border-radius:50%;text-align:center;background:rgb(255,105,7);margin-left:-20px}.category-links[_ngcontent-%COMP%]{background-color:#fffff733}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{width:100%;padding-left:10%}.brand-logo[_ngcontent-%COMP%]{width:100%;height:45px}.navbar-brand[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}#onMobileCartIcon[_ngcontent-%COMP%]{display:block;height:20px;width:20px}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}.navbar-toggler[_ngcontent-%COMP%]{margin-top:10px}.nav-link[_ngcontent-%COMP%]{font-size:12px}.dropdown[_ngcontent-%COMP%]{padding-left:8%}.dropdown-menu.dropdown-menu-center[_ngcontent-%COMP%]{left:30%!important;right:0!important;transform:translate(0)!important}}@media only screen and (max-width: 992px){nav[_ngcontent-%COMP%]{width:100%}#onMobileCartIcon[_ngcontent-%COMP%]{display:block}#onDesktopCartIcon[_ngcontent-%COMP%]{display:none}.nav-icons[_ngcontent-%COMP%]{width:50%}}"]})}return n})(),z7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer"],["id","flex",1,"container"],[1,"sec-1"],[1,"sec-2"],[1,"fa","fa-location-arrow"],[1,"fa","fa-phone"],[1,"fa","fa","fa-envelope"],["id","copyright-section",1,"container"],[1,"text-center"]],template:function(r,i){1&r&&(T(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h4"),k(4,"Cocktail Club"),A(),T(5,"p"),k(6,"Thank you for exploring Cocktail Club \u2013 your ticket to a world of culinary delights! Explore our menu featuring fresh juices, artisanal cocktails, delectable pizzas, juicy burgers, and an array of hot and cold beverages and shakes. Savor the flavors, make memories, and embark on a one-of-a-kind culinary adventure with us."),A()(),T(7,"div",3)(8,"h4"),k(9,"Contact Us"),A(),T(10,"p"),de(11,"i",4),k(12," Shop 15-A,Connaught place, New Delhi "),A(),T(13,"p"),de(14,"i",5),k(15," +91-9900000000 "),A(),T(16,"p"),de(17,"i",5),k(18," +91-9987451000 "),A(),T(19,"p"),de(20,"i",6),k(21," info@cocktailclub.com "),A()()(),T(22,"div",7)(23,"p",8),k(24,"Copyright @2024 "),T(25,"b"),k(26,"Cocktail Club"),A()()()())},styles:["footer[_ngcontent-%COMP%]{min-height:250px;padding:10px 0 0;margin:110px 0 -44px;border-top:1px solid silver;background-color:#c0c0c033;color:gray}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-bottom:0;margin-bottom:8px}h4[_ngcontent-%COMP%]{font-size:20px}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;display:flex;padding-top:10px}.sec-1[_ngcontent-%COMP%]{padding-right:20px;width:80%}#copyright-section[_ngcontent-%COMP%]{border-top:1px solid silver;margin-top:15px;padding:12px 0}@media only screen and (max-width: 768px){footer[_ngcontent-%COMP%]{border-top:1px solid silver}footer[_ngcontent-%COMP%]   #flex[_ngcontent-%COMP%]{width:100%;flex-direction:column;text-align:justify}.sec-1[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}h4[_ngcontent-%COMP%]{font-size:14px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px}}"]})}return n})(),q7=(()=>{class n{constructor(){this.userData={}}ngOnInit(){let t=localStorage.getItem("user")||[];console.log("User data : "+t),console.log(localStorage.getItem("verificationId"))}navigateToTop(){window.scrollTo(0,0)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:148,vars:0,consts:[[1,"container-fluid"],[1,"carousel-img-section"],[1,"carousel-sec-1"],[1,"img-sec-1"],["src","../../../../assets/images/home/carousel/cocktail.jpg"],["src","../../../../assets/images/home/carousel/burger.jpg"],[1,"img-sec-2"],["src","../../../../assets/images/home/carousel/coffee.jpg"],["src","../../../../assets/images/home/carousel/juice.jpg"],[1,"carousel-sec-2"],[1,"text-lt"],[1,"text-dk"],[1,"imgOnRight-section","sec-1"],[1,"imgOnRight-left-section"],["routerLink","/cocktail","src","../../../../assets/images/home/cocktail.jpg","alt","cocktail",3,"click"],[1,"imgOnRight-right-section"],[1,"sale-offer"],["routerLink","/cocktail",1,"btn",3,"click"],[1,"imgOnLeft-section","sec-2"],[1,"imgOnLeft-left-section"],["routerLink","/beers",1,"btn",3,"click"],[1,"imgOnLeft-right-section"],["routerLink","/beers","src","../../../../assets/images/home/beer.jpg","alt","beer",3,"click"],["routerLink","/alcohol","src","../../../../assets/images/home/alcohol.jpg","alt","alcohol",3,"click"],["routerLink","/alcohol",1,"btn",3,"click"],["routerLink","/fruit-juice",1,"btn",3,"click"],["routerLink","/fruit-juice","src","../../../../assets/images/home/juice.jpg","alt","juice",3,"click"],[1,"imgOnRight-section","sec-3"],["routerLink","/beverage","src","../../../../assets/images/home/beverage.jpg","alt","beverage",3,"click"],["routerLink","/beverage",1,"btn",3,"click"],[1,"imgOnLeft-section","sec-4"],["routerLink","/fast-food",1,"btn",3,"click"],["routerLink","/fast-food","src","../../../../assets/images/home/fastfood.jpg","alt","fast-food",3,"click"],["routerLink","/cold-drink","src","../../../../assets/images/home/cold-drink.jpg","alt","cold-drink",3,"click"],["routerLink","/snacks",1,"btn",3,"click"],["routerLink","/snacks","src","../../../../assets/images/home/snacks.jpg","alt","fast-food",3,"click"],["routerLink","/cigarettes","src","../../../../assets/images/home/cigarettes.jpg","alt","cigarettes",3,"click"],["routerLink","/cigarettes",1,"btn",3,"click"],["routerLink","/rent-speaker",1,"btn",3,"click"],["routerLink","/rent-speaker","src","../../../../assets/images/home/rent-speaker.jpg","alt","rent-speaker",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"div",1)(3,"div",2)(4,"div",3),de(5,"img",4)(6,"img",5),A(),T(7,"div",6),de(8,"img",7)(9,"img",8),A()(),T(10,"div",9)(11,"h1",10),k(12,"Bring the bar"),A(),T(13,"h1",11),k(14,"Home."),A(),T(15,"p"),k(16," Delivering expertly crafted cocktails, whiskey, wine, beers, vodka, tequila, revitalizing fruit juices, a range of hot and cold beverages, cold drinks, snacks and delectable fast food to your doorstep. "),A()()(),T(17,"div",12)(18,"div",13)(19,"img",14),Fe("click",function(){return i.navigateToTop()}),A()(),T(20,"div",15)(21,"h1"),k(22,"Cocktails"),A(),T(23,"p"),k(24,"Eat. Sleep. Cocktail. Repeat."),A(),T(25,"span",16),k(26,"* Buy 1 Get 1 on Cocktails upto INR 599/-. Happy Hour O'clock."),A(),de(27,"br"),T(28,"button",17),Fe("click",function(){return i.navigateToTop()}),k(29,"Explore now"),A()()(),T(30,"div",18)(31,"div",19)(32,"h1"),k(33,"Beer"),A(),T(34,"p"),k(35,"Would you say no to another?"),A(),T(36,"span",16),k(37,"* 2% flat off on selected beers."),A(),de(38,"br"),T(39,"button",20),Fe("click",function(){return i.navigateToTop()}),k(40,"Explore now"),A()(),T(41,"div",21)(42,"img",22),Fe("click",function(){return i.navigateToTop()}),A()()(),T(43,"div",12)(44,"div",13)(45,"img",23),Fe("click",function(){return i.navigateToTop()}),A()(),T(46,"div",15)(47,"h1"),k(48,"Alcohol"),A(),T(49,"p"),k(50,"Get the party started"),A(),T(51,"span",16),k(52,"* INR 200 off upto INR 2599/-."),A(),de(53,"br"),T(54,"button",24),Fe("click",function(){return i.navigateToTop()}),k(55,"Explore now"),A()()(),T(56,"div",18)(57,"div",19)(58,"h1"),k(59,"Fruit Juices"),A(),T(60,"p"),k(61,"Fresh fruit juices straight from Mother Nature herself."),A(),T(62,"span",16),k(63,"* 15% flat off on all juices."),A(),de(64,"br"),T(65,"button",25),Fe("click",function(){return i.navigateToTop()}),k(66,"Explore now"),A()(),T(67,"div",21)(68,"img",26),Fe("click",function(){return i.navigateToTop()}),A()()(),T(69,"div",27)(70,"div",13)(71,"img",28),Fe("click",function(){return i.navigateToTop()}),A()(),T(72,"div",15)(73,"h1"),k(74,"Beverages"),A(),T(75,"p"),k(76,"Beverages that refreshes the body. Refreshes the soul."),A(),T(77,"span",16),k(78," * Buy 1 Get 1 on all hot and cold beverages."),A(),de(79,"br"),T(80,"button",29),Fe("click",function(){return i.navigateToTop()}),k(81,"Explore now"),A()()(),T(82,"div",30)(83,"div",19)(84,"h1"),k(85,"Fast Food"),A(),T(86,"p"),k(87,"Fast Fuel for Hungry Souls."),A(),T(88,"span",16),k(89," * Free medium pizza of your choice on above order of INR 999/-."),A(),de(90,"br"),T(91,"button",31),Fe("click",function(){return i.navigateToTop()}),k(92,"Explore now"),A()(),T(93,"div",21)(94,"img",32),Fe("click",function(){return i.navigateToTop()}),A()()(),T(95,"div",27)(96,"div",13)(97,"img",33),Fe("click",function(){return i.navigateToTop()}),A()(),T(98,"div",15)(99,"h1"),k(100,"Cold Drinks"),A(),T(101,"p"),k(102,"Quench your thirst, feel alive!"),A(),T(103,"span",16),k(104," * Buy 1 Get 1 on all coca cola."),A(),de(105,"br"),T(106,"button",29),Fe("click",function(){return i.navigateToTop()}),k(107,"Explore now"),A()()(),T(108,"div",30)(109,"div",19)(110,"h1"),k(111,"Snacks"),A(),T(112,"p"),k(113,"Chakhna For Everyone"),A(),T(114,"span",16),k(115," * Free medium pizza of your choice on above order of INR 999/-."),A(),de(116,"br"),T(117,"button",34),Fe("click",function(){return i.navigateToTop()}),k(118,"Explore now"),A()(),T(119,"div",21)(120,"img",35),Fe("click",function(){return i.navigateToTop()}),A()()(),T(121,"div",27)(122,"div",13)(123,"img",36),Fe("click",function(){return i.navigateToTop()}),A()(),T(124,"div",15)(125,"h1"),k(126,"Cigarettes"),A(),T(127,"p"),k(128,"Cigarette... Get Your Cigarette Here."),A(),T(129,"span",16),k(130," * INR 5 off on all products"),A(),de(131,"br"),T(132,"button",37),Fe("click",function(){return i.navigateToTop()}),k(133,"Explore now"),A()()(),T(134,"div",18)(135,"div",19)(136,"h1"),k(137,"Rent a Speaker & more..."),A(),T(138,"p"),k(139,"So your party feel like a party!"),A(),T(140,"span",16),k(141,"Starting from INR 400 per day."),A(),de(142,"br"),T(143,"button",38),Fe("click",function(){return i.navigateToTop()}),k(144,"Explore now"),A()(),T(145,"div",21)(146,"img",39),Fe("click",function(){return i.navigateToTop()}),A()()(),de(147,"app-footer"),A())},dependencies:[Ao,Wi,z7],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff}.carousel-img-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.carousel-sec-2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:40%}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:320px;height:310px}.text-lt[_ngcontent-%COMP%]{font-weight:lighter;font-size:26px;letter-spacing:2px;color:#ff6907}.text-dk[_ngcontent-%COMP%]{font-weight:bolder;font-size:60px;letter-spacing:3px;color:#ff6907}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;text-align:justify;line-height:30px}.imgOnLeft-section[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]{height:600px;margin-top:80px;display:flex;justify-content:space-around;align-items:center;text-align:center}.imgOnLeft-left-section[_ngcontent-%COMP%], .imgOnRight-right-section[_ngcontent-%COMP%]{padding:60px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff6907;font-weight:700;font-size:50px;letter-spacing:3px}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1e3932;font-weight:500;font-size:18px;max-width:550px}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:560px;border-radius:50%;background-color:#fff}.btn[_ngcontent-%COMP%]{padding:10px 30px;border-radius:30px;margin-top:18px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0009}.sale-offer[_ngcontent-%COMP%]{font-size:13px;color:gray}@media only screen and (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{width:100%}.text-lt[_ngcontent-%COMP%]{font-size:14px;letter-spacing:0}.text-dk[_ngcontent-%COMP%]{font-size:30px;letter-spacing:1px}.carousel-img-section[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.carousel-img-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-align:justify;line-height:20px}.carousel-sec-1[_ngcontent-%COMP%]{flex-direction:row}.carousel-sec-2[_ngcontent-%COMP%]{flex-direction:column;width:100%;margin-top:30px}.carousel-img-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:100%}.sec-1[_ngcontent-%COMP%]{flex-direction:column-reverse}.sec-2[_ngcontent-%COMP%]{flex-direction:column}.sec-3[_ngcontent-%COMP%]{flex-direction:column-reverse}.sec-4[_ngcontent-%COMP%]{flex-direction:column}.imgOnLeft-right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imgOnRight-left-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;padding:25px}.imgOnLeft-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px;letter-spacing:1px}.imgOnLeft-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .imgOnRight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{padding:8px 24px;border-radius:30px;margin-top:15px;font-size:12px}.sale-offer[_ngcontent-%COMP%]{font-size:10px}}"]})}return n})();const G7=[{id:1,name:"Fresh Orange",price:49,image:"/assets/images/products/juice/orange.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:2,name:"Mixed Fruit",price:89,image:"/assets/images/products/juice/mixedfruit.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:3,name:"Lemonade",price:29,image:"/assets/images/products/juice/lemonade.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:4,name:"Pineapple",price:39,image:"/assets/images/products/juice/pineapple.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:5,name:"Watermelon",price:39,image:"/assets/images/products/juice/watermelon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:6,name:"Mango",price:39,image:"/assets/images/products/juice/mango.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:7,name:"Berry berry",price:39,image:"/assets/images/products/juice/berryberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],W7=[{id:8,name:"Kiwi",price:89,image:"/assets/images/products/juice/kiwi.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:9,name:"Mango",price:49,image:"/assets/images/products/juice/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:10,name:"Strawberry",price:59,image:"/assets/images/products/juice/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:11,name:"Banana",price:39,image:"/assets/images/products/juice/banana.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:12,name:"Coconut Crush",price:119,image:"/assets/images/products/juice/coconutcrush.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:13,name:"Cold coco",price:89,image:"/assets/images/products/juice/coldcoco.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:14,name:"Chocolate",price:79,image:"/assets/images/products/juice/chocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],K7=[{id:15,name:"Double patty",price:169,image:"/assets/images/products/fastfood/doublepatty.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:16,name:"Veggie",price:39,image:"/assets/images/products/fastfood/veggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:17,name:"Burger + Fries",price:189,image:"/assets/images/products/fastfood/burger+fries.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:18,name:"Double patty",price:229,image:"/assets/images/products/fastfood/doubleburger.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:19,name:"Aaloo tikki",price:59,image:"/assets/images/products/fastfood/aalootikki.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:20,name:"Black bun",price:199,image:"/assets/images/products/fastfood/blackbun.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:21,name:"Mexican",price:99,image:"/assets/images/products/fastfood/mexican.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],Z7=[{id:22,name:"Cheesilious",price:699,image:"/assets/images/products/fastfood/cheesilisious.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:23,name:"Fresh veggie",price:399,image:"/assets/images/products/fastfood/freshveggie.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:24,name:"Margherita",price:299,image:"/assets/images/products/fastfood/margherita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:25,name:"Pepperoni",price:319,image:"/assets/images/products/fastfood/pepperoni.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:26,name:"Italian",price:549,image:"/assets/images/products/fastfood/italian.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:27,name:"Paneer onion",price:249,image:"/assets/images/products/fastfood/paneeronion.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:28,name:"Tandoori",price:449,image:"/assets/images/products/fastfood/anycombo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],Q7=[{id:29,name:"French Fries",price:49,image:"https://img.freepik.com/free-photo/crispy-french-fries-with-ketchup-mayonnaise_1150-26588.jpg?w=996&t=st=1681408625~exp=1681409225~hmac=146de81cd90a83953a0517c9f425613aac26d79fc32211aeb24a222e8b1cc26e",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],Y7=[{id:30,name:"Latte",price:59,image:"/assets/images/products/beverage/latte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:31,name:"Vanilla Latte",price:99,image:"/assets/images/products/beverage/vanillalatte.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:32,name:"Cappuccino",price:49,image:"/assets/images/products/beverage/cappuccino.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:33,name:"Espresso",price:49,image:"/assets/images/products/beverage/espresso.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:34,name:"Americano",price:59,image:"/assets/images/products/beverage/americano.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:35,name:"Mocha",price:69,image:"/assets/images/products/beverage/mocha.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:36,name:"Dark Coffee",price:39,image:"/assets/images/products/beverage/darkcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:37,name:"Ginger Tea",price:19,image:"/assets/images/products/beverage/gingertea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:38,name:"Cardamom Tea",price:19,image:"/assets/images/products/beverage/cardamon.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:39,name:"Black Tea",price:19,image:"/assets/images/products/beverage/blacktea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:40,name:"Hot Lemon Tea",price:29,image:"/assets/images/products/beverage/lemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:41,name:"Lemon grass tea",price:39,image:"/assets/images/products/beverage/lemongrass.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:42,name:"Masala Latte Tea",price:49,image:"/assets/images/products/beverage/masalatea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:43,name:"Cookies -6N",price:29,image:"/assets/images/products/beverage/cookies.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],J7=[{id:44,name:"Unicorn",price:249,image:"/assets/images/products/beverage/unicorn.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:45,name:"Chocolate Dive",price:149,image:"/assets/images/products/beverage/chocolatedrive.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:46,name:"Strawberry",price:129,image:"/assets/images/products/beverage/strawberry.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:47,name:"Dark Chocolate",price:139,image:"/assets/images/products/beverage/darkchocolate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:48,name:"Mango",price:119,image:"/assets/images/products/beverage/mangoshake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:49,name:"Cool buzz",price:169,image:"/assets/images/products/beverage/coolbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:50,name:"Cold Coffee",price:149,image:"/assets/images/products/beverage/coldcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:51,name:"Oreo Shake",price:169,image:"/assets/images/products/beverage/oreo.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:52,name:"Pink Island",price:189,image:"/assets/images/products/beverage/pinkisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:53,name:"Choco Overload",price:249,image:"/assets/images/products/beverage/chocooverload.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:54,name:"Frozen princess",price:229,image:"/assets/images/products/beverage/frozenprincess.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:55,name:"Iced Tea",price:69,image:"/assets/images/products/beverage/icedtea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:56,name:"Iced coffee",price:79,image:"/assets/images/products/beverage/icedcoffee.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:57,name:"Iced lemon tea",price:89,image:"/assets/images/products/beverage/icedlemontea.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],X7=[{id:58,name:"Mojito",price:149,image:"/assets/images/products/cocktail/mojito.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:59,name:"Gin Buzz",price:349,image:"/assets/images/products/cocktail/ginbuzz.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:60,name:"Cool Blue",price:159,image:"/assets/images/products/cocktail/coolblue.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:61,name:"Bloody Mary",price:189,image:"/assets/images/products/cocktail/bloodymary.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:62,name:"Mai Tai",price:199,image:"/assets/images/products/cocktail/maitai.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:63,name:"Apple Tini",price:139,image:"/assets/images/products/cocktail/appletini.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:64,name:"Manhattan",price:189,image:"/assets/images/products/cocktail/manhattan.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:65,name:"Sazerac",price:229,image:"/assets/images/products/cocktail/sazerac.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:66,name:"Screwdriver",price:239,image:"/assets/images/products/cocktail/screwdriver.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:67,name:"Long Island",price:279,image:"/assets/images/products/cocktail/longisland.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:68,name:"Pina Colada",price:349,image:"/assets/images/products/cocktail/pinacolada.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:69,name:"Berry Margarita",price:279,image:"/assets/images/products/cocktail/berrymargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:70,name:"Lime Margarita",price:279,image:"/assets/images/products/cocktail/limemargarita.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:71,name:"Whiskey Sour",price:279,image:"/assets/images/products/cocktail/whiskeysour.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],eK=[{id:72,name:"Budweiser Magnum",price:280,image:"/assets/images/products/beers/budweiser-magnum.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:73,name:"Budweiser",price:190,image:"/assets/images/products/beers/budweiser.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:74,name:"Carlsberg Elephant",price:220,image:"/assets/images/products/beers/carlsberg-elephant.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:75,name:"Kingfisher Ultra",price:180,image:"/assets/images/products/beers/kingfisher-ultra.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:76,name:"Kingfisher Strong",price:200,image:"/assets/images/products/beers/kingfisher-strong.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:77,name:"Tuborg",price:160,image:"/assets/images/products/beers/tuborg.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:78,name:"Bira Boom",price:190,image:"/assets/images/products/beers/bira-boom.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:79,name:"Heineken",price:240,image:"/assets/images/products/beers/heineken.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:80,name:"Godfather",price:250,image:"/assets/images/products/beers/godfather.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:81,name:"Bira Blonde",price:180,image:"/assets/images/products/beers/bira-blonde.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:82,name:"Carlsberg",price:170,image:"/assets/images/products/beers/carlsberg.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:83,name:"Royal Challenge",price:150,image:"/assets/images/products/beers/royal-challenge-beer.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:84,name:"Haywards 5000",price:120,image:"/assets/images/products/beers/haywards5000.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:85,name:"Simba",price:140,image:"/assets/images/products/beers/simba.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],tK=[{id:86,name:"Black Dog",price:6500,image:"/assets/images/products/alcohol/black-dog.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:87,name:"Ballentine's",price:5650,image:"/assets/images/products/alcohol/ballentines.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:88,name:"Jack Daniel's",price:4590,image:"/assets/images/products/alcohol/jack-deniels.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:89,name:"Chivas Regal",price:180,image:"/assets/images/products/alcohol/chivas-regal.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:90,name:"Jameson",price:3059,image:"/assets/images/products/alcohol/jameson.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:91,name:"Red Label",price:2830,image:"/assets/images/products/alcohol/red-label.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:92,name:"Blue Label",price:2900,image:"/assets/images/products/alcohol/blue-label.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:93,name:"Indri",price:3700,image:"/assets/images/products/alcohol/indri.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:94,name:"Teacher's",price:2030,image:"/assets/images/products/alcohol/teachers.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:95,name:"Vat 69",price:1856,image:"/assets/images/products/alcohol/vat69.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:96,name:"McDowell's No1",price:1800,image:"/assets/images/products/alcohol/mcdowells-no1.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:97,name:"Blender's Pride",price:1450,image:"/assets/images/products/alcohol/blenders-pride.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:98,name:"Royal Challenge",price:970,image:"/assets/images/products/alcohol/royal-challenge.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:99,name:"Royal Stag",price:990,image:"/assets/images/products/alcohol/royal-stag.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:100,name:"Old Monk",price:1050,image:"/assets/images/products/alcohol/old-monk.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:101,name:"Champagne",price:1200,image:"/assets/images/products/alcohol/champagne.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:102,name:"Absolut Vodka",price:2090,image:"/assets/images/products/alcohol/absolut-vodka.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:103,name:"Magic Moments Orange",price:880,image:"/assets/images/products/alcohol/magic-moments-orange.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:104,name:"Magic Moments-Apple",price:880,image:"/assets/images/products/alcohol/magic-moments-apple.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:105,name:"Red Wine",price:990,image:"/assets/images/products/alcohol/red-wine.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:106,name:"Joven Tequila",price:2070,image:"/assets/images/products/alcohol/tequila.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],nK=[{id:107,name:"Badi Goldflake",price:65,image:"/assets/images/products/cigarettes/badi-goldflake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:108,name:"Choti Goldflake",price:56,image:"/assets/images/products/cigarettes/choti-goldflake.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:109,name:"Badi Goldflake Light",price:45,image:"/assets/images/products/cigarettes/badi-goldflake-light.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:110,name:"Choti Goldflake Light",price:40,image:"/assets/images/products/cigarettes/choti-goldflake-light.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:111,name:"Paan",price:59,image:"/assets/images/products/cigarettes/goldflake-paan.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:112,name:"Regular",price:30,image:"/assets/images/products/cigarettes/classic-regular.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:113,name:"Mild",price:40,image:"/assets/images/products/cigarettes/classic-mild.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:114,name:"Ultramild",price:80,image:"/assets/images/products/cigarettes/classic-ultramild.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:115,name:"Connect",price:70,image:"/assets/images/products/cigarettes/classic-connect.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:116,name:"Double Switch",price:65,image:"/assets/images/products/cigarettes/classic-doubleswitch.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:117,name:"Advance",price:85,image:"/assets/images/products/cigarettes/advance.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:118,name:"Choti Advance",price:95,image:"/assets/images/products/cigarettes/choti-advance.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:119,name:"Clove Mix",price:97,image:"/assets/images/products/cigarettes/clove-mix.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:120,name:"Marlboro Double Switch",price:99,image:"/assets/images/products/cigarettes/double-switch.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:121,name:"Pocket",price:105,image:"/assets/images/products/cigarettes/pocket.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:122,name:"American Fruit",price:120,image:"/assets/images/products/cigarettes/american-fruit.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:123,name:"American Clove",price:110,image:"/assets/images/products/cigarettes/american-clove.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:124,name:"Flake Excel",price:88,image:"/assets/images/products/cigarettes/flake-excel.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:125,name:"Flake Liberty",price:88,image:"/assets/images/products/cigarettes/flake-liberty.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:126,name:"Flake Mint",price:99,image:"/assets/images/products/cigarettes/flake-mint.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:127,name:"Bristol",price:105,image:"/assets/images/products/cigarettes/bristol.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],rK=[{id:128,name:"Peanuts",price:20,image:"/assets/images/products/snacks/peanuts.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:129,name:"Cashew Nuts",price:60,image:"/assets/images/products/snacks/cashew-nuts.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:130,name:"Simply Salted",price:30,image:"/assets/images/products/snacks/simply-salted.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:131,name:"Cream & Onions",price:30,image:"/assets/images/products/snacks/cream-and-onions.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:132,name:"Tomato Twist",price:30,image:"/assets/images/products/snacks/tomato-twist.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:133,name:"Pringles",price:70,image:"/assets/images/products/snacks/pringles.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:134,name:"Doritos",price:50,image:"/assets/images/products/snacks/doritos.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],iK=[{id:135,name:"Sprite",price:40,image:"/assets/images/products/cold-drink/sprite.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:136,name:"Soda",price:50,image:"/assets/images/products/cold-drink/soda.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:137,name:"Coca Cola",price:45,image:"/assets/images/products/cold-drink/coca-cola.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:138,name:"Pepsi",price:40,image:"/assets/images/products/cold-drink/pepsi.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:139,name:"Mountain Dew",price:45,image:"/assets/images/products/cold-drink/mountain-dew.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:140,name:"Sting",price:20,image:"/assets/images/products/cold-drink/sting.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:141,name:"Jeeru",price:20,image:"/assets/images/products/cold-drink/jeeru.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],sK=[{id:142,name:"Vape Hookah",price:650,image:"/assets/images/products/party-essentials/vape.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:143,name:"Bottle Opener",price:50,image:"/assets/images/products/party-essentials/bottle-opener.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:144,name:"Lighter",price:10,image:"/assets/images/products/party-essentials/lighter.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:145,name:"Match Box",price:5,image:"/assets/images/products/party-essentials/matchbox.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:146,name:"Water Bottle",price:20,image:"/assets/images/products/party-essentials/water-bottle.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:147,name:"Ice Cubes",price:20,image:"/assets/images/products/party-essentials/ice-box.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:148,name:"Beer Mug",price:60,image:"/assets/images/products/party-essentials/beer-mug.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:149,name:"Disposable Glass",price:10,image:"/assets/images/products/party-essentials/disposable-glass.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:150,name:"Disposable plate",price:10,image:"/assets/images/products/party-essentials/disposable-plate.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:151,name:"Confetti/Bomber",price:80,image:"/assets/images/products/party-essentials/confetti.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:152,name:"Playing Cards",price:30,image:"/assets/images/products/party-essentials/cards.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:153,name:"UNO Cards",price:40,image:"/assets/images/products/party-essentials/uno-cards.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:154,name:"Tissue Box",price:50,image:"/assets/images/products/party-essentials/tissue-box.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:155,name:"Sunglass",price:20,image:"/assets/images/products/party-essentials/party-glasses.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:156,name:"Party Mask",price:10,image:"/assets/images/products/party-essentials/party-mask.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:157,name:"Perfume",price:15,image:"/assets/images/products/party-essentials/perfume-spray.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:158,name:"Acidity Tablet",price:40,image:"/assets/images/products/party-essentials/acidity-tablet.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:159,name:"Vomiting Tablet",price:20,image:"/assets/images/products/party-essentials/vomit-tablet.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}],oK=[{id:160,name:"Party Speaker",price:200,image:"/assets/images/products/rent-party-speaker/speaker.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:161,name:"Disco Lights",price:250,image:"/assets/images/products/rent-party-speaker/disco-light.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:162,name:"Hookah",price:180,image:"/assets/images/products/rent-party-speaker/hookah.png",quantity:1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}];class ck{}class aK{}const Ca="*";function cK(n,e){return{type:7,name:n,definitions:e,options:{}}}function uk(n,e=null){return{type:4,styles:e,timings:n}}function lk(n,e=null){return{type:2,steps:n,options:e}}function Ip(n){return{type:6,styles:n,offset:null}}function ZC(n,e,t){return{type:0,name:n,styles:e,options:t}}function dk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function hk(n){Promise.resolve().then(n)}class wp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?hk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const QC="!",pk=["toast-component",""];function uK(n,e){if(1&n){const t=Jn();T(0,"button",5),Fe("click",function(){return tn(t),$t(lt().remove())}),T(1,"span",6),k(2,"\xd7"),A()()}}function lK(n,e){if(1&n&&(Ff(0),k(1),Lf()),2&n){const t=lt(2);G(1),br("[",t.duplicatesCount+1,"]")}}function dK(n,e){if(1&n&&(T(0,"div"),k(1),Ve(2,lK,2,1,"ng-container",4),A()),2&n){const t=lt();ha(t.options.titleClass),ji("aria-label",t.title),G(1),br(" ",t.title," "),G(1),De("ngIf",t.duplicatesCount)}}function hK(n,e){if(1&n&&de(0,"div",7),2&n){const t=lt();ha(t.options.messageClass),De("innerHTML",t.message,gw)}}function fK(n,e){if(1&n&&(T(0,"div",8),k(1),A()),2&n){const t=lt();ha(t.options.messageClass),ji("aria-label",t.message),G(1),br(" ",t.message," ")}}function pK(n,e){if(1&n&&(T(0,"div"),de(1,"div",9),A()),2&n){const t=lt();G(1),pd("width",t.width+"%")}}class IK{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class wK{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class CK{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Z;_activate=new Z;_manualClose=new Z;_resetTimeout=new Z;_countDuplicate=new Z;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class $y{toastId;config;message;title;toastType;toastRef;_onTap=new Z;_onAction=new Z;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const mk=new ge("ToastConfig");class TK extends wK{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bK=(()=>{class n{_document=Xe(Un);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class SK{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let DK=(()=>{class n{_overlayContainer=Xe(bK);_componentFactoryResolver=Xe(Yl);_appRef=Xe(vu);_document=Xe(Un);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new TK(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new SK(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bi=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(rn.HTML,r));const h=new CK(c),g=new $y(this.index,s,l,i,t,h),y=ls.create({providers:[{provide:$y,useValue:g}],parent:this._injector}),w=new IK(s.toastComponent,y),b=c.attach(w,s.newestOnTop);h.componentInstance=b.instance;const P={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(r){return new(r||n)(re(mk),re(DK),re(ls),re(rN),re(Ht))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const AK={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)($(bi),$($y),$(Ht))};static \u0275cmp=yt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Fe("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Yw("@flyInOut",i.state),ha(i.toastClasses),pd("display",i.displayStyle))},standalone:!0,features:[O_],attrs:pk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(Ve(0,uK,3,0,"button",0),Ve(1,dK,3,5,"div",1),Ve(2,hK,1,3,"div",2),Ve(3,fK,2,4,"div",3),Ve(4,pK,2,2,"div",4)),2&r&&(De("ngIf",i.options.closeButton),G(1),De("ngIf",i.title),G(1),De("ngIf",i.message&&i.options.enableHtml),G(1),De("ngIf",i.message&&!i.options.enableHtml),G(1),De("ngIf",i.options.progressBar))},dependencies:[To],encapsulation:2,data:{animation:[cK("flyInOut",[ZC("inactive",Ip({opacity:0})),ZC("active",Ip({opacity:1})),ZC("removed",Ip({opacity:0})),dk("inactive => active",uk("{{ easeTime }}ms {{ easing }}")),dk("active => removed",uk("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},PK=(n={})=>m1([{provide:mk,useValue:{default:AK,config:n}}]);let RK=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[PK(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Yt({})}return n})();function xK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addBurgerToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}function MK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addPizzaToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let NK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.burgers=K7,this.pizza=Z7,this.fries=Q7,this.fastFood=[],this.cart=[],this.existingBurger=!1,this.existingPizza=!1,this.existingFries=!1}addBurgerToCart(t){this.existingBurger=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingBurger=!0)})),this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0})}addPizzaToCart(t){this.existingPizza=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingPizza=!0)})),this.existingPizza?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addFriesToCart(t){this.existingFries=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingFries=!0)})),this.existingFries?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-fast-food"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Burger Bonanza: Bite into Deliciousness"),A(),de(4,"hr"),T(5,"div",2),Ve(6,xK,16,7,"div",3),A(),T(7,"h3",4),k(8,"Pizza Paradise: Explore Our Irresistible Pies"),A(),de(9,"hr"),T(10,"div",2),Ve(11,MK,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.burgers),G(5),De("ngForOf",i.pizza))},dependencies:[Ii,Wi,wi]})}return n})();function OK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addJuiceToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}function kK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addShakeToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let FK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.juices=G7,this.shakes=W7,this.cart=[],this.existingProduct=!1}addJuiceToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addShakeToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-fruit-juice"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Quench Your Thirst Naturally: Browse Our Juices"),A(),de(4,"hr"),T(5,"div",2),Ve(6,OK,16,7,"div",3),A(),T(7,"h3",4),k(8,"Indulge in Bliss: Our Irresistible Shakes"),A(),de(9,"hr"),T(10,"div",2),Ve(11,kK,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.juices),G(5),De("ngForOf",i.shakes))},dependencies:[Ii,Wi,wi]})}return n})();function LK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addHotBeverageToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}function VK(n,e){if(1&n){const t=Jn();T(0,"div",5)(1,"a"),de(2,"img",6),A(),T(3,"div",7)(4,"h5",8),k(5),A(),T(6,"p",9),k(7),A(),T(8,"div",10)(9,"div",11)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",12)(15,"img",13),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addColdBeverageToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let BK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.hotBeverages=Y7,this.hotBeverage=[],this.coldBeverages=J7,this.coldBeverage=[],this.cart=[],this.existingHotBeverages=!1,this.existingColdBeverages=!1}addHotBeverageToCart(t){this.existingHotBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingHotBeverages=!0)})),this.existingHotBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}addColdBeverageToCart(t){this.existingColdBeverages=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingColdBeverages=!0)})),this.existingColdBeverages?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-beverage"]],decls:12,vars:2,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"custom-margin"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png","alt","addtocart",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Warmth in a Cup: Explore Our Hot Beverages"),A(),de(4,"hr"),T(5,"div",2),Ve(6,LK,16,7,"div",3),A(),T(7,"h3",4),k(8,"Icy Bliss: Sip on Our Cold Beverage Collection"),A(),de(9,"hr"),T(10,"div",2),Ve(11,VK,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.hotBeverages),G(5),De("ngForOf",i.coldBeverages))},dependencies:[Ii,Wi,wi]})}return n})();function UK(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let jK=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.cocktails=X7,this.cocktail=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-cocktail"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Cocktail Connoisseur's Corner: Dive In"),A(),de(4,"hr"),T(5,"div",2),Ve(6,UK,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.cocktails))},dependencies:[Ii,Wi,wi]})}return n})();function $K(n,e){1&n&&(T(0,"div",8)(1,"div",9),de(2,"img",10),T(3,"h2",11),k(4,"404, no delicious food item found !"),A(),T(5,"p",12),k(6,'Simply click "Explore Now" to peruse our scrumptious menu and load your cart with delightful items.'),A(),T(7,"a",13),k(8,"Explore Now"),A()()())}function HK(n,e){if(1&n){const t=Jn();T(0,"div",14)(1,"div",15)(2,"a",16),Fe("click",function(){const s=tn(t).index;return $t(lt().removeCartItem(s))}),de(3,"i",17),A(),T(4,"div",18),de(5,"img",19),A(),T(6,"div",20)(7,"div",21)(8,"p",22),k(9),A(),T(10,"p",23),k(11),A(),T(12,"label"),k(13,"Quantity"),A(),T(14,"input",24),Fe("change",function(i){const o=tn(t).index;return $t(lt().addQty(o,i))}),A(),T(15,"p",25),k(16),gn(17,"currency"),A()()(),de(18,"hr"),A()()}if(2&n){const t=e.$implicit;G(5),Tr("src",t.image,Br),G(4),$e(t.name),G(2),$e(t.description),G(3),Tr("value",t.quantity),G(2),$e(Mn(17,5,t.price,"INR"))}}function zK(n,e){if(1&n){const t=Jn();T(0,"div",26)(1,"div",9)(2,"table",27)(3,"tr")(4,"td"),k(5,"Total Items"),A(),T(6,"td",28),k(7),A()(),T(8,"tr")(9,"td"),k(10,"Total Price"),A(),T(11,"td",28),k(12),gn(13,"currency"),A()(),T(14,"tr")(15,"td"),k(16,"SGST "),T(17,"span",29),k(18,"(5%)"),A()(),T(19,"td",28),k(20),gn(21,"currency"),A()(),T(22,"tr")(23,"td"),k(24,"CGST "),T(25,"span",29),k(26,"(5%)"),A()(),T(27,"td",28),k(28),gn(29,"currency"),A()(),T(30,"tr")(31,"td"),k(32,"Delivery Charge"),A(),T(33,"td",28),k(34),gn(35,"currency"),A()(),T(36,"tr")(37,"td",30),k(38,"Total Amount"),A(),T(39,"td",31),k(40),gn(41,"currency"),A()()(),de(42,"hr"),T(43,"div",32)(44,"button",33),Fe("click",function(){return tn(t),$t(lt().placeOrder())}),de(45,"i",34),k(46," Place Order "),A()()()()}if(2&n){const t=lt();G(7),br("",t.quantity," N"),G(5),$e(Mn(13,6,t.productPrice,"INR")),G(8),$e(Mn(21,9,t.sgst,"INR")),G(8),$e(Mn(29,12,t.cgst,"INR")),G(6),$e(Mn(35,15,t.deliveryCharge,"INR")),G(6),$e(Mn(41,18,t.total,"INR"))}}let qK=(()=>{class n{constructor(t,r,i){this.appService=t,this.router=r,this.authService=i,this.product=[],this.total=0,this.quantity=0,this.totalPrice=0,this.min=20,this.max=50,this.sgst=0,this.cgst=0,this.deliveryCharge=Math.floor(30*Math.random()+20),this.productPrice=0,this.cartProducts=[],this.existingProduct=!1,this.showButton=!1,this.cart=[],this.getCartItems(),this.loggedIn=this.authService.userStatus()}getCartItems(){this.cart=this.appService.getCart(),this.cart?(this.doTotal(),this.showButton=this.cart.length>0):this.showButton=!1}addQty(t,r){this.appService.addQtyToCart(t,r.target.value),this.getCartItems()}removeCartItem(t){this.appService.removeFromCart(t),this.getCartItems()}doTotal(){this.total=0,this.cart.forEach(t=>{let r=t.price*Number(t.quantity);this.total+=r,this.quantity+=Number(t.quantity)}),this.productPrice=this.total,this.sgst=5*this.total/100,this.cgst=5*this.total/100,this.total+=this.deliveryCharge+this.sgst+this.cgst,localStorage.setItem("total",JSON.stringify(this.total))}placeOrder(){this.authService.userStatus()?(this.router.navigate(["/checkout"]),this.getCartItems()):this.router.navigate(["/signin"])}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(tr),$(Ep))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-cart"]],decls:11,vars:3,consts:[[1,"container-fluid"],["class","text-center","id","noItemInCart",4,"ngIf"],[1,"row","m-0"],[1,"col-md-2"],[1,"col-md-4"],["class","mb-3","style","max-width: 540px;",4,"ngFor","ngForOf"],[1,"total-cart-mobile"],["class","mt-5",4,"ngIf"],["id","noItemInCart",1,"text-center"],[1,"custom-card-body"],["src","../../../../assets/images/navbar/donut.png",1,"cart-icon"],[1,"custom-card-title"],[1,"custom-card-text"],["routerLink","/home",1,"btn"],[1,"mb-3",2,"max-width","540px"],[1,"row","no-gutters"],["data-toggle","tooltip","data-placement","top","title","Remove",1,"text-danger",3,"click"],[1,"fa","fa-x"],[1,"left","col-md-4"],["alt","...",1,"custom-card-image","m-3",3,"src"],[1,"right","col-md-8"],["id","cardBody-mobile",1,"custom-card-body"],["id","itemName",1,"custom-card-title"],[1,"item-description"],["type","number","min","1","max","5",3,"value","change"],["id","itemPrice"],[1,"mt-5"],[1,"table"],[1,"td2"],[1,"text-muted"],[1,"total-amount-heading"],[1,"finalAmount"],[1,"text-center"],[1,"btn","btn-sm","btn-primary","mt-3","mb-3",3,"click"],[1,"fa","fa-shopping-bag","fa-lg","mr-2"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),Ve(2,$K,9,0,"div",1),T(3,"div",2),de(4,"div",3),T(5,"div",4),Ve(6,HK,19,8,"div",5),A(),de(7,"div",3),T(8,"div",4)(9,"div",6),Ve(10,zK,47,21,"div",7),A()()()()),2&r&&(G(2),De("ngIf",!i.showButton),G(4),De("ngForOf",i.cart),G(4),De("ngIf",i.showButton))},dependencies:[Ii,To,Ao,Wi,wi],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fffff733}.custom-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.custom-card-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-top:20px}.row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;padding:10px 8px}.btn[_ngcontent-%COMP%]{padding:8px 30px;border-radius:30px;margin-top:15px;color:#fff;background-color:#ff6907;border:none;box-shadow:0 2px 2px #0009}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.right[_ngcontent-%COMP%]   #itemName[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.right[_ngcontent-%COMP%]   #itemPrice[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-top:15px}.right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:8px;font-weight:500;font-size:14px}.total-custom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;float:right;right:20px}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}#noItemInCart[_ngcontent-%COMP%]{margin-top:200px;padding:30px}#noItemInCart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.cart-icon[_ngcontent-%COMP%]{width:100px;height:100px}table[_ngcontent-%COMP%]{display:table}td[_ngcontent-%COMP%]{float:left}.td2[_ngcontent-%COMP%]{padding:10px 0;float:right}.finalAmount[_ngcontent-%COMP%]{padding:10px 0;color:green;font-size:18px;float:right;font-weight:700}.right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}.total-amount-heading[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 768px){.custom-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:0 auto;margin-bottom:60px!important}.custom-card-image[_ngcontent-%COMP%]{margin:-50px 0 2px;width:60px;height:60px}#noItemInCart[_ngcontent-%COMP%]{margin-top:100px;border:none;font-size:10px}#noItemInCart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.right[_ngcontent-%COMP%]   #itemName[_ngcontent-%COMP%]{font-size:14px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}.right[_ngcontent-%COMP%]   #itemPrice[_ngcontent-%COMP%]{font-size:12px}.right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;padding:4px}.btn[_ngcontent-%COMP%]{font-size:12px}.total-custom-card[_ngcontent-%COMP%]{width:100%;position:relative}.total-custom-card[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{margin:0 auto}td[_ngcontent-%COMP%]{font-size:10px}.td2[_ngcontent-%COMP%]{float:right;padding:5px 0}.finalAmount[_ngcontent-%COMP%]{font-size:14px;float:right;font-weight:700}}"]})}return n})(),_k=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)($(ua),$(us))},n.\u0275dir=We({type:n}),n})(),Ru=(()=>{class n extends _k{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=We({type:n,features:[qt]}),n})();const xo=new ge("NgValueAccessor"),KK={provide:xo,useExisting:Ie(()=>xu),multi:!0},QK=new ge("CompositionEventMode");let xu=(()=>{class n extends _k{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZK(){const n=ma()?ma().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)($(ua),$(us),$(QK,8))},n.\u0275dir=We({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Fe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bn([KK]),qt]}),n})();const YK=!1;function yc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vk(n){return null!=n&&"number"==typeof n.length}const ei=new ge("NgValidators"),vc=new ge("NgAsyncValidators"),JK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mo{static min(e){return function Ek(n){return e=>{if(yc(e.value)||yc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ik(n){return e=>{if(yc(e.value)||yc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function wk(n){return yc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Ck(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Tk(n){return yc(n.value)||JK.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function bk(n){return e=>yc(e.value)||!vk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Sk(n){return e=>vk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Dk(e)}static nullValidator(e){return null}static compose(e){return Nk(e)}static composeAsync(e){return Ok(e)}}function Dk(n){if(!n)return Hy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(yc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Hy(n){return null}function Ak(n){return null!=n}function Pk(n){const e=Vf(n)?E(n):n;if(YK&&!qw(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,t)}return e}function Rk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xk(n,e){return e.map(t=>t(n))}function Mk(n){return n.map(e=>function XK(n){return!n.validate}(e)?e:t=>e.validate(t))}function Nk(n){if(!n)return null;const e=n.filter(Ak);return 0==e.length?null:function(t){return Rk(xk(t,e))}}function YC(n){return null!=n?Nk(Mk(n)):null}function Ok(n){if(!n)return null;const e=n.filter(Ak);return 0==e.length?null:function(t){return function GK(...n){const e=Ss(n),{args:t,keys:r}=sN(n),i=new pt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let h=0;h<o;h++){let g=!1;Rt(t[h]).subscribe(me(s,m=>{g||(g=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!g)&&(l||s.next(r?aN(r,a):a),s.complete())}))}});return e?i.pipe(oN(e)):i}(xk(t,e).map(Pk)).pipe(Ce(Rk))}}function JC(n){return null!=n?Ok(Mk(n)):null}function kk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Fk(n){return n._rawValidators}function Lk(n){return n._rawAsyncValidators}function XC(n){return n?Array.isArray(n)?n:[n]:[]}function zy(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vk(n,e){const t=XC(e);return XC(n).forEach(i=>{zy(t,i)||t.push(i)}),t}function Bk(n,e){return XC(e).filter(t=>!zy(n,t))}class Uk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Si extends Uk{get formDirective(){return null}get path(){return null}}class Ec extends Uk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cp=(()=>{class n extends jk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)($(Ec,2))},n.\u0275dir=We({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&D_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qt]}),n})(),Tp=(()=>{class n extends jk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)($(Si,10))},n.\u0275dir=We({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&D_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qt]}),n})();function $k(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const nT=!1,bp="VALID",Gy="INVALID",Bd="PENDING",Sp="DISABLED";function rT(n){return(Wy(n)?n.validators:n)||null}function iT(n,e){return(Wy(e)?e.asyncValidators:n)||null}function Wy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Hk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,nT?function rZ(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new S(1001,nT?function iZ(n,e){return`Cannot find form control ${$k(n,e)}`}(e,t):"")}function zk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new S(1002,nT?function sZ(n,e){return`Must supply a value for form control ${$k(n,e)}`}(e,i):"")})}class Ky{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bp}get invalid(){return this.status===Gy}get pending(){return this.status==Bd}get disabled(){return this.status===Sp}get enabled(){return this.status!==Sp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Vk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bk(e,this._rawAsyncValidators))}hasValidator(e){return zy(this._rawValidators,e)}hasAsyncValidator(e){return zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bp||this.status===Bd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sp:bp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bd,this._hasOwnPendingAsyncValidator=!0;const t=Pk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Nn,this.statusChanges=new Nn}_calculateStatus(){return this._allControlsDisabled()?Sp:this.errors?Gy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bd)?Bd:this._anyControlsHaveStatus(Gy)?Gy:bp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function oZ(n){return Array.isArray(n)?YC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aZ(n){return Array.isArray(n)?JC(n):n||null}(this._rawAsyncValidators)}}class Ud extends Ky{constructor(e,t,r){super(rT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zk(this,!0,e),Object.keys(e).forEach(r=>{Hk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class qk extends Ud{}const Mu=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Dp}),Dp="always";function Ap(n,e,t=Dp){sT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function uZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Gk(n,e)})}(n,e),function dZ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Gk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cZ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Qy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sT(n,e){const t=Fk(n);null!==e.validator?n.setValidators(kk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Lk(n);null!==e.asyncValidator?n.setAsyncValidators(kk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Yy(e._rawValidators,i),Yy(e._rawAsyncValidators,i)}function Jy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Fk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Lk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Yy(e._rawValidators,r),Yy(e._rawAsyncValidators,r),t}function Gk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wk(n,e){sT(n,e)}function aT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Kk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xu?t=s:function pZ(n){return Object.getPrototypeOf(n.constructor)===Ru}(s)?r=s:i=s}),i||r||t||null}const mZ={provide:Si,useExisting:Ie(()=>Xy)},Pp=(()=>Promise.resolve())();let Xy=(()=>{class n extends Si{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Nn,this.form=new Ud({},YC(t),JC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ap(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Pp.then(()=>{const r=this._findContainer(t.path),i=new Ud({});Wk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Pp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Kk(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)($(ei,10),$(vc,10),$(Mu,8))},n.\u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([mZ]),qt]}),n})();function Zk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jd=class extends Ky{constructor(e=null,t,r){super(rT(t),iT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Qk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Qk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),nF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({}),n})();const uT=new ge("NgModelWithFormControlWarning"),TZ={provide:Ec,useExisting:Ie(()=>lT)};let lT=(()=>{class n extends Ec{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Nn,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=cT(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Qy(r,this,!1),Ap(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}aT(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Qy(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)($(ei,10),$(vc,10),$(xo,10),$(uT,8),$(Mu,8))},n.\u0275dir=We({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[bn([TZ]),qt,ki]}),n})();const bZ={provide:Si,useExisting:Ie(()=>$d)};let $d=(()=>{class n extends Si{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Nn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ap(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Qy(t.control||null,t,!1),function gZ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Kk(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Qy(r||null,t),(n=>n instanceof jd)(i)&&(Ap(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Wk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function hZ(n,e){return Jy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sT(this.form,this),this._oldForm&&Jy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)($(ei,10),$(vc,10),$(Mu,8))},n.\u0275dir=We({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([bZ]),qt,ki]}),n})();const AZ={provide:Ec,useExisting:Ie(()=>xp)};let xp=(()=>{class n extends Ec{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Nn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=cT(0,s)}ngOnChanges(t){this._added||this._setUpControl(),aT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Zy(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)($(Si,13),$(ei,10),$(vc,10),$(xo,10),$(uT,8))},n.\u0275dir=We({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bn([AZ]),qt,ki]}),n})(),Nu=(()=>{class n{constructor(){this._validator=Hy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=We({type:n,features:[ki]}),n})();const $Z={provide:ei,useExisting:Ie(()=>mT),multi:!0};let mT=(()=>{class n extends Nu{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Dk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=We({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&ji("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[bn([$Z]),qt]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({imports:[nF]}),n})();class _F extends Ky{constructor(e,t,r){super(rT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zk(this,!1,e),e.forEach((r,i)=>{Hk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function yF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _T=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return yF(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ud(i,s)}record(t,r=null){const i=this._reduceControls(t);return new qk(i,r)}control(t,r,i){let s={};return this.useNonNullable?(yF(r)?s=r:(s.validators=r,s.asyncValidators=i),new jd(t,{...s,nonNullable:!0})):new jd(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new _F(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof jd||t instanceof Ky?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ev=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mu,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({imports:[mF]}),n})(),tv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Mu,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({imports:[mF]}),n})(),vF=(()=>{class n{constructor(){}get nativeWindow(){return function HZ(){return window}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zZ(n,e){1&n&&(T(0,"div",18),k(1," Invalid Name "),A())}function qZ(n,e){1&n&&(T(0,"div",18),k(1," Invalid Phone Number "),A())}function GZ(n,e){1&n&&(T(0,"div",18),k(1," Invalid Address "),A())}function WZ(n,e){1&n&&(T(0,"div",18),k(1," Invalid City "),A())}function KZ(n,e){1&n&&(T(0,"div",18),k(1," Invalid Zip code "),A())}let ZZ=(()=>{class n{constructor(t,r,i,s,o){this.formBuilder=t,this.winRef=r,this.appService=i,this.router=s,this.toastr=o,this.orders=[],this.cart=[],this.fullName=JSON.parse(localStorage.getItem("fullName")||"{}"),this.phoneNumber=JSON.parse(localStorage.getItem("phoneNumber")||"{}"),this.address=JSON.parse(localStorage.getItem("address")||"{}"),this.city=JSON.parse(localStorage.getItem("city")||"{}"),this.zipCode=JSON.parse(localStorage.getItem("zipCode")||"{}"),this.total=JSON.parse(localStorage.getItem("total")||"{}"),this.cart=JSON.parse(localStorage.getItem("cart")||""),this.checkoutForm=t.group({fullName:[this.fullName,Mo.required],phoneNumber:[this.phoneNumber,Mo.required],address:["",Mo.required],city:["",Mo.required],zipCode:[this.zipCode,Mo.required]})}onSubmit(){let t=this.checkoutForm.value.fullName,r=JSON.stringify(this.checkoutForm.value.address),i=this.city,s=this.checkoutForm.value.zipCode,o=Hi.Z.auth().currentUser?.uid;Hi.Z.firestore().collection("users").doc(o).set({phoneNumber:this.phoneNumber,fullName:t,photoURL:"",orders:"",paymentId:"",role:2,address:r,city:i,zipCode:s}).then(()=>{r||localStorage.setItem("address",JSON.stringify(this.checkoutForm.value.address)),localStorage.setItem("city",JSON.stringify(this.checkoutForm.value.city)),localStorage.setItem("zipCode",JSON.stringify(this.checkoutForm.value.zipCode)),this.payWithRazor()}).catch(a=>{console.log(a)})}createRzpayOrder(t){this.payWithRazor()}payWithRazor(){const t={key:"rzp_test_pKtL3VyA60NvPP",amount:100*Math.round(this.total),currency:"INR",name:"Cocktail Club",description:"",id:Math.random().toString(36),prefill:{name:"Cocktail Club",email:"info@cocktailclub.com",phone:"9898989898",method:"card"},modal:{escape:!1},notes:{msg:"Thank you for shopping with Cocktail Club"},theme:{color:"#FF6912"}};t.handler=(i,s)=>{t.response=i,this.toastr.success("Order placed successfully","",{positionClass:"toast-top-right",timeOut:3e3}),this.toastr.info("Cocktail Club accepted your order","",{positionClass:"toast-top-right",timeOut:3e3}),this.appService.addToOrders(this.orders),this.router.navigate(["/orders"])},t.modal.ondismiss=()=>{this.toastr.warning("Transaction failed. Please try again...","",{positionClass:"toast-top-right",timeOut:3e3}),this.router.navigate(["/cart"])},new this.winRef.nativeWindow.Razorpay(t).open()}static#e=this.\u0275fac=function(r){return new(r||n)($(_T),$(vF),$(Gi),$(tr),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-checkout"]],decls:31,vars:10,consts:[[1,"containerfull"],[1,"checkout-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Name"],["class","text-danger",4,"ngIf"],[1,"fa","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","Phone number"],[1,"fa","fa-house"],["formControlName","address","type","text","placeholder","House No. / Colony name"],[1,"fa","fa-city"],["formControlName","city","type","text","placeholder","City"],[1,"fa","fa-location-dot"],["formControlName","zipCode","type","text","placeholder","Zip Code"],["type","submit",1,"btn"],["href","#","routerLink","/cart",1,"text-muted"],[1,"text-danger"]],template:function(r,i){1&r&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),k(4,"Enter your shipping details"),A()(),T(5,"form",3),Fe("ngSubmit",function(){return i.onSubmit()}),T(6,"div",4),de(7,"i",5)(8,"input",6),A(),Ve(9,zZ,2,0,"div",7),T(10,"div",4),de(11,"i",8)(12,"input",9),A(),Ve(13,qZ,2,0,"div",7),T(14,"div",4),de(15,"i",10)(16,"input",11),A(),Ve(17,GZ,2,0,"div",7),T(18,"div",4),de(19,"i",12)(20,"input",13),A(),Ve(21,WZ,2,0,"div",7),T(22,"div",4),de(23,"i",14)(24,"input",15),A(),Ve(25,KZ,2,0,"div",7),T(26,"button",16),k(27),gn(28,"currency"),A(),T(29,"a",17),k(30,"Cancel"),A()()()()),2&r&&(G(5),De("formGroup",i.checkoutForm),G(4),De("ngIf",i.checkoutForm.controls.fullName.touched&&i.checkoutForm.controls.fullName.invalid),G(4),De("ngIf",i.checkoutForm.controls.phoneNumber.touched&&i.checkoutForm.controls.phoneNumber.invalid),G(4),De("ngIf",i.checkoutForm.controls.address.touched&&i.checkoutForm.controls.address.invalid),G(4),De("ngIf",i.checkoutForm.controls.city.touched&&i.checkoutForm.controls.city.invalid),G(4),De("ngIf",i.checkoutForm.controls.zipCode.touched&&i.checkoutForm.controls.zipCode.invalid),G(2),br("Continue to pay ",Mn(28,7,i.total,"INR"),""))},dependencies:[To,Ao,Rp,xu,Cp,Tp,$d,xp,wi],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.checkout-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}p[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 40px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px;overflow:hidden}.checkout-form[_ngcontent-%COMP%]{width:100%;padding:20px;border-radius:8px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}}']})}return n})();function QZ(n,e){if(1&n&&(T(0,"tr")(1,"td",3),k(2),A(),T(3,"td",4),k(4),gn(5,"date"),A(),T(6,"td",5),k(7),A(),T(8,"td",5),k(9),A(),T(10,"td",6),k(11),gn(12,"currency"),A(),T(13,"td",7),k(14),A()()),2&n){const t=e.$implicit,r=e.index,i=lt();G(2),br(" ",r+1," "),G(2),br(" ",Mn(5,6,i.date,"medium")," "),G(3),br(" ",t.name," "),G(2),br(" ",t.description," "),G(2),br(" ",Mn(12,9,t.price,"INR")," "),G(3),br(" ",i.orderStatus," ")}}let YZ=(()=>{class n{constructor(){this.date=new Date,this.ordersList=JSON.parse(localStorage.getItem("orders")||""),this.getOrderStatus()}getOrderStatus(){setTimeout(()=>{this.orderStatus="Accepted"},3e3),setTimeout(()=>{this.orderStatus="Preparing"},6e3),setTimeout(()=>{this.orderStatus="Out for delivery"},9e3),setTimeout(()=>{this.orderStatus="Delivered"},12e3)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-orders"]],decls:19,vars:1,consts:[[1,"container-full"],[1,"rwd-table"],[4,"ngFor","ngForOf"],["data-th","Supplier Code"],["data-th","Supplier Name"],["data-th","Invoice Number"],["data-th","Invoice Date"],["data-th","Due Date"]],template:function(r,i){1&r&&(de(0,"app-navbar"),T(1,"div",0),de(2,"br"),T(3,"table",1)(4,"tbody")(5,"tr")(6,"th"),k(7,"S. NO."),A(),T(8,"th"),k(9,"Date & Time"),A(),T(10,"th"),k(11,"Product Name"),A(),T(12,"th"),k(13,"Description"),A(),T(14,"th"),k(15,"Net Amount"),A(),T(16,"th"),k(17,"Order status"),A()(),Ve(18,QZ,15,12,"tr",2),A()()()),2&r&&(G(18),De("ngForOf",i.ordersList))},dependencies:[Ii,Wi,wi,SM],styles:['.container-full[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;padding:10px}.main-heading[_ngcontent-%COMP%]{float:left;margin-bottom:25px}.rwd-table[_ngcontent-%COMP%]{margin-top:50px;min-width:300px;max-width:100%;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{border-top:none;background:#428bca;color:#fff}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;background-color:#f5f9fc}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd):not(:first-child){background-color:#ebf3f9}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{margin-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{margin-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:120px;display:inline-block;color:#000}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.rwd-table[_ngcontent-%COMP%]{color:#333;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#bfbfbf}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em 1em}@media screen and (max-width: 601px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){border-top:none}}@media screen and (min-width: 600px){.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:not(:first-child){background-color:#d8e7f3}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}@keyframes _ngcontent-%COMP%_leftRight{0%{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}to{transform:translate(0)}}']})}return n})();function JZ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let XZ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.beers=eK,this.beer=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-beers"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Forget Love, Fall in Beer"),A(),de(4,"hr"),T(5,"div",2),Ve(6,JZ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.beers))},dependencies:[Ii,Wi,wi]})}return n})();function eQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let tQ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.alcohols=tK,this.alcohol=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-alcohol"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Cheers to unforgettable moments with Whiskey | Wine | Vodka | Tequila"),A(),de(4,"hr"),T(5,"div",2),Ve(6,eQ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.alcohols))},dependencies:[Ii,Wi,wi]})}return n})();function nQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let rQ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.cigarettes=nK,this.cigarette=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-cigarettes"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Every Smoke Helps : Cigarettes"),A(),de(4,"hr"),T(5,"div",2),Ve(6,nQ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.cigarettes))},dependencies:[Ii,Wi,wi]})}return n})();function iQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let sQ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.snacks=rK,this.snack=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-snacks"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"A Snack Like No Other"),A(),de(4,"hr"),T(5,"div",2),Ve(6,iQ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.snacks))},dependencies:[Ii,Wi,wi]})}return n})();function oQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let aQ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.coldDrinks=iK,this.coldDrink=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-cold-drink"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Unlock Your Taste Adventure : Cold Drinks"),A(),de(4,"hr"),T(5,"div",2),Ve(6,oQ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.coldDrinks))},dependencies:[Ii,Wi,wi]})}return n})();function cQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A()()(),T(14,"div",11)(15,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(Mn(13,4,t.price,"INR"))}}let uQ=(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.partyEssentials=sK,this.partyEssential=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-party-essentials"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"All you need for the Party! : Party Essentials"),A(),de(4,"hr"),T(5,"div",2),Ve(6,cQ,16,7,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.partyEssentials))},dependencies:[Ii,Wi,wi]})}return n})();function lQ(n,e){if(1&n){const t=Jn();T(0,"div",4)(1,"a"),de(2,"img",5),A(),T(3,"div",6)(4,"h5",7),k(5),A(),T(6,"p",8),k(7),A(),T(8,"div",9)(9,"div",10)(10,"p")(11,"b"),k(12),gn(13,"currency"),A(),de(14,"br"),k(15," per day"),A()(),T(16,"div",11)(17,"img",12),Fe("click",function(){const s=tn(t).$implicit;return $t(lt().addToCart(s))}),A()()()()()}if(2&n){const t=e.$implicit;G(2),Tr("src",t.image,Br),G(3),$e(t.name),G(2),$e(t.description),G(5),$e(function XR(n,e,t,r,i,s){const o=n+en,a=ie(),c=Wa(a,o);return Gf(a,o)?QR(a,Fr(),e,c.transform,t,r,i,s,c):c.transform(t,r,i,s)}(13,4,t.price,"INR","symbol","1.0"))}}const dQ=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:q7},{path:"fast-food",component:NK},{path:"fruit-juice",component:FK},{path:"beverage",component:BK},{path:"cocktail",component:jK},{path:"beers",component:XZ},{path:"alcohol",component:tQ},{path:"cigarettes",component:rQ},{path:"snacks",component:sQ},{path:"cold-drink",component:aQ},{path:"party-essentials",component:uQ},{path:"rent-speaker",component:(()=>{class n{constructor(t,r){this.appService=t,this.toastr=r,this.rentSpeakers=oK,this.rentSpeaker=[],this.cart=[],this.existingProduct=!1}addToCart(t){this.existingProduct=!1,this.appService.getCart()&&(this.cart=this.appService.getCart(),this.cart.forEach(r=>{r.id==t.id&&(this.existingProduct=!0)})),this.existingProduct?this.toastr.info("Selected item already exists in the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}):(this.appService.addToCart(t),this.toastr.success("Selected item has been added to the cart!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Gi),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-rent-speaker"]],decls:7,vars:1,consts:[[1,"container-fluid"],[1,"mt-3"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"src"],[1,"card-body"],[1,"mb-1"],[1,"desc"],[1,"price-btn-sec"],[1,"sec-1"],[1,"sec-2"],["src","../../../../assets/images/addtocart.png",1,"cart-icon",3,"click"]],template:function(r,i){1&r&&(T(0,"div",0),de(1,"app-navbar"),T(2,"h3",1),k(3,"Take Your Party To The Next Level - Rent Speakers and Disco Lights"),A(),de(4,"hr"),T(5,"div",2),Ve(6,lQ,18,9,"div",3),A()()),2&r&&(G(6),De("ngForOf",i.rentSpeakers))},dependencies:[Ii,Wi,wi]})}return n})()},{path:"cart",component:qK},{path:"checkout",component:ZZ},{path:"orders",component:YZ}];let hQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[Po.forChild(dQ),Po]})}return n})();const yT_firebase={apiKey:"AIzaSyBUsQyQzVEpIJ8Ma2xSx1lAe1WHKCQwuGg",authDomain:"cock-tail-club.firebaseapp.com",projectId:"cock-tail-club",storageBucket:"cock-tail-club.appspot.com",messagingSenderId:"980191769451",appId:"1:980191769451:web:02a834b7b5d31fe267522e",measurementId:"G-EHLC69E60D"},yT_CountryJson=[{name:"India",dial_code:"+91",code:"IN"}];function fQ(n,e){1&n&&(T(0,"div",13),k(1," Invalid Phone number "),A())}let pQ=(()=>{class n{constructor(t,r,i,s,o){this.formBuilder=t,this.authService=r,this.win=i,this.router=s,this.toastr=o,this.OTP="",this.CountryJson=yT_CountryJson,this.CountryCode="+91",this.signinForm=t.group({phoneNumber:["9179616052",[Mo.required,Mo.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]}),this.userLoggedIn=this.authService.userStatus(),console.log(this.userLoggedIn)}ngOnInit(){}markProfileFormTouched(){const t=this.signinForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.signinForm.controls[r].markAsTouched()}onSubmit(t){this.markProfileFormTouched();const r=new Hi.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:i=>{}});localStorage.getItem("verificationId")&&this.router.navigate(["/update-profile"]),localStorage.getItem("fullName")&&this.router.navigate(["/home"]),this.signinForm.value.phoneNumber&&this.authService.signInWithPhoneNumber(r,"+91"+this.signinForm.value.phoneNumber).then(i=>{localStorage.setItem("verificationId",JSON.stringify(i.verificationId)),localStorage.setItem("phoneNumber",JSON.stringify(this.signinForm.value.phoneNumber)),localStorage.setItem("user",JSON.stringify(this.signinForm.value)),localStorage.setItem("uid",JSON.stringify(i.uid)),this.toastr.success("OTP sent on your device!","",{positionClass:"toast-top-center",timeOut:3e3,closeButton:!0}),this.router.navigate(["/verify-otp"]).then()})}static#e=this.\u0275fac=function(r){return new(r||n)($(_T),$(Ep),$(vF),$(tr),$(bi))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","eg 9174520052"],["class","text-danger",4,"ngIf"],["id","recaptcha-container"],["type","submit",1,"btn"],[1,"text-danger","text-center"],["id","termAndConditionsText"],[1,"text-underline"],[1,"text-danger"]],template:function(r,i){1&r&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),k(4,"Cocktail Club"),A()(),T(5,"form",3),Fe("ngSubmit",function(o){return i.onSubmit(o)}),T(6,"div",4),de(7,"i",5)(8,"input",6),A(),Ve(9,fQ,2,0,"div",7),de(10,"div",8),T(11,"button",9),k(12,"Sign In"),A()(),T(13,"p",10)(14,"strong"),k(15," * You must be 18 years or above to Log in or Sign up"),A()(),T(16,"p",11),k(17,"By continuing, you agree to our "),T(18,"span",12),k(19,"Terms of service & Privacy policy"),A()()()()),2&r&&(G(5),De("formGroup",i.signinForm),G(4),De("ngIf",i.signinForm.controls.phoneNumber.touched&&i.signinForm.controls.phoneNumber.invalid))},dependencies:[To,Rp,xu,Cp,Tp,$d,xp],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}#termAndConditionsText[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}#termAndConditionsText[_ngcontent-%COMP%]{font-size:8px;color:#6b7280}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}}']})}return n})();Ue(932);var Ee,sn=Ue(90),No=Ue(877),EF=Ue(859),gQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},to={},vT=vT||{},it=gQ||self;function nv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ET="closure_uid_"+(1e9*Math.random()>>>0),_Q=0;function yQ(n,e,t){return n.call.apply(n.bind,arguments)}function vQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ti(n,e,t){return(ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yQ:vQ).apply(null,arguments)}function rv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Sr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ic(){this.s=this.s,this.o=this.o}Ic.prototype.s=!1,Ic.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mQ(n){Object.prototype.hasOwnProperty.call(n,ET)&&n[ET]||(n[ET]=++_Q)}(this)},Ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function IT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ni.prototype.h=function(){this.defaultPrevented=!0};var IQ=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};it.addEventListener("test",t,e),it.removeEventListener("test",t,e)}catch{}return n}();function Np(n){return/^[\s\xa0]*$/.test(n)}function iv(){var n=it.navigator;return n&&(n=n.userAgent)?n:""}function Oo(n){return-1!=iv().indexOf(n)}function wT(n){return wT[" "](n),n}wT[" "]=function(){};var TT,n,CQ=Oo("Opera"),Hd=Oo("Trident")||Oo("MSIE"),CF=Oo("Edge"),CT=CF||Hd,TF=Oo("Gecko")&&!(-1!=iv().toLowerCase().indexOf("webkit")&&!Oo("Edge"))&&!(Oo("Trident")||Oo("MSIE"))&&!Oo("Edge"),TQ=-1!=iv().toLowerCase().indexOf("webkit")&&!Oo("Edge");function bF(){var n=it.document;return n?n.documentMode:void 0}e:{var bT="",ST=(n=iv(),TF?/rv:([^\);]+)(\)|;)/.exec(n):CF?/Edge\/([\d\.]+)/.exec(n):Hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TQ?/WebKit\/(\S+)/.exec(n):CQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ST&&(bT=ST?ST[1]:""),Hd){var DT=bF();if(null!=DT&&DT>parseFloat(bT)){TT=String(DT);break e}}TT=bT}var bQ=it.document&&Hd&&(bF()||parseInt(TT,10))||void 0;function Op(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TF){e:{try{wT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Op.$.h.call(this)}}Sr(Op,ni);var SQ={2:"touch",3:"pen",4:"mouse"};Op.prototype.h=function(){Op.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kp="closure_listenable_"+(1e6*Math.random()|0),DQ=0;function AQ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++DQ,this.fa=this.ia=!1}function sv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function PT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DF(n){const e={};for(const t in n)e[t]=n[t];return e}const AF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<AF.length;s++)t=AF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ov(n){this.src=n,this.g={},this.h=0}function RT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=IF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}ov.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=xT(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new AQ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var MT="closure_lm_"+(1e6*Math.random()|0),NT={};function RF(n,e,t,r,i){if(r&&r.once)return MF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RF(n,e[s],t,r,i);return null}return t=LT(t),n&&n[kp]?n.O(e,t,Mp(r)?!!r.capture:!!r,i):xF(n,e,t,!1,r,i)}function xF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Mp(i)?!!i.capture:!!i,a=kT(n);if(a||(n[MT]=a=new ov(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function RQ(){const e=xQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)IQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(OF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function MF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MF(n,e[s],t,r,i);return null}return t=LT(t),n&&n[kp]?n.P(e,t,Mp(r)?!!r.capture:!!r,i):xF(n,e,t,!0,r,i)}function NF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NF(n,e[s],t,r,i);else r=Mp(r)?!!r.capture:!!r,t=LT(t),n&&n[kp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xT(s=n.g[e],t,r,i))&&(sv(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=kT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xT(e,t,r,i)),(t=-1<n?e[n]:null)&&OT(t))}function OT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[kp])RT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(OF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kT(e))?(RT(t,n),0==t.h&&(t.src=null,e[MT]=null)):sv(n)}}}function OF(n){return n in NT?NT[n]:NT[n]="on"+n}function xQ(n,e){if(n.fa)n=!0;else{e=new Op(e,this);var t=n.listener,r=n.la||n.src;n.ia&&OT(n),n=t.call(r,e)}return n}function kT(n){return(n=n[MT])instanceof ov?n:null}var FT="__closure_events_fn_"+(1e9*Math.random()>>>0);function LT(n){return"function"==typeof n?n:(n[FT]||(n[FT]=function(e){return n.handleEvent(e)}),n[FT])}function Dr(){Ic.call(this),this.i=new ov(this),this.S=this,this.J=null}function jr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var i=e;PF(e=new ni(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=av(o,r,!0,e)&&i}if(i=av(o=e.g=n,r,!0,e)&&i,i=av(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=av(o=e.g=t[s],r,!1,e)&&i}function av(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&RT(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Sr(Dr,Ic),Dr.prototype[kp]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){NF(this,n,e,t,r)},Dr.prototype.N=function(){if(Dr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sv(t[r]);delete n.g[e],n.h--}}this.J=null},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var VT=it.JSON.stringify;function NQ(){var n=BT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kF=new class MQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new kQ,n=>n.reset());class kQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function LQ(n){it.setTimeout(()=>{throw n},0)}let Fp,Lp=!1,BT=new class OQ{constructor(){this.h=this.g=null}add(e,t){const r=kF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},FF=()=>{const n=it.Promise.resolve(void 0);Fp=()=>{n.then(VQ)}};var VQ=()=>{for(var n;n=NQ();){try{n.h.call(n.g)}catch(t){LQ(t)}var e=kF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Lp=!1};function cv(n,e){Dr.call(this),this.h=n||1,this.g=e||it,this.j=ti(this.qb,this),this.l=Date.now()}function UT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function jT(n,e,t){if("function"==typeof n)t&&(n=ti(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ti(n.handleEvent,n)}return 2147483647<Number(e)?-1:it.setTimeout(n,e||0)}function LF(n){n.g=jT(()=>{n.g=null,n.i&&(n.i=!1,LF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Sr(cv,Dr),(Ee=cv.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jr(this,"tick"),this.ga&&(UT(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){cv.$.N.call(this),UT(this),delete this.g};class BQ extends Ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LF(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vp(n){Ic.call(this),this.h=n,this.g={}}Sr(Vp,Ic);var VF=[];function BF(n,e,t,r){Array.isArray(t)||(t&&(VF[0]=t.toString()),t=VF);for(var i=0;i<t.length;i++){var s=RF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function UF(n){PT(n.g,function(e,t){this.g.hasOwnProperty(t)&&OT(e)},n),n.g={}}function uv(){this.g=!0}function zd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function HQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return VT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Vp.prototype.N=function(){Vp.$.N.call(this),UF(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uv.prototype.Ea=function(){this.g=!1},uv.prototype.info=function(){};var Ou={},jF=null;function lv(){return jF=jF||new Dr}function $F(n){ni.call(this,Ou.Ta,n)}function Bp(n){const e=lv();jr(e,new $F(e))}function HF(n,e){ni.call(this,Ou.STAT_EVENT,n),this.stat=e}function Di(n){const e=lv();jr(e,new HF(e,n))}function zF(n,e){ni.call(this,Ou.Ua,n),this.size=e}function Up(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){n()},e)}Ou.Ta="serverreachability",Sr($F,ni),Ou.STAT_EVENT="statevent",Sr(HF,ni),Ou.Ua="timingevent",Sr(zF,ni);var dv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $T(){}function WF(){}$T.prototype.h=null;var qT,jp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function HT(){ni.call(this,"d")}function zT(){ni.call(this,"c")}function hv(){}function $p(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Vp(this),this.P=zQ,this.V=new cv(n=CT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KF}function KF(){this.i=null,this.g="",this.h=!1}Sr(HT,ni),Sr(zT,ni),Sr(hv,$T),hv.prototype.g=function(){return new XMLHttpRequest},hv.prototype.i=function(){return{}},qT=new hv;var zQ=45e3,ZF={},GT={};function WT(n,e,t){n.L=1,n.A=mv(Ta(e)),n.u=t,n.S=!0,QF(n,null)}function QF(n,e){n.G=Date.now(),Hp(n),n.B=Ta(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),oL(t.i,"t",r),n.o=0,t=n.l.J,n.h=new KF,n.g=RL(n.l,t?e:null,!n.u),0<n.O&&(n.M=new BQ(ti(n.Pa,n,n.g),n.O)),BF(n.U,n.g,"readystatechange",n.nb),e=n.I?DF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Bp(),function UQ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var g=h.split("_");o=2<=g.length&&"type"==g[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function YF(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function JF(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=qQ(n,t),i==GT){4==e&&(n.s=4,Di(14),r=!1),zd(n.j,n.m,null,"[Incomplete Response]");break}if(i==ZF){n.s=4,Di(15),zd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zd(n.j,n.m,i,null),KT(n,i)}YF(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),tb(e),e.M=!0,Di(11))):(zd(n.j,n.m,t,"[Invalid Chunked Response]"),ku(n),zp(n))}function qQ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?GT:(t=Number(e.substring(t,r)),isNaN(t)?ZF:(r+=1)+t>e.length?GT:(e=e.slice(r,r+t),n.o=r+t,e))}function Hp(n){n.Y=Date.now()+n.P,XF(n,n.P)}function XF(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Up(ti(n.lb,n),e)}function fv(n){n.C&&(it.clearTimeout(n.C),n.C=null)}function zp(n){0==n.l.H||n.J||SL(n.l,n)}function ku(n){fv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,UT(n.V),UF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function KT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ZT(t.i,n)))if(!n.K&&ZT(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wv(t),Ev(t)}eb(t),Di(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Up(ti(t.ib,t),6e3));if(1>=uL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Lu(t,11)}else if((n.K||t.g==n)&&wv(t),!Np(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const h=l[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const g=l[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(QT(s,s.h),s.h=null))}if(r.F){const b=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,mn(r.I,r.F,b))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=PL(r,r.J?r.pa:null,r.Y),o.K){lL(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(fv(a),Hp(a)),r.g=o}else TL(r);0<t.j.length&&Iv(t)}else"stop"!=l[0]&&"close"!=l[0]||Lu(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Lu(t,7):XT(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Bp()}catch{}}function eL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function WQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function GQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Ee=$p.prototype).setTimeout=function(n){this.P=n},Ee.nb=function(n){n=n.target;const e=this.M;e&&3==ko(n)?e.l():this.Pa(n)},Ee.Pa=function(n){try{if(n==this.g)e:{const h=ko(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||CT||this.g&&(this.h.h||this.g.ja()||yL(this.g)))){this.J||4!=h||7==e||Bp(),fv(this);var t=this.g.da();this.ca=t;t:if(YF(this)){var r=yL(this.g);n="";var i=r.length,s=4==ko(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ku(this),zp(this);var o="";break t}this.h.i=new it.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function jQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Np(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.s=3,Di(12),ku(this),zp(this);break e}zd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KT(this,t)}this.S?(JF(this,h,o),CT&&this.i&&3==h&&(BF(this.U,this.V,"tick",this.mb),this.V.start())):(zd(this.j,this.m,o,null),KT(this,o)),4==h&&ku(this),this.i&&!this.J&&(4==h?SL(this.l,this):(this.i=!1,Hp(this)))}else(function dY(n){const e={};n=(n.g&&2<=ko(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Np(n[r]))continue;var t=FQ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function PQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,Di(12)):(this.s=0,Di(13)),ku(this),zp(this)}}}catch{}},Ee.mb=function(){if(this.g){var n=ko(this.g),e=this.g.ja();this.o<e.length&&(fv(this),JF(this,n,e),this.i&&4!=n&&Hp(this))}},Ee.cancel=function(){this.J=!0,ku(this)},Ee.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function $Q(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Bp(),Di(17)),ku(this),this.s=2,zp(this)):XF(this,this.Y-n)};var tL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fu){this.h=n.h,pv(this,n.j),this.s=n.s,this.g=n.g,gv(this,n.m),this.l=n.l;var e=n.i,t=new Wp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nL(this,t),this.o=n.o}else n&&(e=String(n).match(tL))?(this.h=!1,pv(this,e[1]||"",!0),this.s=qp(e[2]||""),this.g=qp(e[3]||"",!0),gv(this,e[4]),this.l=qp(e[5]||"",!0),nL(this,e[6]||"",!0),this.o=qp(e[7]||"")):(this.h=!1,this.i=new Wp(null,this.h))}function Ta(n){return new Fu(n)}function pv(n,e,t){n.j=t?qp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nL(n,e,t){e instanceof Wp?(n.i=e,function eY(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(iL(this,r),oL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gp(e,JQ)),n.i=new Wp(e,n.h))}function mn(n,e,t){n.i.set(e,t)}function mv(n){return mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ZQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ZQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gp(e,rL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gp(e,rL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gp(t,"/"==t.charAt(0)?YQ:QQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gp(t,XQ)),n.join("")};var rL=/[#\/\?@]/g,QQ=/[#\?:]/g,YQ=/[#\?]/g,JQ=/[#\?@]/g,XQ=/#/g;function Wp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new Map,n.h=0,n.i&&function KQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iL(n,e){wc(n),e=qd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sL(n,e){return wc(n),e=qd(n,e),n.g.has(e)}function oL(n,e,t){iL(n,e),0<t.length&&(n.i=null,n.g.set(qd(n,e),IT(t)),n.h+=t.length)}function qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aL(n){this.l=n||nY,n=it.PerformanceNavigationTiming?0<(n=it.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=Wp.prototype).add=function(n,e){wc(this),this.i=null,n=qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(n,e){wc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ee.ta=function(){wc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Ee.Z=function(n){wc(this);let e=[];if("string"==typeof n)sL(this,n)&&(e=e.concat(this.g.get(qd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ee.set=function(n,e){return wc(this),this.i=null,sL(this,n=qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ee.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var nY=10;function cL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uL(n){return n.h?1:n.g?n.g.size:0}function ZT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QT(n,e){n.g?n.g.add(e):n.h=e}function lL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return IT(n.i)}aL.prototype.cancel=function(){if(this.i=dL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var rY=class{stringify(n){return it.JSON.stringify(n,void 0)}parse(n){return it.JSON.parse(n,void 0)}};function iY(){this.g=new rY}function sY(n,e,t){const r=t||"";try{eL(n,function(i,s){let o=i;Mp(i)&&(o=VT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _v(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kp(n){this.l=n.ec||null,this.j=n.ob||!1}function yv(n,e){Dr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=YT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sr(Kp,$T),Kp.prototype.g=function(){return new yv(this.l,this.j)},Kp.prototype.i=function(n){return function(){return n}}({}),Sr(yv,Dr);var YT=0;function hL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qp(n)}function Qp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ee=yv.prototype).open=function(n,e){if(this.readyState!=YT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qp(this)},Ee.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zp(this)),this.readyState=YT},Ee.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qp(this)),this.g&&(this.readyState=3,Qp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zp(this):Qp(this),3==this.readyState&&hL(this)}},Ee.Za=function(n){this.g&&(this.response=this.responseText=n,Zp(this))},Ee.Ya=function(n){this.g&&(this.response=n,Zp(this))},Ee.ka=function(){this.g&&Zp(this)},Ee.setRequestHeader=function(n,e){this.v.append(n,e)},Ee.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aY=it.JSON.parse;function jn(n){Dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fL,this.L=this.M=!1}Sr(jn,Dr);var fL="",cY=/^https?$/i,uY=["POST","PUT"];function pL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gL(n),vv(n)}function gL(n){n.F||(n.F=!0,jr(n,"complete"),jr(n,"error"))}function mL(n){if(n.h&&typeof vT<"u"&&(!n.C[1]||4!=ko(n)||2!=n.da()))if(n.v&&4==ko(n))jT(n.La,0,n);else if(jr(n,"readystatechange"),4==ko(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(tL)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!cY.test(i?i.toLowerCase():"")}t=r}if(t)jr(n,"complete"),jr(n,"success");else{n.m=6;try{var s=2<ko(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gL(n)}}finally{vv(n)}}}function vv(n,e){if(n.g){_L(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||jr(n,"ready");try{t.onreadystatechange=r}catch{}}}function _L(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(it.clearTimeout(n.A),n.A=null)}function ko(n){return n.g?n.g.readyState:0}function yL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vL(n){let e="";return PT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=vL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mn(n,e,t))}function Yp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function EL(n){this.Ga=0,this.j=[],this.l=new uv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yp("baseRetryDelayMs",5e3,n),this.hb=Yp("retryDelaySeedMs",1e4,n),this.eb=Yp("forwardChannelMaxRetries",2,n),this.xa=Yp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aL(n&&n.concurrentRequestLimit),this.Ja=new iY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function XT(n){if(IL(n),3==n.H){var e=n.W++,t=Ta(n.I);if(mn(t,"SID",n.K),mn(t,"RID",e),mn(t,"TYPE","terminate"),Jp(n,t),(e=new $p(n,n.l,e)).L=2,e.A=mv(Ta(t)),t=!1,it.navigator&&it.navigator.sendBeacon)try{t=it.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&it.Image&&((new Image).src=e.A,t=!0),t||(e.g=RL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Hp(e)}AL(n)}function Ev(n){n.g&&(tb(n),n.g.cancel(),n.g=null)}function IL(n){Ev(n),n.u&&(it.clearTimeout(n.u),n.u=null),wv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&it.clearTimeout(n.m),n.m=null)}function Iv(n){if(!cL(n.i)&&!n.m){n.m=!0;var e=n.Na;Fp||FF(),Lp||(Fp(),Lp=!0),BT.add(e,n),n.C=0}}function wL(n,e){var t;t=e?e.m:n.W++;const r=Ta(n.I);mn(r,"SID",n.K),mn(r,"RID",t),mn(r,"AID",n.V),Jp(n,r),n.o&&n.s&&JT(r,n.o,n.s),t=new $p(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=CL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),QT(n.i,t),WT(t,r,e)}function Jp(n,e){n.na&&PT(n.na,function(t,r){mn(e,r,t)}),n.h&&eL({},function(t,r){mn(e,r,t)})}function CL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ti(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const h=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{sY(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function TL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Fp||FF(),Lp||(Fp(),Lp=!0),BT.add(e,n),n.A=0}}function eb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Up(ti(n.Ma,n),DL(n,n.A)),n.A++,0))}function tb(n){null!=n.B&&(it.clearTimeout(n.B),n.B=null)}function bL(n){n.g=new $p(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ta(n.wa);mn(e,"RID","rpc"),mn(e,"SID",n.K),mn(e,"AID",n.V),mn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&mn(e,"TO",n.qa),mn(e,"TYPE","xmlhttp"),Jp(n,e),n.o&&n.s&&JT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=mv(Ta(e)),t.u=null,t.S=!0,QF(t,n)}function wv(n){null!=n.v&&(it.clearTimeout(n.v),n.v=null)}function SL(n,e){var t=null;if(n.g==e){wv(n),tb(n),n.g=null;var r=2}else{if(!ZT(n.i,e))return;t=e.F,lL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;jr(r=lv(),new zF(r,t)),Iv(n)}else TL(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function hY(n,e){return!(uL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Up(ti(n.Na,n,e),DL(n,n.C)),n.C++,0)))}(n,e)||2==r&&eb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Lu(n,5);break;case 4:Lu(n,10);break;case 3:Lu(n,6);break;default:Lu(n,2)}}function DL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Lu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ti(n.pb,n);t||(t=new Fu("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||pv(t,"https"),mv(t)),function oY(n,e){const t=new uv;if(it.Image){const r=new Image;r.onload=rv(_v,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rv(_v,t,r,"TestLoadImage: error",!1,e),r.onabort=rv(_v,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rv(_v,t,r,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Di(2);n.H=0,n.h&&n.h.za(e),AL(n),IL(n)}function AL(n){if(n.H=0,n.ma=[],n.h){const e=dL(n.i);(0!=e.length||0!=n.j.length)&&(wF(n.ma,e),wF(n.ma,n.j),n.i.i.length=0,IT(n.j),n.j.length=0),n.h.ya()}}function PL(n,e,t){var r=t instanceof Fu?Ta(t):new Fu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gv(r,r.m);else{var i=it.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fu(null);r&&pv(s,r),e&&(s.g=e),i&&gv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&mn(r,t,e),mn(r,"VER",n.ra),Jp(n,r),r}function RL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(n.Ha&&!n.va?new Kp({ob:t}):n.va)).Oa(n.J),e}function xL(){}function Cv(){if(Hd&&!(10<=Number(bQ)))throw Error("Environmental error: no available transport.")}function ps(n,e){Dr.call(this),this.g=new EL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Np(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Np(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gd(this)}function ML(n){HT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function NL(){zT.call(this),this.status=1}function Gd(n){this.g=n}function no(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nb(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Gt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Ee=jn.prototype).Oa=function(n){this.M=n},Ee.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qT.g(),this.C=function GF(n){return n.h||(n.h=n.i())}(this.u?this.u:qT),this.g.onreadystatechange=ti(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void pL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=it.FormData&&n instanceof it.FormData,!(0<=IF(uY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_L(this),0<this.B&&((this.L=function lY(n){return Hd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ti(this.ua,this)):this.A=jT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pL(this,s)}},Ee.ua=function(){typeof vT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},Ee.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jr(this,"complete"),jr(this,"abort"),vv(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vv(this,!0)),jn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?mL(this):this.kb())},Ee.kb=function(){mL(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ko(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),aY(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=EL.prototype).ra=8,Ee.H=1,Ee.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new $p(this,this.l,n);let s=this.s;if(this.U&&(s?(s=DF(s),PF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CL(this,i,e),mn(t=Ta(this.I),"RID",n),mn(t,"CVER",22),this.F&&mn(t,"X-HTTP-Session-Id",this.F),Jp(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(vL(s)))+"&"+e:this.o&&JT(t,this.o,s)),QT(this.i,i),this.bb&&mn(t,"TYPE","init"),this.P?(mn(t,"$req",e),mn(t,"SID","null"),i.aa=!0,WT(i,t,null)):WT(i,t,e),this.H=2}}else 3==this.H&&(n?wL(this,n):0==this.j.length||cL(this.i)||wL(this))},Ee.Ma=function(){if(this.u=null,bL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Up(ti(this.jb,this),n)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Di(10),Ev(this),bL(this))},Ee.ib=function(){null!=this.v&&(this.v=null,Ev(this),eb(this),Di(19))},Ee.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Di(2)):(this.l.info("Failed to ping google.com"),Di(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=xL.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Cv.prototype.g=function(n,e){return new ps(n,e)},Sr(ps,Dr),ps.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Di(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=PL(n,null,n.Y),Iv(n)},ps.prototype.close=function(){XT(this.g)},ps.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=VT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Iv(e)},ps.prototype.N=function(){this.g.h=null,delete this.j,XT(this.g),delete this.g,ps.$.N.call(this)},Sr(ML,HT),Sr(NL,zT),Sr(Gd,xL),Gd.prototype.Ba=function(){jr(this.g,"a")},Gd.prototype.Aa=function(n){jr(this.g,new ML(n))},Gd.prototype.za=function(n){jr(this.g,new NL)},Gd.prototype.ya=function(){jr(this.g,"b")},Sr(no,function fY(){this.blockSize=-1}),no.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},no.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)nb(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){nb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){nb(this,r),i=0;break}}this.h=i,this.i+=e},no.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var pY={};function rb(n){return-128<=n&&128>n?function wQ(n,e){var t=pY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Gt([0|e],0>e?-1:0)}):new Gt([0|n],0>n?-1:0)}function Fo(n){if(isNaN(n)||!isFinite(n))return Wd;if(0>n)return $r(Fo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ib;return new Gt(e,0)}var ib=4294967296,Wd=rb(0),sb=rb(1),kL=rb(16777216);function ba(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fs(n){return-1==n.h}function $r(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Gt(t,~n.h).add(sb)}function Tv(n,e){return n.add($r(e))}function bv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Xp(n,e){this.g=n,this.h=e}function Sv(n,e){if(ba(e))throw Error("division by zero");if(ba(n))return new Xp(Wd,Wd);if(Fs(n))return e=Sv($r(n),e),new Xp($r(e.g),$r(e.h));if(Fs(e))return e=Sv(n,$r(e)),new Xp($r(e.g),e.h);if(30<n.g.length){if(Fs(n)||Fs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=sb,r=e;0>=r.X(n);)t=FL(t),r=FL(r);var i=Kd(t,1),s=Kd(r,1);for(r=Kd(r,2),t=Kd(t,2);!ba(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Kd(r,1),t=Kd(t,1)}return e=Tv(n,i.R(e)),new Xp(i,e)}for(i=Wd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Fo(t)).R(e);Fs(o)||0<o.X(n);)o=(s=Fo(t-=r)).R(e);ba(s)&&(s=sb),i=i.add(s),n=Tv(n,o)}return new Xp(i,n)}function FL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Gt(t,n.h)}function Kd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Gt(i,n.h)}(Ee=Gt.prototype).ea=function(){if(Fs(this))return-$r(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ib+r)*e,e*=ib}return n},Ee.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ba(this))return"0";if(Fs(this))return"-"+$r(this).toString(n);for(var e=Fo(Math.pow(n,6)),t=this,r="";;){var i=Sv(t,e).g,s=((0<(t=Tv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ba(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ee.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ee.X=function(n){return Fs(n=Tv(this,n))?-1:ba(n)?0:1},Ee.abs=function(){return Fs(this)?$r(this):this},Ee.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Gt(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(n){if(ba(this)||ba(n))return Wd;if(Fs(this))return Fs(n)?$r(this).R($r(n)):$r($r(this).R(n));if(Fs(n))return $r(this.R($r(n)));if(0>this.X(kL)&&0>n.X(kL))return Fo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,bv(t,2*r+2*i),t[2*r+2*i+1]+=s*c,bv(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,bv(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,bv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Gt(t,0)},Ee.gb=function(n){return Sv(this,n).h},Ee.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Gt(t,this.h&n.h)},Ee.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Gt(t,this.h|n.h)},Ee.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Gt(t,this.h^n.h)},Cv.prototype.createWebChannel=Cv.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,dv.NO_ERROR=0,dv.TIMEOUT=8,dv.HTTP_ERROR=6,qF.COMPLETE="complete",WF.EventType=jp,jp.OPEN="a",jp.CLOSE="b",jp.ERROR="c",jp.MESSAGE="d",Dr.prototype.listen=Dr.prototype.O,jn.prototype.listenOnce=jn.prototype.P,jn.prototype.getLastError=jn.prototype.Sa,jn.prototype.getLastErrorCode=jn.prototype.Ia,jn.prototype.getStatus=jn.prototype.da,jn.prototype.getResponseJson=jn.prototype.Wa,jn.prototype.getResponseText=jn.prototype.ja,jn.prototype.send=jn.prototype.ha,jn.prototype.setWithCredentials=jn.prototype.Oa,no.prototype.digest=no.prototype.l,no.prototype.reset=no.prototype.reset,no.prototype.update=no.prototype.j,Gt.prototype.add=Gt.prototype.add,Gt.prototype.multiply=Gt.prototype.R,Gt.prototype.modulo=Gt.prototype.gb,Gt.prototype.compare=Gt.prototype.X,Gt.prototype.toNumber=Gt.prototype.ea,Gt.prototype.toString=Gt.prototype.toString,Gt.prototype.getBits=Gt.prototype.D,Gt.fromNumber=Fo,Gt.fromString=function OL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return $r(OL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fo(Math.pow(e,8)),r=Wd,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Fo(Math.pow(e,s)),r=r.R(s).add(Fo(o))):r=(r=r.R(t)).add(Fo(o))}return r};var gY=to.createWebChannelTransport=function(){return new Cv},mY=to.getStatEventTarget=function(){return lv()},ob=to.ErrorCode=dv,_Y=to.EventType=qF,yY=to.Event=Ou,LL=to.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dv=(to.FetchXmlHttpFactory=Kp,to.WebChannel=WF),vY=to.XhrIo=jn,EY=to.Md5=no,Zd=to.Integer=Gt;const VL="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let Qd="10.7.0";const Cc=new No.Yd("@firebase/firestore");function Yd(){return Cc.logLevel}function ue(n,...e){if(Cc.logLevel<=No.in.DEBUG){const t=e.map(ab);Cc.debug(`Firestore (${Qd}): ${n}`,...t)}}function rr(n,...e){if(Cc.logLevel<=No.in.ERROR){const t=e.map(ab);Cc.error(`Firestore (${Qd}): ${n}`,...t)}}function Ki(n,...e){if(Cc.logLevel<=No.in.WARN){const t=e.map(ab);Cc.warn(`Firestore (${Qd}): ${n}`,...t)}}function ab(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ae(n="Unexpected state"){const e=`FIRESTORE (${Qd}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function ke(n,e){n||Ae()}function he(n,e){return n}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class TY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bY{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,J.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke("string"==typeof r.accessToken),new BL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new Ar(e)}}class SY{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DY{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new SY(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new UL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function et(n,e){return n<e?-1:n>e?1:0}function Jd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function $L(n){return n+"\0"}class Sn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Sn(0,0))}static max(){return new Le(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ae(),void 0===r?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends eg{construct(e,t,r){return new xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const RY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends eg{construct(e,t,r){return new _n(e,t,r)}static isValidIdentifier(e){return RY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(xt.fromString(e))}static fromName(e){return new pe(xt.fromString(e).popFirst(5))}static empty(){return new pe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new xt(e.slice()))}}class Xd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function cb(n){return n.fields.find(e=>2===e.kind)}function Vu(n){return n.fields.filter(e=>2!==e.kind)}Xd.UNKNOWN_ID=-1;class Bu{constructor(e,t){this.fieldPath=e,this.kind=t}}class eh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eh(0,gs.min())}}function HL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(1e9===r?new Sn(t+1,0):new Sn(t,r));return new gs(i,pe.empty(),e)}function zL(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(Le.min(),pe.empty(),-1)}static max(){return new gs(Le.max(),pe.empty(),-1)}}function ub(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:et(n.largestBatchId,e.largestBatchId))}const qL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tc(n){return lb.apply(this,arguments)}function lb(){return lb=(0,J.Z)(function*(n){if(n.code!==q.FAILED_PRECONDITION||n.message!==qL)throw n;ue("LocalStore","Unexpectedly lost primary lease")}),lb.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,r)=>{t(e)})}static reject(e){return new V((t,r)=>{r(e)})}static waitFor(e){return new V((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=V.resolve(!1);for(const r of e)t=t.next(i=>i?V.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new V((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Av{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Er,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=db(r.target.error);this.V.reject(new tg(e,i))}}static open(e,t,r,i){try{return new Av(t,e.transaction(i,r))}catch(s){throw new tg(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new OY(t)}}class ro{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===ro.S((0,sn.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),Uu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,sn.hl)())return!1;if(ro.C())return!0;const e=(0,sn.z$)(),t=ro.S(e),r=0<t&&t<10,i=ro.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,J.Z)(function*(){return t.db||(ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new tg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new se(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new se(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new tg(e,a))},s.onupgradeneeded=o=>{ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,J.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const c=Av.open(s.db,e,o?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),V.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(ue("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),s.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NY{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Uu(this.k.delete())}}class tg extends se{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bc(n){return"IndexedDbTransactionError"===n.name}class OY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uu(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),Uu(this.store.add(e))}get(e){return Uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),Uu(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),Uu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new V((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new V((r,i)=>{t.onerror=s=>{const o=db(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new NY(a),l=t(a.primaryKey,a.value,c);if(l instanceof V){const h=l.catch(g=>(c.done(),V.reject(g)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>V.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uu(n){return new V((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=db(r.target.error);t(i)}})}let WL=!1;function db(n){const e=ro.S((0,sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WL||(WL=!0,setTimeout(()=>{throw r},0)),r}}return n}class kY{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,J.Z)(function*(){t.task=null;try{ue("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){bc(r)?ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Tc(r)}yield t.ee(6e4)}))}}class FY{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,J.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return V.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ue("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ue("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=zL(s);ub(o,r)>0&&(r=o)}),new gs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ms=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function ng(n){return null==n}function rg(n){return 0===n&&1/n==-1/0}function KL(n){return"number"==typeof n&&Number.isInteger(n)&&!rg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZL(e)),e=LY(n.get(t),e);return ZL(e)}function LY(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function ZL(n){return n+"\x01\x01"}function Lo(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ae(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Ae()}s=o+2}return new xt(r)}const QL=["userId","batchId"];function Pv(n,e){return[n,ri(e)]}function YL(n,e,t){return[n,ri(e),t]}const VY={},BY=["prefixPath","collectionGroup","readTime","documentId"],UY=["prefixPath","collectionGroup","documentId"],jY=["collectionGroup","readTime","prefixPath","documentId"],$Y=["canonicalId","targetId"],HY=["targetId","path"],zY=["path","targetId"],qY=["collectionId","parent"],GY=["indexId","uid"],WY=["uid","sequenceNumber"],KY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZY=["indexId","uid","orderedDocumentKey"],QY=["userId","collectionPath","documentId"],YY=["userId","collectionPath","largestBatchId"],JY=["userId","collectionGroup","largestBatchId"],JL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XY=[...JL,"documentOverlays"],XL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eV=XL,eJ=[...eV,"indexConfiguration","indexState","indexEntries"];class hb extends GL{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Pr(n,e){const t=he(n);return ro.M(t.ae,e)}function tV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class un{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=s??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Hr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rV(this.data.getIterator())}getIteratorFrom(e){return new rV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class rV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function th(n){return n.hasNext()?n.getNext():void 0}class Zi{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Zi([])}unionWith(e){let t=new Zt(_n.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class iV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iV("Invalid base64 string: "+s):s}}(e);return new Ir(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const nJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dc(n){if(ke(!!n),"string"==typeof n){let e=0;const t=nJ.exec(n);if(ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$n(n.seconds),nanos:$n(n.nanos)}}function $n(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sa(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function xv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mv(n){const e=n.mapValue.fields.__previous_value__;return xv(e)?Mv(e):e}function ig(n){const e=Dc(n.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}class rJ{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nv={nullValue:"NULL_VALUE"};function Rc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:cV(n)?9007199254740991:10:Ae()}function Vo(n,e){if(n===e)return!0;const t=Rc(n);if(t!==Rc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ig(n).isEqual(ig(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Dc(i.timestampValue),a=Dc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Sa(n.bytesValue).isEqual(Sa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return $n(i.geoPointValue.latitude)===$n(s.geoPointValue.latitude)&&$n(i.geoPointValue.longitude)===$n(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $n(i.integerValue)===$n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$n(i.doubleValue),a=$n(s.doubleValue);return o===a?rg(o)===rg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Jd(n.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tV(o)!==tV(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Vo(o[c],a[c])))return!1;return!0}(n,e);default:return Ae()}var s}function sg(n,e){return void 0!==(n.values||[]).find(t=>Vo(t,e))}function xc(n,e){if(n===e)return 0;const t=Rc(n),r=Rc(e);if(t!==r)return et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$n(s.integerValue||s.doubleValue),c=$n(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return sV(n.timestampValue,e.timestampValue);case 4:return sV(ig(n),ig(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Sa(s),c=Sa(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=et(a[l],c[l]);if(0!==h)return h}return et(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=et($n(s.latitude),$n(o.latitude));return 0!==a?a:et($n(s.longitude),$n(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=xc(a[l],c[l]);if(h)return h}return et(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pc.mapValue&&o===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(o===Pc.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){const m=et(c[g],h[g]);if(0!==m)return m;const y=xc(a[c[g]],l[h[g]]);if(0!==y)return y}return et(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function sV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return et(n,e);const t=Dc(n),r=Dc(e),i=et(t.seconds,r.seconds);return 0!==i?i:et(t.nanos,r.nanos)}function nh(n){return fb(n)}function fb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Dc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sa(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=fb(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fb(t.fields[o])}`;return i+"}"}(n.mapValue):Ae()}function ju(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pb(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function oV(n){return!!n&&"nullValue"in n}function aV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kv(n){return!!n&&"mapValue"in n}function ag(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ag(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ag(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function iJ(n){return"nullValue"in n?Nv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ju(Ac.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ae()}function sJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ju(Ac.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pc:Ae()}function uV(n,e){const t=xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lV(n,e){const t=xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ag(t)}setAll(e){let t=_n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ag(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zr(ag(this.value))}}function dV(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new _n([t]);if(kv(r)){const s=dV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zi(e)}class yn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Le.min(),Le.min(),Le.min(),zr.empty(),0)}static newFoundDocument(e,t,r,i){return new yn(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new yn(e,2,t,Le.min(),Le.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Le.min(),Le.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,t){this.position=e,this.inclusive=t}}function hV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?pe.comparator(pe.fromName(o.referenceValue),t.key):xc(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function fV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vo(n.position[t],e.position[t]))return!1;return!0}class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function oJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pV{}class At extends pV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new aJ(e,t,r):"array-contains"===t?new lJ(e,r):"in"===t?new EV(e,r):"not-in"===t?new dJ(e,r):"array-contains-any"===t?new hJ(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new cJ(e,r):new uJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xc(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.matchesComparison(xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wt extends pV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Wt(e,t)}matches(e){return rh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rh(n){return"and"===n.op}function gb(n){return"or"===n.op}function mb(n){return gV(n)&&rh(n)}function gV(n){for(const e of n.filters)if(e instanceof Wt)return!1;return!0}function _b(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+nh(n.value);if(mb(n))return n.filters.map(e=>_b(e)).join(",");{const e=n.filters.map(t=>_b(t)).join(",");return`${n.op}(${e})`}}function mV(n,e){return n instanceof At?(r=n,(i=e)instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Vo(r.value,i.value)):n instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&mV(o,i.filters[a]),!0)}(n,e):void Ae();var r,i}function _V(n,e){const t=n.filters.concat(e);return Wt.create(t,n.op)}function yV(n){return n instanceof At?`${(t=n).field.canonicalString()} ${t.op} ${nh(t.value)}`:n instanceof Wt?function(t){return t.op.toString()+" {"+t.getFilters().map(yV).join(" ,")+"}"}(n):"Filter";var t}class aJ extends At{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class cJ extends At{constructor(e,t){super(e,"in",t),this.keys=vV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uJ extends At{constructor(e,t){super(e,"not-in",t),this.keys=vV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class lJ extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&sg(t.arrayValue,this.value)}}class EV extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sg(this.value.arrayValue,t)}}class dJ extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sg(this.value.arrayValue,t)}}class hJ extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sg(this.value.arrayValue,r))}}class fJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function yb(n,e=null,t=[],r=[],i=null,s=null,o=null){return new fJ(n,e,t,r,i,s,o)}function $u(n){const e=he(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_b(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nh(r)).join(",")),e.ce=t}return e.ce}function ug(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fV(n.startAt,e.startAt)&&fV(n.endAt,e.endAt)}function Fv(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lv(n,e){return n.filters.filter(t=>t instanceof At&&t.field.isEqual(e))}function IV(n,e,t){let r=Nv,i=!0;for(const s of Lv(n,e)){let o=Nv,a=!0;switch(s.op){case"<":case"<=":o=iJ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Nv}uV({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];uV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function wV(n,e,t){let r=Pc,i=!0;for(const s of Lv(n,e)){let o=Pc,a=!0;switch(s.op){case">=":case">":o=sJ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Pc}lV({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];lV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Da{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function CV(n,e,t,r,i,s,o,a){return new Da(n,e,t,r,i,s,o,a)}function ih(n){return new Da(n)}function TV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vb(n){return null!==n.collectionGroup}function sh(n){const e=he(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(_n.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new cg(s,r))}),t.has(_n.keyField().canonicalString())||e.le.push(new cg(_n.keyField(),r))}return e.le}function Ai(n){const e=he(n);return e.he||(e.he=function bV(n,e){if("F"===n.limitType)return yb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new cg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Mc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mc(n.startAt.position,n.startAt.inclusive):null;return yb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,sh(n))),e.he}function Eb(n,e){const t=n.filters.concat([e]);return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vv(n,e,t){return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lg(n,e){return ug(Ai(n),Ai(e))&&n.limitType===e.limitType}function SV(n){return`${$u(Ai(n))}|lt:${n.limitType}`}function oh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yV(i)).join(", ")}]`),ng(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nh(i)).join(",")),`Target(${r})`}(Ai(n))}; limitType=${n.limitType})`}function dg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of sh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const l=hV(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,sh(r),i)||r.endAt&&!function(o,a,c){const l=hV(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,sh(r),i)));var r,i}function DV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AV(n){return(e,t)=>{let r=!1;for(const i of sh(n)){const s=pJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function pJ(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?xc(c,l):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nV(this.inner)}size(){return this.innerSize}}const gJ=new un(pe.comparator);function Qi(){return gJ}const PV=new un(pe.comparator);function hg(...n){let e=PV;for(const t of n)e=e.insert(t.key,t);return e}function RV(n){let e=PV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bo(){return fg()}function xV(){return fg()}function fg(){return new Aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const mJ=new un(pe.comparator),_J=new Zt(pe.comparator);function ut(...n){let e=_J;for(const t of n)e=e.add(t);return e}const yJ=new Zt(et);function Ib(){return yJ}function MV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(e)?"-0":e}}function NV(n){return{integerValue:""+n}}function OV(n,e){return KL(e)?NV(e):MV(n,e)}class Bv{constructor(){this._=void 0}}function vJ(n,e,t){return n instanceof ah?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xv(s)&&(s=Mv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Hu?FV(n,e):n instanceof zu?LV(n,e):function(i,s){const o=kV(i,s),a=VV(o)+VV(i.Ie);return pb(o)&&pb(i.Ie)?NV(a):MV(i.serializer,a)}(n,e)}function EJ(n,e,t){return n instanceof Hu?FV(n,e):n instanceof zu?LV(n,e):t}function kV(n,e){return n instanceof ch?pb(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class ah extends Bv{}class Hu extends Bv{constructor(e){super(),this.elements=e}}function FV(n,e){const t=BV(e);for(const r of n.elements)t.some(i=>Vo(i,r))||t.push(r);return{arrayValue:{values:t}}}class zu extends Bv{constructor(e){super(),this.elements=e}}function LV(n,e){let t=BV(e);for(const r of n.elements)t=t.filter(i=>!Vo(i,r));return{arrayValue:{values:t}}}class ch extends Bv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VV(n){return $n(n.integerValue||n.doubleValue)}function BV(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pg{constructor(e,t){this.field=e,this.transform=t}}class wJ{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jv{}function UV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lh(n.key,Dn.none()):new uh(n.key,n.data,Dn.none());{const t=n.data,r=zr.empty();let i=new Zt(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Pa(n.key,r,new Zi(i.toArray()),Dn.none())}}function CJ(n,e,t){n instanceof uh?function(i,s,o){const a=i.value.clone(),c=HV(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Pa?function(i,s,o){if(!Uv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=HV(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll($V(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gg(n,e,t,r){return n instanceof uh?function(s,o,a,c){if(!Uv(s.precondition,o))return a;const l=s.value.clone(),h=zV(s.fieldTransforms,c,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pa?function(s,o,a,c){if(!Uv(s.precondition,o))return a;const l=zV(s.fieldTransforms,c,o),h=o.data;return h.setAll($V(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,Uv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function TJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kV(r.transform,i||null);null!=s&&(null===t&&(t=zr.empty()),t.set(r.field,s))}return t||null}function jV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Jd(r,i,(s,o)=>function IJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Hu&&i instanceof Hu||r instanceof zu&&i instanceof zu?Jd(r.elements,i.elements,Vo):r instanceof ch&&i instanceof ch?Vo(r.Ie,i.Ie):r instanceof ah&&i instanceof ah);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class uh extends jv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pa extends jv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $V(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function HV(n,e,t){const r=new Map;ke(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EJ(o,a,t[i]))}return r}function zV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,vJ(s,o,e))}return r}class lh extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wb extends jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&CJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=UV(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,(t,r)=>jV(t,r))&&Jd(this.baseMutations,e.baseMutations,(t,r)=>jV(t,r))}}class Tb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length);let i=mJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Tb(e,t,r,i)}}class bb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var fr,Mt;function qV(n){switch(n){default:return Ae();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function GV(n){if(void 0===n)return rr("GRPC error has no .code"),q.UNKNOWN;switch(n){case fr.OK:return q.OK;case fr.CANCELLED:return q.CANCELLED;case fr.UNKNOWN:return q.UNKNOWN;case fr.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case fr.INTERNAL:return q.INTERNAL;case fr.UNAVAILABLE:return q.UNAVAILABLE;case fr.UNAUTHENTICATED:return q.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case fr.NOT_FOUND:return q.NOT_FOUND;case fr.ALREADY_EXISTS:return q.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return q.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case fr.ABORTED:return q.ABORTED;case fr.OUT_OF_RANGE:return q.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return q.UNIMPLEMENTED;case fr.DATA_LOSS:return q.DATA_LOSS;default:return Ae()}}(Mt=fr||(fr={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function WV(){return new TextEncoder}const DJ=new Zd([4294967295,4294967295],0);function KV(n){const e=WV().encode(n),t=new EY;return t.update(e),new Uint8Array(t.digest())}function ZV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zd([t,r],0),new Zd([i,s],0)]}class Sb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mg(`Invalid padding: ${t}`);if(r<0)throw new mg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new mg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new mg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Zd.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Zd.fromNumber(r)));return 1===i.compare(DJ)&&(i=new Zd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=KV(e),[r,i]=ZV(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sb(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=KV(e),[r,i]=ZV(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _g{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _g(Le.min(),i,new un(et),Qi(),ut())}}class yg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yg(r,t,ut(),ut(),ut())}}class Hv{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class QV{constructor(e,t){this.targetId=e,this.fe=t}}class YV{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JV{constructor(){this.ge=0,this.pe=e2(),this.ye=Ir.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ut(),t=ut(),r=ut();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new yg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=e2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class AJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qi(),this.Qe=XV(),this.Ke=new un(et)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(Fv(s))if(0===r){const o=new pe(s.path);this.We(t,o,yn.newNoDocument(o,Le.min()))}else ke(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Sa(r).toUint8Array()}catch(c){if(c instanceof iV)return Ki("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Sb(o,i,s)}catch(c){return Ki(c instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Fv(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,yn.newNoDocument(c,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ut();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new _g(e,t,this.Ke,this.qe,r);return this.qe=Qi(),this.Qe=XV(),this.Ke=new un(et),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new JV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Zt(et),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new JV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function XV(){return new un(pe.comparator)}function e2(){return new un(pe.comparator)}const PJ={asc:"ASCENDING",desc:"DESCENDING"},RJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xJ={and:"AND",or:"OR"};class MJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Db(n,e){return n.useProto3Json||ng(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NJ(n,e){return dh(n,e.toTimestamp())}function ir(n){return ke(!!n),Le.fromTimestamp(function(t){const r=Dc(t);return new Sn(r.seconds,r.nanos)}(n))}function Ab(n,e){return(r=n,new xt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function n2(n){const e=xt.fromString(n);return ke(d2(e)),e}function vg(n,e){return Ab(n.databaseId,e.path)}function Uo(n,e){const t=n2(e);if(t.get(1)!==n.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(i2(t))}function Pb(n,e){return Ab(n.databaseId,e)}function r2(n){const e=n2(n);return 4===e.length?xt.emptyPath():i2(e)}function Eg(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i2(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function s2(n,e,t){return{name:vg(n,e),fields:t.value.mapValue.fields}}function o2(n,e,t){const r=Uo(n,e.name),i=ir(e.updateTime),s=e.createTime?ir(e.createTime):Le.min(),o=new zr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Ig(n,e){let t;if(e instanceof uh)t={update:s2(n,e.key,e.value)};else if(e instanceof lh)t={delete:vg(n,e.key)};else if(e instanceof Pa)t={update:s2(n,e.key,e.data),updateMask:jJ(e.fieldMask)};else{if(!(e instanceof wb))return Ae();t={verify:vg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ch)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:NJ(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ae()),t;var s}function Rb(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Dn.updateTime(ir(s.updateTime)):void 0!==s.exists?Dn.exists(s.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),c=new ah):"appendMissingElements"in a?c=new Hu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new zu(a.removeAllFromArray.values||[]):"increment"in a?c=new ch(o,a.increment):Ae();const l=_n.fromServerFormat(a.fieldPath);return new pg(l,c)}(n,i)):[];var s;if(e.update){const i=Uo(n,e.update.name),s=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Zi((e.updateMask.fieldPaths||[]).map(h=>_n.fromServerFormat(h)));return new Pa(i,s,o,t,r)}return new uh(i,s,t,r)}if(e.delete){const i=Uo(n,e.delete);return new lh(i,t)}if(e.verify){const i=Uo(n,e.verify);return new wb(i,t)}return Ae()}function a2(n,e){return{documents:[Pb(n,e.path)]}}function xb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Pb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return l2(Wt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Nc((g=l).field),direction:VJ(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=Db(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function c2(n){let e=r2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ke(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(g){const m=u2(g);return m instanceof Wt&&mb(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new cg(hh((w=m).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,ng(m)?null:m}(t.limit));let c=null;var g;t.startAt&&(c=new Mc((g=t.startAt).values||[],!!g.before));let l=null;return t.endAt&&(l=function(g){return new Mc(g.values||[],!g.before)}(t.endAt)),CV(e,i,o,s,a,"F",c,l)}function u2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=hh(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hh(t.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hh(t.unaryFilter.field);return At.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hh(t.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):void 0!==n.fieldFilter?At.create(hh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Wt.create(t.compositeFilter.filters.map(r=>u2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae();var t}function VJ(n){return PJ[n]}function BJ(n){return RJ[n]}function UJ(n){return xJ[n]}function Nc(n){return{fieldPath:n.canonicalString()}}function hh(n){return _n.fromServerFormat(n.fieldPath)}function l2(n){return n instanceof At?function(t){if("=="===t.op){if(aV(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NAN"}};if(oV(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(aV(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NAN"}};if(oV(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(t.field),op:BJ(t.op),value:t.value}}}(n):n instanceof Wt?function(t){const r=t.getFilters().map(i=>l2(i));return 1===r.length?r[0]:{compositeFilter:{op:UJ(t.op),filters:r}}}(n):Ae()}function jJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function d2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ra{constructor(e,t,r,i,s=Le.min(),o=Le.min(),a=Ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h2{constructor(e){this.ut=e}}function f2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vg(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:dh(s,o.version.toTimestamp()),createTime:dh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:qu(e.version)};else{if(!e.isUnknownDocument())return Ae();r.unknownDocument={path:t.path.toArray(),version:qu(e.version)}}var s,o;return r}function zv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gu(n){const e=new Sn(n.seconds,n.nanoseconds);return Le.fromTimestamp(e)}function Wu(n,e){const t=(e.baseMutations||[]).map(s=>Rb(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>Rb(n.ut,s)),i=Sn.fromMillis(e.localWriteTimeMs);return new Cb(e.batchId,i,t,r)}function wg(n){const e=Gu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gu(n.lastLimboFreeSnapshotVersion):Le.min();let r;return r=void 0!==n.query.documents?(ke(1===(s=n.query).documents.length),Ai(ih(r2(s.documents[0])))):function(s){return Ai(c2(s))}(n.query),new Ra(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken));var s}function p2(n,e){const t=qu(e.snapshotVersion),r=qu(e.lastLimboFreeSnapshotVersion);let i;i=Fv(e.target)?a2(n.ut,e.target):xb(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$u(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Mb(n){const e=c2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vv(e,e.limit,"L"):e}function Nb(n,e){return new bb(e.largestBatchId,Rb(n.ut,e.overlayMutation))}function g2(n,e){const t=e.path.lastSegment();return[n,ri(e.path.popLast()),t]}function m2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:qu(r.readTime),documentKey:ri(r.documentKey.path),largestBatchId:r.largestBatchId}}class HJ{getBundleMetadata(e,t){return _2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Gu(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return _2(e).put({bundleId:(i=t).id,createTime:qu(ir(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return y2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Mb(s.bundledQuery),readTime:Gu(s.readTime)};var s})}saveNamedQuery(e,t){return y2(e).put({name:(i=t).name,readTime:qu(ir(i.readTime)),bundledQuery:i.bundledQuery});var i}}function _2(n){return Pr(n,"bundles")}function y2(n){return Pr(n,"namedQueries")}class qv{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new qv(e,t.uid||"")}getOverlay(e,t){return Cg(e).get(g2(this.userId,t)).next(r=>r?Nb(this.serializer,r):null)}getOverlays(e,t){const r=Bo();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new bb(t,o);i.push(this.lt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ri(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Cg(e).H("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Bo(),s=ri(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Cg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=Nb(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Bo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cg(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const g=Nb(this.serializer,l);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return Cg(e).put(function(i,s,o){const[a,c,l]=g2(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ig(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function Cg(n){return Pr(n,"documentOverlays")}class Ku{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et($n(e.integerValue));else if("doubleValue"in e){const r=$n(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),rg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Sa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?cV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ae()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function zJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function v2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=zJ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Ku.St=new Ku;class qJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=v2(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=v2(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class GJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class WJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Tg{constructor(){this.Wt=new qJ,this.Gt=new GJ(this.Wt),this.zt=new WJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Zu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zu(this.indexId,this.documentKey,this.arrayValue,r)}}function Oc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=E2(n.arrayValue,e.arrayValue),0!==t?t:(t=E2(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function E2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class I2{constructor(e){this.Jt=new Zt((t,r)=>_n.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=cb(e);if(void 0!==t&&!this.tn(t))return!1;const r=Vu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.nn(a,c)||!this.rn(this.Yt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Zt(_n.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Bu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Bu(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Bu(r.field,"asc"===r.dir?0:1)));return new Xd(Xd.UNKNOWN_ID,this.collectionId,t,eh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function w2(n){var e,t;if(ke(n instanceof At||n instanceof Wt),n instanceof At){if(n instanceof EV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>At.create(n.field,"==",s)))||[];return Wt.create(i,"or")}return n}const r=n.filters.map(i=>w2(i));return Wt.create(r,n.op)}function KJ(n){if(0===n.getFilters().length)return[];const e=Fb(w2(n));return ke(C2(e)),Ob(e)||kb(e)?[e]:e.getFilters()}function Ob(n){return n instanceof At}function kb(n){return n instanceof Wt&&mb(n)}function C2(n){return Ob(n)||kb(n)||function(t){if(t instanceof Wt&&gb(t)){for(const r of t.getFilters())if(!Ob(r)&&!kb(r))return!1;return!0}return!1}(n)}function Fb(n){if(ke(n instanceof At||n instanceof Wt),n instanceof At)return n;if(1===n.filters.length)return Fb(n.filters[0]);const e=n.filters.map(r=>Fb(r));let t=Wt.create(e,n.op);return t=Gv(t),C2(t)?t:(ke(t instanceof Wt),ke(rh(t)),ke(t.filters.length>1),t.filters.reduce((r,i)=>Lb(r,i)))}function Lb(n,e){let t;return ke(n instanceof At||n instanceof Wt),ke(e instanceof At||e instanceof Wt),t=n instanceof At?e instanceof At?Wt.create([n,e],"and"):T2(n,e):e instanceof At?T2(e,n):function(i,s){if(ke(i.filters.length>0&&s.filters.length>0),rh(i)&&rh(s))return _V(i,s.getFilters());const o=gb(i)?i:s,a=gb(i)?s:i,c=o.filters.map(l=>Lb(l,a));return Wt.create(c,"or")}(n,e),Gv(t)}function T2(n,e){if(rh(e))return _V(e,n.getFilters());{const t=e.filters.map(r=>Lb(n,r));return Wt.create(t,"or")}}function Gv(n){if(ke(n instanceof At||n instanceof Wt),n instanceof At)return n;const e=n.getFilters();if(1===e.length)return Gv(e[0]);if(gV(n))return n;const t=e.map(i=>Gv(i)),r=[];return t.forEach(i=>{i instanceof At?r.push(i):i instanceof Wt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Wt.create(r,n.op)}class ZJ{constructor(){this.on=new Vb}addToCollectionParentIndex(e,t){return this.on.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(gs.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class Vb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zt(xt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(xt.comparator)).toArray()}}const Wv=new Uint8Array(0);class QJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Vb,this.an=new Aa(r=>$u(r),(r,i)=>ug(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:ri(i)};return b2(e).put(s)}return V.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[$L(t),""],!1,!0);return b2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Lo(o.parent))}return r})}addFieldIndex(e,t){const r=bg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=ph(e);return s.next(a=>{o.put(m2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=bg(e),i=ph(e),s=fh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=bg(e),r=fh(e),i=ph(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return V.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new I2(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=fh(e);let i=!0;const s=new Map;return V.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ut();const a=[];return V.forEach(s,(c,l)=>{var M;ue("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${$u(t)}`);const h=function(M,Y){const fe=cb(Y);if(void 0===fe)return null;for(const xe of Lv(M,fe.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(l,c),g=function(M,Y){const fe=new Map;for(const xe of Vu(Y))for(const Et of Lv(M,xe.fieldPath))switch(Et.op){case"==":case"in":fe.set(xe.fieldPath.canonicalString(),Et.value);break;case"not-in":case"!=":return fe.set(xe.fieldPath.canonicalString(),Et.value),Array.from(fe.values())}return null}(l,c),m=function(M,Y){const fe=[];let xe=!0;for(const Et of Vu(Y)){const zn=0===Et.kind?IV(M,Et.fieldPath,M.startAt):wV(M,Et.fieldPath,M.startAt);fe.push(zn.value),xe&&(xe=zn.inclusive)}return new Mc(fe,xe)}(l,c),y=function(M,Y){const fe=[];let xe=!0;for(const Et of Vu(Y)){const zn=0===Et.kind?wV(M,Et.fieldPath,M.endAt):IV(M,Et.fieldPath,M.endAt);fe.push(zn.value),xe&&(xe=zn.inclusive)}return new Mc(fe,xe)}(l,c),w=this.ln(c,l,m),b=this.ln(c,l,y),P=this.hn(c,l,g),N=this.Pn(c.indexId,h,w,m.inclusive,b,y.inclusive,P);return V.forEach(N,B=>r.j(B,t.limit).next(M=>{M.forEach(Y=>{const fe=pe.fromSegments(Y.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return V.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:KJ(Wt.create(e.filters,"and")).map(r=>yb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const c=(null!=t?t.length:1)*Math.max(r.length,s.length),l=c/(null!=t?t.length:1),h=[];for(let g=0;g<c;++g){const m=t?this.In(t[g/l]):Wv,y=this.Tn(e,m,r[g%l],i),w=this.En(e,m,s[g%l],o),b=a.map(P=>this.Tn(e,m,P,!0));h.push(...this.createRange(y,w,b))}return h}Tn(e,t,r,i){const s=new Zu(e,pe.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Zu(e,pe.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new I2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return V.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let l=new Zt(_n.comparator),h=!1;for(const g of c.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:l=l.add(m.field));for(const g of c.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new Tg;for(const i of Vu(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Ku.St.ht(s,o)}return r.Ut()}In(e){const t=new Tg;return Ku.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new Tg;return Ku.St.ht(ju(this.databaseId,t),r.jt(function(s){const o=Vu(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new Tg);let s=0;for(const o of Vu(e)){const a=r[s++];for(const c of i)if(this.Rn(t,o.fieldPath)&&og(a))i=this.Vn(i,o,a);else{const l=c.jt(o.kind);Ku.St.ht(a,l)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new Tg;c.seed(a.Ut()),Ku.St.ht(o,c.jt(t.kind)),s.push(c)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof At&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=bg(e),i=ph(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(h,g){const m=g?new eh(g.sequenceNumber,new gs(Gu(g.readTime),new pe(Lo(g.documentKey)),g.largestBatchId)):eh.empty(),y=h.fields.map(([w,b])=>new Bu(_n.fromServerFormat(w),b));return new Xd(h.indexId,h.collectionGroup,y,m)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:et(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=bg(e),s=ph(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,c=>s.put(m2(c.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return V.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(s,c);return l.isEqual(h)?V.resolve():this.yn(e,s,c,l,h)}))))})}wn(e,t,r,i){return fh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return fh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=fh(e);let s=new Zt(Oc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Zu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Zt(Oc);const i=this.dn(t,e);if(null==i)return r;const s=cb(t);if(null!=s){const o=e.data.field(s.fieldPath);if(og(o))for(const a of o.arrayValue.values||[])r=r.add(new Zu(t.indexId,e.key,this.In(a),i))}else r=r.add(new Zu(t.indexId,e.key,Wv,i));return r}yn(e,t,r,i,s){ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,l,h,g,m){const y=c.getIterator(),w=l.getIterator();let b=th(y),P=th(w);for(;b||P;){let N=!1,B=!1;if(b&&P){const M=h(b,P);M<0?B=!0:M>0&&(N=!0)}else null!=b?B=!0:N=!0;N?(g(P),P=th(w)):B?(m(b),b=th(y)):(b=th(y),P=th(w))}}(i,s,Oc,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),V.waitFor(o)}fn(e){let t=1;return ph(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Oc(o,a)).filter((o,a,c)=>!a||0!==Oc(o,c[a-1]));const i=[];i.push(e);for(const o of r){const a=Oc(o,e),c=Oc(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(o),i.push(o.Ht());else if(c>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Wv,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Wv,[]]))}return s}bn(e,t){return Oc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(S2)}getMinOffset(e,t){return V.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Ae())).next(S2)}}function b2(n){return Pr(n,"collectionParents")}function fh(n){return Pr(n,"indexEntries")}function bg(n){return Pr(n,"indexConfiguration")}function ph(n){return Pr(n,"indexState")}function S2(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ub(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new gs(e.readTime,e.documentKey,t)}const D2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function A2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=r.Y({range:o},(h,g,m)=>(a++,m.delete()));s.push(c.next(()=>{ke(1===a)}));const l=[];for(const h of t.mutations){const g=YL(e,h.key.path,t.batchId);s.push(i.delete(g)),l.push(h.key)}return V.waitFor(s).next(()=>l)}function Kv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ae();e=n.noDocument}return JSON.stringify(e).length}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class Zv{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){ke(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Zv(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=gh(e),o=kc(e);return o.add({}).next(a=>{ke("number"==typeof a);const c=new Cb(a,t,r,i),l=function(y,w,b){const P=b.baseMutations.map(B=>Ig(y.ut,B)),N=b.mutations.map(B=>Ig(y.ut,B));return{userId:w,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:P,mutations:N}}(this.serializer,this.userId,c),h=[];let g=new Zt((m,y)=>et(m.canonicalString(),y.canonicalString()));for(const m of i){const y=YL(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(o.put(l)),h.push(s.put(y,VY))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),V.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return kc(e).get(t).next(r=>r?(ke(r.userId===this.userId),Wu(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?V.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return kc(e).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(ke(a.batchId>=r),s=Wu(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return kc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kc(e).W("userMutationsIndex",t).next(r=>r.map(i=>Wu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return gh(e).Y({range:i},(o,a,c)=>{const[l,h,g]=o,m=Lo(h);if(l===this.userId&&t.path.isEqual(m))return kc(e).get(g).next(y=>{if(!y)throw Ae();ke(y.userId===this.userId),s.push(Wu(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(et);const i=[];return t.forEach(s=>{const o=Pv(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=gh(e).Y({range:a},(l,h,g)=>{const[m,y,w]=l,b=Lo(y);m===this.userId&&s.path.isEqual(b)?r=r.add(w):g.done()});i.push(c)}),V.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Pv(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Zt(et);return gh(e).Y({range:o},(c,l,h)=>{const[g,m,y]=c,w=Lo(m);g===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(kc(e).get(s).next(o=>{if(null===o)throw Ae();ke(o.userId===this.userId),r.push(Wu(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return A2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return gh(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=Lo(s[1]);i.push(c)}else a.done()}).next(()=>{ke(0===i.length)})})}containsKey(e,t){return P2(e,this.userId,t)}Mn(e){return R2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function P2(n,e,t){const r=Pv(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return gh(n).Y({range:s,J:!0},(a,c,l)=>{const[h,g,m]=a;h===e&&g===i&&(o=!0),l.done()}).next(()=>o)}function kc(n){return Pr(n,"mutations")}function gh(n){return Pr(n,"documentMutations")}function R2(n){return Pr(n,"mutationQueues")}class Qu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qu(0)}static Nn(){return new Qu(-1)}}class YJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Qu(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Le.fromTimestamp(new Sn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return mh(e).Y((o,a)=>{const c=wg(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,t){return mh(e).Y((r,i)=>{const s=wg(i);t(s)})}Bn(e){return x2(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return x2(e).put("targetGlobalKey",t)}kn(e,t){return mh(e).put(p2(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$u(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return mh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const l=wg(a);ug(t,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Fc(e);return t.forEach(o=>{const a=ri(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fc(e);return V.forEach(t,s=>{const o=ri(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Fc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fc(e);let s=ut();return i.Y({range:r,J:!0},(o,a,c)=>{const l=Lo(o[1]),h=new pe(l);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=ri(t.path),i=IDBKeyRange.bound([r],[$L(r)],!1,!0);let s=0;return Fc(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,t){return mh(e).get(t).next(r=>r?wg(r):null)}}function mh(n){return Pr(n,"targets")}function x2(n){return Pr(n,"targetGlobal")}function Fc(n){return Pr(n,"targetDocuments")}function M2([n,e],[t,r]){const i=et(n,t);return 0===i?et(e,r):i}class JJ{constructor(e){this.Qn=e,this.buffer=new Zt(M2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();M2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,J.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){bc(r)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tc(r)}yield t.Gn(3e5)}))}}class XJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return V.resolve(ms._e);const r=new JJ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(D2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Yd()<=No.in.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${g} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class eX{constructor(e,t){this.db=e,this.garbageCollector=function O2(n,e){return new XJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return Qv(e,r)}removeReference(e,t,r){return Qv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qv(e,t)}Xn(e,t){return function(i,s){let o=!1;return R2(i).Z(a=>P2(i,a,s).next(c=>(c&&(o=!0),V.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const c=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Le.min()),Fc(e).delete([0,ri(o.path)])))});i.push(c)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qv(e,t)}Zn(e,t){const r=Fc(e);let i,s=ms._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{0===o?(s!==ms._e&&t(new pe(Lo(i)),s),s=l,i=c):s=ms._e}).next(()=>{s!==ms._e&&t(new pe(Lo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qv(n,e){return Fc(n).put((i=n.currentSequenceNumber,{targetId:0,path:ri(e.path),sequenceNumber:i}));var i}class k2{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yu(e).put(r)}removeEntry(e,t,r){return Yu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zv(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=yn.newInvalidDocument(t);return Yu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:yn.newInvalidDocument(t)};return Yu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r={document:this.tr(t,s),size:Kv(s)}}).next(()=>r)}getEntries(e,t){let r=Qi();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Qi(),i=new un(pe.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Kv(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return V.resolve();let i=new Zt(B2);t.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Sg(i.first()),Sg(i.last())),o=i.getIterator();let a=o.getNext();return Yu(e).Y({index:"documentKeyIndex",range:s},(c,l,h)=>{const g=pe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&B2(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?h.U(Sg(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),zv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yu(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let h=Qi();for(const g of l){const m=this.tr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(dg(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Qi();const o=V2(t,r),a=V2(t,gs.max());return Yu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,h)=>{const g=this.tr(pe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(g.key,g),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new nX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return L2(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return L2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function $J(n,e){let t;if(e.document)t=o2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=Gu(e.noDocument.readTime);t=yn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae();{const r=pe.fromSegments(e.unknownDocument.path),i=Gu(e.unknownDocument.version);t=yn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Sn(i[0],i[1]);return Le.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Le.min()))return r}return yn.newInvalidDocument(e)}}function F2(n){return new tX(n)}class nX extends k2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Aa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Zt((s,o)=>et(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=f2(this._r.serializer,o);i=i.add(s.path.popLast());const l=Kv(c);r+=l-a.size,t.push(this._r.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=f2(this._r.serializer,o.convertToNoDocument(Le.min()));t.push(this._r.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),V.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function L2(n){return Pr(n,"remoteDocumentGlobal")}function Yu(n){return Pr(n,"remoteDocumentsV14")}function Sg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V2(n,e){const t=e.documentKey.path.toArray();return[n,zv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function B2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=et(t[s],r[s]),i)return i;return i=et(t.length,r.length),i||(i=et(t[t.length-2],r[r.length-2]),i||et(t[t.length-1],r[r.length-1]))}class rX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class U2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&gg(r.mutation,i,Zi.empty(),Sn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ut()){const i=Bo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=hg();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Qi();const o=fg(),a=fg();return t.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof Pa)?s=s.insert(l.key,l):void 0!==h?(o.set(l.key,h.mutation.getFieldMask()),gg(h.mutation,l,h.mutation.getFieldMask(),Sn.now())):o.set(l.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var g;return a.set(l,new rX(h,null!==(g=o.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=fg();let i=new un((o,a)=>o-a),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let h=r.get(c)||Zi.empty();h=a.applyToLocalView(l,h),r.set(c,h);const g=(i.get(a.batchId)||ut()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,g=xV();h.forEach(m=>{if(!s.has(m)){const y=UV(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return pe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(Bo());let a=-1,c=s;return o.next(l=>V.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ut())).next(h=>({batchId:a,changes:RV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=hg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=hg();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,c=>{const l=(g=t,m=c.child(s),new Da(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{const h=l.getKey();null===o.get(h)&&(o=o.insert(h,yn.newInvalidDocument(h)))});let a=hg();return o.forEach((c,l)=>{const h=s.get(c);void 0!==h&&gg(h.mutation,l,Zi.empty(),Sn.now()),dg(t,l)&&(a=a.insert(c,l))}),a})}}class iX{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return V.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:ir(i.createTime)}),V.resolve();var i}getNamedQuery(e,t){return V.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Mb(i.bundledQuery),readTime:ir(i.readTime)}),V.resolve();var i}}class sX{constructor(){this.overlays=new un(pe.comparator),this.lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bo();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){const i=Bo(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new un((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);null===h&&(h=Bo(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Bo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bb(t,r));let s=this.lr.get(t);void 0===s&&(s=ut(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class Bb{constructor(){this.hr=new Zt(Rr.Pr),this.Ir=new Zt(Rr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Rr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Rr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new pe(new xt([])),r=new Rr(t,e),i=new Rr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new xt([])),r=new Rr(t,e),i=new Rr(t,e+1);let s=ut();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Rr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||et(e.gr,t.gr)}static Tr(e,t){return et(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class oX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Zt(Rr.Pr)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new Cb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Rr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rr(t,0),i=new Rr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(et);return t.forEach(i=>{const s=new Rr(i,0),o=new Rr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Rr(new pe(s),0);let a=new Zt(et);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),V.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return V.forEach(t.mutations,i=>{const s=new Rr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Rr(t,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return V.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aX{constructor(e){this.Cr=e,this.docs=new un(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Qi();const o=t.path,a=new pe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||ub(zL(h),r)<=0||(i.has(h.key)||dg(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ae()}vr(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cX(this)}getSize(e){return V.resolve(this.size)}}class cX extends k2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class uX{constructor(e){this.persistence=e,this.Fr=new Aa(t=>$u(t),ug),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Bb,this.targetCount=0,this.Nr=Qu.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),V.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.kn(t),V.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),V.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Or.containsKey(t))}}class Ub{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ms(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new uX(this),this.indexManager=new ZJ,this.remoteDocumentCache=new aX(r=>this.referenceDelegate.Qr(r)),this.serializer=new h2(t),this.Kr=new iX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new oX(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new lX(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class lX extends GL{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Gr=new Bb,this.zr=null}static jr(e){return new Yv(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=pe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Le.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return V.or([()=>V.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class dX{constructor(e){this.serializer=e}N(e,t,r,i){const s=new Av("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QL,{unique:!0}),c.createObjectStore("documentMutations"),j2(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),j2(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QL,{unique:!0});const g=l.store("mutations"),m=h.map(y=>g.put(y));return V.waitFor(m)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:QY});l.createIndex("collectionPathOverlayIndex",YY,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",JY,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:BY});l.createIndex("documentKeyIndex",UY),l.createIndex("collectionGroupIndex",jY)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:GY}).createIndex("sequenceNumberIndex",WY,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:KY}).createIndex("documentKeyIndex",ZY,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=Kv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>V.forEach(a,c=>{ke(c.userId===s.userId);const l=Wu(this.serializer,c);return A2(e,s.userId,l).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const c=new xt(o),l=[0,ri(c)];s.push(t.get(l).next(h=>h?V.resolve():t.put({targetId:0,path:ri(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>V.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:qY});const r=t.store("collectionParents"),i=new Vb,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:ri(c)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const c=new xt(o);return s(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,c],l)=>{const h=Lo(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=wg(i),o=p2(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),c=(g=o,g.document?new pe(xt.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):Ae()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>V.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=F2(this.serializer),s=new Ub(Yv.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ut();Wu(this.serializer,c).keys().forEach(g=>h=h.add(g)),a.set(c.userId,h)}),V.forEach(a,(c,l)=>{const h=new Ar(l),g=qv.ct(this.serializer,h),m=s.getIndexManager(h),y=Zv.ct(h,this.serializer,m,s.referenceDelegate);return new U2(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new hb(t,ms._e),c).next()})})}}function j2(n){n.createObjectStore("targetDocuments",{keyPath:HY}).createIndex("documentTargetsIndex",zY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$Y,{unique:!0}),n.createObjectStore("targetGlobal")}const jb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $b{constructor(e,t,r,i,s,o,a,c,l,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!$b.D())throw new se(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eX(this,i),this.Ii=t+"main",this.serializer=new h2(c),this.Ti=new ro(this.Ii,this.ai,new dX(this.serializer)),this.qr=new YJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=F2(this.serializer),this.Kr=new HJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(q.FAILED_PRECONDITION,jb);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ms(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,J.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,J.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(bc(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Dg(e).get("owner").next(t=>V.resolve(this.wi(t)))}Si(e){return Xv(e).delete(this.clientId)}bi(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Pr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return V.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?V.resolve(!0):Dg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new se(q.FAILED_PRECONDITION,jb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xv(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new hb(t,ms._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Xv(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Zv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new QJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return qv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.ai)?eJ:14===c?eV:13===c?XL:12===c?XY:11===c?JL:void Ae();var c;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new hb(a,this.Lr?this.Lr.next():ms._e),"readwrite-primary"===t?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new se(q.FAILED_PRECONDITION,qL);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Dg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new se(q.FAILED_PRECONDITION,jb)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dg(e).put("owner",t)}static D(){return ro.D()}pi(e){const t=Dg(e);return t.get("owner").next(r=>this.wi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(rr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,sn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dg(n){return Pr(n,"owner")}function Xv(n){return Pr(n,"clientMetadata")}function Hb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ut(),i=ut();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zb(e,t.fromCache,r,i)}}class hX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hX;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Yd()<=No.in.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Yd()<=No.in.DEBUG&&ue("QueryEngine","Query:",oh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Yd()<=No.in.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):V.resolve())}zi(e,t){if(TV(t))return V.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Vv(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ut(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(t,a);return this.Zi(t,l,o,c.readTime)?this.zi(e,Vv(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,r,i){return TV(t)||i.isEqual(Le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?V.resolve(null):(Yd()<=No.in.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oh(t)),this.Xi(e,o,t,HL(i,-1)).next(a=>a))})}Yi(e,t){let r=new Zt(AV(e));return t.forEach((i,s)=>{dg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Yd()<=No.in.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oh(t)),this.Gi.getDocumentsMatchingQuery(e,t,gs.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fX{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new un(et),this.ns=new Aa(s=>$u(s),ug),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function H2(n,e,t,r){return new fX(n,e,t,r)}function z2(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,J.Z)(function*(n,e){const t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ut();for(const l of i){o.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),qb.apply(this,arguments)}function q2(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function G2(n,e,t){let r=ut(),i=ut();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Qi();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}function mX(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _h(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function yh(n,e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,J.Z)(function*(n,e,t){const r=he(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bc(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Gb.apply(this,arguments)}function eE(n,e,t){const r=he(n);let i=Le.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,h){const g=he(c),m=g.ns.get(h);return void 0!==m?V.resolve(g.ts.get(m)):g.qr.getTargetData(l,h)}(r,o,Ai(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Le.min(),t?s:ut())).next(a=>(Z2(r,DV(e),a),{documents:a,ls:s})))}function W2(n,e){const t=he(n),r=he(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function K2(n,e){const t=he(n),r=t.rs.get(e)||Le.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,HL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Z2(t,e,i),i))}function Z2(n,e,t){let r=n.rs.get(e)||Le.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function Wb(){return Wb=(0,J.Z)(function*(n,e,t,r){const i=he(n);let s=ut(),o=Qi();for(const l of t){const h=e.hs(l.metadata.name);l.document&&(s=s.add(h));const g=e.Ps(l);g.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield _h(i,(h=r,Ai(ih(xt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>G2(l,a,o).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),Wb.apply(this,arguments)}function yX(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,J.Z)(function*(n,e,t=ut()){const r=yield _h(n,Ai(Mb(e.bundledQuery))),i=he(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ir(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ir.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),Kb.apply(this,arguments)}function Q2(n,e){return`firestore_clients_${n}_${e}`}function Y2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Zb(n,e){return`firestore_targets_${n}_${e}`}class tE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new se(i.error.code,i.error.message))),o?new tE(e,t,i.state,s):(rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new se(r.error.code,r.error.message))),s?new Ag(e,r.state,i):(rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ib();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=KL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new nE(e,s):(rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qb(t.clientId,t.onlineState):(rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yb{constructor(){this.activeTargetIds=Ib()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jb{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new un(et),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=Q2(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Yb),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(Q2(e.persistenceKey,i));if(s){const o=nE.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Zb(this.persistenceKey,e));if(r){const i=Ag.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue("SharedClientState","READ",e,t),t}setItem(e,t){ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=ms._e;if(null!=o)try{const c=JSON.parse(o);ke("number"==typeof c),a=c}catch(c){rr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==ms._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new tE(this.currentUser,e,t,r),s=Y2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=Y2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=Zb(this.persistenceKey,e),s=new Ag(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return nE.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return tE.Ts(new Ar(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return Ag.Ts(i,t)}Ms(e){return Qb.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Ib();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class J2{constructor(){this.eo=new Yb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Yb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vX{ro(e){}shutdown(){}}class X2{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rE=null;function Xb(){return null===rE?rE=268435456+Math.round(2147483648*Math.random()):rE++,"0x"+rE.toString(16)}const EX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IX{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const si="WebChannelConnection";class wX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=Xb(),c=this.So(t,r);ue("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(t,c,l,i).then(h=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Ki("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${EX[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=Xb();return new Promise((o,a)=>{const c=new vY;c.setWithCredentials(!0),c.listenOnce(_Y.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ob.NO_ERROR:const h=c.getResponseJson();ue(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ob.TIMEOUT:ue(si,`RPC '${e}' ${s} timed out`),a(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case ob.HTTP_ERROR:const g=c.getStatus();if(ue(si,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const w=function(P){const N=P.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(N)>=0?N:q.UNKNOWN}(y.status);a(new se(w,y.message))}else a(new se(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(q.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ue(si,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ue(si,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}vo(e,t,r){const i=Xb(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gY(),a=mY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const h=s.join("");ue(si,`Creating RPC '${e}' stream ${i}: ${h}`,c);const g=o.createWebChannel(h,c);let m=!1,y=!1;const w=new IX({co:P=>{y?ue(si,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(ue(si,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ue(si,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},lo:()=>g.close()}),b=(P,N,B)=>{P.listen(N,M=>{try{B(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return b(g,Dv.EventType.OPEN,()=>{y||ue(si,`RPC '${e}' stream ${i} transport opened.`)}),b(g,Dv.EventType.CLOSE,()=>{y||(y=!0,ue(si,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),b(g,Dv.EventType.ERROR,P=>{y||(y=!0,Ki(si,`RPC '${e}' stream ${i} transport errored:`,P),w.Ro(new se(q.UNAVAILABLE,"The operation could not be completed")))}),b(g,Dv.EventType.MESSAGE,P=>{var N;if(!y){const B=P.data[0];ke(!!B);const Y=B.error||(null===(N=B[0])||void 0===N?void 0:N.error);if(Y){ue(si,`RPC '${e}' stream ${i} received error:`,Y);const fe=Y.status;let xe=function(io){const Us=fr[io];if(void 0!==Us)return GV(Us)}(fe),Et=Y.message;void 0===xe&&(xe=q.INTERNAL,Et="Unknown error status: "+fe+" with message "+Y.message),y=!0,w.Ro(new se(xe,Et)),g.close()}else ue(si,`RPC '${e}' stream ${i} received:`,B),w.Vo(B)}}),b(a,yY.STAT_EVENT,P=>{P.stat===LL.PROXY?ue(si,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===LL.NOPROXY&&ue(si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function eB(){return typeof window<"u"?window:null}function iE(){return typeof document<"u"?document:null}function Pg(n){return new MJ(n,!0)}class eS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class tB{constructor(e,t,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new eS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,J.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,J.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,J.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===q.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new se(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,J.Z)(function*(){e.state=0,e.start()}))}o_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CX extends tB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function kJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ae(),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ke(void 0===h||"string"==typeof h),Ir.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),Ir.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=void 0===l.code?q.UNKNOWN:GV(l.code);return new se(h,l.message||"")}(o);t=new YV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Uo(n,r.document.name),s=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):Le.min(),a=new zr({mapValue:{fields:r.document.fields}}),c=yn.newFoundDocument(i,s,o,a);t=new Hv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Uo(n,r.document),s=r.readTime?ir(r.readTime):Le.min(),o=yn.newNoDocument(i,s);t=new Hv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Uo(n,r.document);t=new Hv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new SJ(i,s);t=new QV(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?ir(o.readTime):Le.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Eg(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=Fv(c)?{documents:a2(s,c)}:{query:xb(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=t2(s,o.resumeToken);const l=Db(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Le.min())>0){a.readTime=dh(s,o.snapshotVersion.toTimestamp());const l=Db(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function LJ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.e_(t)}}class TX extends tB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function FJ(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(i,s){let o=ir(i.updateTime?i.updateTime:s);return o.isEqual(Le.min())&&(o=ir(s)),new wJ(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.I_(r,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Eg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ig(this.serializer,r))};this.e_(t)}}class bX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(q.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(q.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class DX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rr(t),this.f_=!1):ue("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class AX{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,J.Z)(function*(){var c;Lc(o)&&(ue("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,J.Z)(function*(h){const g=he(h);g.C_.add(4),yield vh(g),g.M_.set("Unknown"),g.C_.delete(4),yield Rg(g)}),function l(h){return c.apply(this,arguments)})(o))}))}),this.M_=new DX(r,i)}}function Rg(n){return nS.apply(this,arguments)}function nS(){return nS=(0,J.Z)(function*(n){if(Lc(n))for(const e of n.v_)yield e(!0)}),nS.apply(this,arguments)}function vh(n){return rS.apply(this,arguments)}function rS(){return rS=(0,J.Z)(function*(n){for(const e of n.v_)yield e(!1)}),rS.apply(this,arguments)}function sE(n,e){const t=he(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),oS(t)?sS(t):Ih(t).Ho()&&iS(t,e))}function xg(n,e){const t=he(n),r=Ih(t);t.D_.delete(e),r.Ho()&&nB(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Lc(t)&&t.M_.set("Unknown"))}function iS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ih(n).u_(e)}function nB(n,e){n.x_.Oe(e),Ih(n).c_(e)}function sS(n){n.x_=new AJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ih(n).start(),n.M_.g_()}function oS(n){return Lc(n)&&!Ih(n).jo()&&n.D_.size>0}function Lc(n){return 0===he(n).C_.size}function rB(n){n.x_=void 0}function PX(n){return aS.apply(this,arguments)}function aS(){return aS=(0,J.Z)(function*(n){n.D_.forEach((e,t)=>{iS(n,e)})}),aS.apply(this,arguments)}function RX(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,J.Z)(function*(n,e){rB(n),oS(n)?(n.M_.w_(e),sS(n)):n.M_.set("Unknown")}),cS.apply(this,arguments)}function xX(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,J.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof YV&&2===e.state&&e.cause)try{yield(r=(0,J.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oE(n,r)}else if(e instanceof Hv?n.x_.$e(e):e instanceof QV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Le.min()))try{const r=yield q2(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.D_.get(l);h&&s.D_.set(l,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const h=s.D_.get(c);if(!h)return;s.D_.set(c,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),nB(s,c);const g=new Ra(h.target,c,l,h.sequenceNumber);iS(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),yield oE(n,r)}var r}),uS.apply(this,arguments)}function oE(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,J.Z)(function*(n,e,t){if(!bc(e))throw e;n.C_.add(1),yield vh(n),n.M_.set("Offline"),t||(t=()=>q2(n.localStore)),n.asyncQueue.enqueueRetryable((0,J.Z)(function*(){ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Rg(n)}))}),lS.apply(this,arguments)}function iB(n,e){return e().catch(t=>oE(n,t,e))}function Eh(n){return dS.apply(this,arguments)}function dS(){return dS=(0,J.Z)(function*(n){const e=he(n),t=Vc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;MX(e);)try{const i=yield mX(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,NX(e,i)}catch(i){yield oE(e,i)}sB(e)&&oB(e)}),dS.apply(this,arguments)}function MX(n){return Lc(n)&&n.b_.length<10}function NX(n,e){n.b_.push(e);const t=Vc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function sB(n){return Lc(n)&&!Vc(n).jo()&&n.b_.length>0}function oB(n){Vc(n).start()}function OX(n){return hS.apply(this,arguments)}function hS(){return hS=(0,J.Z)(function*(n){Vc(n).E_()}),hS.apply(this,arguments)}function kX(n){return fS.apply(this,arguments)}function fS(){return fS=(0,J.Z)(function*(n){const e=Vc(n);for(const t of n.b_)e.P_(t.mutations)}),fS.apply(this,arguments)}function FX(n,e,t){return pS.apply(this,arguments)}function pS(){return pS=(0,J.Z)(function*(n,e,t){const r=n.b_.shift(),i=Tb.from(r,e,t);yield iB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Eh(n)}),pS.apply(this,arguments)}function LX(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,J.Z)(function*(n,e){var t;e&&Vc(n).h_&&(yield(t=(0,J.Z)(function*(i,s){if(qV(a=s.code)&&a!==q.ABORTED){const o=i.b_.shift();Vc(i).Yo(),yield iB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Eh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),sB(n)&&oB(n)}),gS.apply(this,arguments)}function aB(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,J.Z)(function*(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Lc(t);t.C_.add(3),yield vh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Rg(t)}),mS.apply(this,arguments)}function _S(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,J.Z)(function*(n,e){const t=he(n);e?(t.C_.delete(2),yield Rg(t)):e||(t.C_.add(2),yield vh(t),t.M_.set("Unknown"))}),yS.apply(this,arguments)}function Ih(n){return n.O_||(n.O_=function(t,r,i){const s=he(t);return s.A_(),new CX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:PX.bind(null,n),Io:RX.bind(null,n),a_:xX.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.O_.Yo(),oS(n)?sS(n):n.M_.set("Unknown")):(yield n.O_.stop(),rB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Vc(n){return n.N_||(n.N_=function(t,r,i){const s=he(t);return s.A_(),new TX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:OX.bind(null,n),Io:LX.bind(null,n),T_:kX.bind(null,n),I_:FX.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.N_.Yo(),yield Eh(n)):(yield n.N_.stop(),n.b_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class vS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new vS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(n,e){if(rr("AsyncQueue",`${e}: ${n}`),bc(n))return new se(q.UNAVAILABLE,`${e}: ${n}`);throw n}class Ch{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=hg(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new Ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class cB{constructor(){this.B_=new un(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Th{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Th(e,t,Ch.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class VX{constructor(){this.k_=void 0,this.listeners=[]}}class BX{constructor(){this.queries=new Aa(e=>SV(e),lg),this.onlineState="Unknown",this.q_=new Set}}function ES(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,J.Z)(function*(n,e){const t=he(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new VX),i)try{s.k_=yield t.onListen(r)}catch(o){const a=wh(o,`Initialization of query '${oh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&TS(t)}),IS.apply(this,arguments)}function wS(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,J.Z)(function*(n,e){const t=he(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CS.apply(this,arguments)}function UX(n,e){const t=he(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&TS(t)}function jX(n,e,t){const r=he(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function TS(n){n.q_.forEach(e=>{e.next()})}class bS{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Th(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class $X{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class uB{constructor(e){this.serializer=e}hs(e){return Uo(this.serializer,e)}Ps(e){return e.metadata.exists?o2(this.serializer,e.document,!1):yn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ir(e)}}class HX{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=xt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new uB(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ut()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function _X(n,e,t,r){return Wb.apply(this,arguments)}(e.localStore,new uB(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield yX(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function lB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dB{constructor(e){this.key=e}}class hB{constructor(e){this.key=e}}class fB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ut(),this.mutatedKeys=ut(),this._a=AV(e),this.aa=new Ch(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new cB,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=dg(this.query,g)?g:null,w=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;m&&y?m.data.isEqual(y.data)?w!==b&&(r.track({type:3,doc:y}),P=!0):this.ha(m,y)||(r.track({type:2,doc:y}),P=!0,(c&&this._a(y,c)>0||l&&this._a(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(c||l)&&(a=!0)),P&&(y?(o=o.add(y),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((h,g)=>function(y,w){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return b(y)-b(w)}(h.type,g.type)||this._a(h.doc,g.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],c=0===this.oa.size&&this.current&&!i?1:0,l=c!==this.sa;return this.sa=c,0!==o.length||l?{snapshot:new Th(this.query,e.aa,s,o,e.mutatedKeys,0===c,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new cB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ut(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new hB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new dB(r))}),t}da(e){this.ia=e.ls,this.oa=ut();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Th.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class zX{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qX{constructor(e){this.key=e,this.Ra=!1}}class GX{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Aa(a=>SV(a),lg),this.fa=new Map,this.ga=new Set,this.pa=new un(pe.comparator),this.ya=new Map,this.wa=new Bb,this.Sa={},this.ba=new Map,this.Da=Qu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function WX(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,J.Z)(function*(n,e){const t=ZS(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield _h(t.localStore,Ai(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield DS(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&sE(t.remoteStore,o)}return i}),SS.apply(this,arguments)}function DS(n,e,t,r,i){return AS.apply(this,arguments)}function AS(){return AS=(0,J.Z)(function*(n,e,t,r,i){n.va=(g,m,y)=>{return(w=(0,J.Z)(function*(P,N,B,M){let Y=N.view.ca(B);Y.Zi&&(Y=yield eE(P.localStore,N.query,!1).then(({documents:zn})=>N.view.ca(zn,Y)));const fe=M&&M.targetChanges.get(N.targetId),xe=M&&null!=M.targetMismatches.get(N.targetId),Et=N.view.applyChanges(Y,P.isPrimaryClient,fe,xe);return VS(P,N.targetId,Et.Ta),Et.snapshot}),function b(P,N,B,M){return w.apply(this,arguments)})(n,g,m,y);var w};const s=yield eE(n.localStore,e,!0),o=new fB(e,s.ls),a=o.ca(s.documents),c=yg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);VS(n,t,l.Ta);const h=new zX(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),l.snapshot}),AS.apply(this,arguments)}function KX(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,J.Z)(function*(n,e){const t=he(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!lg(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xg(t.remoteStore,r.targetId),bh(t,r.targetId)}).catch(Tc))):(bh(t,r.targetId),yield yh(t.localStore,r.targetId,!0))}),PS.apply(this,arguments)}function RS(){return RS=(0,J.Z)(function*(n,e,t){const r=QS(n);try{const i=yield function(o,a){const c=he(o),l=Sn.now(),h=a.reduce((y,w)=>y.add(w.key),ut());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Qi(),b=ut();return c.ss.getEntries(y,h).next(P=>{w=P,w.forEach((N,B)=>{B.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(P=>{g=P;const N=[];for(const B of a){const M=TJ(B,g.get(B.key).overlayedDocument);null!=M&&N.push(new Pa(B.key,M,dV(M.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,N,a)}).next(P=>{m=P;const N=P.applyToLocalDocumentSet(g,b);return c.documentOverlayCache.saveOverlays(y,P.batchId,N)})}).then(()=>({batchId:m.batchId,changes:RV(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new un(et)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield xa(r,i.changes),yield Eh(r.remoteStore)}catch(i){const s=wh(i,"Failed to persist write");t.reject(s)}}),RS.apply(this,arguments)}function pB(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,J.Z)(function*(n,e){const t=he(n);try{const r=yield function gX(n,e){const t=he(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var b,P,N;null!==e.targetMismatches.get(g)?y=y.withResumeToken(Ir.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),P=y,N=h,(0===(b=m).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let c=Qi(),l=ut();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(G2(s,o,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Le.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(g=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ke(o.Ra):i.removedDocuments.size>0&&(ke(o.Ra),o.Ra=!1))}),yield xa(t,r,e)}catch(r){yield Tc(r)}}),xS.apply(this,arguments)}function gB(n,e,t){const r=he(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=he(o);c.onlineState=a;let l=!1;c.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(l=!0)}),l&&TS(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QX(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,J.Z)(function*(n,e,t){const r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new un(pe.comparator);o=o.insert(s,yn.newNoDocument(s,Le.min()));const a=ut().add(s),c=new _g(Le.min(),new Map,new un(et),o,a);yield pB(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),BS(r)}else yield yh(r.localStore,e,!1).then(()=>bh(r,e,t)).catch(Tc)}),MS.apply(this,arguments)}function YX(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,J.Z)(function*(n,e){const t=he(n),r=e.batch.batchId;try{const i=yield function pX(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const g=l.batch,m=g.keys();let y=V.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(c,w)).next(b=>{const P=l.docVersions.get(w);ke(null!==P),b.version.compareTo(P)<0&&(g.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),h.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ut();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);LS(t,r,null),FS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xa(t,i)}catch(i){yield Tc(i)}}),NS.apply(this,arguments)}function JX(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,J.Z)(function*(n,e,t){const r=he(n);try{const i=yield function(o,a){const c=he(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(g=>(ke(null!==g),h=g.keys(),c.mutationQueue.removeMutationBatch(l,g))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);LS(r,e,t),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xa(r,i)}catch(i){yield Tc(i)}}),OS.apply(this,arguments)}function kS(){return kS=(0,J.Z)(function*(n,e){const t=he(n);Lc(t.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=he(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=wh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),kS.apply(this,arguments)}function FS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function LS(n,e,t){const r=he(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function bh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||mB(n,r)})}function mB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(xg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),BS(n))}function VS(n,e,t){for(const r of t)r instanceof dB?(n.wa.addReference(r.key,e),eee(n,r)):r instanceof hB?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||mB(n,r.key)):Ae()}function eee(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.ga.add(r),BS(n))}function BS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(xt.fromString(e)),r=n.Da.next();n.ya.set(r,new qX(t)),n.pa=n.pa.insert(t,r),sE(n.remoteStore,new Ra(Ai(ih(t.path)),r,"TargetPurposeLimboResolution",ms._e))}}function xa(n,e,t){return US.apply(this,arguments)}function US(){return US=(0,J.Z)(function*(n,e,t){const r=he(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=zb.Qi(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,J.Z)(function*(l,h){const g=he(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>V.forEach(h,y=>V.forEach(y.ki,w=>g.persistence.referenceDelegate.addReference(m,y.targetId,w)).next(()=>V.forEach(y.qi,w=>g.persistence.referenceDelegate.removeReference(m,y.targetId,w)))))}catch(m){if(!bc(m))throw m;ue("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const w=g.ts.get(y),P=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);g.ts=g.ts.insert(y,P)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,s))}),US.apply(this,arguments)}function tee(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,J.Z)(function*(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=yield z2(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xa(t,r._s)}var s}),jS.apply(this,arguments)}function nee(n,e){const t=he(n),r=t.ya.get(e);if(r&&r.Ra)return ut().add(r.key);{let i=ut();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function ree(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,J.Z)(function*(n,e){const t=he(n),r=yield eE(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&VS(t,e.targetId,i.Ta),i}),$S.apply(this,arguments)}function iee(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,J.Z)(function*(n,e){const t=he(n);return K2(t.localStore,e).then(r=>xa(t,r))}),HS.apply(this,arguments)}function see(n,e,t,r){return zS.apply(this,arguments)}function zS(){return zS=(0,J.Z)(function*(n,e,t,r){const i=he(n),s=yield function(a,c){const l=he(a),h=he(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,c).next(m=>m?l.localDocuments.getDocuments(g,m):V.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===t?yield Eh(i.remoteStore):"acknowledged"===t||"rejected"===t?(LS(i,e,r||null),FS(i,e),c=e,he(he(i.localStore).mutationQueue).Fn(c)):Ae(),yield xa(i,s)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),zS.apply(this,arguments)}function qS(){return qS=(0,J.Z)(function*(n,e){const t=he(n);if(ZS(t),QS(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield _B(t,r.toArray());t.Ca=!0,yield _S(t.remoteStore,!0);for(const s of i)sE(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(bh(t,o),yh(t.localStore,o,!0))),xg(t.remoteStore,o)}),yield i,yield _B(t,r),function(o){const a=he(o);a.ya.forEach((c,l)=>{xg(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new un(pe.comparator)}(t),t.Ca=!1,yield _S(t.remoteStore,!1)}}),qS.apply(this,arguments)}function _B(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,J.Z)(function*(n,e,t){const r=he(n),i=[],s=[];for(const o of e){let a;const c=r.fa.get(o);if(c&&0!==c.length){a=yield _h(r.localStore,Ai(c[0]));for(const l of c){const h=r.ma.get(l),g=yield ree(r,h);g.snapshot&&s.push(g.snapshot)}}else{const l=yield W2(r.localStore,o);a=yield _h(r.localStore,l),yield DS(r,yB(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),GS.apply(this,arguments)}function yB(n){return CV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aee(n){return t=he(n).localStore,he(he(t).persistence).Bi();var t}function cee(n,e,t,r){return WS.apply(this,arguments)}function WS(){return WS=(0,J.Z)(function*(n,e,t,r){const i=he(n);if(i.Ca)return void ue("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield K2(i.localStore,DV(s[0])),a=_g.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ir.EMPTY_BYTE_STRING);yield xa(i,o,a);break}case"rejected":yield yh(i.localStore,e,!0),bh(i,e,r);break;default:Ae()}}),WS.apply(this,arguments)}function uee(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,J.Z)(function*(n,e,t){const r=ZS(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){ue("SyncEngine","Adding an already active target "+i);continue}const s=yield W2(r.localStore,i),o=yield _h(r.localStore,s);yield DS(r,yB(s),o.targetId,!1,o.resumeToken),sE(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield yh(r.localStore,i,!1).then(()=>{xg(r.remoteStore,i),bh(r,i)}).catch(Tc))}}),KS.apply(this,arguments)}function ZS(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QX.bind(null,e),e.Va.a_=UX.bind(null,e.eventManager),e.Va.Fa=jX.bind(null,e.eventManager),e}function QS(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JX.bind(null,e),e}class Mg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.serializer=Pg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return H2(this.persistence,new $2,e.initialUser,this.serializer)}createPersistence(e){return new Ub(Yv.jr,this.serializer)}createSharedClientState(e){return new J2}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class YS extends Mg{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield QS(r.xa.syncEngine),yield Eh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return H2(this.persistence,new $2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new N2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new FY(t,this.persistence);return new kY(e.asyncQueue,r)}createPersistence(e){const t=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new $b(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,eB(),iE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new J2}}class vB extends YS{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof Jb&&(r.sharedClientState.syncEngine={Ys:see.bind(null,i),Zs:cee.bind(null,i),Xs:uee.bind(null,i),Bi:aee.bind(null,i),Js:iee.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,J.Z)(function*(o){yield function oee(n,e){return qS.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=eB();if(!Jb.D(t))throw new se(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sh{initialize(e,t){var r=this;return(0,J.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>gB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tee.bind(null,r.syncEngine),yield _S(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BX}createDatastore(e){const t=Pg(e.databaseInfo.databaseId),r=new wX(e.databaseInfo);return new bX(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>gB(this.syncEngine,t,0),a=X2.D()?new X2:new vX,new AX(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,l,h){const g=new GX(i,s,o,a,c,l);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(r){const i=he(r);ue("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield vh(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function EB(n,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hee{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Er,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,J.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new $X(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,J.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,J.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class fee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new se(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,J.Z)(function*(o,a){const c=he(o),l=Eg(c.serializer)+"/documents",h={documents:a.map(w=>vg(c.serializer,w))},g=yield c.Co("BatchGetDocuments",l,h,a.length),m=new Map;g.forEach(w=>{const b=function OJ(n,e){return"found"in e?function(r,i){ke(!!i.found);const s=Uo(r,i.found.name),o=ir(i.found.updateTime),a=i.found.createTime?ir(i.found.createTime):Le.min(),c=new zr({mapValue:{fields:i.found.fields}});return yn.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const s=Uo(r,i.missing),o=ir(i.readTime);return yn.newNoDocument(s,o)}(n,e):Ae()}(c.serializer,w);m.set(b.key.toString(),b)});const y=[];return a.forEach(w=>{const b=m.get(w.toString());ke(!!b),y.push(b)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=pe.fromPath(i);e.mutations.push(new wb(s,e.precondition(s)))}),yield(r=(0,J.Z)(function*(s,o){const a=he(s),c=Eg(a.serializer)+"/documents",l={writes:o.map(h=>Ig(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ae();t=Le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new se(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Le.min())?Dn.exists(!1):Dn.updateTime(t):Dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Le.min()))throw new se(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(t)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pee{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new eS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,J.Z)(function*(){const t=new fee(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!ng(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qV(t)}return!1}}class gee{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=jL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,J.Z)(function*(a){ue("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function cE(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,J.Z)(function*(s){r.isEqual(s)||(yield z2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JS.apply(this,arguments)}function XS(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tD(n);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>aB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>aB(e.remoteStore,s)),n._onlineComponents=e}),eD.apply(this,arguments)}function IB(n){return"FirebaseError"===n.name?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function tD(n){return nD.apply(this,arguments)}function nD(){return nD=(0,J.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!IB(t))throw t;Ki("Error using user provided cache. Falling back to memory cache: "+t),yield cE(n,new Mg)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),yield cE(n,new Mg);return n._offlineComponents}),nD.apply(this,arguments)}function uE(n){return rD.apply(this,arguments)}function rD(){return rD=(0,J.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield XS(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),yield XS(n,new Sh))),n._onlineComponents}),rD.apply(this,arguments)}function wB(n){return tD(n).then(e=>e.persistence)}function Dh(n){return tD(n).then(e=>e.localStore)}function CB(n){return uE(n).then(e=>e.remoteStore)}function iD(n){return uE(n).then(e=>e.syncEngine)}function Ah(n){return sD.apply(this,arguments)}function sD(){return sD=(0,J.Z)(function*(n){const e=yield uE(n),t=e.eventManager;return t.onListen=WX.bind(null,e.syncEngine),t.onUnlisten=KX.bind(null,e.syncEngine),t}),sD.apply(this,arguments)}function bB(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,c,l){const h=new aE({next:m=>{o.enqueueAndForget(()=>wS(s,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new se(q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&"server"===c.source?l.reject(new se(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new bS(ih(a.path),h,{includeMetadataChanges:!0,J_:!0});return ES(s,g)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}function SB(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,c,l){const h=new aE({next:m=>{o.enqueueAndForget(()=>wS(s,g)),m.fromCache&&"server"===c.source?l.reject(new se(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new bS(a,h,{includeMetadataChanges:!0,J_:!0});return ES(s,g)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}function DB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AB=new Map;function oD(n,e,t){if(!t)throw new se(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PB(n,e,t,r){if(!0===e&&!0===r)throw new se(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RB(n){if(!pe.isDocumentKey(n))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xB(n){if(pe.isDocumentKey(n))throw new se(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ae()}function Ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lE(n);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MB(n,e){if(e<=0)throw new se(q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new CY;switch(r.type){case"firstParty":return new DY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=AB.get(t);r&&(ue("ComponentProvider","Removing Datastore"),AB.delete(t),r.terminate())}(this),Promise.resolve()}}class qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class jo extends qr{constructor(e,t,r){super(e,t,ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new pe(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function kB(n,e,...t){if(n=(0,sn.m9)(n),oD("collection","path",e),n instanceof Ng){const r=xt.fromString(e,...t);return xB(r),new jo(n,null,r)}{if(!(n instanceof vn||n instanceof jo))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return xB(r),new jo(n.firestore,null,r)}}function dE(n,e,...t){if(n=(0,sn.m9)(n),1===arguments.length&&(e=jL.newId()),oD("doc","path",e),n instanceof Ng){const r=xt.fromString(e,...t);return RB(r),new vn(n,null,new pe(r))}{if(!(n instanceof vn||n instanceof jo))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return RB(r),new vn(n.firestore,n instanceof jo?n.converter:null,new pe(r))}}function FB(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),(n instanceof vn||n instanceof jo)&&(e instanceof vn||e instanceof jo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aD(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&lg(n._query,e._query)&&n.converter===e.converter}class Dee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new eS(this,"async_queue_retry"),this.iu=()=>{const t=iE();t&&ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=iE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=iE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Er;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,J.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!bc(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,rr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=vS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function cD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Aee{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ln extends Ng{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dee,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LB(this),this._firestoreClient.terminate()}}function Hn(n){return n._firestoreClient||LB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LB(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rJ(n._databaseId,c,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DB(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new gee(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function VB(n,e,t){const r=new Er;return n.asyncQueue.enqueue((0,J.Z)(function*(){try{yield cE(n,t),yield XS(n,e),r.resolve()}catch(i){const s=i;if(!IB(s))throw s;Ki("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function BB(n){if(n._initialized||n._terminated)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Ir.fromBase64String(e))}catch(t){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ma{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._methodName=e}}class hE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}const Bee=/^__.*__$/;class Uee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class UB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class fE{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(jB(this.Iu)&&Bee.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class jee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pg(e)}pu(e,t,r,i=!1){return new fE({Iu:e,methodName:t,gu:r,path:_n.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(n){const e=n._freezeSettings(),t=Pg(n._databaseId);return new jee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pE(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);hD("Data must be an object, but it was:",o,r);const a=zB(r,o);let c,l;if(s.merge)c=new Zi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const m=Fg(e,g,t);if(!o.contains(m))throw new se(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);GB(h,m)||h.push(m)}c=new Zi(h),l=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,l=o.fieldTransforms;return new Uee(new zr(a),c,l)}class kg extends Ju{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kg}}function $B(n,e,t){return new fE({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uD extends Ju{_toFieldTransform(e){return new pg(e.path,new ah)}isEqual(e){return e instanceof uD}}class $ee extends Ju{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=$B(this,e,!0),r=this.yu.map(s=>el(s,t)),i=new Hu(r);return new pg(e.path,i)}isEqual(e){return this===e}}class Hee extends Ju{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=$B(this,e,!0),r=this.yu.map(s=>el(s,t)),i=new zu(r);return new pg(e.path,i)}isEqual(e){return this===e}}class zee extends Ju{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new ch(e.serializer,OV(e.serializer,this.wu));return new pg(e.path,t)}isEqual(e){return this===e}}function lD(n,e,t,r){const i=n.pu(1,e,t);hD("Data must be an object, but it was:",i,r);const s=[],o=zr.empty();Sc(r,(c,l)=>{const h=gE(e,c,t);l=(0,sn.m9)(l);const g=i.Ru(h);if(l instanceof kg)s.push(h);else{const m=el(l,g);null!=m&&(s.push(h),o.set(h,m))}});const a=new Zi(s);return new UB(o,a,i.fieldTransforms)}function dD(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[Fg(e,r,t)],c=[i];if(s.length%2!=0)throw new se(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Fg(e,s[m])),c.push(s[m+1]);const l=[],h=zr.empty();for(let m=a.length-1;m>=0;--m)if(!GB(l,a[m])){const y=a[m];let w=c[m];w=(0,sn.m9)(w);const b=o.Ru(y);if(w instanceof kg)l.push(y);else{const P=el(w,b);null!=P&&(l.push(y),h.set(y,P))}}const g=new Zi(l);return new UB(h,g,o.fieldTransforms)}function HB(n,e,t,r=!1){return el(t,n.pu(r?4:3,e))}function el(n,e){if(qB(n=(0,sn.m9)(n)))return hD("Unsupported field value:",e,n),zB(n,e);if(n instanceof Ju)return function(r,i){if(!jB(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=el(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,sn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return OV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Sn.fromDate(r);return{timestampValue:dh(i.serializer,s)}}if(r instanceof Sn){const s=new Sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,s)}}if(r instanceof hE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:t2(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ab(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${lE(r)}`)}(n,e)}function zB(n,e){const t={};return nV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const s=el(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function qB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sn||n instanceof hE||n instanceof $o||n instanceof vn||n instanceof Ju)}function hD(n,e,t){if(!qB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=lE(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Fg(n,e,t){if((e=(0,sn.m9)(e))instanceof Ma)return e._internalPath;if("string"==typeof e)return gE(n,e);throw mE("Field path arguments must be of type string or ",n,!1,void 0,t)}const qee=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(qee)>=0)throw mE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ma(...e.split("."))._internalPath}catch{throw mE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(q.INVALID_ARGUMENT,a+n+c)}function GB(n,e){return n.some(t=>t.isEqual(e))}class Lg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_E("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gee extends Lg{data(){return super.data()}}function _E(n,e){return"string"==typeof e?gE(n,e):e instanceof Ma?e._internalPath:e._delegate._internalPath}function WB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new se(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fD{}class Vg extends fD{}function Bc(n,e,...t){let r=[];e instanceof fD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof Ph).length,a=s.filter(c=>c instanceof Bg).length;if(o>1||o>0&&a>0)throw new se(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Bg extends Vg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bg(e,t,r)}_apply(e){const t=this._parse(e);return YB(e._query,t),new qr(e.firestore,e.converter,Eb(e._query,t))}_parse(e){const t=Xu(e.firestore);return function(s,o,a,c,l,h,g){let m;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new se(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){QB(g,h);const y=[];for(const w of g)y.push(ZB(c,s,w));m={arrayValue:{values:y}}}else m=ZB(c,s,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||QB(g,h),m=HB(a,"where",g,"in"===h||"not-in"===h);return At.create(l,h,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ph extends fD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ph(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Wt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)YB(o,c),o=Eb(o,c)}(e._query,t),new qr(e.firestore,e.converter,Eb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pD extends Vg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pD(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(s,o)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Da(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class yE extends Vg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yE(e,t,r)}_apply(e){return new qr(e.firestore,e.converter,Vv(e._query,this._limit,this._limitType))}}class vE extends Vg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vE(e,t,r)}_apply(e){const t=KB(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(s=t,new Da((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class EE extends Vg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new EE(e,t,r)}_apply(e){const t=KB(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(s=t,new Da((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function KB(n,e,t,r){if(t[0]=(0,sn.m9)(t[0]),t[0]instanceof Lg)return function(s,o,a,c,l){if(!c)throw new se(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of sh(s))if(g.field.isKeyField())h.push(ju(o,c.key));else{const m=c.data.field(g.field);if(xv(m))throw new se(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new se(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new Mc(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xu(n.firestore);return function(o,a,c,l,h,g){const m=o.explicitOrderBy;if(h.length>m.length)throw new se(q.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let w=0;w<h.length;w++){const b=h[w];if(m[w].field.isKeyField()){if("string"!=typeof b)throw new se(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!vb(o)&&-1!==b.indexOf("/"))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const P=o.path.child(xt.fromString(b));if(!pe.isDocumentKey(P))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const N=new pe(P);y.push(ju(a,N))}else{const P=HB(c,l,b);y.push(P)}}return new Mc(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ZB(n,e,t){if("string"==typeof(t=(0,sn.m9)(t))){if(""===t)throw new se(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&-1!==t.indexOf("/"))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xt.fromString(t));if(!pe.isDocumentKey(r))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ju(n,new pe(r))}if(t instanceof vn)return ju(n,t._key);throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lE(t)}.`)}function QB(n,e){if(!Array.isArray(n)||0===n.length)throw new se(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YB(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new se(q.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gD{convertValue(e,t="none"){switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new hE($n(e.latitude),$n(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ig(e));default:return null}}convertTimestamp(e){const t=Dc(e);return new Sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xt.fromString(e);ke(d2(r));const i=new Ac(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(t)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function IE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tte extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}class tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends Lg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ug extends Na{data(e={}){return super.data(e)}}class Uc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ug(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:rte(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}function XB(n,e){return n instanceof Na&&e instanceof Na?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Uc&&e instanceof Uc&&n._firestore===e._firestore&&aD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class jc extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function eU(n,e,t){n=Ct(n,vn);const r=Ct(n.firestore,ln),i=IE(n.converter,e,t);return Rh(r,[pE(Xu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Dn.none())])}function tU(n,e,t,...r){n=Ct(n,vn);const i=Ct(n.firestore,ln),s=Xu(i);let o;return o="string"==typeof(e=(0,sn.m9)(e))||e instanceof Ma?dD(s,"updateDoc",n._key,e,t,r):lD(s,"updateDoc",n._key,e),Rh(i,[o.toMutation(n._key,Dn.exists(!0))])}function nU(n,...e){var t,r,i;n=(0,sn.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||cD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(cD(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let c,l,h;if(n instanceof vn)l=Ct(n.firestore,ln),h=ih(n._key.path),c={next:g=>{e[o]&&e[o](mD(l,n,g))},error:e[o+1],complete:e[o+2]};else{const g=Ct(n,qr);l=Ct(g.firestore,ln),h=g._query;const m=new jc(l);c={next:y=>{e[o]&&e[o](new Uc(l,m,g,y))},error:e[o+1],complete:e[o+2]},WB(n._query)}return function(m,y,w,b){const P=new aE(b),N=new bS(y,P,w);return m.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return ES(yield Ah(m),N)})),()=>{P.Na(),m.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return wS(yield Ah(m),N)}))}}(Hn(l),h,a,c)}function Rh(n,e){return function(r,i){const s=new Er;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function ZX(n,e,t){return RS.apply(this,arguments)}(yield iD(r),i,s)})),s.promise}(Hn(n),e)}function mD(n,e,t){const r=t.docs.get(e._key),i=new jc(n);return new Na(n,i,e._key,r,new tl(t.hasPendingWrites,t.fromCache),e.converter)}const Ite={maxAttempts:5};class rU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}set(e,t,r){this._verifyNotCommitted();const i=$c(e,this._firestore),s=IE(i.converter,t,r),o=pE(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Dn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=$c(e,this._firestore);let o;return o="string"==typeof(t=(0,sn.m9)(t))||t instanceof Ma?dD(this._dataReader,"WriteBatch.update",s._key,t,r,i):lD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$c(e,this._firestore);return this._mutations=this._mutations.concat(new lh(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $c(n,e){if((n=(0,sn.m9)(n)).firestore!==e)throw new se(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class wte extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Xu(t)}get(t){const r=$c(t,this._firestore),i=new tte(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ae();const o=s[0];if(o.isFoundDocument())return new Lg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Lg(this._firestore,i,r._key,null,r.converter);throw Ae()})}set(t,r,i){const s=$c(t,this._firestore),o=IE(s.converter,r,i),a=pE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=$c(t,this._firestore);let a;return a="string"==typeof(r=(0,sn.m9)(r))||r instanceof Ma?dD(this._dataReader,"Transaction.update",o._key,r,i,s):lD(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=$c(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$c(e,this._firestore),r=new jc(this._firestore);return super.get(e).then(i=>new Na(this._firestore,r,t._key,i._document,new tl(!1,!1),t.converter))}}function Rte(n,e){if(1&n){const t=Jn();T(0,"input",3,4),Fe("paste",function(i){return tn(t),$t(lt(2).handlePaste(i))})("keyup",function(i){const o=tn(t).index;return $t(lt(2).onKeyUp(i,o))})("input",function(i){return tn(t),$t(lt(2).onInput(i))})("keydown",function(i){const o=tn(t).index;return $t(lt(2).onKeyDown(i,o))}),A()}if(2&n){const t=e.$implicit,r=e.index,i=lt(2);Qw("otp-input ",i.config.inputClass,""),De("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[t])("id",i.getBoxId(r))}}function xte(n,e){if(1&n&&(T(0,"div",1),Ve(1,Rte,2,9,"input",2),gn(2,"keys"),A()),2&n){const t=lt();Qw("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),b_("id","c_",t.componentKey,""),De("ngStyle",t.config.containerStyles),G(1),De("ngForOf",JR(2,6,null==t.otpForm?null:t.otpForm.controls))}}!function(e,t=!0){Qd=Od.SDK_VERSION,(0,Od._registerComponent)(new EF.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ln(new bY(r.getProvider("auth-internal")),new AY(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Od.registerVersion)(VL,"4.4.0",e),(0,Od.registerVersion)(VL,"4.4.0","esm2017")}();class xh{static ifTab(e){return this.ifKey(e,"Tab")}static ifDelete(e){return this.ifKey(e,"Delete;Del")}static ifBackspace(e){return this.ifKey(e,"Backspace")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,t){return t.split(";").some(i=>i===e.key)}}let yD=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Nr({name:"keys",type:n,pure:!0}),n})(),Mte=(()=>{class n{constructor(t,r){this.keysPipe=t,this.document=r,this.config={length:4},this.onInputChange=new Nn,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new Ud({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new jd);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(r=>{var i=this.otpForm.controls[r].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const i=this.getBoxId(r-1),s=this.getBoxId(r);return xh.ifSpacebar(t)?(t.preventDefault(),!1):xh.ifBackspace(t)?(t.target.value?this.clearInput(s,r):(this.clearInput(i,r-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,r){xh.ifTab(t)&&(r-=1);const i=this.getBoxId(r+1),s=this.getBoxId(r-1),o=this.getBoxId(r);return xh.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(i)):xh.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):xh.ifDelete(t)?(t.target.value?this.clearInput(o,r):(this.clearInput(s,r-1),this.setSelected(s)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(i),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let i=this.getControlName(r);this.otpForm.controls[i]?.setValue(null);const s=this.document.getElementById(t);s&&s instanceof HTMLInputElement&&(s.value=null)}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(r)}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((i,s)=>{this.otpForm.get(this.getControlName(s))&&this.otpForm.get(this.getControlName(s)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let s=i.getElementsByClassName("otp-input")[r];s&&s.focus&&s.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let i=this.otpForm.controls[r].value,s=i.length>1,o=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let a=o?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;o&&a==i?o=!1:i=a,t+=i,(s||o)&&this.otpForm.controls[r].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var i=r.getData("Text");t.stopPropagation(),t.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return n.\u0275fac=function(t){return new(t||n)($(yD),$(Un))},n.\u0275cmp=yt({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,r){1&t&&Ve(0,xte,3,8,"div",0),2&t&&De("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[To,Z0,Ii,xu,mT,Cp,lT,yD],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),aU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({providers:[yD],imports:[[wd,ev,tv]]}),n})(),Nte=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.ngZone=i,this.verificationCode="",this.verificationId="",this.user={phoneNumber:"",email:"",fullName:""},this.confirmationResult="",this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}},this.email=localStorage.getItem("email")||"",this.fullName=localStorage.getItem("fullName")||""}ngOnInit(){}onOtpChange(t){this.verificationCode=t}onSubmit(){this.authService.enterVerificationCode(this.verificationCode).then(t=>{this.ngZone.run(()=>{this.email&&this.fullName?this.router.navigate(["/home"]).then():this.router.navigate(["/update-profile"]).then()})}).catch(t=>{})}static#e=this.\u0275fac=function(r){return new(r||n)($(Ep),$(tr),$(Ht))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-verify-otp"]],decls:15,vars:1,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[1,"input"],[3,"config","onInputChange"],["ngOtpInput",""],["type","submit",1,"btn",3,"click"],["href","#","routerLink","/signin",1,"text-muted"]],template:function(r,i){1&r&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),k(4,"Cocktail Club"),A(),T(5,"p"),k(6,"Enter OTP sent on your mobile number"),A()(),T(7,"form")(8,"div",3)(9,"ng-otp-input",4,5),Fe("onInputChange",function(o){return i.onOtpChange(o)}),A()(),T(11,"button",6),Fe("click",function(){return i.onSubmit()}),k(12,"Verify OTP"),A(),T(13,"a",7),k(14,"Cancel"),A()()()()),2&r&&(G(9),De("config",i.config))},dependencies:[Rp,Tp,Xy,Ao,Mte],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%;padding:20px;border-radius:8px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{margin:10px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 30px;font-size:8px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}}']})}return n})();function Ote(n,e){1&n&&(T(0,"div",15),k(1," Invalid name "),A())}function kte(n,e){1&n&&(T(0,"div",15),k(1," Invalid email "),A())}const Fte=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:pQ},{path:"verify-otp",component:Nte},{path:"update-profile",component:(()=>{class n{constructor(t,r){this.formBuilder=t,this.router=r,this.user={},this.phoneNumber=JSON.parse(localStorage.getItem("phoneNumber")||""),this.fullName=localStorage.getItem("fullName")||"",this.email=localStorage.getItem("email")||"",this.user=JSON.parse(localStorage.getItem("user")||""),this.updateProfileForm=t.group({fullName:[this.fullName,Mo.required],phoneNumber:[{value:this.phoneNumber,disabled:!0},Mo.required],email:[this.email,Mo.required]})}ngOnInit(){}markProfileFormTouched(){const t=this.updateProfileForm.value;if(t)for(const r in t)r&&t.hasOwnProperty(r)&&this.updateProfileForm.controls[r].markAsTouched()}onSubmit(t){this.markProfileFormTouched(),localStorage.setItem("fullName",JSON.stringify(this.updateProfileForm.value.fullName)),localStorage.setItem("email",JSON.stringify(this.updateProfileForm.value.email)),this.router.navigate(["/home"])}static#e=this.\u0275fac=function(r){return new(r||n)($(_T),$(tr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-update-profile"]],decls:23,vars:4,consts:[[1,"containerfull"],[1,"signin-form"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"input"],[1,"fa","fa-user"],["formControlName","fullName","type","text","placeholder","Full name"],["class","text-danger",4,"ngIf"],[1,"fa","fa-envelope"],["formControlName","email","type","email","placeholder","Email"],["id","disabledInput",1,"input"],[1,"fa","fa-phone"],["formControlName","phoneNumber","type","tel","aria-disabled","true"],["type","submit",1,"btn",3,"disabled"],["href","#","routerLink","/cart",1,"text-muted"],[1,"text-danger"]],template:function(r,i){1&r&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),k(4,"Cocktail Club"),A(),T(5,"p"),k(6,"Update profile to continue"),A()(),T(7,"form",3),Fe("ngSubmit",function(){return i.onSubmit(i.updateProfileForm)}),T(8,"div",4),de(9,"i",5)(10,"input",6),A(),Ve(11,Ote,2,0,"div",7),T(12,"div",4),de(13,"i",8)(14,"input",9),A(),Ve(15,kte,2,0,"div",7),T(16,"div",10),de(17,"i",11)(18,"input",12),A(),T(19,"button",13),k(20,"Update Profile"),A(),T(21,"a",14),k(22,"Cancel"),A()()()()),2&r&&(G(7),De("formGroup",i.updateProfileForm),G(4),De("ngIf",i.updateProfileForm.controls.fullName.touched&&i.updateProfileForm.controls.fullName.invalid),G(4),De("ngIf",i.updateProfileForm.controls.email.touched&&i.updateProfileForm.controls.email.invalid),G(4),De("disabled",i.updateProfileForm.invalid))},dependencies:[To,Rp,xu,Cp,Tp,$d,xp,Ao],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";.containerfull[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;box-sizing:border-box}.signin-form[_ngcontent-%COMP%]{width:480px;padding:32px;border-radius:8px;background-color:#fff;box-shadow:2px 4px 8px #6b728040;text-align:center}.text-underline[_ngcontent-%COMP%]{text-decoration-line:underline}.text-danger[_ngcontent-%COMP%]{text-align:left}h1[_ngcontent-%COMP%]{font-weight:bolder;font-size:28px;color:#ff6907;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.input[_ngcontent-%COMP%]{position:relative;margin:20px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 45px;border-radius:12px;background-color:#fff;border:1px solid #DFE3E7;color:#1f2937;font-size:16px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#789}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;width:36px;position:absolute;transform:translateY(-50%);color:#6b7280;font-size:16px}.btn[_ngcontent-%COMP%]{width:100%;border:none;margin:24px 0;font-size:16px;cursor:pointer;padding:10px 30px;border-radius:30px;color:#fff;background-color:#ff6907;box-shadow:0 2px 2px #0006}a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:none}#disabledInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#d3d3d3}@media only screen and (max-width: 768px){.containerfull[_ngcontent-%COMP%]{padding:20px}.signin-form[_ngcontent-%COMP%]{width:100%;padding:25px}h1[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{position:relative;margin:15px 0}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 35px;font-size:12px}.input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{width:70%;margin:10px 0 15px;font-size:12px;padding:10px 20px}}']})}return n})()},{path:"splash",component:ak}];let Lte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[Po.forChild(Fte),Po]})}return n})(),cU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[wd,ev,tv,Lte,aU]})}return n})(),Vte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Yt({imports:[wd,hQ,ev,tv,cU]})}return n})();function uU(n){return new S(3e3,!1)}function vne(){return typeof window<"u"&&typeof window.document<"u"}function vD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Hc(n){switch(n.length){case 0:return new wp;case 1:return n[0];default:return new fk(n)}}function lU(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let c=-1,l=null;if(r.forEach(h=>{const g=h.get("offset"),m=g==c,y=m&&l||new Map;h.forEach((w,b)=>{let P=b,N=w;if("offset"!==b)switch(P=e.normalizePropertyName(P,o),N){case QC:N=i.get(b);break;case Ca:N=s.get(b);break;default:N=e.normalizeStyleValue(b,P,N,o)}y.set(P,N)}),m||a.push(y),l=y,c=g}),o.length)throw function ane(n){return new S(3502,!1)}();return a}function ED(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ID(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ID(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ID(t,"destroy",n)))}}function ID(n,e,t){const s=wD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function wD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function _s(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function dU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let CD=(n,e)=>!1,hU=(n,e,t)=>[],fU=null;function TD(n){const e=n.parentNode||n.host;return e===fU?null:e}(vD()||typeof Element<"u")&&(vne()?(fU=(()=>document.documentElement)(),CD=(n,e)=>{for(;e;){if(e===n)return!0;e=TD(e)}return!1}):CD=(n,e)=>n.contains(e),hU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let nl=null,pU=!1;const gU=CD,mU=hU;let _U=(()=>{class n{validateStyleProperty(t){return function Ine(n){nl||(nl=function wne(){return typeof document<"u"?document.body:null}()||{},pU=!!nl.style&&"WebkitAppearance"in nl.style);let e=!0;return nl.style&&!function Ene(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nl.style,!e&&pU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return gU(t,r)}getParentElement(t){return TD(t)}query(t,r,i){return mU(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new wp(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),bD=(()=>{class n{}return n.NOOP=new _U,n})();const Cne=1e3,SD="ng-enter",CE="ng-leave",TE="ng-trigger",bE=".ng-trigger",vU="ng-animating",DD=".ng-animating";function Oa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AD(parseFloat(e[1]),e[2])}function AD(n,e){return"s"===e?n*Cne:n}function SE(n,e,t){return n.hasOwnProperty("duration")?n:function bne(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(uU()),{duration:0,delay:0,easing:""};i=AD(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=AD(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function Bte(){return new S(3100,!1)}()),a=!0),s<0&&(e.push(function Ute(){return new S(3101,!1)}()),a=!0),a&&e.splice(c,0,uU())}return{duration:i,delay:s,easing:o}}(n,e,t)}function jg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function EU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function wU(n,e,t){return t?e+":"+t+";":""}function CU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wU(0,Pne(t),n.style[t]));n.setAttribute("style",e)}function Ho(n,e,t){n.style&&(e.forEach((r,i)=>{const s=RD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),vD()&&CU(n))}function rl(n,e){n.style&&(e.forEach((t,r)=>{const i=RD(r);n.style[i]=""}),vD()&&CU(n))}function $g(n){return Array.isArray(n)?1==n.length?n[0]:lk(n):n}const PD=new RegExp("{{\\s*(.+?)\\s*}}","g");function TU(n){let e=[];if("string"==typeof n){let t;for(;t=PD.exec(n);)e.push(t[1]);PD.lastIndex=0}return e}function Hg(n,e,t){const r=n.toString(),i=r.replace(PD,(s,o)=>{let a=e[o];return null==a&&(t.push(function $te(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function DE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ane=/-+([a-z0-9])/g;function RD(n){return n.replace(Ane,(...e)=>e[1].toUpperCase())}function Pne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ys(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Hte(n){return new S(3004,!1)}()}}function bU(n,e){return window.getComputedStyle(n)[e]}const RE="*";function kne(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Fne(n,e,t){if(":"==n[0]){const c=function Lne(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function rne(n){return new S(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nne(n){return new S(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(SU(i,o));"<"==s[0]&&!(i==RE&&o==RE)&&e.push(SU(o,i))}(r,t,e)):t.push(n),t}const xE=new Set(["true","1"]),ME=new Set(["false","0"]);function SU(n,e){const t=xE.has(n)||ME.has(n),r=xE.has(e)||ME.has(e);return(i,s)=>{let o=n==RE||n==i,a=e==RE||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?xE.has(n):ME.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?xE.has(e):ME.has(e)),o&&a}}const Vne=new RegExp("s*:selfs*,?","g");function xD(n,e,t,r){return new Bne(n).build(e,t,r)}class Bne{constructor(e){this._driver=e}build(e,t,r){const i=new $ne(t);return this._resetContextStyleTimingState(i),ys(this,$g(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function qte(){return new S(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function Gte(){return new S(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{TU(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(DE(s.values()),t.errors.push(function Wte(n,e){return new S(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ys(this,$g(e.animation),t);return{type:1,matchers:kne(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:il(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ys(this,r,t)),options:il(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ys(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:il(e.options)}}visitAnimate(e,t){const r=function zne(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MD(SE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=SE(t,e);return MD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ip({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Ip(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Ca?r.push(a):t.errors.push(new S(3002,!1)):r.push(EU(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c);let g=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function Zte(n,e,t,r,i){return new S(3010,!1)}()),g=!1),s=h.startTime),g&&l.set(c,{startTime:s,endTime:i}),t.options&&function Dne(n,e,t){const r=e.params||{},i=TU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function jte(n){return new S(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Qte(){return new S(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const h=e.steps.map(N=>{const B=this._makeStyleAst(N,t);let M=null!=B.offset?B.offset:function Hne(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(B.styles),Y=0;return null!=M&&(s++,Y=B.offset=M),c=c||Y<0||Y>1,a=a||Y<l,l=Y,o.push(Y),B});c&&t.errors.push(function Yte(){return new S(3012,!1)}()),a&&t.errors.push(function Jte(){return new S(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function Xte(){return new S(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,w=t.currentTime,b=t.currentAnimateTimings,P=b.duration;return h.forEach((N,B)=>{const M=m>0?B==y?1:m*B:o[B],Y=M*P;t.currentTime=w+b.delay+Y,b.duration=Y,this._validateStyleAst(N,t),N.offset=M,r.styles.push(N)}),r}visitReference(e,t){return{type:8,animation:ys(this,$g(e.animation),t),options:il(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:il(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:il(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Une(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Vne,"")),n=n.replace(/@\*/g,bE).replace(/@\w+/g,t=>bE+"-"+t.slice(1)).replace(/:animating/g,DD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,_s(t.collectedStyles,t.currentQuerySelector,new Map);const a=ys(this,$g(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:il(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ene(){return new S(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:SE(e.timings,t.errors,!0);return{type:12,animation:ys(this,$g(e.animation),t),timings:r,options:null}}}class $ne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function il(n){return n?(n=jg(n)).params&&(n.params=function jne(n){return n?jg(n):null}(n.params)):n={},n}function MD(n,e,t){return{duration:n,delay:e,easing:t}}function ND(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class NE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Wne=new RegExp(":enter","g"),Zne=new RegExp(":leave","g");function OD(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new Qne).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class Qne{buildKeyframes(e,t,r,i,s,o,a,c,l,h=[]){l=l||new NE;const g=new kD(e,t,l,i,s,h,[]);g.options=c;const m=c.delay?Oa(c.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,c),ys(this,r,g);const y=g.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let b=y.length-1;b>=0;b--){const P=y[b];if(P.element===t){w=P;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,g.errors,c)}return y.length?y.map(w=>w.buildKeyframes()):[ND(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Oa(Hg(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Oa(r.duration):null,a=null!=r.delay?Oa(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ys(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=OE);const o=Oa(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ys(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Oa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ys(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return SE(t.params?Hg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Oa(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=OE);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;const g=t.createSubContext(e.options,l);s&&g.delayNextStep(s),l===t.element&&(c=g.currentTimeline),ys(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const g=h.currentTime;ys(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const OE={};class kD{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new kE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Oa(r.duration)),null!=r.delay&&(i.delay=Oa(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Hg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new kD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=OE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Yne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Wne,"."+this._enterClassName)).replace(Zne,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function tne(n){return new S(3014,!1)}()),a}}class kE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ca),this._currentKeyframe.set(t,Ca);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Jne(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Ca)}else zc(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=Hg(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ca),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=zc(a,new Map,this._backFill);l.forEach((h,g)=>{h===QC?e.add(g):h===Ca&&t.add(g)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?DE(e.values()):[],o=t.size?DE(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return ND(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Yne extends kE{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=zc(e[0]);c.set("offset",0),s.push(c);const l=zc(e[0]);l.set("offset",PU(a)),s.push(l);const h=e.length-1;for(let g=1;g<=h;g++){let m=zc(e[g]);const y=m.get("offset");m.set("offset",PU((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return ND(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function PU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FD{}const Xne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ere extends FD{normalizePropertyName(e,t){return RD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Xne.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function zte(n,e){return new S(3005,!1)}())}return o+s}}function RU(n,e,t,r,i,s,o,a,c,l,h,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:g,errors:m}}const LD={};class xU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function tre(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,h){const g=[],m=this.ast.options&&this.ast.options.params||LD,w=this.buildStyles(r,a&&a.params||LD,g),b=c&&c.params||LD,P=this.buildStyles(i,b,g),N=new Set,B=new Map,M=new Map,Y="void"===i,fe={params:nre(b,m),delay:this.ast.options?.delay},xe=h?[]:OD(e,t,this.ast.animation,s,o,w,P,fe,l,g);let Et=0;if(xe.forEach(io=>{Et=Math.max(io.duration+io.delay,Et)}),g.length)return RU(t,this._triggerName,r,i,Y,w,P,[],[],B,M,Et,g);xe.forEach(io=>{const Us=io.element,I3=_s(B,Us,new Set);io.preStyleProps.forEach(cl=>I3.add(cl));const Qg=_s(M,Us,new Set);io.postStyleProps.forEach(cl=>Qg.add(cl)),Us!==t&&N.add(Us)});const zn=DE(N.values());return RU(t,this._triggerName,r,i,Y,w,P,xe,zn,B,M,Et)}}function nre(n,e){const t=jg(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class rre{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=jg(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Hg(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class sre{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new rre(i.style,i.options&&i.options.params||{},r))}),MU(this.states,"true","1"),MU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new xU(e,i,this.states))}),this.fallbackTransition=function ore(n,e,t){return new xU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function MU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const are=new NE;class cre{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=xD(this._driver,t,r,i);if(r.length)throw function cne(n){return new S(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=lU(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=OD(this._driver,t,s,SD,CE,new Map,new Map,r,are,i),o.forEach(h=>{const g=_s(a,h.element,new Map);h.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function une(){return new S(3300,!1)}()),o=[]),i.length)throw function lne(n){return new S(3504,!1)}();a.forEach((h,g)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(g,y,Ca))})});const l=Hc(o.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function dne(n){return new S(3301,!1)}();return t}listen(e,t,r,i){const s=wD(t,"","","");return ED(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const NU="ng-animate-queued",VD="ng-animate-disabled",fre=[],OU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class BD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function yre(n){return n??null}(r?e.value:e),r){const s=jg(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const zg="void",UD=new BD(zg);class gre{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function hne(n,e){return new S(3302,!1)}();if(null==r||0==r.length)throw function fne(n){return new S(3303,!1)}();if(!function vre(n){return"start"==n||"done"==n}(r))throw function pne(n,e){return new S(3400,!1)}();const s=_s(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=_s(this._engine.statesByElement,e,new Map);return a.has(t)||(Vs(e,TE),Vs(e,TE+"-"+t),a.set(t,UD)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gne(n){return new S(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new jD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vs(e,TE),Vs(e,TE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new BD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=UD),l.value!==zg&&c.value===l.value){if(!function wre(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const b=[],P=s.matchStyles(c.value,c.params,b),N=s.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{rl(e,P),Ho(e,N)})}return}const m=_s(this._engine.playersByElement,e,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let y=s.matchTransition(c.value,l.value,e,l.params),w=!1;if(!y){if(!i)return;y=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:c,toState:l,player:o,isFallbackTransition:w}),w||(Vs(e,NU),o.onStart(()=>{Mh(e,NU)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);const P=this._engine.playersByElement.get(e);if(P){let N=P.indexOf(o);N>=0&&P.splice(N,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,bE,!0);r.forEach(i=>{if(i[Ls])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const h=this.trigger(e,l,zg,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Hc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||UD,h=new BD(zg),g=new jD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ls];(!s||s===OU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=wD(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ED(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class mre{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new gre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(FE(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!FE(t))return;const s=t[Ls];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vs(e,VD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Mh(e,VD))}removeNode(e,t,r,i){if(FE(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return FE(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,bE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,DD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ls];if(t&&t.setForRemoval){if(e[Ls]=OU,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(VD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mne(n){return new S(3402,!1)}()}_flushAnimations(e,t){const r=new NE,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(Ne=>{h.add(Ne);const He=this.driver.query(Ne,".ng-animate-queued",!0);for(let Ze=0;Ze<He.length;Ze++)h.add(He[Ze])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=LU(m,this.collectedEnterElements),w=new Map;let b=0;y.forEach((Ne,He)=>{const Ze=SD+b++;w.set(He,Ze),Ne.forEach(Ft=>Vs(Ft,Ze))});const P=[],N=new Set,B=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const He=this.collectedLeaveElements[Ne],Ze=He[Ls];Ze&&Ze.setForRemoval&&(P.push(He),N.add(He),Ze.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(Ft=>N.add(Ft)):B.add(He))}const M=new Map,Y=LU(m,Array.from(N));Y.forEach((Ne,He)=>{const Ze=CE+b++;M.set(He,Ze),Ne.forEach(Ft=>Vs(Ft,Ze))}),e.push(()=>{y.forEach((Ne,He)=>{const Ze=w.get(He);Ne.forEach(Ft=>Mh(Ft,Ze))}),Y.forEach((Ne,He)=>{const Ze=M.get(He);Ne.forEach(Ft=>Mh(Ft,Ze))}),P.forEach(Ne=>{this.processLeaveNode(Ne)})});const fe=[],xe=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(t).forEach(Ze=>{const Ft=Ze.player,xr=Ze.element;if(fe.push(Ft),this.collectedEnterElements.length){const oi=xr[Ls];if(oi&&oi.setForMove){if(oi.previousTriggersValues&&oi.previousTriggersValues.has(Ze.triggerName)){const ul=oi.previousTriggersValues.get(Ze.triggerName),js=this.statesByElement.get(Ze.element);if(js&&js.has(Ze.triggerName)){const zE=js.get(Ze.triggerName);zE.value=ul,js.set(Ze.triggerName,zE)}}return void Ft.destroy()}}const zo=!g||!this.driver.containsElement(g,xr),vs=M.get(xr),Gc=w.get(xr),kn=this._buildInstruction(Ze,r,Gc,vs,zo);if(kn.errors&&kn.errors.length)return void xe.push(kn);if(zo)return Ft.onStart(()=>rl(xr,kn.fromStyles)),Ft.onDestroy(()=>Ho(xr,kn.toStyles)),void i.push(Ft);if(Ze.isFallbackTransition)return Ft.onStart(()=>rl(xr,kn.fromStyles)),Ft.onDestroy(()=>Ho(xr,kn.toStyles)),void i.push(Ft);const T3=[];kn.timelines.forEach(oi=>{oi.stretchStartingKeyframe=!0,this.disabledNodes.has(oi.element)||T3.push(oi)}),kn.timelines=T3,r.append(xr,kn.timelines),o.push({instruction:kn,player:Ft,element:xr}),kn.queriedElements.forEach(oi=>_s(a,oi,[]).push(Ft)),kn.preStyleProps.forEach((oi,ul)=>{if(oi.size){let js=c.get(ul);js||c.set(ul,js=new Set),oi.forEach((zE,iA)=>js.add(iA))}}),kn.postStyleProps.forEach((oi,ul)=>{let js=l.get(ul);js||l.set(ul,js=new Set),oi.forEach((zE,iA)=>js.add(iA))})});if(xe.length){const Ne=[];xe.forEach(He=>{Ne.push(function _ne(n,e){return new S(3505,!1)}())}),fe.forEach(He=>He.destroy()),this.reportError(Ne)}const Et=new Map,zn=new Map;o.forEach(Ne=>{const He=Ne.element;r.has(He)&&(zn.set(He,He),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,Et))}),i.forEach(Ne=>{const He=Ne.element;this._getPreviousPlayers(He,!1,Ne.namespaceId,Ne.triggerName,null).forEach(Ft=>{_s(Et,He,[]).push(Ft),Ft.destroy()})});const io=P.filter(Ne=>BU(Ne,c,l)),Us=new Map;FU(Us,this.driver,B,l,Ca).forEach(Ne=>{BU(Ne,c,l)&&io.push(Ne)});const Qg=new Map;y.forEach((Ne,He)=>{FU(Qg,this.driver,new Set(Ne),c,QC)}),io.forEach(Ne=>{const He=Us.get(Ne),Ze=Qg.get(Ne);Us.set(Ne,new Map([...Array.from(He?.entries()??[]),...Array.from(Ze?.entries()??[])]))});const cl=[],w3=[],C3={};o.forEach(Ne=>{const{element:He,player:Ze,instruction:Ft}=Ne;if(r.has(He)){if(h.has(He))return Ze.onDestroy(()=>Ho(He,Ft.toStyles)),Ze.disabled=!0,Ze.overrideTotalTime(Ft.totalTime),void i.push(Ze);let xr=C3;if(zn.size>1){let vs=He;const Gc=[];for(;vs=vs.parentNode;){const kn=zn.get(vs);if(kn){xr=kn;break}Gc.push(vs)}Gc.forEach(kn=>zn.set(kn,xr))}const zo=this._buildAnimation(Ze.namespaceId,Ft,Et,s,Qg,Us);if(Ze.setRealPlayer(zo),xr===C3)cl.push(Ze);else{const vs=this.playersByElement.get(xr);vs&&vs.length&&(Ze.parentPlayer=Hc(vs)),i.push(Ze)}}else rl(He,Ft.fromStyles),Ze.onDestroy(()=>Ho(He,Ft.toStyles)),w3.push(Ze),h.has(He)&&i.push(Ze)}),w3.forEach(Ne=>{const He=s.get(Ne.element);if(He&&He.length){const Ze=Hc(He);Ne.setRealPlayer(Ze)}}),i.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<P.length;Ne++){const He=P[Ne],Ze=He[Ls];if(Mh(He,CE),Ze&&Ze.hasAnimation)continue;let Ft=[];if(a.size){let zo=a.get(He);zo&&zo.length&&Ft.push(...zo);let vs=this.driver.query(He,DD,!0);for(let Gc=0;Gc<vs.length;Gc++){let kn=a.get(vs[Gc]);kn&&kn.length&&Ft.push(...kn)}}const xr=Ft.filter(zo=>!zo.destroyed);xr.length?Ere(this,He,xr):this.processLeaveNode(He)}return P.length=0,cl.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const He=this.players.indexOf(Ne);this.players.splice(He,1)}),Ne.play()}),cl}elementContainsData(e,t){let r=!1;const i=t[Ls];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==zg;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,h=l!==s,g=_s(r,l,[]);this._getPreviousPlayers(l,h,o,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),g.push(y)})}rl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],h=new Set,g=new Set,m=t.timelines.map(w=>{const b=w.element;h.add(b);const P=b[Ls];if(P&&P.removedBeforeQueried)return new wp(w.duration,w.delay);const N=b!==c,B=function Ire(n){const e=[];return VU(n,e),e}((r.get(b)||fre).map(Et=>Et.getRealPlayer())).filter(Et=>!!Et.element&&Et.element===b),M=s.get(b),Y=o.get(b),fe=lU(0,this._normalizer,0,w.keyframes,M,Y),xe=this._buildPlayer(w,fe,B);if(w.subTimeline&&i&&g.add(b),N){const Et=new jD(e,a,b);Et.setRealPlayer(xe),l.push(Et)}return xe});l.forEach(w=>{_s(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function _re(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>Vs(w,vU));const y=Hc(m);return y.onDestroy(()=>{h.forEach(w=>Mh(w,vU)),Ho(c,t.toStyles)}),g.forEach(w=>{_s(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new wp(e.duration,e.delay)}}class jD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new wp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ED(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_s(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function FE(n){return n&&1===n.nodeType}function kU(n,e){const t=n.style.display;return n.style.display=e??"none",t}function FU(n,e,t,r,i){const s=[];t.forEach(c=>s.push(kU(c)));const o=[];r.forEach((c,l)=>{const h=new Map;c.forEach(g=>{const m=e.computeStyle(l,g,i);h.set(g,m),(!m||0==m.length)&&(l[Ls]=pre,o.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>kU(c,s[a++])),o}function LU(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?r:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);c!==r&&t.get(c).push(a)}),t}function Vs(n,e){n.classList?.add(e)}function Mh(n,e){n.classList?.remove(e)}function Ere(n,e,t){Hc(t).onDone(()=>n.processLeaveNode(e))}function VU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof fk?VU(r.players,e):e.push(r)}}function BU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class LE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new mre(e,t,r),this._timelineEngine=new cre(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],l=[],h=xD(this._driver,s,c,l);if(c.length)throw function one(n,e){return new S(3404,!1)}();a=function ire(n,e,t){return new sre(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=dU(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=dU(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Tre=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ho(this._element,this._initialStyles),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),Ho(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $D(n){let e=null;return n.forEach((t,r)=>{(function bre(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class UU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:bU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return gU(e,t)}getParentElement(e){return TD(e)}query(e,t,r){return mU(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,h=o.filter(y=>y instanceof UU);(function Rne(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((w,b)=>l.set(b,w))});let g=function Sne(n){return n.length?n[0]instanceof Map?n:n.map(e=>EU(e)):[]}(t).map(y=>zc(y));g=function xne(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,bU(n,a)))}}return e}(e,g,l);const m=function Cre(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$D(e[0]),e.length>1&&(r=$D(e[e.length-1]))):e instanceof Map&&(t=$D(e)),t||r?new Tre(n,t,r):null}(e,g);return new UU(e,g,c,m)}}let Dre=(()=>{class n extends ck{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:is.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?lk(t):t;return jU(this._renderer,null,r,"register",[i]),new Are(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(re(xf),re(Un))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class Are extends aK{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Pre(this._id,e,t||{},this._renderer)}}class Pre{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return jU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const $U="@.disabled";let Rre=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new HU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(c),new xre(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(re(xf),re(LE),re(Ht))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class HU{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$U?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xre extends HU{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$U?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Mre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Nre(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Ore=(()=>{class n extends LE{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(re(Un),re(bD),re(FD),re(vu))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const zU=[{provide:ck,useClass:Dre},{provide:FD,useFactory:function kre(){return new ere}},{provide:LE,useClass:Ore},{provide:xf,useFactory:function Fre(n,e,t){return new Rre(n,e,t)},deps:[oy,LE,Ht]}],HD=[{provide:bD,useFactory:()=>new Sre},{provide:Rx,useValue:"BrowserAnimations"},...zU],qU=[{provide:bD,useClass:_U},{provide:Rx,useValue:"NoopAnimations"},...zU];let Lre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qU:HD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({providers:HD,imports:[XM]}),n})();function GU(...n){return function Vre(){return ZO(1)}()(wa(n,By(n)))}function zD(...n){const e=By(n);return Ci((t,r)=>{(e?GU(n,t,e):GU(n,t)).subscribe(r)})}function qD(){return Ci((n,e)=>{let t,r=!1;n.subscribe(zi(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function GD(n,e){return Ci(function Bre(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(zi(o,h=>{const g=l++;c=a?n(c,h,g):(a=!0,h),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function jre(n,e){return n===e}function WD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WU(){if(typeof Uint8Array>"u")throw new se("unimplemented","Uint8Arrays are not available in this environment.")}function KU(){if(!function tJ(){return typeof atob<"u"}())throw new se("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qg{constructor(e){this._delegate=e}static fromBase64String(e){return KU(),new qg($o.fromBase64String(e))}static fromUint8Array(e){return WU(),new qg($o.fromUint8Array(e))}toBase64(){return KU(),this._delegate.toBase64()}toUint8Array(){return WU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KD(n){return function zre(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class qre{enableIndexedDbPersistence(e,t){return function Ree(n,e){BB(n=Ct(n,ln));const t=Hn(n);if(t._uninitializedComponentsProvider)throw new se(q.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Sh;return VB(t,i,new YS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function xee(n){BB(n=Ct(n,ln));const e=Hn(n);if(e._uninitializedComponentsProvider)throw new se(q.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Sh;return VB(e,r,new vB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Mee(n){if(n._initialized&&!n._terminated)throw new se(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(i){if(!ro.D())return Promise.resolve();const s=i+"main";yield ro.delete(s)}),function r(i){return t.apply(this,arguments)})(Hb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ZU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function OB(n,e,t,r={}){var i;const s=(n=Ct(n,Ng))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ar.MOCK_USER;else{a=(0,sn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ar(l)}n._authCredentials=new TY(new BL(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function Oee(n){return function mee(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield wB(n),t=yield CB(n);return e.setNetworkEnabled(!0),function(i){const s=he(i);return s.C_.delete(0),Rg(s)}(t)}))}(Hn(n=Ct(n,ln)))}(this._delegate)}disableNetwork(){return function kee(n){return function _ee(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield wB(n),t=yield CB(n);return e.setNetworkEnabled(!1),(r=(0,J.Z)(function*(s){const o=he(s);o.C_.add(0),yield vh(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Hn(n=Ct(n,ln)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,PB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Nee(n){return function(t){const r=new Er;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function XX(n,e){return kS.apply(this,arguments)}(yield iD(t),r)})),r.promise}(Hn(n=Ct(n,ln)))}(this._delegate)}onSnapshotsInSync(e){return function hte(n,e){return function Eee(n,e){const t=new aE(e);return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Ah(n),s=t,he(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Ah(n),s=t,void he(i).q_.delete(s);var i,s}))}}(Hn(n=Ct(n,ln)),cD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nh(this,kB(this._delegate,e))}catch(t){throw Pi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bs(this,dE(this._delegate,e))}catch(t){throw Pi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ri(this,function See(n,e){if(n=Ct(n,Ng),oD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(r=e,new Da(xt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Pi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Cte(n,e,t){n=Ct(n,ln);const r=Object.assign(Object.assign({},Ite),t);return function(s){if(s.maxAttempts<1)throw new se(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new Er;return s.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const l=yield function TB(n){return uE(n).then(e=>e.datastore)}(s);new pee(s.asyncQueue,l,a,o,c).run()})),c.promise}(Hn(n),i=>e(new wte(n,i)),r)}(this._delegate,t=>e(new QU(this,t)))}batch(){return Hn(this._delegate),new YU(new rU(this._delegate,e=>Rh(this._delegate,e)))}loadBundle(e){return function Fee(n,e){const t=Hn(n=Ct(n,ln)),r=new Aee;return function Iee(n,e,t,r){const i=function(o,a){let c;return c="string"==typeof o?WV().encode(o):o,h=function(h,g){if(h instanceof Uint8Array)return EB(h,g);if(h instanceof ArrayBuffer)return EB(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new hee(h,a);var h}(t,Pg(e));n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function lee(n,e,t){const r=he(n);var i;(i=(0,J.Z)(function*(o,a,c){try{const l=yield a.getMetadata();if(yield function(w,b){const P=he(w),N=ir(b.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",B=>P.Kr.getBundleMetadata(B,b.id)).then(B=>!!B&&B.createTime.compareTo(N)>=0)}(o.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(w=l).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);c._updateProgress(lB(l));const h=new HX(l,o.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&c._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield xa(o,m.ra,void 0),yield function(w,b){const P=he(w);return P.persistence.runTransaction("Save bundle","readwrite",N=>P.Kr.saveBundleMetadata(N,b))}(o.localStore,l),c._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return Ki("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var w}),function s(o,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield iD(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Lee(n,e){return function wee(n,e){return n.asyncQueue.enqueue((0,J.Z)(function*(){return function(r,i){const s=he(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Dh(n),e)}))}(Hn(n=Ct(n,ln)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ri(this,t):null)}}class BE extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qg(new $o(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bs.forKey(t,this.firestore,null)}}class QU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}get(e){const t=ol(e);return this._delegate.get(t).then(r=>new Gg(this._firestore,new Na(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ol(e);return r?(WD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ol(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ol(e);return this._delegate.delete(t),this}}class YU{constructor(e){this._delegate=e}set(e,t,r){const i=ol(e);return r?(WD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ol(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ol(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ug(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=sl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new sl(e,new BE(e),t),i.set(t,s)),s}}sl.INSTANCES=new WeakMap;class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bs(t,new vn(t._delegate,r,new pe(e)))}static forKey(e,t,r){return new Bs(t,new vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Nh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nh(this.firestore,kB(this._delegate,e))}catch(t){throw Pi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sn.m9)(e))instanceof vn&&FB(this._delegate,e)}set(e,t){t=WD("DocumentReference.set",t);try{return t?eU(this._delegate,e,t):eU(this._delegate,e)}catch(r){throw Pi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tU(this._delegate,e):tU(this._delegate,e,t,...r)}catch(i){throw Pi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function lte(n){return Rh(Ct(n.firestore,ln),[new lh(n._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const t=JU(e),r=XU(e,i=>new Gg(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ste(n){n=Ct(n,vn);const e=Ct(n.firestore,ln),t=Hn(e),r=new jc(e);return function yee(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const c=yield function(h,g){const m=he(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new se(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=wh(c,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Na(e,r,n._key,i,new tl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ote(n){n=Ct(n,vn);const e=Ct(n.firestore,ln);return bB(Hn(e),n._key,{source:"server"}).then(t=>mD(e,n,t))}(this._delegate):function ite(n){n=Ct(n,vn);const e=Ct(n.firestore,ln);return bB(Hn(e),n._key).then(t=>mD(e,n,t))}(this._delegate),t.then(r=>new Gg(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function Pi(n,e,t){return n.message=n.message.replace(e,t),n}function JU(n){for(const e of n)if("object"==typeof e&&!KD(e))return e;return{}}function XU(n,e){var t,r;let i;return i=KD(n[0])?n[0]:KD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Gg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XB(this._delegate,e._delegate)}}class Wg extends Gg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function wY(n,e){n||Ae()}(void 0!==t),t}}class Ri{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}where(e,t,r){try{return new Ri(this.firestore,Bc(this._delegate,function Wee(n,e,t){const r=e,i=_E("where",n);return Bg._create(i,r,t)}(e,t,r)))}catch(i){throw Pi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ri(this.firestore,Bc(this._delegate,function Kee(n,e="asc"){const t=e,r=_E("orderBy",n);return pD._create(r,t)}(e,t)))}catch(r){throw Pi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ri(this.firestore,Bc(this._delegate,function Zee(n){return MB("limit",n),yE._create("limit",n,"F")}(e)))}catch(t){throw Pi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ri(this.firestore,Bc(this._delegate,function Qee(n){return MB("limitToLast",n),yE._create("limitToLast",n,"L")}(e)))}catch(t){throw Pi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ri(this.firestore,Bc(this._delegate,function Yee(...n){return vE._create("startAt",n,!0)}(...e)))}catch(t){throw Pi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ri(this.firestore,Bc(this._delegate,function Jee(...n){return vE._create("startAfter",n,!1)}(...e)))}catch(t){throw Pi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ri(this.firestore,Bc(this._delegate,function Xee(...n){return EE._create("endBefore",n,!1)}(...e)))}catch(t){throw Pi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ri(this.firestore,Bc(this._delegate,function ete(...n){return EE._create("endAt",n,!0)}(...e)))}catch(t){throw Pi(t,"endAt()","Query.endAt()")}}isEqual(e){return aD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function cte(n){n=Ct(n,qr);const e=Ct(n.firestore,ln),t=Hn(e),r=new jc(e);return function vee(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const c=yield eE(s,o,!0),l=new fB(o,c.ls),h=l.ca(c.documents),g=l.applyChanges(h,!1);a.resolve(g.snapshot)}catch(c){const l=wh(c,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Uc(e,r,n,i))}(this._delegate):"server"===e?.source?function ute(n){n=Ct(n,qr);const e=Ct(n.firestore,ln),t=Hn(e),r=new jc(e);return SB(t,n._query,{source:"server"}).then(i=>new Uc(e,r,n,i))}(this._delegate):function ate(n){n=Ct(n,qr);const e=Ct(n.firestore,ln),t=Hn(e),r=new jc(e);return WB(n._query),SB(t,n._query).then(i=>new Uc(e,r,n,i))}(this._delegate),t.then(r=>new ZD(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JU(e),r=XU(e,i=>new ZD(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nU(this._delegate,t,r)}withConverter(e){return new Ri(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}class Wre{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ri(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Wre(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Wg(this._firestore,r))})}isEqual(e){return XB(this._delegate,e._delegate)}}class Nh extends Ri{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bs(this.firestore,e):null}doc(e){try{return new Bs(this.firestore,void 0===e?dE(this._delegate):dE(this._delegate,e))}catch(t){throw Pi(t,"doc()","CollectionReference.doc()")}}add(e){return function dte(n,e){const t=Ct(n.firestore,ln),r=dE(n),i=IE(n.converter,e);return Rh(t,[pE(Xu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Bs(this.firestore,t))}isEqual(e){return FB(this._delegate,e._delegate)}withConverter(e){return new Nh(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function ol(n){return Ct(n,vn)}class QD{constructor(...e){this._delegate=new Ma(...e)}static documentId(){return new QD(_n.keyField().canonicalString())}isEqual(e){return(e=(0,sn.m9)(e))instanceof Ma&&this._delegate._internalPath.isEqual(e._internalPath)}}class al{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bte(){return new uD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new al(e)}static delete(){const e=function Tte(){return new kg("deleteField")}();return e._methodName="FieldValue.delete",new al(e)}static arrayUnion(...e){const t=function Ste(...n){return new $ee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new al(t)}static arrayRemove(...e){const t=function Dte(...n){return new Hee("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new al(t)}static increment(e){const t=function Ate(n){return new zee("increment",n)}(e);return t._methodName="FieldValue.increment",new al(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Kre={Firestore:ZU,GeoPoint:hE,Timestamp:Sn,Blob:qg,Transaction:QU,WriteBatch:YU,DocumentReference:Bs,DocumentSnapshot:Gg,Query:Ri,QueryDocumentSnapshot:Wg,QuerySnapshot:ZD,CollectionReference:Nh,FieldPath:QD,FieldValue:al,setLogLevel:function Gre(n){!function IY(n){Cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function e3(n,e){return function Yre(n,e=bO){return new Ti(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function YD(n,e){return e3(n,e).pipe(qi(t=>({payload:t,type:"query"})))}!function Qre(n){(function Zre(n,e){n.INTERNAL.registerComponent(new EF.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Kre)))})(n,(e,t)=>new ZU(e,t,new qre)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Hi.Z);class t3{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=a3(r,t);return new i3(i,s,this.afs)}snapshotChanges(){return function Jre(n,e){return e3(n,e).pipe(zD(void 0),qD(),qi(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fs)}valueChanges(e={}){return this.snapshotChanges().pipe(qi(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return wa(this.ref.get(e)).pipe(fs)}}function UE(n,e){return YD(n,e).pipe(zD(void 0),qD(),qi(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=s.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function n3(n,e,t){return UE(n,t).pipe(GD((r,i)=>function Xre(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function eie(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function Ure(n,e=vp){return n=n??jre,Ci((t,r)=>{let i,s=!0;t.subscribe(zi(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),qi(r=>r.map(i=>({type:i.type,payload:i}))))}function JD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function r3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class i3{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(qi(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(zD(void 0),qD(),Uy(([r,i])=>i.length>0||!r),qi(([,r])=>r),fs)}auditTrail(e){return this.stateChanges(e).pipe(GD((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=r3(e);return n3(this.query,t,this.afs.schedulers.outsideAngular).pipe(fs)}valueChanges(e={}){return YD(this.query,this.afs.schedulers.outsideAngular).pipe(qi(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),fs)}get(e){return wa(this.query.get(e)).pipe(fs)}add(e){return this.ref.add(e)}doc(e){return new t3(this.ref.doc(e),this.afs)}}class tie{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UE(this.query,this.afs.schedulers.outsideAngular).pipe(qi(t=>t.filter(r=>e.indexOf(r.type)>-1)),Uy(t=>t.length>0),fs):UE(this.query,this.afs.schedulers.outsideAngular).pipe(fs)}auditTrail(e){return this.stateChanges(e).pipe(GD((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=r3(e);return n3(this.query,t,this.afs.schedulers.outsideAngular).pipe(fs)}valueChanges(e={}){return YD(this.query,this.afs.schedulers.outsideAngular).pipe(qi(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),fs)}get(e){return wa(this.query.get(e)).pipe(fs)}}const s3=new ge("angularfire2.enableFirestorePersistence"),o3=new ge("angularfire2.firestore.persistenceSettings"),nie=new ge("angularfire2.firestore.settings"),rie=new ge("angularfire2.firestore.use-emulator");function a3(n,e=(t=>t)){return{query:e(n),ref:n}}let iie=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,c,l,h,g,m,y,w,b,P,N,B){this.schedulers=c;const M=zC(t,a,r),Y=h;g&&sk(M,a,m,w,b,P,y,N),[this.firestore,this.persistenceEnabled$]=MO(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const fe=a.runOutsideAngular(()=>M.firestore());if(s&&fe.settings(s),Y&&fe.useEmulator(...Y),i&&!PM(o)){const xe=()=>{try{return wa(fe.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Et){return typeof console<"u"&&console.warn(Et),Vd(!1)}};return[fe,a.runOutsideAngular(xe)]}return[fe,Vd(!1)]},[s,Y,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=a3(i,r),a=this.schedulers.ngZone.run(()=>s);return new i3(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new tie(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new t3(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(re(Fy),re(Ly,8),re(s3,8),re(nie,8),re(Ed),re(Ht),re(RO),re(o3,8),re(rie,8),re(jy,8),re(XO,8),re(ek,8),re(tk,8),re(nk,8),re(rk,8),re(ik,8),re(AO,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),sie=(()=>{class n{constructor(){Hi.Z.registerVersion("angularfire",ky.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:s3,useValue:!0},{provide:o3,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Yt({providers:[iie]})}return n})();class jE{}class XD{}class ka{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ka?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ka;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ka?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class oie{encodeKey(e){return c3(e)}encodeValue(e){return c3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const cie=/%(\d[a-f0-9])/gi,uie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function c3(n){return encodeURIComponent(n).replace(cie,(e,t)=>uie[t]??e)}function $E(n){return`${n}`}class qc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new oie,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function aie(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($E):[$E(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($E(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($E(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lie{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function u3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function l3(n){return typeof Blob<"u"&&n instanceof Blob}function d3(n){return typeof FormData<"u"&&n instanceof FormData}class Kg{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function die(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ka),this.context||(this.context=new lie),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new qc,this.urlWithParams=t}serializeBody(){return null===this.body?null:u3(this.body)||l3(this.body)||d3(this.body)||function hie(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||d3(this.body)?null:l3(this.body)?this.body.type||null:u3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),l)),new Kg(t,r,s,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:o})}}var pr=(()=>((pr=pr||{})[pr.Sent=0]="Sent",pr[pr.UploadProgress=1]="UploadProgress",pr[pr.ResponseHeader=2]="ResponseHeader",pr[pr.DownloadProgress=3]="DownloadProgress",pr[pr.Response=4]="Response",pr[pr.User=5]="User",pr))();class eA{constructor(e,t=200,r="OK"){this.headers=e.headers||new ka,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tA extends eA{constructor(e={}){super(e),this.type=pr.ResponseHeader}clone(e={}){return new tA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HE extends eA{constructor(e={}){super(e),this.type=pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class h3 extends eA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fie=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Kg)s=t;else{let c,l;c=i.headers instanceof ka?i.headers:new ka(i.headers),i.params&&(l=i.params instanceof qc?i.params:new qc({fromObject:i.params})),s=new Kg(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=qe(s).pipe(dc(c=>this.handler.handle(c)));if(t instanceof Kg||"events"===i.observe)return o;const a=o.pipe(va(c=>c instanceof HE));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ce(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ce(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ce(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ce(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nA(i,r))}post(t,r,i={}){return this.request("POST",t,nA(i,r))}put(t,r,i={}){return this.request("PUT",t,nA(i,r))}}return n.\u0275fac=function(t){return new(t||n)(re(jE))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function f3(n,e){return e(n)}function pie(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const mie=new ge("HTTP_INTERCEPTORS"),Zg=new ge("HTTP_INTERCEPTOR_FNS");function _ie(){let n=null;return(e,t)=>(null===n&&(n=(Xe(mie,{optional:!0})??[]).reduceRight(pie,f3)),n(e,t))}let p3=(()=>{class n extends jE{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Zg)));this.chain=r.reduceRight((i,s)=>function gie(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),f3)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(re(XD),re(vo))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const Iie=/^\)\]\}',?\n/;let m3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,w)=>i.setRequestHeader(y,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=i.statusText||"OK",w=new ka(i.getAllResponseHeaders()),b=function wie(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new tA({headers:w,status:i.status,statusText:y,url:b}),o},c=()=>{let{headers:y,status:w,statusText:b,url:P}=a(),N=null;204!==w&&(N=typeof i.response>"u"?i.responseText:i.response),0===w&&(w=N?200:0);let B=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof N){const M=N;N=N.replace(Iie,"");try{N=""!==N?JSON.parse(N):null}catch(Y){N=M,B&&(B=!1,N={error:Y,text:N})}}B?(r.next(new HE({body:N,headers:y,status:w,statusText:b,url:P||void 0})),r.complete()):r.error(new h3({error:N,headers:y,status:w,statusText:b,url:P||void 0}))},l=y=>{const{url:w}=a(),b=new h3({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(b)};let h=!1;const g=y=>{h||(r.next(a()),h=!0);let w={type:pr.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===t.responseType&&i.responseText&&(w.partialText=i.responseText),r.next(w)},m=y=>{let w={type:pr.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.next(w)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",g),null!==s&&i.upload&&i.upload.addEventListener("progress",m)),i.send(s),r.next({type:pr.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",g),null!==s&&i.upload&&i.upload.removeEventListener("progress",m)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(re(xM))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const rA=new ge("XSRF_ENABLED"),_3=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),y3=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class v3{}let bie=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vM(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(re(Un),re(Ed),re(_3))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function Sie(n,e){const t=n.url.toLowerCase();if(!Xe(rA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Xe(v3).getToken(),i=Xe(y3);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var sr=(()=>((sr=sr||{})[sr.Interceptors=0]="Interceptors",sr[sr.LegacyInterceptors=1]="LegacyInterceptors",sr[sr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",sr[sr.NoXsrfProtection=3]="NoXsrfProtection",sr[sr.JsonpSupport=4]="JsonpSupport",sr[sr.RequestsMadeViaParent=5]="RequestsMadeViaParent",sr))();function Oh(n,e){return{\u0275kind:n,\u0275providers:e}}function Die(...n){const e=[fie,m3,p3,{provide:jE,useExisting:p3},{provide:XD,useExisting:m3},{provide:Zg,useValue:Sie,multi:!0},{provide:rA,useValue:!0},{provide:v3,useClass:bie}];for(const t of n)e.push(...t.\u0275providers);return m1(e)}const E3=new ge("LEGACY_INTERCEPTOR_FN");let Pie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Yt({providers:[Die(Oh(sr.LegacyInterceptors,[{provide:E3,useFactory:_ie},{provide:Zg,useExisting:E3,multi:!0}]))]}),n})();Hi.Z.initializeApp(yT_firebase);let Rie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n,bootstrap:[b7]});static#n=this.\u0275inj=Yt({imports:[XM,wd,Pie,ev,tv,cU,A7,Vte,Po,w7,aU,Lre,RK.forRoot(),E7,sie,$W.initializeApp(yT_firebase)]})}return n})();I6().bootstrapModule(Rie).catch(n=>console.error(n))},942:(Es,qn,Ue)=>{Ue.d(qn,{Z:()=>Gn});var D=Ue(90),Q=Ue(859),F=Ue(881),Oe=Ue(877);class Nt{constructor(Qe,Ye){this._delegate=Qe,this.firebase=Ye,(0,F._addComponent)(Qe,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Qe,Ye=F._DEFAULT_ENTRY_NAME){var or;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(Qe);return!En.isInitialized()&&"EXPLICIT"===(null===(or=En.getComponent())||void 0===or?void 0:or.instantiationMode)&&En.initialize(),En.getImmediate({identifier:Ye})}_removeServiceInstance(Qe,Ye=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Ye)}_addComponent(Qe){(0,F._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,F._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const An=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Tt(){const mt=function Kt(mt){const Qe={},Ye={__esModule:!0,initializeApp:function ft(ct,ce={}){const It=F.initializeApp(ct,ce);if((0,D.r3)(Qe,It.name))return Qe[It.name];const Qt=new mt(It,Ye);return Qe[It.name]=Qt,Qt},app:En,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ai(ct){const ce=ct.name,It=ce.replace("-compat","");if(F._registerComponent(ct)&&"PUBLIC"===ct.type){const Qt=(In=En())=>{if("function"!=typeof In[It])throw An.create("invalid-app-argument",{appName:ce});return In[It]()};void 0!==ct.serviceProps&&(0,D.ZB)(Qt,ct.serviceProps),Ye[It]=Qt,mt.prototype[It]=function(...In){return this._getService.bind(this,ce).apply(this,ct.multipleInstances?In:[])}}return"PUBLIC"===ct.type?Ye[It]:null},removeApp:function or(ct){delete Qe[ct]},useAsService:function Fn(ct,ce){return"serverAuth"===ce?null:ce},modularAPIs:F}};function En(ct){if(!(0,D.r3)(Qe,ct=ct||F._DEFAULT_ENTRY_NAME))throw An.create("no-app",{appName:ct});return Qe[ct]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function Bt(){return Object.keys(Qe).map(ct=>Qe[ct])}}),En.App=mt,Ye}(Nt);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Tt,extendNamespace:function Qe(Ye){(0,D.ZB)(mt,Ye)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),mt}(),le=new Oe.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gn=X;!function Pt(mt){(0,F.registerVersion)("@firebase/app-compat","0.2.25",mt)}()},881:(Es,qn,Ue)=>{Ue.r(qn),Ue.d(qn,{FirebaseError:()=>Oe.ZR,SDK_VERSION:()=>bs,_DEFAULT_ENTRY_NAME:()=>es,_addComponent:()=>li,_addOrOverwriteComponent:()=>di,_apps:()=>wr,_clearComponents:()=>Pn,_components:()=>ui,_getProvider:()=>Ut,_registerComponent:()=>mr,_removeServiceInstance:()=>hi,deleteApp:()=>Wr,getApp:()=>ns,getApps:()=>Zn,initializeApp:()=>Ss,onLog:()=>Fa,registerVersion:()=>fi,setLogLevel:()=>so});var D=Ue(861),Q=Ue(859),F=Ue(877),Oe=Ue(90);const Nt=(K,S)=>S.some(ae=>K instanceof ae);let dn,An;const X=new WeakMap,le=new WeakMap,Me=new WeakMap,tt=new WeakMap,Pt=new WeakMap;let Qe={get(K,S,ae){if(K instanceof IDBTransaction){if("done"===S)return le.get(K);if("objectStoreNames"===S)return K.objectStoreNames||Me.get(K);if("store"===S)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return ft(K[S])},set:(K,S,ae)=>(K[S]=ae,!0),has:(K,S)=>K instanceof IDBTransaction&&("done"===S||"store"===S)||S in K};function En(K){return"function"==typeof K?function or(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tt(){return An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...S){return K.apply(Bt(this),S),ft(X.get(this))}:function(...S){return ft(K.apply(Bt(this),S))}:function(S,...ae){const ne=K.call(Bt(this),S,...ae);return Me.set(ne,S.sort?S.sort():[S]),ft(ne)}}(K):(K instanceof IDBTransaction&&function mt(K){if(le.has(K))return;const S=new Promise((ae,ne)=>{const Te=()=>{K.removeEventListener("complete",_t),K.removeEventListener("error",Ot),K.removeEventListener("abort",Ot)},_t=()=>{ae(),Te()},Ot=()=>{ne(K.error||new DOMException("AbortError","AbortError")),Te()};K.addEventListener("complete",_t),K.addEventListener("error",Ot),K.addEventListener("abort",Ot)});le.set(K,S)}(K),Nt(K,function Kt(){return dn||(dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,Qe):K)}function ft(K){if(K instanceof IDBRequest)return function Gn(K){const S=new Promise((ae,ne)=>{const Te=()=>{K.removeEventListener("success",_t),K.removeEventListener("error",Ot)},_t=()=>{ae(ft(K.result)),Te()},Ot=()=>{ne(K.error),Te()};K.addEventListener("success",_t),K.addEventListener("error",Ot)});return S.then(ae=>{ae instanceof IDBCursor&&X.set(ae,K)}).catch(()=>{}),Pt.set(S,K),S}(K);if(tt.has(K))return tt.get(K);const S=En(K);return S!==K&&(tt.set(K,S),Pt.set(S,K)),S}const Bt=K=>Pt.get(K),ct=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],It=new Map;function Qt(K,S){if(!(K instanceof IDBDatabase)||S in K||"string"!=typeof S)return;if(It.get(S))return It.get(S);const ae=S.replace(/FromIndex$/,""),ne=S!==ae,Te=ce.includes(ae);if(!(ae in(ne?IDBIndex:IDBObjectStore).prototype)||!Te&&!ct.includes(ae))return;const _t=function(){var Ot=(0,D.Z)(function*(Vn,...an){const wn=this.transaction(Vn,Te?"readwrite":"readonly");let ll=wn.store;return ne&&(ll=ll.index(an.shift())),(yield Promise.all([ll[ae](...an),Te&&wn.done]))[0]});return function(an){return Ot.apply(this,arguments)}}();return It.set(S,_t),_t}!function Ye(K){Qe=K(Qe)}(K=>({...K,get:(S,ae,ne)=>Qt(S,ae)||K.get(S,ae,ne),has:(S,ae)=>!!Qt(S,ae)||K.has(S,ae)}));class In{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Ln(K){return"VERSION"===K.getComponent()?.type}(ae)){const ne=ae.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(ae=>ae).join(" ")}}const Yi="@firebase/app",pt=new F.Yd("@firebase/app"),es="[DEFAULT]",ts={[Yi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wr=new Map,ui=new Map;function li(K,S){try{K.container.addComponent(S)}catch(ae){pt.debug(`Component ${S.name} failed to register with FirebaseApp ${K.name}`,ae)}}function di(K,S){K.container.addOrOverwriteComponent(S)}function mr(K){const S=K.name;if(ui.has(S))return pt.debug(`There were multiple attempts to register component ${S}.`),!1;ui.set(S,K);for(const ae of wr.values())li(ae,K);return!0}function Ut(K,S){const ae=K.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),K.container.getProvider(S)}function hi(K,S,ae=es){Ut(K,S).clearInstance(ae)}function Pn(){ui.clear()}const fn=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(S,ae,ne){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}const bs="10.7.1";function Ss(K,S={}){let ae=K;"object"!=typeof S&&(S={name:S});const ne=Object.assign({name:es,automaticDataCollectionEnabled:!1},S),Te=ne.name;if("string"!=typeof Te||!Te)throw fn.create("bad-app-name",{appName:String(Te)});if(ae||(ae=(0,Oe.aH)()),!ae)throw fn.create("no-options");const _t=wr.get(Te);if(_t){if((0,Oe.vZ)(ae,_t.options)&&(0,Oe.vZ)(ne,_t.config))return _t;throw fn.create("duplicate-app",{appName:Te})}const Ot=new Q.H0(Te);for(const an of ui.values())Ot.addComponent(an);const Vn=new Rn(ae,ne,Ot);return wr.set(Te,Vn),Vn}function ns(K=es){const S=wr.get(K);if(!S&&K===es&&(0,Oe.aH)())return Ss();if(!S)throw fn.create("no-app",{appName:K});return S}function Zn(){return Array.from(wr.values())}function Wr(K){return rs.apply(this,arguments)}function rs(){return(rs=(0,D.Z)(function*(K){const S=K.name;wr.has(S)&&(wr.delete(S),yield Promise.all(K.container.getProviders().map(ae=>ae.delete())),K.isDeleted=!0)})).apply(this,arguments)}function fi(K,S,ae){var ne;let Te=null!==(ne=ts[K])&&void 0!==ne?ne:K;ae&&(Te+=`-${ae}`);const _t=Te.match(/\s|\//),Ot=S.match(/\s|\//);if(_t||Ot){const Vn=[`Unable to register library "${Te}" with version "${S}":`];return _t&&Vn.push(`library name "${Te}" contains illegal characters (whitespace or "/")`),_t&&Ot&&Vn.push("and"),Ot&&Vn.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void pt.warn(Vn.join(" "))}mr(new Q.wA(`${Te}-version`,()=>({library:Te,version:S}),"VERSION"))}function Fa(K,S){if(null!==K&&"function"!=typeof K)throw fn.create("invalid-log-argument");(0,F.Am)(K,S)}function so(K){(0,F.Ub)(K)}const qo="firebase-heartbeat-database",Ds=1,x="firebase-heartbeat-store";let R=null;function E(){return R||(R=function ai(K,S,{blocked:ae,upgrade:ne,blocking:Te,terminated:_t}={}){const Ot=indexedDB.open(K,S),Vn=ft(Ot);return ne&&Ot.addEventListener("upgradeneeded",an=>{ne(ft(Ot.result),an.oldVersion,an.newVersion,ft(Ot.transaction),an)}),ae&&Ot.addEventListener("blocked",an=>ae(an.oldVersion,an.newVersion,an)),Vn.then(an=>{_t&&an.addEventListener("close",()=>_t()),Te&&an.addEventListener("versionchange",wn=>Te(wn.oldVersion,wn.newVersion,wn))}).catch(()=>{}),Vn}(qo,Ds,{upgrade:(K,S)=>{0===S&&K.createObjectStore(x)}}).catch(K=>{throw fn.create("idb-open",{originalErrorMessage:K.message})})),R}function v(){return(v=(0,D.Z)(function*(K){try{return yield(yield E()).transaction(x).objectStore(x).get(Se(K))}catch(S){if(S instanceof Oe.ZR)pt.warn(S.message);else{const ae=fn.create("idb-get",{originalErrorMessage:S?.message});pt.warn(ae.message)}}})).apply(this,arguments)}function L(K,S){return U.apply(this,arguments)}function U(){return(U=(0,D.Z)(function*(K,S){try{const ne=(yield E()).transaction(x,"readwrite");yield ne.objectStore(x).put(S,Se(K)),yield ne.done}catch(ae){if(ae instanceof Oe.ZR)pt.warn(ae.message);else{const ne=fn.create("idb-set",{originalErrorMessage:ae?.message});pt.warn(ne.message)}}})).apply(this,arguments)}function Se(K){return`${K.name}!${K.options.appId}`}class St{constructor(S){this.container=S,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new nt(ae),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var S=this;return(0,D.Z)(function*(){var ae,ne;const _t=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Ie();if((null!=(null===(ae=S._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||(S._heartbeatsCache=yield S._heartbeatsCachePromise,null!=(null===(ne=S._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats)))&&S._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!S._heartbeatsCache.heartbeats.some(Vn=>Vn.date===Ot))return S._heartbeatsCache.heartbeats.push({date:Ot,agent:_t}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(Vn=>{const an=new Date(Vn.date).valueOf();return Date.now()-an<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,D.Z)(function*(){var ae;if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null==(null===(ae=S._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||0===S._heartbeatsCache.heartbeats.length)return"";const ne=Ie(),{heartbeatsToSend:Te,unsentEntries:_t}=function _e(K,S=1024){const ae=[];let ne=K.slice();for(const Te of K){const _t=ae.find(Ot=>Ot.agent===Te.agent);if(_t){if(_t.dates.push(Te.date),ar(ae)>S){_t.dates.pop();break}}else if(ae.push({agent:Te.agent,dates:[Te.date]}),ar(ae)>S){ae.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ne}}(S._heartbeatsCache.heartbeats),Ot=(0,Oe.L)(JSON.stringify({version:2,heartbeats:Te}));return S._heartbeatsCache.lastSentHeartbeatDate=ne,_t.length>0?(S._heartbeatsCache.heartbeats=_t,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),Ot})()}}function Ie(){return(new Date).toISOString().substring(0,10)}class nt{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,D.Z)(function*(){if(yield S._canUseIndexedDBPromise){const ne=yield function C(K){return v.apply(this,arguments)}(S.app);return ne?.heartbeats?ne:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(S){var ae=this;return(0,D.Z)(function*(){var ne;if(yield ae._canUseIndexedDBPromise){const _t=yield ae.read();return L(ae.app,{lastSentHeartbeatDate:null!==(ne=S.lastSentHeartbeatDate)&&void 0!==ne?ne:_t.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var ae=this;return(0,D.Z)(function*(){var ne;if(yield ae._canUseIndexedDBPromise){const _t=yield ae.read();return L(ae.app,{lastSentHeartbeatDate:null!==(ne=S.lastSentHeartbeatDate)&&void 0!==ne?ne:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...S.heartbeats]})}})()}}function ar(K){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:K})).length}!function La(K){mr(new Q.wA("platform-logger",S=>new In(S),"PRIVATE")),mr(new Q.wA("heartbeat",S=>new St(S),"PRIVATE")),fi(Yi,"0.9.25",K),fi(Yi,"0.9.25","esm2017"),fi("fire-js","")}("")},859:(Es,qn,Ue)=>{Ue.d(qn,{H0:()=>Kt,wA:()=>F});var D=Ue(861),Q=Ue(90);class F{constructor(X,le,Me){this.name=X,this.instanceFactory=le,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Oe="[DEFAULT]";class Nt{constructor(X,le){this.name=X,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const le=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(le)){const Me=new Q.BH;if(this.instancesDeferred.set(le,Me),this.isInitialized(le)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:le});tt&&Me.resolve(tt)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(X){var le;const Me=this.normalizeInstanceIdentifier(X?.identifier),tt=null!==(le=X?.optional)&&void 0!==le&&le;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Pt){if(tt)return null;throw Pt}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function An(Tt){return"EAGER"===Tt.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[le,Me]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(le);try{const Pt=this.getOrInitializeService({instanceIdentifier:tt});Me.resolve(Pt)}catch{}}}}clearInstance(X=Oe){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,D.Z)(function*(){const le=Array.from(X.instances.values());yield Promise.all([...le.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...le.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Oe){return this.instances.has(X)}getOptions(X=Oe){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:le={}}=X,Me=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:Me,options:le});for(const[Pt,Gn]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Pt)&&Gn.resolve(tt);return tt}onInit(X,le){var Me;const tt=this.normalizeInstanceIdentifier(le),Pt=null!==(Me=this.onInitCallbacks.get(tt))&&void 0!==Me?Me:new Set;Pt.add(X),this.onInitCallbacks.set(tt,Pt);const Gn=this.instances.get(tt);return Gn&&X(Gn,tt),()=>{Pt.delete(X)}}invokeOnInitCallbacks(X,le){const Me=this.onInitCallbacks.get(le);if(Me)for(const tt of Me)try{tt(X,le)}catch{}}getOrInitializeService({instanceIdentifier:X,options:le={}}){let Me=this.instances.get(X);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Tt=X,Tt===Oe?void 0:Tt),options:le}),this.instances.set(X,Me),this.instancesOptions.set(X,le),this.invokeOnInitCallbacks(Me,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Me)}catch{}var Tt;return Me||null}normalizeInstanceIdentifier(X=Oe){return this.component?this.component.multipleInstances?X:Oe:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kt{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const le=this.getProvider(X.name);if(le.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);le.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const le=new Nt(X,this);return this.providers.set(X,le),le}getProviders(){return Array.from(this.providers.values())}}},877:(Es,qn,Ue)=>{Ue.d(qn,{Am:()=>Tt,Ub:()=>Kt,Yd:()=>An,in:()=>Q});const D=[];var Q=(()=>{return(X=Q||(Q={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",Q;var X})();const F={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Oe=Q.INFO,Nt={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},dn=(X,le,...Me)=>{if(le<X.logLevel)return;const tt=(new Date).toISOString(),Pt=Nt[le];if(!Pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pt](`[${tt}]  ${X.name}:`,...Me)};class An{constructor(le){this.name=le,this._logLevel=Oe,this._logHandler=dn,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in Q))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?F[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...le),this._logHandler(this,Q.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...le),this._logHandler(this,Q.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...le),this._logHandler(this,Q.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...le),this._logHandler(this,Q.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...le),this._logHandler(this,Q.ERROR,...le)}}function Kt(X){D.forEach(le=>{le.setLogLevel(X)})}function Tt(X,le){for(const Me of D){let tt=null;le&&le.level&&(tt=F[le.level]),Me.userLogHandler=null===X?null:(Pt,Gn,...mt)=>{const Qe=mt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");Gn>=(tt??Pt.logLevel)&&X({level:Q[Gn].toLowerCase(),message:Qe,args:mt,type:Pt.name})}}}},568:(Es,qn,Ue)=>{Ue.r(qn);var D=Ue(861),Q=Ue(942),F=Ue(932),Oe=Ue(90),An=(Ue(881),Ue(877),Ue(859));function Kt(){return window}const Tt=2e3;function le(){return le=(0,D.Z)(function*(E,C,v){var L;const{BuildInfo:U}=Kt();(0,F.au)(C.sessionId,"AuthEvent did not contain a session ID");const Se=yield function Ye(E){return or.apply(this,arguments)}(C.sessionId),ve={};return(0,F.av)()?ve.ibi=U.packageName:(0,F.aw)()?ve.apn=U.packageName:(0,F.ax)(E,"operation-not-supported-in-this-environment"),U.displayName&&(ve.appDisplayName=U.displayName),ve.sessionId=Se,(0,F.ay)(E,v,C.type,void 0,null!==(L=C.eventId)&&void 0!==L?L:void 0,ve)}),le.apply(this,arguments)}function tt(){return(tt=(0,D.Z)(function*(E){const{BuildInfo:C}=Kt(),v={};(0,F.av)()?v.iosBundleId=C.packageName:(0,F.aw)()?v.androidPackageName=C.packageName:(0,F.ax)(E,"operation-not-supported-in-this-environment"),yield(0,F.az)(E,v)})).apply(this,arguments)}function mt(){return(mt=(0,D.Z)(function*(E,C,v){const{cordova:L}=Kt();let U=()=>{};try{yield new Promise((Se,ve)=>{let ze=null;function St(){var nt;Se();const ar=null===(nt=L.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof ar&&ar(),"function"==typeof v?.close&&v.close()}function Ie(){ze||(ze=window.setTimeout(()=>{ve((0,F.aB)(E,"redirect-cancelled-by-user"))},Tt))}function _e(){"visible"===document?.visibilityState&&Ie()}C.addPassiveListener(St),document.addEventListener("resume",Ie,!1),(0,F.aw)()&&document.addEventListener("visibilitychange",_e,!1),U=()=>{C.removePassiveListener(St),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",_e,!1),ze&&window.clearTimeout(ze)}})}finally{U()}})).apply(this,arguments)}function or(){return(or=(0,D.Z)(function*(E){const C=function En(E){if((0,F.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const C=new ArrayBuffer(E.length),v=new Uint8Array(C);for(let L=0;L<E.length;L++)v[L]=E.charCodeAt(L);return v}(E),v=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(v)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ft=20;class Bt extends F.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(C)),super.onEvent(C)}initialized(){var C=this;return(0,D.Z)(function*(){yield C.initPromise})()}}function ct(E){return ce.apply(this,arguments)}function ce(){return(ce=(0,D.Z)(function*(E){const C=yield In()._get(Ln(E));return C&&(yield In()._remove(Ln(E))),C})).apply(this,arguments)}function Qt(){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<ft;v++){const L=Math.floor(Math.random()*C.length);E.push(C.charAt(L))}return E.join("")}function In(){return(0,F.aE)(F.b)}function Ln(E){return(0,F.aF)("authEvent",E.config.apiKey,E.name)}function pt(E){if(!E?.includes("?"))return{};const[C,...v]=E.split("?");return(0,Oe.zd)(v.join("?"))}const H=class Is{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(C){var v=this;return(0,D.Z)(function*(){const L=C._key();let U=v.eventManagers.get(L);return U||(U=new Bt(C),v.eventManagers.set(L,U),v.attachCallbackListeners(C,U)),U})()}_openPopup(C){(0,F.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,v,L,U){var Se=this;return(0,D.Z)(function*(){!function Qe(E){var C,v,L,U,Se,ve,ze,St,Ie,_e;const nt=Kt();(0,F.aC)("function"==typeof(null===(C=nt?.universalLinks)||void 0===C?void 0:C.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aC)(typeof(null===(v=nt?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aC)("function"==typeof(null===(Se=null===(U=null===(L=nt?.cordova)||void 0===L?void 0:L.plugins)||void 0===U?void 0:U.browsertab)||void 0===Se?void 0:Se.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(St=null===(ze=null===(ve=nt?.cordova)||void 0===ve?void 0:ve.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===St?void 0:St.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(_e=null===(Ie=nt?.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===_e?void 0:_e.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const ve=yield Se._initialize(C);yield ve.initialized(),ve.resetRedirect(),(0,F.aI)(),yield Se._originValidation(C);const ze=function ai(E,C,v=null){return{type:C,eventId:v,urlResponse:null,sessionId:Qt(),postBody:null,tenantId:E.tenantId,error:(0,F.aB)(E,"no-auth-event")}}(C,L,U);yield function Fn(E,C){return In()._set(Ln(E),C)}(C,ze);const St=yield function X(E,C,v){return le.apply(this,arguments)}(C,ze,v),Ie=yield function Pt(E){const{cordova:C}=Kt();return new Promise(v=>{C.plugins.browsertab.isAvailable(L=>{let U=null;L?C.plugins.browsertab.openUrl(E):U=C.InAppBrowser.open(E,(0,F.aA)()?"_blank":"_system","location=yes"),v(U)})})}(St);return function Gn(E,C,v){return mt.apply(this,arguments)}(C,ve,Ie)})()}_isIframeWebStorageSupported(C,v){throw new Error("Method not implemented.")}_originValidation(C){const v=C._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Me(E){return tt.apply(this,arguments)}(C)),this.originValidationPromises[v]}attachCallbackListeners(C,v){const{universalLinks:L,handleOpenURL:U,BuildInfo:Se}=Kt(),ve=setTimeout((0,D.Z)(function*(){yield ct(C),v.onEvent(W())}),500),ze=function(){var _e=(0,D.Z)(function*(nt){clearTimeout(ve);const ar=yield ct(C);let La=null;ar&&nt?.url&&(La=function It(E,C){var v,L;const U=function Ji(E){const C=pt(E),v=C.link?decodeURIComponent(C.link):void 0,L=pt(v).link,U=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return pt(U).link||U||L||v||E}(C);if(U.includes("/__/auth/callback")){const Se=pt(U),ve=Se.firebaseError?function Yi(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(Se.firebaseError)):null,ze=null===(L=null===(v=ve?.code)||void 0===v?void 0:v.split("auth/"))||void 0===L?void 0:L[1],St=ze?(0,F.aB)(ze):null;return St?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:U,postBody:null}}return null}(ar,nt.url)),v.onEvent(La||W())});return function(ar){return _e.apply(this,arguments)}}();typeof L<"u"&&"function"==typeof L.subscribe&&L.subscribe(null,ze);const St=U,Ie=`${Se.packageName.toLowerCase()}://`;Kt().handleOpenURL=function(){var _e=(0,D.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ie)&&ze({url:nt}),"function"==typeof St)try{St(nt)}catch(ar){console.error(ar)}});return function(nt){return _e.apply(this,arguments)}}()}};function W(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aB)("no-auth-event")}}const te=1e3;function me(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Ce(E=(0,Oe.z$)()){return!("file:"!==me()&&"ionic:"!==me()&&"capacitor:"!==me()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function hn(){try{const E=self.localStorage,C=F.aN();if(E)return E.setItem(C,"1"),E.removeItem(C),!function zt(E=(0,Oe.z$)()){return function bt(){return(0,Oe.w1)()&&11===document?.documentMode}()||function on(E=(0,Oe.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Oe.hl)()}catch{return Wn()&&(0,Oe.hl)()}return!1}function Wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function ht(){return"http:"===me()||"https:"===me()}()||(0,Oe.ru)()||Ce())&&!function Re(){return(0,Oe.b$)()||(0,Oe.UG)()}()&&hn()&&!Wn()}function gr(){return Ce()&&typeof document<"u"}function Xi(){return(Xi=(0,D.Z)(function*(){return!!gr()&&new Promise(E=>{const C=setTimeout(()=>{E(!1)},te);document.addEventListener("deviceready",()=>{clearTimeout(C),E(!0)})})})).apply(this,arguments)}const Rt={LOCAL:"local",NONE:"none",SESSION:"session"},Cs=F.aC,Ts="persistence";function ts(E){return wr.apply(this,arguments)}function wr(){return(wr=(0,D.Z)(function*(E){yield E._initializationPromise;const C=li(),v=F.aF(Ts,E.config.apiKey,E.name);C&&C.setItem(v,E._getPersistence())})).apply(this,arguments)}function li(){var E;try{return(null===(E=function ws(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const di=F.aC;class mr{constructor(){this.browserResolver=F.aE(F.k),this.cordovaResolver=F.aE(H),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(C){var v=this;return(0,D.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,v,L,U){var Se=this;return(0,D.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(C,v,L,U)})()}_openRedirect(C,v,L,U){var Se=this;return(0,D.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(C,v,L,U)})()}_isIframeWebStorageSupported(C,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,v)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return gr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,D.Z)(function*(){if(C.underlyingResolver)return;const v=yield function Gr(){return Xi.apply(this,arguments)}();C.underlyingResolver=v?C.cordovaResolver:C.browserResolver})()}}function Ut(E){return E.unwrap()}function Pn(E){return fn(E)}function fn(E){const{_tokenResponse:C}=E instanceof Oe.ZR?E.customData:E;if(!C)return null;if(!(E instanceof Oe.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return F.P.credentialFromResult(E);const v=C.providerId;if(!v||v===F.p.PASSWORD)return null;let L;switch(v){case F.p.GOOGLE:L=F.X;break;case F.p.FACEBOOK:L=F.W;break;case F.p.GITHUB:L=F.Y;break;case F.p.TWITTER:L=F.$;break;default:const{oauthIdToken:U,oauthAccessToken:Se,oauthTokenSecret:ve,pendingToken:ze,nonce:St}=C;return Se||ve||U||ze?ze?v.startsWith("saml.")?F.aQ._create(v,ze):F.N._fromParams({providerId:v,signInMethod:v,pendingToken:ze,idToken:U,accessToken:Se}):new F.Z(v).credential({idToken:U,accessToken:Se,rawNonce:St}):null}return E instanceof Oe.ZR?L.credentialFromError(E):L.credentialFromResult(E)}function Rn(E,C){return C.catch(v=>{throw v instanceof Oe.ZR&&function Wc(E,C){var v;const L=null===(v=C.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new ns(E,F.as(E,C));else if(L){const U=fn(C),Se=C;U&&(Se.credential=U,Se.tenantId=L.tenantId||void 0,Se.email=L.email||void 0,Se.phoneNumber=L.phoneNumber||void 0)}}(E,v),v}).then(v=>{const U=v.user;return{operationType:v.operationType,credential:Pn(v),additionalUserInfo:F.aq(v),user:Zn.getOrCreate(U)}})}function bs(E,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,D.Z)(function*(E,C){const v=yield C;return{verificationId:v.verificationId,confirm:L=>Rn(E,v.confirm(L))}})).apply(this,arguments)}class ns{constructor(C,v){this.resolver=v,this.auth=function hi(E){return E.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return Rn(Ut(this.auth),this.resolver.resolveSignIn(C))}}class Zn{constructor(C){this._delegate=C,this.multiFactor=F.at(C)}static getOrCreate(C){return Zn.USER_MAP.has(C)||Zn.USER_MAP.set(C,new Zn(C)),Zn.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var v=this;return(0,D.Z)(function*(){return Rn(v.auth,F.a2(v._delegate,C))})()}linkWithPhoneNumber(C,v){var L=this;return(0,D.Z)(function*(){return bs(L.auth,F.l(L._delegate,C,v))})()}linkWithPopup(C){var v=this;return(0,D.Z)(function*(){return Rn(v.auth,F.d(v._delegate,C,mr))})()}linkWithRedirect(C){var v=this;return(0,D.Z)(function*(){return yield ts(F.aJ(v.auth)),F.g(v._delegate,C,mr)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var v=this;return(0,D.Z)(function*(){return Rn(v.auth,F.a3(v._delegate,C))})()}reauthenticateWithPhoneNumber(C,v){return bs(this.auth,F.r(this._delegate,C,v))}reauthenticateWithPopup(C){return Rn(this.auth,F.e(this._delegate,C,mr))}reauthenticateWithRedirect(C){var v=this;return(0,D.Z)(function*(){return yield ts(F.aJ(v.auth)),F.h(v._delegate,C,mr)})()}sendEmailVerification(C){return F.ag(this._delegate,C)}unlink(C){var v=this;return(0,D.Z)(function*(){return yield F.ap(v._delegate,C),v})()}updateEmail(C){return F.al(this._delegate,C)}updatePassword(C){return F.am(this._delegate,C)}updatePhoneNumber(C){return F.u(this._delegate,C)}updateProfile(C){return F.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,v){return F.ah(this._delegate,C,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zn.USER_MAP=new WeakMap;const Wr=F.aC;let rs=(()=>{class E{constructor(v,L){if(this.app=v,L.isInitialized())return this._delegate=L.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=v.options;Wr(U,"invalid-api-key",{appName:v.name}),Wr(U,"invalid-api-key",{appName:v.name});const Se=typeof window<"u"?mr:void 0;this._delegate=L.initialize({options:{persistence:Fa(U,v.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(F.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,L){F.K(this._delegate,v,L)}applyActionCode(v){return F.a7(this._delegate,v)}checkActionCode(v){return F.a8(this._delegate,v)}confirmPasswordReset(v,L){return F.a6(this._delegate,v,L)}createUserWithEmailAndPassword(v,L){var U=this;return(0,D.Z)(function*(){return Rn(U._delegate,F.aa(U._delegate,v,L))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return F.af(this._delegate,v)}isSignInWithEmailLink(v){return F.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,D.Z)(function*(){Wr(Kn(),v._delegate,"operation-not-supported-in-this-environment");const L=yield F.j(v._delegate,mr);return L?Rn(v._delegate,Promise.resolve(L)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Z(E,C){(0,F.aJ)(E)._logFramework(C)}(this._delegate,v)}onAuthStateChanged(v,L,U){const{next:Se,error:ve,complete:ze}=fi(v,L,U);return this._delegate.onAuthStateChanged(Se,ve,ze)}onIdTokenChanged(v,L,U){const{next:Se,error:ve,complete:ze}=fi(v,L,U);return this._delegate.onIdTokenChanged(Se,ve,ze)}sendSignInLinkToEmail(v,L){return F.ac(this._delegate,v,L)}sendPasswordResetEmail(v,L){return F.a5(this._delegate,v,L||void 0)}setPersistence(v){var L=this;return(0,D.Z)(function*(){let U;switch(function es(E,C){Cs(Object.values(Rt).includes(C),E,"invalid-persistence-type"),(0,Oe.b$)()?Cs(C!==Rt.SESSION,E,"unsupported-persistence-type"):(0,Oe.UG)()?Cs(C===Rt.NONE,E,"unsupported-persistence-type"):Wn()?Cs(C===Rt.NONE||C===Rt.LOCAL&&(0,Oe.hl)(),E,"unsupported-persistence-type"):Cs(C===Rt.NONE||hn(),E,"unsupported-persistence-type")}(L._delegate,v),v){case Rt.SESSION:U=F.a;break;case Rt.LOCAL:U=(yield F.aE(F.i)._isAvailable())?F.i:F.b;break;case Rt.NONE:U=F.U;break;default:return F.ax("argument-error",{appName:L._delegate.name})}return L._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Rn(this._delegate,F.a0(this._delegate))}signInWithCredential(v){return Rn(this._delegate,F.a1(this._delegate,v))}signInWithCustomToken(v){return Rn(this._delegate,F.a4(this._delegate,v))}signInWithEmailAndPassword(v,L){return Rn(this._delegate,F.ab(this._delegate,v,L))}signInWithEmailLink(v,L){return Rn(this._delegate,F.ae(this._delegate,v,L))}signInWithPhoneNumber(v,L){return bs(this._delegate,F.s(this._delegate,v,L))}signInWithPopup(v){var L=this;return(0,D.Z)(function*(){return Wr(Kn(),L._delegate,"operation-not-supported-in-this-environment"),Rn(L._delegate,F.c(L._delegate,v,mr))})()}signInWithRedirect(v){var L=this;return(0,D.Z)(function*(){return Wr(Kn(),L._delegate,"operation-not-supported-in-this-environment"),yield ts(L._delegate),F.f(L._delegate,v,mr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return F.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Rt,E})();function fi(E,C,v){let L=E;"function"!=typeof E&&({next:L,error:C,complete:v}=E);const U=L;return{next:ve=>U(ve&&Zn.getOrCreate(ve)),error:C,complete:v}}function Fa(E,C){const v=function ui(E,C){const v=li();if(!v)return[];const L=F.aF(Ts,E,C);switch(v.getItem(L)){case Rt.NONE:return[F.U];case Rt.LOCAL:return[F.i,F.a];case Rt.SESSION:return[F.a];default:return[]}}(E,C);if(typeof self<"u"&&!v.includes(F.i)&&v.push(F.i),typeof window<"u")for(const L of[F.b,F.a])v.includes(L)||v.push(L);return v.includes(F.U)||v.push(F.U),v}class so{constructor(){this.providerId="phone",this._delegate=new F.P(Ut(Q.Z.auth()))}static credential(C,v){return F.P.credential(C,v)}verifyPhoneNumber(C,v){return this._delegate.verifyPhoneNumber(C,v)}unwrap(){return this._delegate}}so.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,so.PROVIDER_ID=F.P.PROVIDER_ID;const qo=F.aC;class Ds{constructor(C,v,L=Q.Z.app()){var U;qo(null===(U=L.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:L.name}),this._delegate=new F.R(L.auth(),C,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(E){E.INTERNAL.registerComponent(new An.wA("auth-compat",C=>{const v=C.getProvider("app-compat").getImmediate(),L=C.getProvider("auth");return new rs(v,L)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.V,FacebookAuthProvider:F.W,GithubAuthProvider:F.Y,GoogleAuthProvider:F.X,OAuthProvider:F.Z,SAMLAuthProvider:F._,PhoneAuthProvider:so,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Ds,TwitterAuthProvider:F.$,Auth:rs,AuthCredential:F.L,Error:Oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.1")}(Q.Z)},861:(Es,qn,Ue)=>{function D(F,Oe,Nt,dn,An,Kt,Tt){try{var X=F[Kt](Tt),le=X.value}catch(Me){return void Nt(Me)}X.done?Oe(le):Promise.resolve(le).then(dn,An)}function Q(F){return function(){var Oe=this,Nt=arguments;return new Promise(function(dn,An){var Kt=F.apply(Oe,Nt);function Tt(le){D(Kt,dn,An,Tt,X,"next",le)}function X(le){D(Kt,dn,An,Tt,X,"throw",le)}Tt(void 0)})}}Ue.d(qn,{Z:()=>Q})},582:(Es,qn,Ue)=>{function Oe(H,W){var Z={};for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&W.indexOf(j)<0&&(Z[j]=H[j]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for(j=Object.getOwnPropertySymbols(H);ee<j.length;ee++)W.indexOf(j[ee])<0&&Object.prototype.propertyIsEnumerable.call(H,j[ee])&&(Z[j[ee]]=H[j[ee]])}return Z}function Me(H,W,Z,j){return new(Z||(Z=Promise))(function(te,me){function ht(bt){try{Re(j.next(bt))}catch(on){me(on)}}function Ce(bt){try{Re(j.throw(bt))}catch(on){me(on)}}function Re(bt){bt.done?te(bt.value):function ee(te){return te instanceof Z?te:new Z(function(me){me(te)})}(bt.value).then(ht,Ce)}Re((j=j.apply(H,W||[])).next())})}function ft(H){return this instanceof ft?(this.v=H,this):new ft(H)}function Bt(H,W,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,j=Z.apply(H,W||[]),te=[];return ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function me(zt){j[zt]&&(ee[zt]=function(hn){return new Promise(function(Wn,Kn){te.push([zt,hn,Wn,Kn])>1||ht(zt,hn)})})}function ht(zt,hn){try{!function Ce(zt){zt.value instanceof ft?Promise.resolve(zt.value.v).then(Re,bt):on(te[0][2],zt)}(j[zt](hn))}catch(Wn){on(te[0][3],Wn)}}function Re(zt){ht("next",zt)}function bt(zt){ht("throw",zt)}function on(zt,hn){zt(hn),te.shift(),te.length&&ht(te[0][0],te[0][1])}}function Fn(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,W=H[Symbol.asyncIterator];return W?W.call(H):(H=function mt(H){var W="function"==typeof Symbol&&Symbol.iterator,Z=W&&H[W],j=0;if(Z)return Z.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&j>=H.length&&(H=void 0),{value:H&&H[j++],done:!H}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),Z={},j("next"),j("throw"),j("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function j(te){Z[te]=H[te]&&function(me){return new Promise(function(ht,Ce){!function ee(te,me,ht,Ce){Promise.resolve(Ce).then(function(Re){te({value:Re,done:ht})},me)}(ht,Ce,(me=H[te](me)).done,me.value)})}}}Ue.d(qn,{FC:()=>Bt,KL:()=>Fn,_T:()=>Oe,mG:()=>Me,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Es=>{Es(Es.s=624)}]);